var xE=Object.defineProperty;var hg=e=>{throw TypeError(e)};var vE=(e,t,n)=>t in e?xE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pg=(e,t,n)=>vE(e,typeof t!="symbol"?t+"":t,n),D0=(e,t,n)=>t.has(e)||hg("Cannot "+n);var xe=(e,t,n)=>(D0(e,t,"read from private field"),n?n.call(e):t.get(e)),Ct=(e,t,n)=>t.has(e)?hg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),lt=(e,t,n,r)=>(D0(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Hn=(e,t,n)=>(D0(e,t,"access private method"),n);var Bu=(e,t,n,r)=>({set _(s){lt(e,t,s,n)},get _(){return xe(e,t,r)}});function fp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(r,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sx={exports:{}},Lf={},ax={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),wE=Symbol.for("react.portal"),CE=Symbol.for("react.fragment"),bE=Symbol.for("react.strict_mode"),SE=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),EE=Symbol.for("react.context"),AE=Symbol.for("react.forward_ref"),TE=Symbol.for("react.suspense"),_E=Symbol.for("react.memo"),IE=Symbol.for("react.lazy"),mg=Symbol.iterator;function NE(e){return e===null||typeof e!="object"?null:(e=mg&&e[mg]||e["@@iterator"],typeof e=="function"?e:null)}var lx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cx=Object.assign,ux={};function Ml(e,t,n){this.props=e,this.context=t,this.refs=ux,this.updater=n||lx}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ml.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dx(){}dx.prototype=Ml.prototype;function hp(e,t,n){this.props=e,this.context=t,this.refs=ux,this.updater=n||lx}var pp=hp.prototype=new dx;pp.constructor=hp;cx(pp,Ml.prototype);pp.isPureReactComponent=!0;var gg=Array.isArray,fx=Object.prototype.hasOwnProperty,mp={current:null},hx={key:!0,ref:!0,__self:!0,__source:!0};function px(e,t,n){var r,s={},c=null,h=null;if(t!=null)for(r in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(c=""+t.key),t)fx.call(t,r)&&!hx.hasOwnProperty(r)&&(s[r]=t[r]);var m=arguments.length-2;if(m===1)s.children=n;else if(1<m){for(var x=Array(m),g=0;g<m;g++)x[g]=arguments[g+2];s.children=x}if(e&&e.defaultProps)for(r in m=e.defaultProps,m)s[r]===void 0&&(s[r]=m[r]);return{$$typeof:pu,type:e,key:c,ref:h,props:s,_owner:mp.current}}function OE(e,t){return{$$typeof:pu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gp(e){return typeof e=="object"&&e!==null&&e.$$typeof===pu}function ME(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yg=/\/+/g;function k0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ME(""+e.key):t.toString(36)}function gd(e,t,n,r,s){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(c){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case pu:case wE:h=!0}}if(h)return h=e,s=s(h),e=r===""?"."+k0(h,0):r,gg(s)?(n="",e!=null&&(n=e.replace(yg,"$&/")+"/"),gd(s,t,n,"",function(g){return g})):s!=null&&(gp(s)&&(s=OE(s,n+(!s.key||h&&h.key===s.key?"":(""+s.key).replace(yg,"$&/")+"/")+e)),t.push(s)),1;if(h=0,r=r===""?".":r+":",gg(e))for(var m=0;m<e.length;m++){c=e[m];var x=r+k0(c,m);h+=gd(c,t,n,x,s)}else if(x=NE(e),typeof x=="function")for(e=x.call(e),m=0;!(c=e.next()).done;)c=c.value,x=r+k0(c,m++),h+=gd(c,t,n,x,s);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Fu(e,t,n){if(e==null)return e;var r=[],s=0;return gd(e,r,"","",function(c){return t.call(n,c,s++)}),r}function DE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},yd={transition:null},kE={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:yd,ReactCurrentOwner:mp};function mx(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:Fu,forEach:function(e,t,n){Fu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fu(e,function(){t++}),t},toArray:function(e){return Fu(e,function(t){return t})||[]},only:function(e){if(!gp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=Ml;gt.Fragment=CE;gt.Profiler=SE;gt.PureComponent=hp;gt.StrictMode=bE;gt.Suspense=TE;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kE;gt.act=mx;gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cx({},e.props),s=e.key,c=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,h=mp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(x in t)fx.call(t,x)&&!hx.hasOwnProperty(x)&&(r[x]=t[x]===void 0&&m!==void 0?m[x]:t[x])}var x=arguments.length-2;if(x===1)r.children=n;else if(1<x){m=Array(x);for(var g=0;g<x;g++)m[g]=arguments[g+2];r.children=m}return{$$typeof:pu,type:e.type,key:s,ref:c,props:r,_owner:h}};gt.createContext=function(e){return e={$$typeof:EE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RE,_context:e},e.Consumer=e};gt.createElement=px;gt.createFactory=function(e){var t=px.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:AE,render:e}};gt.isValidElement=gp;gt.lazy=function(e){return{$$typeof:IE,_payload:{_status:-1,_result:e},_init:DE}};gt.memo=function(e,t){return{$$typeof:_E,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=yd.transition;yd.transition={};try{e()}finally{yd.transition=t}};gt.unstable_act=mx;gt.useCallback=function(e,t){return ur.current.useCallback(e,t)};gt.useContext=function(e){return ur.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};gt.useEffect=function(e,t){return ur.current.useEffect(e,t)};gt.useId=function(){return ur.current.useId()};gt.useImperativeHandle=function(e,t,n){return ur.current.useImperativeHandle(e,t,n)};gt.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return ur.current.useMemo(e,t)};gt.useReducer=function(e,t,n){return ur.current.useReducer(e,t,n)};gt.useRef=function(e){return ur.current.useRef(e)};gt.useState=function(e){return ur.current.useState(e)};gt.useSyncExternalStore=function(e,t,n){return ur.current.useSyncExternalStore(e,t,n)};gt.useTransition=function(){return ur.current.useTransition()};gt.version="18.3.1";ax.exports=gt;var E=ax.exports;const De=da(E),gx=fp({__proto__:null,default:De},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE=E,LE=Symbol.for("react.element"),jE=Symbol.for("react.fragment"),BE=Object.prototype.hasOwnProperty,FE=PE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UE={key:!0,ref:!0,__self:!0,__source:!0};function yx(e,t,n){var r,s={},c=null,h=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(h=t.ref);for(r in t)BE.call(t,r)&&!UE.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:LE,type:e,key:c,ref:h,props:s,_owner:FE.current}}Lf.Fragment=jE;Lf.jsx=yx;Lf.jsxs=yx;sx.exports=Lf;var R=sx.exports,xx={exports:{}},Yr={},vx={exports:{}},wx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,Z){var J=q.length;q.push(Z);e:for(;0<J;){var ne=J-1>>>1,ue=q[ne];if(0<s(ue,Z))q[ne]=Z,q[J]=ue,J=ne;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],J=q.pop();if(J!==Z){q[0]=J;e:for(var ne=0,ue=q.length,ge=ue>>>1;ne<ge;){var _e=2*(ne+1)-1,et=q[_e],me=_e+1,Ne=q[me];if(0>s(et,J))me<ue&&0>s(Ne,et)?(q[ne]=Ne,q[me]=J,ne=me):(q[ne]=et,q[_e]=J,ne=_e);else if(me<ue&&0>s(Ne,J))q[ne]=Ne,q[me]=J,ne=me;else break e}}return Z}function s(q,Z){var J=q.sortIndex-Z.sortIndex;return J!==0?J:q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();e.unstable_now=function(){return h.now()-m}}var x=[],g=[],w=1,C=null,b=3,_=!1,N=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(q){for(var Z=n(g);Z!==null;){if(Z.callback===null)r(g);else if(Z.startTime<=q)r(g),Z.sortIndex=Z.expirationTime,t(x,Z);else break;Z=n(g)}}function F(q){if(T=!1,D(q),!N)if(n(x)!==null)N=!0,ve(Y);else{var Z=n(g);Z!==null&&ce(F,Z.startTime-q)}}function Y(q,Z){N=!1,T&&(T=!1,M($),$=-1),_=!0;var J=b;try{for(D(Z),C=n(x);C!==null&&(!(C.expirationTime>Z)||q&&!fe());){var ne=C.callback;if(typeof ne=="function"){C.callback=null,b=C.priorityLevel;var ue=ne(C.expirationTime<=Z);Z=e.unstable_now(),typeof ue=="function"?C.callback=ue:C===n(x)&&r(x),D(Z)}else r(x);C=n(x)}if(C!==null)var ge=!0;else{var _e=n(g);_e!==null&&ce(F,_e.startTime-Z),ge=!1}return ge}finally{C=null,b=J,_=!1}}var G=!1,z=null,$=-1,Q=5,ie=-1;function fe(){return!(e.unstable_now()-ie<Q)}function re(){if(z!==null){var q=e.unstable_now();ie=q;var Z=!0;try{Z=z(!0,q)}finally{Z?we():(G=!1,z=null)}}else G=!1}var we;if(typeof I=="function")we=function(){I(re)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ee=he.port2;he.port1.onmessage=re,we=function(){ee.postMessage(null)}}else we=function(){P(re,0)};function ve(q){z=q,G||(G=!0,we())}function ce(q,Z){$=P(function(){q(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){N||_||(N=!0,ve(Y))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var J=b;b=Z;try{return q()}finally{b=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=b;b=q;try{return Z()}finally{b=J}},e.unstable_scheduleCallback=function(q,Z,J){var ne=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,q){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=J+ue,q={id:w++,callback:Z,priorityLevel:q,startTime:J,expirationTime:ue,sortIndex:-1},J>ne?(q.sortIndex=J,t(g,q),n(x)===null&&q===n(g)&&(T?(M($),$=-1):T=!0,ce(F,J-ne))):(q.sortIndex=ue,t(x,q),N||_||(N=!0,ve(Y))),q},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(q){var Z=b;return function(){var J=b;b=Z;try{return q.apply(this,arguments)}finally{b=J}}}})(wx);vx.exports=wx;var zE=vx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=E,zr=zE;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cx=new Set,Bc={};function fa(e,t){Cl(e,t),Cl(e+"Capture",t)}function Cl(e,t){for(Bc[e]=t,e=0;e<t.length;e++)Cx.add(t[e])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,XE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xg={},vg={};function WE(e){return Th.call(vg,e)?!0:Th.call(xg,e)?!1:XE.test(e)?vg[e]=!0:(xg[e]=!0,!1)}function HE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VE(e,t,n,r){if(t===null||typeof t>"u"||HE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dr(e,t,n,r,s,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Un[e]=new dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Un[t]=new dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Un[e]=new dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Un[e]=new dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Un[e]=new dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Un[e]=new dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Un[e]=new dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Un[e]=new dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Un[e]=new dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var yp=/[\-:]([a-z])/g;function xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yp,xp);Un[t]=new dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yp,xp);Un[t]=new dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yp,xp);Un[t]=new dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Un[e]=new dr(e,1,!1,e.toLowerCase(),null,!1,!1)});Un.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Un[e]=new dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function vp(e,t,n,r){var s=Un.hasOwnProperty(t)?Un[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VE(t,n,s,r)&&(n=null),r||s===null?WE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mi=YE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uu=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),bx=Symbol.for("react.provider"),Sx=Symbol.for("react.context"),Cp=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),bp=Symbol.for("react.memo"),Qi=Symbol.for("react.lazy"),Rx=Symbol.for("react.offscreen"),wg=Symbol.iterator;function nc(e){return e===null||typeof e!="object"?null:(e=wg&&e[wg]||e["@@iterator"],typeof e=="function"?e:null)}var tn=Object.assign,P0;function xc(e){if(P0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P0=t&&t[1]||""}return`
`+P0+e}var L0=!1;function j0(e,t){if(!e||L0)return"";L0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),c=r.stack.split(`
`),h=s.length-1,m=c.length-1;1<=h&&0<=m&&s[h]!==c[m];)m--;for(;1<=h&&0<=m;h--,m--)if(s[h]!==c[m]){if(h!==1||m!==1)do if(h--,m--,0>m||s[h]!==c[m]){var x=`
`+s[h].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=h&&0<=m);break}}}finally{L0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xc(e):""}function QE(e){switch(e.tag){case 5:return xc(e.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return e=j0(e.type,!1),e;case 11:return e=j0(e.type.render,!1),e;case 1:return e=j0(e.type,!0),e;default:return""}}function Oh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wa:return"Fragment";case Xa:return"Portal";case _h:return"Profiler";case wp:return"StrictMode";case Ih:return"Suspense";case Nh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sx:return(e.displayName||"Context")+".Consumer";case bx:return(e._context.displayName||"Context")+".Provider";case Cp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bp:return t=e.displayName||null,t!==null?t:Oh(e.type)||"Memo";case Qi:t=e._payload,e=e._init;try{return Oh(e(t))}catch{}}return null}function GE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oh(t);case 8:return t===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ex(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZE(e){var t=Ex(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(h){r=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zu(e){e._valueTracker||(e._valueTracker=ZE(e))}function Ax(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ex(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mh(e,t){var n=t.checked;return tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ps(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tx(e,t){t=t.checked,t!=null&&vp(e,"checked",t,!1)}function Dh(e,t){Tx(e,t);var n=ps(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kh(e,t.type,n):t.hasOwnProperty("defaultValue")&&kh(e,t.type,ps(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kh(e,t,n){(t!=="number"||Wd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vc=Array.isArray;function nl(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ps(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ph(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(vc(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ps(n)}}function _x(e,t){var n=ps(t.value),r=ps(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ix(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ix(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yu,Nx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$E=["Webkit","ms","Moz","O"];Object.keys(Ec).forEach(function(e){$E.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ec[t]=Ec[e]})});function Ox(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ec.hasOwnProperty(e)&&Ec[e]?(""+t).trim():t+"px"}function Mx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ox(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var KE=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(e,t){if(t){if(KE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function Bh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=null;function Sp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uh=null,rl=null,ol=null;function Eg(e){if(e=yu(e)){if(typeof Uh!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=zf(t),Uh(e.stateNode,e.type,t))}}function Dx(e){rl?ol?ol.push(e):ol=[e]:rl=e}function kx(){if(rl){var e=rl,t=ol;if(ol=rl=null,Eg(e),t)for(e=0;e<t.length;e++)Eg(t[e])}}function Px(e,t){return e(t)}function Lx(){}var B0=!1;function jx(e,t,n){if(B0)return e(t,n);B0=!0;try{return Px(e,t,n)}finally{B0=!1,(rl!==null||ol!==null)&&(Lx(),kx())}}function Uc(e,t){var n=e.stateNode;if(n===null)return null;var r=zf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var zh=!1;if(Ei)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){zh=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{zh=!1}function qE(e,t,n,r,s,c,h,m,x){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(w){this.onError(w)}}var Ac=!1,Hd=null,Vd=!1,Yh=null,JE={onError:function(e){Ac=!0,Hd=e}};function eA(e,t,n,r,s,c,h,m,x){Ac=!1,Hd=null,qE.apply(JE,arguments)}function tA(e,t,n,r,s,c,h,m,x){if(eA.apply(this,arguments),Ac){if(Ac){var g=Hd;Ac=!1,Hd=null}else throw Error(Te(198));Vd||(Vd=!0,Yh=g)}}function ha(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ag(e){if(ha(e)!==e)throw Error(Te(188))}function nA(e){var t=e.alternate;if(!t){if(t=ha(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var c=s.alternate;if(c===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===n)return Ag(s),e;if(c===r)return Ag(s),t;c=c.sibling}throw Error(Te(188))}if(n.return!==r.return)n=s,r=c;else{for(var h=!1,m=s.child;m;){if(m===n){h=!0,n=s,r=c;break}if(m===r){h=!0,r=s,n=c;break}m=m.sibling}if(!h){for(m=c.child;m;){if(m===n){h=!0,n=c,r=s;break}if(m===r){h=!0,r=c,n=s;break}m=m.sibling}if(!h)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function Fx(e){return e=nA(e),e!==null?Ux(e):null}function Ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ux(e);if(t!==null)return t;e=e.sibling}return null}var zx=zr.unstable_scheduleCallback,Tg=zr.unstable_cancelCallback,rA=zr.unstable_shouldYield,oA=zr.unstable_requestPaint,mn=zr.unstable_now,iA=zr.unstable_getCurrentPriorityLevel,Rp=zr.unstable_ImmediatePriority,Yx=zr.unstable_UserBlockingPriority,Qd=zr.unstable_NormalPriority,sA=zr.unstable_LowPriority,Xx=zr.unstable_IdlePriority,jf=null,Jo=null;function aA(e){if(Jo&&typeof Jo.onCommitFiberRoot=="function")try{Jo.onCommitFiberRoot(jf,e,void 0,(e.current.flags&128)===128)}catch{}}var _o=Math.clz32?Math.clz32:uA,lA=Math.log,cA=Math.LN2;function uA(e){return e>>>=0,e===0?32:31-(lA(e)/cA|0)|0}var Xu=64,Wu=4194304;function wc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,c=e.pingedLanes,h=n&268435455;if(h!==0){var m=h&~s;m!==0?r=wc(m):(c&=h,c!==0&&(r=wc(c)))}else h=n&~s,h!==0?r=wc(h):c!==0&&(r=wc(c));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_o(t),s=1<<n,r|=e[n],t&=~s;return r}function dA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-_o(c),m=1<<h,x=s[h];x===-1?(!(m&n)||m&r)&&(s[h]=dA(m,t)):x<=t&&(e.expiredLanes|=m),c&=~m}}function Xh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wx(){var e=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),e}function F0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_o(t),e[t]=n}function hA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_o(n),c=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~c}}function Ep(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_o(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pt=0;function Hx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vx,Ap,Qx,Gx,Zx,Wh=!1,Hu=[],is=null,ss=null,as=null,zc=new Map,Yc=new Map,Zi=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _g(e,t){switch(e){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":zc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(t.pointerId)}}function oc(e,t,n,r,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[s]},t!==null&&(t=yu(t),t!==null&&Ap(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function mA(e,t,n,r,s){switch(t){case"focusin":return is=oc(is,e,t,n,r,s),!0;case"dragenter":return ss=oc(ss,e,t,n,r,s),!0;case"mouseover":return as=oc(as,e,t,n,r,s),!0;case"pointerover":var c=s.pointerId;return zc.set(c,oc(zc.get(c)||null,e,t,n,r,s)),!0;case"gotpointercapture":return c=s.pointerId,Yc.set(c,oc(Yc.get(c)||null,e,t,n,r,s)),!0}return!1}function $x(e){var t=Gs(e.target);if(t!==null){var n=ha(t);if(n!==null){if(t=n.tag,t===13){if(t=Bx(n),t!==null){e.blockedOn=t,Zx(e.priority,function(){Qx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fh=r,n.target.dispatchEvent(r),Fh=null}else return t=yu(n),t!==null&&Ap(t),e.blockedOn=n,!1;t.shift()}return!0}function Ig(e,t,n){xd(e)&&n.delete(t)}function gA(){Wh=!1,is!==null&&xd(is)&&(is=null),ss!==null&&xd(ss)&&(ss=null),as!==null&&xd(as)&&(as=null),zc.forEach(Ig),Yc.forEach(Ig)}function ic(e,t){e.blockedOn===t&&(e.blockedOn=null,Wh||(Wh=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,gA)))}function Xc(e){function t(s){return ic(s,e)}if(0<Hu.length){ic(Hu[0],e);for(var n=1;n<Hu.length;n++){var r=Hu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(is!==null&&ic(is,e),ss!==null&&ic(ss,e),as!==null&&ic(as,e),zc.forEach(t),Yc.forEach(t),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)$x(n),n.blockedOn===null&&Zi.shift()}var il=Mi.ReactCurrentBatchConfig,Zd=!0;function yA(e,t,n,r){var s=Pt,c=il.transition;il.transition=null;try{Pt=1,Tp(e,t,n,r)}finally{Pt=s,il.transition=c}}function xA(e,t,n,r){var s=Pt,c=il.transition;il.transition=null;try{Pt=4,Tp(e,t,n,r)}finally{Pt=s,il.transition=c}}function Tp(e,t,n,r){if(Zd){var s=Hh(e,t,n,r);if(s===null)Z0(e,t,r,$d,n),_g(e,r);else if(mA(s,e,t,n,r))r.stopPropagation();else if(_g(e,r),t&4&&-1<pA.indexOf(e)){for(;s!==null;){var c=yu(s);if(c!==null&&Vx(c),c=Hh(e,t,n,r),c===null&&Z0(e,t,r,$d,n),c===s)break;s=c}s!==null&&r.stopPropagation()}else Z0(e,t,r,null,n)}}var $d=null;function Hh(e,t,n,r){if($d=null,e=Sp(r),e=Gs(e),e!==null)if(t=ha(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $d=e,null}function Kx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iA()){case Rp:return 1;case Yx:return 4;case Qd:case sA:return 16;case Xx:return 536870912;default:return 16}default:return 16}}var ns=null,_p=null,vd=null;function qx(){if(vd)return vd;var e,t=_p,n=t.length,r,s="value"in ns?ns.value:ns.textContent,c=s.length;for(e=0;e<n&&t[e]===s[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===s[c-r];r++);return vd=s.slice(e,1<r?1-r:void 0)}function wd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vu(){return!0}function Ng(){return!1}function Xr(e){function t(n,r,s,c,h){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Vu:Ng,this.isPropagationStopped=Ng,this}return tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),t}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=Xr(Dl),gu=tn({},Dl,{view:0,detail:0}),vA=Xr(gu),U0,z0,sc,Bf=tn({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sc&&(sc&&e.type==="mousemove"?(U0=e.screenX-sc.screenX,z0=e.screenY-sc.screenY):z0=U0=0,sc=e),U0)},movementY:function(e){return"movementY"in e?e.movementY:z0}}),Og=Xr(Bf),wA=tn({},Bf,{dataTransfer:0}),CA=Xr(wA),bA=tn({},gu,{relatedTarget:0}),Y0=Xr(bA),SA=tn({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),RA=Xr(SA),EA=tn({},Dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AA=Xr(EA),TA=tn({},Dl,{data:0}),Mg=Xr(TA),_A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NA[e])?!!t[e]:!1}function Np(){return OA}var MA=tn({},gu,{key:function(e){if(e.key){var t=_A[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(e){return e.type==="keypress"?wd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DA=Xr(MA),kA=tn({},Bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Xr(kA),PA=tn({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),LA=Xr(PA),jA=tn({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),BA=Xr(jA),FA=tn({},Bf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UA=Xr(FA),zA=[9,13,27,32],Op=Ei&&"CompositionEvent"in window,Tc=null;Ei&&"documentMode"in document&&(Tc=document.documentMode);var YA=Ei&&"TextEvent"in window&&!Tc,Jx=Ei&&(!Op||Tc&&8<Tc&&11>=Tc),kg=" ",Pg=!1;function ev(e,t){switch(e){case"keyup":return zA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function XA(e,t){switch(e){case"compositionend":return tv(t);case"keypress":return t.which!==32?null:(Pg=!0,kg);case"textInput":return e=t.data,e===kg&&Pg?null:e;default:return null}}function WA(e,t){if(Ha)return e==="compositionend"||!Op&&ev(e,t)?(e=qx(),vd=_p=ns=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jx&&t.locale!=="ko"?null:t.data;default:return null}}var HA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HA[e.type]:t==="textarea"}function nv(e,t,n,r){Dx(r),t=Kd(t,"onChange"),0<t.length&&(n=new Ip("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _c=null,Wc=null;function VA(e){hv(e,0)}function Ff(e){var t=Ga(e);if(Ax(t))return e}function QA(e,t){if(e==="change")return t}var rv=!1;if(Ei){var X0;if(Ei){var W0="oninput"in document;if(!W0){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),W0=typeof jg.oninput=="function"}X0=W0}else X0=!1;rv=X0&&(!document.documentMode||9<document.documentMode)}function Bg(){_c&&(_c.detachEvent("onpropertychange",ov),Wc=_c=null)}function ov(e){if(e.propertyName==="value"&&Ff(Wc)){var t=[];nv(t,Wc,e,Sp(e)),jx(VA,t)}}function GA(e,t,n){e==="focusin"?(Bg(),_c=t,Wc=n,_c.attachEvent("onpropertychange",ov)):e==="focusout"&&Bg()}function ZA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ff(Wc)}function $A(e,t){if(e==="click")return Ff(t)}function KA(e,t){if(e==="input"||e==="change")return Ff(t)}function qA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oo=typeof Object.is=="function"?Object.is:qA;function Hc(e,t){if(Oo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Th.call(t,s)||!Oo(e[s],t[s]))return!1}return!0}function Fg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ug(e,t){var n=Fg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fg(n)}}function iv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sv(){for(var e=window,t=Wd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wd(e.document)}return t}function Mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JA(e){var t=sv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&iv(n.ownerDocument.documentElement,n)){if(r!==null&&Mp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,c=Math.min(r.start,s);r=r.end===void 0?c:Math.min(r.end,s),!e.extend&&c>r&&(s=r,r=c,c=s),s=Ug(n,c);var h=Ug(n,r);s&&h&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>r?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e4=Ei&&"documentMode"in document&&11>=document.documentMode,Va=null,Vh=null,Ic=null,Qh=!1;function zg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qh||Va==null||Va!==Wd(r)||(r=Va,"selectionStart"in r&&Mp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ic&&Hc(Ic,r)||(Ic=r,r=Kd(Vh,"onSelect"),0<r.length&&(t=new Ip("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Va)))}function Qu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qa={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},H0={},av={};Ei&&(av=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Uf(e){if(H0[e])return H0[e];if(!Qa[e])return e;var t=Qa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in av)return H0[e]=t[n];return e}var lv=Uf("animationend"),cv=Uf("animationiteration"),uv=Uf("animationstart"),dv=Uf("transitionend"),fv=new Map,Yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(e,t){fv.set(e,t),fa(t,[e])}for(var V0=0;V0<Yg.length;V0++){var Q0=Yg[V0],t4=Q0.toLowerCase(),n4=Q0[0].toUpperCase()+Q0.slice(1);bs(t4,"on"+n4)}bs(lv,"onAnimationEnd");bs(cv,"onAnimationIteration");bs(uv,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(dv,"onTransitionEnd");Cl("onMouseEnter",["mouseout","mouseover"]);Cl("onMouseLeave",["mouseout","mouseover"]);Cl("onPointerEnter",["pointerout","pointerover"]);Cl("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cc));function Xg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,tA(r,t,void 0,e),e.currentTarget=null}function hv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var h=r.length-1;0<=h;h--){var m=r[h],x=m.instance,g=m.currentTarget;if(m=m.listener,x!==c&&s.isPropagationStopped())break e;Xg(s,m,g),c=x}else for(h=0;h<r.length;h++){if(m=r[h],x=m.instance,g=m.currentTarget,m=m.listener,x!==c&&s.isPropagationStopped())break e;Xg(s,m,g),c=x}}}if(Vd)throw e=Yh,Vd=!1,Yh=null,e}function Vt(e,t){var n=t[qh];n===void 0&&(n=t[qh]=new Set);var r=e+"__bubble";n.has(r)||(pv(t,e,2,!1),n.add(r))}function G0(e,t,n){var r=0;t&&(r|=4),pv(n,e,r,t)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Vc(e){if(!e[Gu]){e[Gu]=!0,Cx.forEach(function(n){n!=="selectionchange"&&(r4.has(n)||G0(n,!1,e),G0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gu]||(t[Gu]=!0,G0("selectionchange",!1,t))}}function pv(e,t,n,r){switch(Kx(t)){case 1:var s=yA;break;case 4:s=xA;break;default:s=Tp}n=s.bind(null,t,n,e),s=void 0,!zh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Z0(e,t,n,r,s){var c=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var m=r.stateNode.containerInfo;if(m===s||m.nodeType===8&&m.parentNode===s)break;if(h===4)for(h=r.return;h!==null;){var x=h.tag;if((x===3||x===4)&&(x=h.stateNode.containerInfo,x===s||x.nodeType===8&&x.parentNode===s))return;h=h.return}for(;m!==null;){if(h=Gs(m),h===null)return;if(x=h.tag,x===5||x===6){r=c=h;continue e}m=m.parentNode}}r=r.return}jx(function(){var g=c,w=Sp(n),C=[];e:{var b=fv.get(e);if(b!==void 0){var _=Ip,N=e;switch(e){case"keypress":if(wd(n)===0)break e;case"keydown":case"keyup":_=DA;break;case"focusin":N="focus",_=Y0;break;case"focusout":N="blur",_=Y0;break;case"beforeblur":case"afterblur":_=Y0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=CA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=LA;break;case lv:case cv:case uv:_=RA;break;case dv:_=BA;break;case"scroll":_=vA;break;case"wheel":_=UA;break;case"copy":case"cut":case"paste":_=AA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Dg}var T=(t&4)!==0,P=!T&&e==="scroll",M=T?b!==null?b+"Capture":null:b;T=[];for(var I=g,D;I!==null;){D=I;var F=D.stateNode;if(D.tag===5&&F!==null&&(D=F,M!==null&&(F=Uc(I,M),F!=null&&T.push(Qc(I,F,D)))),P)break;I=I.return}0<T.length&&(b=new _(b,N,null,n,w),C.push({event:b,listeners:T}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",b&&n!==Fh&&(N=n.relatedTarget||n.fromElement)&&(Gs(N)||N[Ai]))break e;if((_||b)&&(b=w.window===w?w:(b=w.ownerDocument)?b.defaultView||b.parentWindow:window,_?(N=n.relatedTarget||n.toElement,_=g,N=N?Gs(N):null,N!==null&&(P=ha(N),N!==P||N.tag!==5&&N.tag!==6)&&(N=null)):(_=null,N=g),_!==N)){if(T=Og,F="onMouseLeave",M="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(T=Dg,F="onPointerLeave",M="onPointerEnter",I="pointer"),P=_==null?b:Ga(_),D=N==null?b:Ga(N),b=new T(F,I+"leave",_,n,w),b.target=P,b.relatedTarget=D,F=null,Gs(w)===g&&(T=new T(M,I+"enter",N,n,w),T.target=D,T.relatedTarget=P,F=T),P=F,_&&N)t:{for(T=_,M=N,I=0,D=T;D;D=Ba(D))I++;for(D=0,F=M;F;F=Ba(F))D++;for(;0<I-D;)T=Ba(T),I--;for(;0<D-I;)M=Ba(M),D--;for(;I--;){if(T===M||M!==null&&T===M.alternate)break t;T=Ba(T),M=Ba(M)}T=null}else T=null;_!==null&&Wg(C,b,_,T,!1),N!==null&&P!==null&&Wg(C,P,N,T,!0)}}e:{if(b=g?Ga(g):window,_=b.nodeName&&b.nodeName.toLowerCase(),_==="select"||_==="input"&&b.type==="file")var Y=QA;else if(Lg(b))if(rv)Y=KA;else{Y=ZA;var G=GA}else(_=b.nodeName)&&_.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(Y=$A);if(Y&&(Y=Y(e,g))){nv(C,Y,n,w);break e}G&&G(e,b,g),e==="focusout"&&(G=b._wrapperState)&&G.controlled&&b.type==="number"&&kh(b,"number",b.value)}switch(G=g?Ga(g):window,e){case"focusin":(Lg(G)||G.contentEditable==="true")&&(Va=G,Vh=g,Ic=null);break;case"focusout":Ic=Vh=Va=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,zg(C,n,w);break;case"selectionchange":if(e4)break;case"keydown":case"keyup":zg(C,n,w)}var z;if(Op)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Ha?ev(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Jx&&n.locale!=="ko"&&(Ha||$!=="onCompositionStart"?$==="onCompositionEnd"&&Ha&&(z=qx()):(ns=w,_p="value"in ns?ns.value:ns.textContent,Ha=!0)),G=Kd(g,$),0<G.length&&($=new Mg($,e,null,n,w),C.push({event:$,listeners:G}),z?$.data=z:(z=tv(n),z!==null&&($.data=z)))),(z=YA?XA(e,n):WA(e,n))&&(g=Kd(g,"onBeforeInput"),0<g.length&&(w=new Mg("onBeforeInput","beforeinput",null,n,w),C.push({event:w,listeners:g}),w.data=z))}hv(C,t)})}function Qc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=Uc(e,n),c!=null&&r.unshift(Qc(e,c,s)),c=Uc(e,t),c!=null&&r.push(Qc(e,c,s))),e=e.return}return r}function Ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wg(e,t,n,r,s){for(var c=t._reactName,h=[];n!==null&&n!==r;){var m=n,x=m.alternate,g=m.stateNode;if(x!==null&&x===r)break;m.tag===5&&g!==null&&(m=g,s?(x=Uc(n,c),x!=null&&h.unshift(Qc(n,x,m))):s||(x=Uc(n,c),x!=null&&h.push(Qc(n,x,m)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var o4=/\r\n?/g,i4=/\u0000|\uFFFD/g;function Hg(e){return(typeof e=="string"?e:""+e).replace(o4,`
`).replace(i4,"")}function Zu(e,t,n){if(t=Hg(t),Hg(e)!==t&&n)throw Error(Te(425))}function qd(){}var Gh=null,Zh=null;function $h(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kh=typeof setTimeout=="function"?setTimeout:void 0,s4=typeof clearTimeout=="function"?clearTimeout:void 0,Vg=typeof Promise=="function"?Promise:void 0,a4=typeof queueMicrotask=="function"?queueMicrotask:typeof Vg<"u"?function(e){return Vg.resolve(null).then(e).catch(l4)}:Kh;function l4(e){setTimeout(function(){throw e})}function $0(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Xc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xc(t)}function ls(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kl=Math.random().toString(36).slice(2),Go="__reactFiber$"+kl,Gc="__reactProps$"+kl,Ai="__reactContainer$"+kl,qh="__reactEvents$"+kl,c4="__reactListeners$"+kl,u4="__reactHandles$"+kl;function Gs(e){var t=e[Go];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ai]||n[Go]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qg(e);e!==null;){if(n=e[Go])return n;e=Qg(e)}return t}e=n,n=e.parentNode}return null}function yu(e){return e=e[Go]||e[Ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ga(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function zf(e){return e[Gc]||null}var Jh=[],Za=-1;function Ss(e){return{current:e}}function Zt(e){0>Za||(e.current=Jh[Za],Jh[Za]=null,Za--)}function Xt(e,t){Za++,Jh[Za]=e.current,e.current=t}var ms={},$n=Ss(ms),br=Ss(!1),ra=ms;function bl(e,t){var n=e.type.contextTypes;if(!n)return ms;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in n)s[c]=t[c];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Sr(e){return e=e.childContextTypes,e!=null}function Jd(){Zt(br),Zt($n)}function Gg(e,t,n){if($n.current!==ms)throw Error(Te(168));Xt($n,t),Xt(br,n)}function mv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Te(108,GE(e)||"Unknown",s));return tn({},n,r)}function ef(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ms,ra=$n.current,Xt($n,e),Xt(br,br.current),!0}function Zg(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=mv(e,t,ra),r.__reactInternalMemoizedMergedChildContext=e,Zt(br),Zt($n),Xt($n,e)):Zt(br),Xt(br,n)}var xi=null,Yf=!1,K0=!1;function gv(e){xi===null?xi=[e]:xi.push(e)}function d4(e){Yf=!0,gv(e)}function Rs(){if(!K0&&xi!==null){K0=!0;var e=0,t=Pt;try{var n=xi;for(Pt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xi=null,Yf=!1}catch(s){throw xi!==null&&(xi=xi.slice(e+1)),zx(Rp,Rs),s}finally{Pt=t,K0=!1}}return null}var $a=[],Ka=0,tf=null,nf=0,oo=[],io=0,oa=null,wi=1,Ci="";function Ws(e,t){$a[Ka++]=nf,$a[Ka++]=tf,tf=e,nf=t}function yv(e,t,n){oo[io++]=wi,oo[io++]=Ci,oo[io++]=oa,oa=e;var r=wi;e=Ci;var s=32-_o(r)-1;r&=~(1<<s),n+=1;var c=32-_o(t)+s;if(30<c){var h=s-s%5;c=(r&(1<<h)-1).toString(32),r>>=h,s-=h,wi=1<<32-_o(t)+s|n<<s|r,Ci=c+e}else wi=1<<c|n<<s|r,Ci=e}function Dp(e){e.return!==null&&(Ws(e,1),yv(e,1,0))}function kp(e){for(;e===tf;)tf=$a[--Ka],$a[Ka]=null,nf=$a[--Ka],$a[Ka]=null;for(;e===oa;)oa=oo[--io],oo[io]=null,Ci=oo[--io],oo[io]=null,wi=oo[--io],oo[io]=null}var Fr=null,Br=null,$t=!1,Ao=null;function xv(e,t){var n=so(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $g(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fr=e,Br=ls(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fr=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=oa!==null?{id:wi,overflow:Ci}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=so(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fr=e,Br=null,!0):!1;default:return!1}}function e1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function t1(e){if($t){var t=Br;if(t){var n=t;if(!$g(e,t)){if(e1(e))throw Error(Te(418));t=ls(n.nextSibling);var r=Fr;t&&$g(e,t)?xv(r,n):(e.flags=e.flags&-4097|2,$t=!1,Fr=e)}}else{if(e1(e))throw Error(Te(418));e.flags=e.flags&-4097|2,$t=!1,Fr=e}}}function Kg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fr=e}function $u(e){if(e!==Fr)return!1;if(!$t)return Kg(e),$t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$h(e.type,e.memoizedProps)),t&&(t=Br)){if(e1(e))throw vv(),Error(Te(418));for(;t;)xv(e,t),t=ls(t.nextSibling)}if(Kg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Br=ls(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=Fr?ls(e.stateNode.nextSibling):null;return!0}function vv(){for(var e=Br;e;)e=ls(e.nextSibling)}function Sl(){Br=Fr=null,$t=!1}function Pp(e){Ao===null?Ao=[e]:Ao.push(e)}var f4=Mi.ReactCurrentBatchConfig;function ac(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var s=r,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var m=s.refs;h===null?delete m[c]:m[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function Ku(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qg(e){var t=e._init;return t(e._payload)}function wv(e){function t(M,I){if(e){var D=M.deletions;D===null?(M.deletions=[I],M.flags|=16):D.push(I)}}function n(M,I){if(!e)return null;for(;I!==null;)t(M,I),I=I.sibling;return null}function r(M,I){for(M=new Map;I!==null;)I.key!==null?M.set(I.key,I):M.set(I.index,I),I=I.sibling;return M}function s(M,I){return M=fs(M,I),M.index=0,M.sibling=null,M}function c(M,I,D){return M.index=D,e?(D=M.alternate,D!==null?(D=D.index,D<I?(M.flags|=2,I):D):(M.flags|=2,I)):(M.flags|=1048576,I)}function h(M){return e&&M.alternate===null&&(M.flags|=2),M}function m(M,I,D,F){return I===null||I.tag!==6?(I=oh(D,M.mode,F),I.return=M,I):(I=s(I,D),I.return=M,I)}function x(M,I,D,F){var Y=D.type;return Y===Wa?w(M,I,D.props.children,F,D.key):I!==null&&(I.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Qi&&qg(Y)===I.type)?(F=s(I,D.props),F.ref=ac(M,I,D),F.return=M,F):(F=Td(D.type,D.key,D.props,null,M.mode,F),F.ref=ac(M,I,D),F.return=M,F)}function g(M,I,D,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==D.containerInfo||I.stateNode.implementation!==D.implementation?(I=ih(D,M.mode,F),I.return=M,I):(I=s(I,D.children||[]),I.return=M,I)}function w(M,I,D,F,Y){return I===null||I.tag!==7?(I=na(D,M.mode,F,Y),I.return=M,I):(I=s(I,D),I.return=M,I)}function C(M,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return I=oh(""+I,M.mode,D),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Uu:return D=Td(I.type,I.key,I.props,null,M.mode,D),D.ref=ac(M,null,I),D.return=M,D;case Xa:return I=ih(I,M.mode,D),I.return=M,I;case Qi:var F=I._init;return C(M,F(I._payload),D)}if(vc(I)||nc(I))return I=na(I,M.mode,D,null),I.return=M,I;Ku(M,I)}return null}function b(M,I,D,F){var Y=I!==null?I.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return Y!==null?null:m(M,I,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Uu:return D.key===Y?x(M,I,D,F):null;case Xa:return D.key===Y?g(M,I,D,F):null;case Qi:return Y=D._init,b(M,I,Y(D._payload),F)}if(vc(D)||nc(D))return Y!==null?null:w(M,I,D,F,null);Ku(M,D)}return null}function _(M,I,D,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number")return M=M.get(D)||null,m(I,M,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Uu:return M=M.get(F.key===null?D:F.key)||null,x(I,M,F,Y);case Xa:return M=M.get(F.key===null?D:F.key)||null,g(I,M,F,Y);case Qi:var G=F._init;return _(M,I,D,G(F._payload),Y)}if(vc(F)||nc(F))return M=M.get(D)||null,w(I,M,F,Y,null);Ku(I,F)}return null}function N(M,I,D,F){for(var Y=null,G=null,z=I,$=I=0,Q=null;z!==null&&$<D.length;$++){z.index>$?(Q=z,z=null):Q=z.sibling;var ie=b(M,z,D[$],F);if(ie===null){z===null&&(z=Q);break}e&&z&&ie.alternate===null&&t(M,z),I=c(ie,I,$),G===null?Y=ie:G.sibling=ie,G=ie,z=Q}if($===D.length)return n(M,z),$t&&Ws(M,$),Y;if(z===null){for(;$<D.length;$++)z=C(M,D[$],F),z!==null&&(I=c(z,I,$),G===null?Y=z:G.sibling=z,G=z);return $t&&Ws(M,$),Y}for(z=r(M,z);$<D.length;$++)Q=_(z,M,$,D[$],F),Q!==null&&(e&&Q.alternate!==null&&z.delete(Q.key===null?$:Q.key),I=c(Q,I,$),G===null?Y=Q:G.sibling=Q,G=Q);return e&&z.forEach(function(fe){return t(M,fe)}),$t&&Ws(M,$),Y}function T(M,I,D,F){var Y=nc(D);if(typeof Y!="function")throw Error(Te(150));if(D=Y.call(D),D==null)throw Error(Te(151));for(var G=Y=null,z=I,$=I=0,Q=null,ie=D.next();z!==null&&!ie.done;$++,ie=D.next()){z.index>$?(Q=z,z=null):Q=z.sibling;var fe=b(M,z,ie.value,F);if(fe===null){z===null&&(z=Q);break}e&&z&&fe.alternate===null&&t(M,z),I=c(fe,I,$),G===null?Y=fe:G.sibling=fe,G=fe,z=Q}if(ie.done)return n(M,z),$t&&Ws(M,$),Y;if(z===null){for(;!ie.done;$++,ie=D.next())ie=C(M,ie.value,F),ie!==null&&(I=c(ie,I,$),G===null?Y=ie:G.sibling=ie,G=ie);return $t&&Ws(M,$),Y}for(z=r(M,z);!ie.done;$++,ie=D.next())ie=_(z,M,$,ie.value,F),ie!==null&&(e&&ie.alternate!==null&&z.delete(ie.key===null?$:ie.key),I=c(ie,I,$),G===null?Y=ie:G.sibling=ie,G=ie);return e&&z.forEach(function(re){return t(M,re)}),$t&&Ws(M,$),Y}function P(M,I,D,F){if(typeof D=="object"&&D!==null&&D.type===Wa&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Uu:e:{for(var Y=D.key,G=I;G!==null;){if(G.key===Y){if(Y=D.type,Y===Wa){if(G.tag===7){n(M,G.sibling),I=s(G,D.props.children),I.return=M,M=I;break e}}else if(G.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Qi&&qg(Y)===G.type){n(M,G.sibling),I=s(G,D.props),I.ref=ac(M,G,D),I.return=M,M=I;break e}n(M,G);break}else t(M,G);G=G.sibling}D.type===Wa?(I=na(D.props.children,M.mode,F,D.key),I.return=M,M=I):(F=Td(D.type,D.key,D.props,null,M.mode,F),F.ref=ac(M,I,D),F.return=M,M=F)}return h(M);case Xa:e:{for(G=D.key;I!==null;){if(I.key===G)if(I.tag===4&&I.stateNode.containerInfo===D.containerInfo&&I.stateNode.implementation===D.implementation){n(M,I.sibling),I=s(I,D.children||[]),I.return=M,M=I;break e}else{n(M,I);break}else t(M,I);I=I.sibling}I=ih(D,M.mode,F),I.return=M,M=I}return h(M);case Qi:return G=D._init,P(M,I,G(D._payload),F)}if(vc(D))return N(M,I,D,F);if(nc(D))return T(M,I,D,F);Ku(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,I!==null&&I.tag===6?(n(M,I.sibling),I=s(I,D),I.return=M,M=I):(n(M,I),I=oh(D,M.mode,F),I.return=M,M=I),h(M)):n(M,I)}return P}var Rl=wv(!0),Cv=wv(!1),rf=Ss(null),of=null,qa=null,Lp=null;function jp(){Lp=qa=of=null}function Bp(e){var t=rf.current;Zt(rf),e._currentValue=t}function n1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sl(e,t){of=e,Lp=qa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cr=!0),e.firstContext=null)}function co(e){var t=e._currentValue;if(Lp!==e)if(e={context:e,memoizedValue:t,next:null},qa===null){if(of===null)throw Error(Te(308));qa=e,of.dependencies={lanes:0,firstContext:e}}else qa=qa.next=e;return t}var Zs=null;function Fp(e){Zs===null?Zs=[e]:Zs.push(e)}function bv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Fp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ti(e,r)}function Ti(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gi=!1;function Up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,St&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ti(e,n)}return s=r.interleaved,s===null?(t.next=t,Fp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ti(e,n)}function Cd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ep(e,n)}}function Jg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?s=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?s=c=t:c=c.next=t}else s=c=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sf(e,t,n,r){var s=e.updateQueue;Gi=!1;var c=s.firstBaseUpdate,h=s.lastBaseUpdate,m=s.shared.pending;if(m!==null){s.shared.pending=null;var x=m,g=x.next;x.next=null,h===null?c=g:h.next=g,h=x;var w=e.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==h&&(m===null?w.firstBaseUpdate=g:m.next=g,w.lastBaseUpdate=x))}if(c!==null){var C=s.baseState;h=0,w=g=x=null,m=c;do{var b=m.lane,_=m.eventTime;if((r&b)===b){w!==null&&(w=w.next={eventTime:_,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var N=e,T=m;switch(b=t,_=n,T.tag){case 1:if(N=T.payload,typeof N=="function"){C=N.call(_,C,b);break e}C=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=T.payload,b=typeof N=="function"?N.call(_,C,b):N,b==null)break e;C=tn({},C,b);break e;case 2:Gi=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,b=s.effects,b===null?s.effects=[m]:b.push(m))}else _={eventTime:_,lane:b,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(g=w=_,x=C):w=w.next=_,h|=b;if(m=m.next,m===null){if(m=s.shared.pending,m===null)break;b=m,m=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);if(w===null&&(x=C),s.baseState=x,s.firstBaseUpdate=g,s.lastBaseUpdate=w,t=s.shared.interleaved,t!==null){s=t;do h|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);sa|=h,e.lanes=h,e.memoizedState=C}}function ey(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Te(191,s));s.call(r)}}}var xu={},ei=Ss(xu),Zc=Ss(xu),$c=Ss(xu);function $s(e){if(e===xu)throw Error(Te(174));return e}function zp(e,t){switch(Xt($c,t),Xt(Zc,e),Xt(ei,xu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lh(t,e)}Zt(ei),Xt(ei,t)}function El(){Zt(ei),Zt(Zc),Zt($c)}function Rv(e){$s($c.current);var t=$s(ei.current),n=Lh(t,e.type);t!==n&&(Xt(Zc,e),Xt(ei,n))}function Yp(e){Zc.current===e&&(Zt(ei),Zt(Zc))}var qt=Ss(0);function af(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var q0=[];function Xp(){for(var e=0;e<q0.length;e++)q0[e]._workInProgressVersionPrimary=null;q0.length=0}var bd=Mi.ReactCurrentDispatcher,J0=Mi.ReactCurrentBatchConfig,ia=0,en=null,En=null,Nn=null,lf=!1,Nc=!1,Kc=0,h4=0;function Vn(){throw Error(Te(321))}function Wp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Oo(e[n],t[n]))return!1;return!0}function Hp(e,t,n,r,s,c){if(ia=c,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bd.current=e===null||e.memoizedState===null?y4:x4,e=n(r,s),Nc){c=0;do{if(Nc=!1,Kc=0,25<=c)throw Error(Te(301));c+=1,Nn=En=null,t.updateQueue=null,bd.current=v4,e=n(r,s)}while(Nc)}if(bd.current=cf,t=En!==null&&En.next!==null,ia=0,Nn=En=en=null,lf=!1,t)throw Error(Te(300));return e}function Vp(){var e=Kc!==0;return Kc=0,e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?en.memoizedState=Nn=e:Nn=Nn.next=e,Nn}function uo(){if(En===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=En.next;var t=Nn===null?en.memoizedState:Nn.next;if(t!==null)Nn=t,En=e;else{if(e===null)throw Error(Te(310));En=e,e={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Nn===null?en.memoizedState=Nn=e:Nn=Nn.next=e}return Nn}function qc(e,t){return typeof t=="function"?t(e):t}function eh(e){var t=uo(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=En,s=r.baseQueue,c=n.pending;if(c!==null){if(s!==null){var h=s.next;s.next=c.next,c.next=h}r.baseQueue=s=c,n.pending=null}if(s!==null){c=s.next,r=r.baseState;var m=h=null,x=null,g=c;do{var w=g.lane;if((ia&w)===w)x!==null&&(x=x.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var C={lane:w,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};x===null?(m=x=C,h=r):x=x.next=C,en.lanes|=w,sa|=w}g=g.next}while(g!==null&&g!==c);x===null?h=r:x.next=m,Oo(r,t.memoizedState)||(Cr=!0),t.memoizedState=r,t.baseState=h,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do c=s.lane,en.lanes|=c,sa|=c,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function th(e){var t=uo(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,c=t.memoizedState;if(s!==null){n.pending=null;var h=s=s.next;do c=e(c,h.action),h=h.next;while(h!==s);Oo(c,t.memoizedState)||(Cr=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,r]}function Ev(){}function Av(e,t){var n=en,r=uo(),s=t(),c=!Oo(r.memoizedState,s);if(c&&(r.memoizedState=s,Cr=!0),r=r.queue,Qp(Iv.bind(null,n,r,e),[e]),r.getSnapshot!==t||c||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,Jc(9,_v.bind(null,n,r,s,t),void 0,null),Mn===null)throw Error(Te(349));ia&30||Tv(n,t,s)}return s}function Tv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _v(e,t,n,r){t.value=n,t.getSnapshot=r,Nv(t)&&Ov(e)}function Iv(e,t,n){return n(function(){Nv(t)&&Ov(e)})}function Nv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Oo(e,n)}catch{return!0}}function Ov(e){var t=Ti(e,1);t!==null&&Io(t,e,1,-1)}function ty(e){var t=Xo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:e},t.queue=e,e=e.dispatch=g4.bind(null,en,e),[t.memoizedState,e]}function Jc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Mv(){return uo().memoizedState}function Sd(e,t,n,r){var s=Xo();en.flags|=e,s.memoizedState=Jc(1|t,n,void 0,r===void 0?null:r)}function Xf(e,t,n,r){var s=uo();r=r===void 0?null:r;var c=void 0;if(En!==null){var h=En.memoizedState;if(c=h.destroy,r!==null&&Wp(r,h.deps)){s.memoizedState=Jc(t,n,c,r);return}}en.flags|=e,s.memoizedState=Jc(1|t,n,c,r)}function ny(e,t){return Sd(8390656,8,e,t)}function Qp(e,t){return Xf(2048,8,e,t)}function Dv(e,t){return Xf(4,2,e,t)}function kv(e,t){return Xf(4,4,e,t)}function Pv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lv(e,t,n){return n=n!=null?n.concat([e]):null,Xf(4,4,Pv.bind(null,t,e),n)}function Gp(){}function jv(e,t){var n=uo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bv(e,t){var n=uo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fv(e,t,n){return ia&21?(Oo(n,t)||(n=Wx(),en.lanes|=n,sa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cr=!0),e.memoizedState=n)}function p4(e,t){var n=Pt;Pt=n!==0&&4>n?n:4,e(!0);var r=J0.transition;J0.transition={};try{e(!1),t()}finally{Pt=n,J0.transition=r}}function Uv(){return uo().memoizedState}function m4(e,t,n){var r=ds(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zv(e))Yv(t,n);else if(n=bv(e,t,n,r),n!==null){var s=lr();Io(n,e,r,s),Xv(n,t,r)}}function g4(e,t,n){var r=ds(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zv(e))Yv(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,m=c(h,n);if(s.hasEagerState=!0,s.eagerState=m,Oo(m,h)){var x=t.interleaved;x===null?(s.next=s,Fp(t)):(s.next=x.next,x.next=s),t.interleaved=s;return}}catch{}finally{}n=bv(e,t,s,r),n!==null&&(s=lr(),Io(n,e,r,s),Xv(n,t,r))}}function zv(e){var t=e.alternate;return e===en||t!==null&&t===en}function Yv(e,t){Nc=lf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ep(e,n)}}var cf={readContext:co,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},y4={readContext:co,useCallback:function(e,t){return Xo().memoizedState=[e,t===void 0?null:t],e},useContext:co,useEffect:ny,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sd(4194308,4,Pv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sd(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=m4.bind(null,en,e),[r.memoizedState,e]},useRef:function(e){var t=Xo();return e={current:e},t.memoizedState=e},useState:ty,useDebugValue:Gp,useDeferredValue:function(e){return Xo().memoizedState=e},useTransition:function(){var e=ty(!1),t=e[0];return e=p4.bind(null,e[1]),Xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=en,s=Xo();if($t){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),Mn===null)throw Error(Te(349));ia&30||Tv(r,t,n)}s.memoizedState=n;var c={value:n,getSnapshot:t};return s.queue=c,ny(Iv.bind(null,r,c,e),[e]),r.flags|=2048,Jc(9,_v.bind(null,r,c,n,t),void 0,null),n},useId:function(){var e=Xo(),t=Mn.identifierPrefix;if($t){var n=Ci,r=wi;n=(r&~(1<<32-_o(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Kc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=h4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x4={readContext:co,useCallback:jv,useContext:co,useEffect:Qp,useImperativeHandle:Lv,useInsertionEffect:Dv,useLayoutEffect:kv,useMemo:Bv,useReducer:eh,useRef:Mv,useState:function(){return eh(qc)},useDebugValue:Gp,useDeferredValue:function(e){var t=uo();return Fv(t,En.memoizedState,e)},useTransition:function(){var e=eh(qc)[0],t=uo().memoizedState;return[e,t]},useMutableSource:Ev,useSyncExternalStore:Av,useId:Uv,unstable_isNewReconciler:!1},v4={readContext:co,useCallback:jv,useContext:co,useEffect:Qp,useImperativeHandle:Lv,useInsertionEffect:Dv,useLayoutEffect:kv,useMemo:Bv,useReducer:th,useRef:Mv,useState:function(){return th(qc)},useDebugValue:Gp,useDeferredValue:function(e){var t=uo();return En===null?t.memoizedState=e:Fv(t,En.memoizedState,e)},useTransition:function(){var e=th(qc)[0],t=uo().memoizedState;return[e,t]},useMutableSource:Ev,useSyncExternalStore:Av,useId:Uv,unstable_isNewReconciler:!1};function Co(e,t){if(e&&e.defaultProps){t=tn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function r1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wf={isMounted:function(e){return(e=e._reactInternals)?ha(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lr(),s=ds(e),c=Ri(r,s);c.payload=t,n!=null&&(c.callback=n),t=cs(e,c,s),t!==null&&(Io(t,e,s,r),Cd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lr(),s=ds(e),c=Ri(r,s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=cs(e,c,s),t!==null&&(Io(t,e,s,r),Cd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lr(),r=ds(e),s=Ri(n,r);s.tag=2,t!=null&&(s.callback=t),t=cs(e,s,r),t!==null&&(Io(t,e,r,n),Cd(t,e,r))}};function ry(e,t,n,r,s,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,h):t.prototype&&t.prototype.isPureReactComponent?!Hc(n,r)||!Hc(s,c):!0}function Wv(e,t,n){var r=!1,s=ms,c=t.contextType;return typeof c=="object"&&c!==null?c=co(c):(s=Sr(t)?ra:$n.current,r=t.contextTypes,c=(r=r!=null)?bl(e,s):ms),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function oy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wf.enqueueReplaceState(t,t.state,null)}function o1(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Up(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=co(c):(c=Sr(t)?ra:$n.current,s.context=bl(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(r1(e,t,c,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wf.enqueueReplaceState(s,s.state,null),sf(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Al(e,t){try{var n="",r=t;do n+=QE(r),r=r.return;while(r);var s=n}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function nh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function i1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var w4=typeof WeakMap=="function"?WeakMap:Map;function Hv(e,t,n){n=Ri(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){df||(df=!0,m1=r),i1(e,t)},n}function Vv(e,t,n){n=Ri(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){i1(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){i1(e,t),typeof r!="function"&&(us===null?us=new Set([this]):us.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function iy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new w4;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=k4.bind(null,e,t,n),t.then(e,e))}function sy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ay(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ri(-1,1),t.tag=2,cs(n,t,1))),n.lanes|=1),e)}var C4=Mi.ReactCurrentOwner,Cr=!1;function sr(e,t,n,r){t.child=e===null?Cv(t,null,n,r):Rl(t,e.child,n,r)}function ly(e,t,n,r,s){n=n.render;var c=t.ref;return sl(t,s),r=Hp(e,t,n,r,c,s),n=Vp(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_i(e,t,s)):($t&&n&&Dp(t),t.flags|=1,sr(e,t,r,s),t.child)}function cy(e,t,n,r,s){if(e===null){var c=n.type;return typeof c=="function"&&!nm(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,Qv(e,t,c,r,s)):(e=Td(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&s)){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Hc,n(h,r)&&e.ref===t.ref)return _i(e,t,s)}return t.flags|=1,e=fs(c,r),e.ref=t.ref,e.return=t,t.child=e}function Qv(e,t,n,r,s){if(e!==null){var c=e.memoizedProps;if(Hc(c,r)&&e.ref===t.ref)if(Cr=!1,t.pendingProps=r=c,(e.lanes&s)!==0)e.flags&131072&&(Cr=!0);else return t.lanes=e.lanes,_i(e,t,s)}return s1(e,t,n,r,s)}function Gv(e,t,n){var r=t.pendingProps,s=r.children,c=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(el,Pr),Pr|=n;else{if(!(n&1073741824))return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(el,Pr),Pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=c!==null?c.baseLanes:n,Xt(el,Pr),Pr|=r}else c!==null?(r=c.baseLanes|n,t.memoizedState=null):r=n,Xt(el,Pr),Pr|=r;return sr(e,t,s,n),t.child}function Zv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function s1(e,t,n,r,s){var c=Sr(n)?ra:$n.current;return c=bl(t,c),sl(t,s),n=Hp(e,t,n,r,c,s),r=Vp(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_i(e,t,s)):($t&&r&&Dp(t),t.flags|=1,sr(e,t,n,s),t.child)}function uy(e,t,n,r,s){if(Sr(n)){var c=!0;ef(t)}else c=!1;if(sl(t,s),t.stateNode===null)Rd(e,t),Wv(t,n,r),o1(t,n,r,s),r=!0;else if(e===null){var h=t.stateNode,m=t.memoizedProps;h.props=m;var x=h.context,g=n.contextType;typeof g=="object"&&g!==null?g=co(g):(g=Sr(n)?ra:$n.current,g=bl(t,g));var w=n.getDerivedStateFromProps,C=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function";C||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==r||x!==g)&&oy(t,h,r,g),Gi=!1;var b=t.memoizedState;h.state=b,sf(t,r,h,s),x=t.memoizedState,m!==r||b!==x||br.current||Gi?(typeof w=="function"&&(r1(t,n,w,r),x=t.memoizedState),(m=Gi||ry(t,n,m,r,b,x,g))?(C||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),h.props=r,h.state=x,h.context=g,r=m):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,Sv(e,t),m=t.memoizedProps,g=t.type===t.elementType?m:Co(t.type,m),h.props=g,C=t.pendingProps,b=h.context,x=n.contextType,typeof x=="object"&&x!==null?x=co(x):(x=Sr(n)?ra:$n.current,x=bl(t,x));var _=n.getDerivedStateFromProps;(w=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==C||b!==x)&&oy(t,h,r,x),Gi=!1,b=t.memoizedState,h.state=b,sf(t,r,h,s);var N=t.memoizedState;m!==C||b!==N||br.current||Gi?(typeof _=="function"&&(r1(t,n,_,r),N=t.memoizedState),(g=Gi||ry(t,n,g,r,b,N,x)||!1)?(w||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,N,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,N,x)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),h.props=r,h.state=N,h.context=x,r=g):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return a1(e,t,n,r,c,s)}function a1(e,t,n,r,s,c){Zv(e,t);var h=(t.flags&128)!==0;if(!r&&!h)return s&&Zg(t,n,!1),_i(e,t,c);r=t.stateNode,C4.current=t;var m=h&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&h?(t.child=Rl(t,e.child,null,c),t.child=Rl(t,null,m,c)):sr(e,t,m,c),t.memoizedState=r.state,s&&Zg(t,n,!0),t.child}function $v(e){var t=e.stateNode;t.pendingContext?Gg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gg(e,t.context,!1),zp(e,t.containerInfo)}function dy(e,t,n,r,s){return Sl(),Pp(s),t.flags|=256,sr(e,t,n,r),t.child}var l1={dehydrated:null,treeContext:null,retryLane:0};function c1(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kv(e,t,n){var r=t.pendingProps,s=qt.current,c=!1,h=(t.flags&128)!==0,m;if((m=h)||(m=e!==null&&e.memoizedState===null?!1:(s&2)!==0),m?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xt(qt,s&1),e===null)return t1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=r.children,e=r.fallback,c?(r=t.mode,c=t.child,h={mode:"hidden",children:h},!(r&1)&&c!==null?(c.childLanes=0,c.pendingProps=h):c=Qf(h,r,0,null),e=na(e,r,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=c1(n),t.memoizedState=l1,e):Zp(t,h));if(s=e.memoizedState,s!==null&&(m=s.dehydrated,m!==null))return b4(e,t,h,r,m,s,n);if(c){c=r.fallback,h=t.mode,s=e.child,m=s.sibling;var x={mode:"hidden",children:r.children};return!(h&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=fs(s,x),r.subtreeFlags=s.subtreeFlags&14680064),m!==null?c=fs(m,c):(c=na(c,h,n,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,h=e.child.memoizedState,h=h===null?c1(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~n,t.memoizedState=l1,r}return c=e.child,e=c.sibling,r=fs(c,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zp(e,t){return t=Qf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qu(e,t,n,r){return r!==null&&Pp(r),Rl(t,e.child,null,n),e=Zp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function b4(e,t,n,r,s,c,h){if(n)return t.flags&256?(t.flags&=-257,r=nh(Error(Te(422))),qu(e,t,h,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=r.fallback,s=t.mode,r=Qf({mode:"visible",children:r.children},s,0,null),c=na(c,s,h,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,t.mode&1&&Rl(t,e.child,null,h),t.child.memoizedState=c1(h),t.memoizedState=l1,c);if(!(t.mode&1))return qu(e,t,h,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var m=r.dgst;return r=m,c=Error(Te(419)),r=nh(c,r,void 0),qu(e,t,h,r)}if(m=(h&e.childLanes)!==0,Cr||m){if(r=Mn,r!==null){switch(h&-h){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|h)?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,Ti(e,s),Io(r,e,s,-1))}return tm(),r=nh(Error(Te(421))),qu(e,t,h,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=P4.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,Br=ls(s.nextSibling),Fr=t,$t=!0,Ao=null,e!==null&&(oo[io++]=wi,oo[io++]=Ci,oo[io++]=oa,wi=e.id,Ci=e.overflow,oa=t),t=Zp(t,r.children),t.flags|=4096,t)}function fy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),n1(e.return,t,n)}function rh(e,t,n,r,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=s)}function qv(e,t,n){var r=t.pendingProps,s=r.revealOrder,c=r.tail;if(sr(e,t,r.children,n),r=qt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,n,t);else if(e.tag===19)fy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xt(qt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&af(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),rh(t,!1,s,n,c);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&af(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}rh(t,!0,n,null,c);break;case"together":rh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _i(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=fs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function S4(e,t,n){switch(t.tag){case 3:$v(t),Sl();break;case 5:Rv(t);break;case 1:Sr(t.type)&&ef(t);break;case 4:zp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Xt(rf,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xt(qt,qt.current&1),t.flags|=128,null):n&t.child.childLanes?Kv(e,t,n):(Xt(qt,qt.current&1),e=_i(e,t,n),e!==null?e.sibling:null);Xt(qt,qt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xt(qt,qt.current),r)break;return null;case 22:case 23:return t.lanes=0,Gv(e,t,n)}return _i(e,t,n)}var Jv,u1,ew,tw;Jv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};u1=function(){};ew=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$s(ei.current);var c=null;switch(n){case"input":s=Mh(e,s),r=Mh(e,r),c=[];break;case"select":s=tn({},s,{value:void 0}),r=tn({},r,{value:void 0}),c=[];break;case"textarea":s=Ph(e,s),r=Ph(e,r),c=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qd)}jh(n,r);var h;n=null;for(g in s)if(!r.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var m=s[g];for(h in m)m.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Bc.hasOwnProperty(g)?c||(c=[]):(c=c||[]).push(g,null));for(g in r){var x=r[g];if(m=s!=null?s[g]:void 0,r.hasOwnProperty(g)&&x!==m&&(x!=null||m!=null))if(g==="style")if(m){for(h in m)!m.hasOwnProperty(h)||x&&x.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in x)x.hasOwnProperty(h)&&m[h]!==x[h]&&(n||(n={}),n[h]=x[h])}else n||(c||(c=[]),c.push(g,n)),n=x;else g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,m=m?m.__html:void 0,x!=null&&m!==x&&(c=c||[]).push(g,x)):g==="children"?typeof x!="string"&&typeof x!="number"||(c=c||[]).push(g,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Bc.hasOwnProperty(g)?(x!=null&&g==="onScroll"&&Vt("scroll",e),c||m===x||(c=[])):(c=c||[]).push(g,x))}n&&(c=c||[]).push("style",n);var g=c;(t.updateQueue=g)&&(t.flags|=4)}};tw=function(e,t,n,r){n!==r&&(t.flags|=4)};function lc(e,t){if(!$t)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function R4(e,t,n){var r=t.pendingProps;switch(kp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(t),null;case 1:return Sr(t.type)&&Jd(),Qn(t),null;case 3:return r=t.stateNode,El(),Zt(br),Zt($n),Xp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($u(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ao!==null&&(x1(Ao),Ao=null))),u1(e,t),Qn(t),null;case 5:Yp(t);var s=$s($c.current);if(n=t.type,e!==null&&t.stateNode!=null)ew(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return Qn(t),null}if(e=$s(ei.current),$u(t)){r=t.stateNode,n=t.type;var c=t.memoizedProps;switch(r[Go]=t,r[Gc]=c,e=(t.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(s=0;s<Cc.length;s++)Vt(Cc[s],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Cg(r,c),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Vt("invalid",r);break;case"textarea":Sg(r,c),Vt("invalid",r)}jh(n,c),s=null;for(var h in c)if(c.hasOwnProperty(h)){var m=c[h];h==="children"?typeof m=="string"?r.textContent!==m&&(c.suppressHydrationWarning!==!0&&Zu(r.textContent,m,e),s=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(c.suppressHydrationWarning!==!0&&Zu(r.textContent,m,e),s=["children",""+m]):Bc.hasOwnProperty(h)&&m!=null&&h==="onScroll"&&Vt("scroll",r)}switch(n){case"input":zu(r),bg(r,c,!0);break;case"textarea":zu(r),Rg(r);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(r.onclick=qd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{h=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ix(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(n,{is:r.is}):(e=h.createElement(n),n==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,n),e[Go]=t,e[Gc]=r,Jv(e,t,!1,!1),t.stateNode=e;e:{switch(h=Bh(n,r),n){case"dialog":Vt("cancel",e),Vt("close",e),s=r;break;case"iframe":case"object":case"embed":Vt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cc.length;s++)Vt(Cc[s],e);s=r;break;case"source":Vt("error",e),s=r;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),s=r;break;case"details":Vt("toggle",e),s=r;break;case"input":Cg(e,r),s=Mh(e,r),Vt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=tn({},r,{value:void 0}),Vt("invalid",e);break;case"textarea":Sg(e,r),s=Ph(e,r),Vt("invalid",e);break;default:s=r}jh(n,s),m=s;for(c in m)if(m.hasOwnProperty(c)){var x=m[c];c==="style"?Mx(e,x):c==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Nx(e,x)):c==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&Fc(e,x):typeof x=="number"&&Fc(e,""+x):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bc.hasOwnProperty(c)?x!=null&&c==="onScroll"&&Vt("scroll",e):x!=null&&vp(e,c,x,h))}switch(n){case"input":zu(e),bg(e,r,!1);break;case"textarea":zu(e),Rg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ps(r.value));break;case"select":e.multiple=!!r.multiple,c=r.value,c!=null?nl(e,!!r.multiple,c,!1):r.defaultValue!=null&&nl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qn(t),null;case 6:if(e&&t.stateNode!=null)tw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(n=$s($c.current),$s(ei.current),$u(t)){if(r=t.stateNode,n=t.memoizedProps,r[Go]=t,(c=r.nodeValue!==n)&&(e=Fr,e!==null))switch(e.tag){case 3:Zu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zu(r.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Go]=t,t.stateNode=r}return Qn(t),null;case 13:if(Zt(qt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($t&&Br!==null&&t.mode&1&&!(t.flags&128))vv(),Sl(),t.flags|=98560,c=!1;else if(c=$u(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(Te(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(Te(317));c[Go]=t}else Sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qn(t),c=!1}else Ao!==null&&(x1(Ao),Ao=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?An===0&&(An=3):tm())),t.updateQueue!==null&&(t.flags|=4),Qn(t),null);case 4:return El(),u1(e,t),e===null&&Vc(t.stateNode.containerInfo),Qn(t),null;case 10:return Bp(t.type._context),Qn(t),null;case 17:return Sr(t.type)&&Jd(),Qn(t),null;case 19:if(Zt(qt),c=t.memoizedState,c===null)return Qn(t),null;if(r=(t.flags&128)!==0,h=c.rendering,h===null)if(r)lc(c,!1);else{if(An!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=af(e),h!==null){for(t.flags|=128,lc(c,!1),r=h.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)c=n,e=r,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xt(qt,qt.current&1|2),t.child}e=e.sibling}c.tail!==null&&mn()>Tl&&(t.flags|=128,r=!0,lc(c,!1),t.lanes=4194304)}else{if(!r)if(e=af(h),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!$t)return Qn(t),null}else 2*mn()-c.renderingStartTime>Tl&&n!==1073741824&&(t.flags|=128,r=!0,lc(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(n=c.last,n!==null?n.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=mn(),t.sibling=null,n=qt.current,Xt(qt,r?n&1|2:n&1),t):(Qn(t),null);case 22:case 23:return em(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pr&1073741824&&(Qn(t),t.subtreeFlags&6&&(t.flags|=8192)):Qn(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function E4(e,t){switch(kp(t),t.tag){case 1:return Sr(t.type)&&Jd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return El(),Zt(br),Zt($n),Xp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yp(t),null;case 13:if(Zt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));Sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(qt),null;case 4:return El(),null;case 10:return Bp(t.type._context),null;case 22:case 23:return em(),null;case 24:return null;default:return null}}var Ju=!1,Zn=!1,A4=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Ja(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(e,t,r)}else n.current=null}function d1(e,t,n){try{n()}catch(r){un(e,t,r)}}var hy=!1;function T4(e,t){if(Gh=Zd,e=sv(),Mp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,m=-1,x=-1,g=0,w=0,C=e,b=null;t:for(;;){for(var _;C!==n||s!==0&&C.nodeType!==3||(m=h+s),C!==c||r!==0&&C.nodeType!==3||(x=h+r),C.nodeType===3&&(h+=C.nodeValue.length),(_=C.firstChild)!==null;)b=C,C=_;for(;;){if(C===e)break t;if(b===n&&++g===s&&(m=h),b===c&&++w===r&&(x=h),(_=C.nextSibling)!==null)break;C=b,b=C.parentNode}C=_}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zh={focusedElem:e,selectionRange:n},Zd=!1,ze=t;ze!==null;)if(t=ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ze=e;else for(;ze!==null;){t=ze;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var T=N.memoizedProps,P=N.memoizedState,M=t.stateNode,I=M.getSnapshotBeforeUpdate(t.elementType===t.type?T:Co(t.type,T),P);M.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(F){un(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,ze=e;break}ze=t.return}return N=hy,hy=!1,N}function Oc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&d1(t,n,c)}s=s.next}while(s!==r)}}function Hf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function f1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nw(e){var t=e.alternate;t!==null&&(e.alternate=null,nw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Go],delete t[Gc],delete t[qh],delete t[c4],delete t[u4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rw(e){return e.tag===5||e.tag===3||e.tag===4}function py(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function h1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qd));else if(r!==4&&(e=e.child,e!==null))for(h1(e,t,n),e=e.sibling;e!==null;)h1(e,t,n),e=e.sibling}function p1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(p1(e,t,n),e=e.sibling;e!==null;)p1(e,t,n),e=e.sibling}var jn=null,Ro=!1;function Ui(e,t,n){for(n=n.child;n!==null;)ow(e,t,n),n=n.sibling}function ow(e,t,n){if(Jo&&typeof Jo.onCommitFiberUnmount=="function")try{Jo.onCommitFiberUnmount(jf,n)}catch{}switch(n.tag){case 5:Zn||Ja(n,t);case 6:var r=jn,s=Ro;jn=null,Ui(e,t,n),jn=r,Ro=s,jn!==null&&(Ro?(e=jn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jn.removeChild(n.stateNode));break;case 18:jn!==null&&(Ro?(e=jn,n=n.stateNode,e.nodeType===8?$0(e.parentNode,n):e.nodeType===1&&$0(e,n),Xc(e)):$0(jn,n.stateNode));break;case 4:r=jn,s=Ro,jn=n.stateNode.containerInfo,Ro=!0,Ui(e,t,n),jn=r,Ro=s;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var c=s,h=c.destroy;c=c.tag,h!==void 0&&(c&2||c&4)&&d1(n,t,h),s=s.next}while(s!==r)}Ui(e,t,n);break;case 1:if(!Zn&&(Ja(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){un(n,t,m)}Ui(e,t,n);break;case 21:Ui(e,t,n);break;case 22:n.mode&1?(Zn=(r=Zn)||n.memoizedState!==null,Ui(e,t,n),Zn=r):Ui(e,t,n);break;default:Ui(e,t,n)}}function my(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new A4),t.forEach(function(r){var s=L4.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var c=e,h=t,m=h;e:for(;m!==null;){switch(m.tag){case 5:jn=m.stateNode,Ro=!1;break e;case 3:jn=m.stateNode.containerInfo,Ro=!0;break e;case 4:jn=m.stateNode.containerInfo,Ro=!0;break e}m=m.return}if(jn===null)throw Error(Te(160));ow(c,h,s),jn=null,Ro=!1;var x=s.alternate;x!==null&&(x.return=null),s.return=null}catch(g){un(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iw(t,e),t=t.sibling}function iw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vo(t,e),zo(e),r&4){try{Oc(3,e,e.return),Hf(3,e)}catch(T){un(e,e.return,T)}try{Oc(5,e,e.return)}catch(T){un(e,e.return,T)}}break;case 1:vo(t,e),zo(e),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(vo(t,e),zo(e),r&512&&n!==null&&Ja(n,n.return),e.flags&32){var s=e.stateNode;try{Fc(s,"")}catch(T){un(e,e.return,T)}}if(r&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,h=n!==null?n.memoizedProps:c,m=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{m==="input"&&c.type==="radio"&&c.name!=null&&Tx(s,c),Bh(m,h);var g=Bh(m,c);for(h=0;h<x.length;h+=2){var w=x[h],C=x[h+1];w==="style"?Mx(s,C):w==="dangerouslySetInnerHTML"?Nx(s,C):w==="children"?Fc(s,C):vp(s,w,C,g)}switch(m){case"input":Dh(s,c);break;case"textarea":_x(s,c);break;case"select":var b=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var _=c.value;_!=null?nl(s,!!c.multiple,_,!1):b!==!!c.multiple&&(c.defaultValue!=null?nl(s,!!c.multiple,c.defaultValue,!0):nl(s,!!c.multiple,c.multiple?[]:"",!1))}s[Gc]=c}catch(T){un(e,e.return,T)}}break;case 6:if(vo(t,e),zo(e),r&4){if(e.stateNode===null)throw Error(Te(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(T){un(e,e.return,T)}}break;case 3:if(vo(t,e),zo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xc(t.containerInfo)}catch(T){un(e,e.return,T)}break;case 4:vo(t,e),zo(e);break;case 13:vo(t,e),zo(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(qp=mn())),r&4&&my(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(Zn=(g=Zn)||w,vo(t,e),Zn=g):vo(t,e),zo(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!w&&e.mode&1)for(ze=e,w=e.child;w!==null;){for(C=ze=w;ze!==null;){switch(b=ze,_=b.child,b.tag){case 0:case 11:case 14:case 15:Oc(4,b,b.return);break;case 1:Ja(b,b.return);var N=b.stateNode;if(typeof N.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(T){un(r,n,T)}}break;case 5:Ja(b,b.return);break;case 22:if(b.memoizedState!==null){yy(C);continue}}_!==null?(_.return=b,ze=_):yy(C)}w=w.sibling}e:for(w=null,C=e;;){if(C.tag===5){if(w===null){w=C;try{s=C.stateNode,g?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(m=C.stateNode,x=C.memoizedProps.style,h=x!=null&&x.hasOwnProperty("display")?x.display:null,m.style.display=Ox("display",h))}catch(T){un(e,e.return,T)}}}else if(C.tag===6){if(w===null)try{C.stateNode.nodeValue=g?"":C.memoizedProps}catch(T){un(e,e.return,T)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;w===C&&(w=null),C=C.return}w===C&&(w=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:vo(t,e),zo(e),r&4&&my(e);break;case 21:break;default:vo(t,e),zo(e)}}function zo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rw(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fc(s,""),r.flags&=-33);var c=py(e);p1(e,c,s);break;case 3:case 4:var h=r.stateNode.containerInfo,m=py(e);h1(e,m,h);break;default:throw Error(Te(161))}}catch(x){un(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _4(e,t,n){ze=e,sw(e)}function sw(e,t,n){for(var r=(e.mode&1)!==0;ze!==null;){var s=ze,c=s.child;if(s.tag===22&&r){var h=s.memoizedState!==null||Ju;if(!h){var m=s.alternate,x=m!==null&&m.memoizedState!==null||Zn;m=Ju;var g=Zn;if(Ju=h,(Zn=x)&&!g)for(ze=s;ze!==null;)h=ze,x=h.child,h.tag===22&&h.memoizedState!==null?xy(s):x!==null?(x.return=h,ze=x):xy(s);for(;c!==null;)ze=c,sw(c),c=c.sibling;ze=s,Ju=m,Zn=g}gy(e)}else s.subtreeFlags&8772&&c!==null?(c.return=s,ze=c):gy(e)}}function gy(e){for(;ze!==null;){var t=ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zn||Hf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Zn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Co(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&ey(t,c,r);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ey(t,h,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var w=g.memoizedState;if(w!==null){var C=w.dehydrated;C!==null&&Xc(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}Zn||t.flags&512&&f1(t)}catch(b){un(t,t.return,b)}}if(t===e){ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,ze=n;break}ze=t.return}}function yy(e){for(;ze!==null;){var t=ze;if(t===e){ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ze=n;break}ze=t.return}}function xy(e){for(;ze!==null;){var t=ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hf(4,t)}catch(x){un(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(x){un(t,s,x)}}var c=t.return;try{f1(t)}catch(x){un(t,c,x)}break;case 5:var h=t.return;try{f1(t)}catch(x){un(t,h,x)}}}catch(x){un(t,t.return,x)}if(t===e){ze=null;break}var m=t.sibling;if(m!==null){m.return=t.return,ze=m;break}ze=t.return}}var I4=Math.ceil,uf=Mi.ReactCurrentDispatcher,$p=Mi.ReactCurrentOwner,ao=Mi.ReactCurrentBatchConfig,St=0,Mn=null,xn=null,Fn=0,Pr=0,el=Ss(0),An=0,eu=null,sa=0,Vf=0,Kp=0,Mc=null,wr=null,qp=0,Tl=1/0,yi=null,df=!1,m1=null,us=null,ed=!1,rs=null,ff=0,Dc=0,g1=null,Ed=-1,Ad=0;function lr(){return St&6?mn():Ed!==-1?Ed:Ed=mn()}function ds(e){return e.mode&1?St&2&&Fn!==0?Fn&-Fn:f4.transition!==null?(Ad===0&&(Ad=Wx()),Ad):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:Kx(e.type)),e):1}function Io(e,t,n,r){if(50<Dc)throw Dc=0,g1=null,Error(Te(185));mu(e,n,r),(!(St&2)||e!==Mn)&&(e===Mn&&(!(St&2)&&(Vf|=n),An===4&&$i(e,Fn)),Rr(e,r),n===1&&St===0&&!(t.mode&1)&&(Tl=mn()+500,Yf&&Rs()))}function Rr(e,t){var n=e.callbackNode;fA(e,t);var r=Gd(e,e===Mn?Fn:0);if(r===0)n!==null&&Tg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tg(n),t===1)e.tag===0?d4(vy.bind(null,e)):gv(vy.bind(null,e)),a4(function(){!(St&6)&&Rs()}),n=null;else{switch(Hx(r)){case 1:n=Rp;break;case 4:n=Yx;break;case 16:n=Qd;break;case 536870912:n=Xx;break;default:n=Qd}n=pw(n,aw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function aw(e,t){if(Ed=-1,Ad=0,St&6)throw Error(Te(327));var n=e.callbackNode;if(al()&&e.callbackNode!==n)return null;var r=Gd(e,e===Mn?Fn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hf(e,r);else{t=r;var s=St;St|=2;var c=cw();(Mn!==e||Fn!==t)&&(yi=null,Tl=mn()+500,ta(e,t));do try{M4();break}catch(m){lw(e,m)}while(!0);jp(),uf.current=c,St=s,xn!==null?t=0:(Mn=null,Fn=0,t=An)}if(t!==0){if(t===2&&(s=Xh(e),s!==0&&(r=s,t=y1(e,s))),t===1)throw n=eu,ta(e,0),$i(e,r),Rr(e,mn()),n;if(t===6)$i(e,r);else{if(s=e.current.alternate,!(r&30)&&!N4(s)&&(t=hf(e,r),t===2&&(c=Xh(e),c!==0&&(r=c,t=y1(e,c))),t===1))throw n=eu,ta(e,0),$i(e,r),Rr(e,mn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:Hs(e,wr,yi);break;case 3:if($i(e,r),(r&130023424)===r&&(t=qp+500-mn(),10<t)){if(Gd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){lr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kh(Hs.bind(null,e,wr,yi),t);break}Hs(e,wr,yi);break;case 4:if($i(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var h=31-_o(r);c=1<<h,h=t[h],h>s&&(s=h),r&=~c}if(r=s,r=mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I4(r/1960))-r,10<r){e.timeoutHandle=Kh(Hs.bind(null,e,wr,yi),r);break}Hs(e,wr,yi);break;case 5:Hs(e,wr,yi);break;default:throw Error(Te(329))}}}return Rr(e,mn()),e.callbackNode===n?aw.bind(null,e):null}function y1(e,t){var n=Mc;return e.current.memoizedState.isDehydrated&&(ta(e,t).flags|=256),e=hf(e,t),e!==2&&(t=wr,wr=n,t!==null&&x1(t)),e}function x1(e){wr===null?wr=e:wr.push.apply(wr,e)}function N4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],c=s.getSnapshot;s=s.value;try{if(!Oo(c(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $i(e,t){for(t&=~Kp,t&=~Vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_o(t),r=1<<n;e[n]=-1,t&=~r}}function vy(e){if(St&6)throw Error(Te(327));al();var t=Gd(e,0);if(!(t&1))return Rr(e,mn()),null;var n=hf(e,t);if(e.tag!==0&&n===2){var r=Xh(e);r!==0&&(t=r,n=y1(e,r))}if(n===1)throw n=eu,ta(e,0),$i(e,t),Rr(e,mn()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hs(e,wr,yi),Rr(e,mn()),null}function Jp(e,t){var n=St;St|=1;try{return e(t)}finally{St=n,St===0&&(Tl=mn()+500,Yf&&Rs())}}function aa(e){rs!==null&&rs.tag===0&&!(St&6)&&al();var t=St;St|=1;var n=ao.transition,r=Pt;try{if(ao.transition=null,Pt=1,e)return e()}finally{Pt=r,ao.transition=n,St=t,!(St&6)&&Rs()}}function em(){Pr=el.current,Zt(el)}function ta(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,s4(n)),xn!==null)for(n=xn.return;n!==null;){var r=n;switch(kp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jd();break;case 3:El(),Zt(br),Zt($n),Xp();break;case 5:Yp(r);break;case 4:El();break;case 13:Zt(qt);break;case 19:Zt(qt);break;case 10:Bp(r.type._context);break;case 22:case 23:em()}n=n.return}if(Mn=e,xn=e=fs(e.current,null),Fn=Pr=t,An=0,eu=null,Kp=Vf=sa=0,wr=Mc=null,Zs!==null){for(t=0;t<Zs.length;t++)if(n=Zs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,c=n.pending;if(c!==null){var h=c.next;c.next=s,r.next=h}n.pending=r}Zs=null}return e}function lw(e,t){do{var n=xn;try{if(jp(),bd.current=cf,lf){for(var r=en.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lf=!1}if(ia=0,Nn=En=en=null,Nc=!1,Kc=0,$p.current=null,n===null||n.return===null){An=1,eu=t,xn=null;break}e:{var c=e,h=n.return,m=n,x=t;if(t=Fn,m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var g=x,w=m,C=w.tag;if(!(w.mode&1)&&(C===0||C===11||C===15)){var b=w.alternate;b?(w.updateQueue=b.updateQueue,w.memoizedState=b.memoizedState,w.lanes=b.lanes):(w.updateQueue=null,w.memoizedState=null)}var _=sy(h);if(_!==null){_.flags&=-257,ay(_,h,m,c,t),_.mode&1&&iy(c,g,t),t=_,x=g;var N=t.updateQueue;if(N===null){var T=new Set;T.add(x),t.updateQueue=T}else N.add(x);break e}else{if(!(t&1)){iy(c,g,t),tm();break e}x=Error(Te(426))}}else if($t&&m.mode&1){var P=sy(h);if(P!==null){!(P.flags&65536)&&(P.flags|=256),ay(P,h,m,c,t),Pp(Al(x,m));break e}}c=x=Al(x,m),An!==4&&(An=2),Mc===null?Mc=[c]:Mc.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var M=Hv(c,x,t);Jg(c,M);break e;case 1:m=x;var I=c.type,D=c.stateNode;if(!(c.flags&128)&&(typeof I.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(us===null||!us.has(D)))){c.flags|=65536,t&=-t,c.lanes|=t;var F=Vv(c,m,t);Jg(c,F);break e}}c=c.return}while(c!==null)}dw(n)}catch(Y){t=Y,xn===n&&n!==null&&(xn=n=n.return);continue}break}while(!0)}function cw(){var e=uf.current;return uf.current=cf,e===null?cf:e}function tm(){(An===0||An===3||An===2)&&(An=4),Mn===null||!(sa&268435455)&&!(Vf&268435455)||$i(Mn,Fn)}function hf(e,t){var n=St;St|=2;var r=cw();(Mn!==e||Fn!==t)&&(yi=null,ta(e,t));do try{O4();break}catch(s){lw(e,s)}while(!0);if(jp(),St=n,uf.current=r,xn!==null)throw Error(Te(261));return Mn=null,Fn=0,An}function O4(){for(;xn!==null;)uw(xn)}function M4(){for(;xn!==null&&!rA();)uw(xn)}function uw(e){var t=hw(e.alternate,e,Pr);e.memoizedProps=e.pendingProps,t===null?dw(e):xn=t,$p.current=null}function dw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=E4(n,t),n!==null){n.flags&=32767,xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{An=6,xn=null;return}}else if(n=R4(n,t,Pr),n!==null){xn=n;return}if(t=t.sibling,t!==null){xn=t;return}xn=t=e}while(t!==null);An===0&&(An=5)}function Hs(e,t,n){var r=Pt,s=ao.transition;try{ao.transition=null,Pt=1,D4(e,t,n,r)}finally{ao.transition=s,Pt=r}return null}function D4(e,t,n,r){do al();while(rs!==null);if(St&6)throw Error(Te(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(hA(e,c),e===Mn&&(xn=Mn=null,Fn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ed||(ed=!0,pw(Qd,function(){return al(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=ao.transition,ao.transition=null;var h=Pt;Pt=1;var m=St;St|=4,$p.current=null,T4(e,n),iw(n,e),JA(Zh),Zd=!!Gh,Zh=Gh=null,e.current=n,_4(n),oA(),St=m,Pt=h,ao.transition=c}else e.current=n;if(ed&&(ed=!1,rs=e,ff=s),c=e.pendingLanes,c===0&&(us=null),aA(n.stateNode),Rr(e,mn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(df)throw df=!1,e=m1,m1=null,e;return ff&1&&e.tag!==0&&al(),c=e.pendingLanes,c&1?e===g1?Dc++:(Dc=0,g1=e):Dc=0,Rs(),null}function al(){if(rs!==null){var e=Hx(ff),t=ao.transition,n=Pt;try{if(ao.transition=null,Pt=16>e?16:e,rs===null)var r=!1;else{if(e=rs,rs=null,ff=0,St&6)throw Error(Te(331));var s=St;for(St|=4,ze=e.current;ze!==null;){var c=ze,h=c.child;if(ze.flags&16){var m=c.deletions;if(m!==null){for(var x=0;x<m.length;x++){var g=m[x];for(ze=g;ze!==null;){var w=ze;switch(w.tag){case 0:case 11:case 15:Oc(8,w,c)}var C=w.child;if(C!==null)C.return=w,ze=C;else for(;ze!==null;){w=ze;var b=w.sibling,_=w.return;if(nw(w),w===g){ze=null;break}if(b!==null){b.return=_,ze=b;break}ze=_}}}var N=c.alternate;if(N!==null){var T=N.child;if(T!==null){N.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}ze=c}}if(c.subtreeFlags&2064&&h!==null)h.return=c,ze=h;else e:for(;ze!==null;){if(c=ze,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Oc(9,c,c.return)}var M=c.sibling;if(M!==null){M.return=c.return,ze=M;break e}ze=c.return}}var I=e.current;for(ze=I;ze!==null;){h=ze;var D=h.child;if(h.subtreeFlags&2064&&D!==null)D.return=h,ze=D;else e:for(h=I;ze!==null;){if(m=ze,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Hf(9,m)}}catch(Y){un(m,m.return,Y)}if(m===h){ze=null;break e}var F=m.sibling;if(F!==null){F.return=m.return,ze=F;break e}ze=m.return}}if(St=s,Rs(),Jo&&typeof Jo.onPostCommitFiberRoot=="function")try{Jo.onPostCommitFiberRoot(jf,e)}catch{}r=!0}return r}finally{Pt=n,ao.transition=t}}return!1}function wy(e,t,n){t=Al(n,t),t=Hv(e,t,1),e=cs(e,t,1),t=lr(),e!==null&&(mu(e,1,t),Rr(e,t))}function un(e,t,n){if(e.tag===3)wy(e,e,n);else for(;t!==null;){if(t.tag===3){wy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(us===null||!us.has(r))){e=Al(n,e),e=Vv(t,e,1),t=cs(t,e,1),e=lr(),t!==null&&(mu(t,1,e),Rr(t,e));break}}t=t.return}}function k4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&n,Mn===e&&(Fn&n)===n&&(An===4||An===3&&(Fn&130023424)===Fn&&500>mn()-qp?ta(e,0):Kp|=n),Rr(e,t)}function fw(e,t){t===0&&(e.mode&1?(t=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):t=1);var n=lr();e=Ti(e,t),e!==null&&(mu(e,t,n),Rr(e,n))}function P4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fw(e,n)}function L4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),fw(e,n)}var hw;hw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||br.current)Cr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Cr=!1,S4(e,t,n);Cr=!!(e.flags&131072)}else Cr=!1,$t&&t.flags&1048576&&yv(t,nf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rd(e,t),e=t.pendingProps;var s=bl(t,$n.current);sl(t,n),s=Hp(null,t,r,e,s,n);var c=Vp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(r)?(c=!0,ef(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Up(t),s.updater=Wf,t.stateNode=s,s._reactInternals=t,o1(t,r,e,n),t=a1(null,t,r,!0,c,n)):(t.tag=0,$t&&c&&Dp(t),sr(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=B4(r),e=Co(r,e),s){case 0:t=s1(null,t,r,e,n);break e;case 1:t=uy(null,t,r,e,n);break e;case 11:t=ly(null,t,r,e,n);break e;case 14:t=cy(null,t,r,Co(r.type,e),n);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Co(r,s),s1(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Co(r,s),uy(e,t,r,s,n);case 3:e:{if($v(t),e===null)throw Error(Te(387));r=t.pendingProps,c=t.memoizedState,s=c.element,Sv(e,t),sf(t,r,null,n);var h=t.memoizedState;if(r=h.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=Al(Error(Te(423)),t),t=dy(e,t,r,n,s);break e}else if(r!==s){s=Al(Error(Te(424)),t),t=dy(e,t,r,n,s);break e}else for(Br=ls(t.stateNode.containerInfo.firstChild),Fr=t,$t=!0,Ao=null,n=Cv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),r===s){t=_i(e,t,n);break e}sr(e,t,r,n)}t=t.child}return t;case 5:return Rv(t),e===null&&t1(t),r=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,h=s.children,$h(r,s)?h=null:c!==null&&$h(r,c)&&(t.flags|=32),Zv(e,t),sr(e,t,h,n),t.child;case 6:return e===null&&t1(t),null;case 13:return Kv(e,t,n);case 4:return zp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rl(t,null,r,n):sr(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Co(r,s),ly(e,t,r,s,n);case 7:return sr(e,t,t.pendingProps,n),t.child;case 8:return sr(e,t,t.pendingProps.children,n),t.child;case 12:return sr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,c=t.memoizedProps,h=s.value,Xt(rf,r._currentValue),r._currentValue=h,c!==null)if(Oo(c.value,h)){if(c.children===s.children&&!br.current){t=_i(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var m=c.dependencies;if(m!==null){h=c.child;for(var x=m.firstContext;x!==null;){if(x.context===r){if(c.tag===1){x=Ri(-1,n&-n),x.tag=2;var g=c.updateQueue;if(g!==null){g=g.shared;var w=g.pending;w===null?x.next=x:(x.next=w.next,w.next=x),g.pending=x}}c.lanes|=n,x=c.alternate,x!==null&&(x.lanes|=n),n1(c.return,n,t),m.lanes|=n;break}x=x.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(Te(341));h.lanes|=n,m=h.alternate,m!==null&&(m.lanes|=n),n1(h,n,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}sr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,sl(t,n),s=co(s),r=r(s),t.flags|=1,sr(e,t,r,n),t.child;case 14:return r=t.type,s=Co(r,t.pendingProps),s=Co(r.type,s),cy(e,t,r,s,n);case 15:return Qv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Co(r,s),Rd(e,t),t.tag=1,Sr(r)?(e=!0,ef(t)):e=!1,sl(t,n),Wv(t,r,s),o1(t,r,s,n),a1(null,t,r,!0,e,n);case 19:return qv(e,t,n);case 22:return Gv(e,t,n)}throw Error(Te(156,t.tag))};function pw(e,t){return zx(e,t)}function j4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function so(e,t,n,r){return new j4(e,t,n,r)}function nm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B4(e){if(typeof e=="function")return nm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cp)return 11;if(e===bp)return 14}return 2}function fs(e,t){var n=e.alternate;return n===null?(n=so(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Td(e,t,n,r,s,c){var h=2;if(r=e,typeof e=="function")nm(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Wa:return na(n.children,s,c,t);case wp:h=8,s|=8;break;case _h:return e=so(12,n,t,s|2),e.elementType=_h,e.lanes=c,e;case Ih:return e=so(13,n,t,s),e.elementType=Ih,e.lanes=c,e;case Nh:return e=so(19,n,t,s),e.elementType=Nh,e.lanes=c,e;case Rx:return Qf(n,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bx:h=10;break e;case Sx:h=9;break e;case Cp:h=11;break e;case bp:h=14;break e;case Qi:h=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=so(h,n,t,s),t.elementType=e,t.type=r,t.lanes=c,t}function na(e,t,n,r){return e=so(7,e,r,t),e.lanes=n,e}function Qf(e,t,n,r){return e=so(22,e,r,t),e.elementType=Rx,e.lanes=n,e.stateNode={isHidden:!1},e}function oh(e,t,n){return e=so(6,e,null,t),e.lanes=n,e}function ih(e,t,n){return t=so(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F4(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F0(0),this.expirationTimes=F0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rm(e,t,n,r,s,c,h,m,x){return e=new F4(e,t,n,m,x),t===1?(t=1,c===!0&&(t|=8)):t=0,c=so(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Up(c),e}function U4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mw(e){if(!e)return ms;e=e._reactInternals;e:{if(ha(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(Sr(n))return mv(e,n,t)}return t}function gw(e,t,n,r,s,c,h,m,x){return e=rm(n,r,!0,e,s,c,h,m,x),e.context=mw(null),n=e.current,r=lr(),s=ds(n),c=Ri(r,s),c.callback=t??null,cs(n,c,s),e.current.lanes=s,mu(e,s,r),Rr(e,r),e}function Gf(e,t,n,r){var s=t.current,c=lr(),h=ds(s);return n=mw(n),t.context===null?t.context=n:t.pendingContext=n,t=Ri(c,h),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cs(s,t,h),e!==null&&(Io(e,s,h,c),Cd(e,s,h)),h}function pf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function om(e,t){Cy(e,t),(e=e.alternate)&&Cy(e,t)}function z4(){return null}var yw=typeof reportError=="function"?reportError:function(e){console.error(e)};function im(e){this._internalRoot=e}Zf.prototype.render=im.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));Gf(e,t,null,null)};Zf.prototype.unmount=im.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;aa(function(){Gf(null,e,null,null)}),t[Ai]=null}};function Zf(e){this._internalRoot=e}Zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zi.length&&t!==0&&t<Zi[n].priority;n++);Zi.splice(n,0,e),n===0&&$x(e)}};function sm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function by(){}function Y4(e,t,n,r,s){if(s){if(typeof r=="function"){var c=r;r=function(){var g=pf(h);c.call(g)}}var h=gw(t,r,e,0,null,!1,!1,"",by);return e._reactRootContainer=h,e[Ai]=h.current,Vc(e.nodeType===8?e.parentNode:e),aa(),h}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var m=r;r=function(){var g=pf(x);m.call(g)}}var x=rm(e,0,!1,null,null,!1,!1,"",by);return e._reactRootContainer=x,e[Ai]=x.current,Vc(e.nodeType===8?e.parentNode:e),aa(function(){Gf(t,x,n,r)}),x}function Kf(e,t,n,r,s){var c=n._reactRootContainer;if(c){var h=c;if(typeof s=="function"){var m=s;s=function(){var x=pf(h);m.call(x)}}Gf(t,h,e,s)}else h=Y4(n,t,e,s,r);return pf(h)}Vx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wc(t.pendingLanes);n!==0&&(Ep(t,n|1),Rr(t,mn()),!(St&6)&&(Tl=mn()+500,Rs()))}break;case 13:aa(function(){var r=Ti(e,1);if(r!==null){var s=lr();Io(r,e,1,s)}}),om(e,1)}};Ap=function(e){if(e.tag===13){var t=Ti(e,134217728);if(t!==null){var n=lr();Io(t,e,134217728,n)}om(e,134217728)}};Qx=function(e){if(e.tag===13){var t=ds(e),n=Ti(e,t);if(n!==null){var r=lr();Io(n,e,t,r)}om(e,t)}};Gx=function(){return Pt};Zx=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}};Uh=function(e,t,n){switch(t){case"input":if(Dh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=zf(r);if(!s)throw Error(Te(90));Ax(r),Dh(r,s)}}}break;case"textarea":_x(e,n);break;case"select":t=n.value,t!=null&&nl(e,!!n.multiple,t,!1)}};Px=Jp;Lx=aa;var X4={usingClientEntryPoint:!1,Events:[yu,Ga,zf,Dx,kx,Jp]},cc={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W4={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fx(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||z4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{jf=td.inject(W4),Jo=td}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X4;Yr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sm(t))throw Error(Te(200));return U4(e,t,null,n)};Yr.createRoot=function(e,t){if(!sm(e))throw Error(Te(299));var n=!1,r="",s=yw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rm(e,1,!1,null,null,n,!1,r,s),e[Ai]=t.current,Vc(e.nodeType===8?e.parentNode:e),new im(t)};Yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=Fx(t),e=e===null?null:e.stateNode,e};Yr.flushSync=function(e){return aa(e)};Yr.hydrate=function(e,t,n){if(!$f(t))throw Error(Te(200));return Kf(null,e,t,!0,n)};Yr.hydrateRoot=function(e,t,n){if(!sm(e))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,s=!1,c="",h=yw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=gw(t,null,e,1,n??null,s,!1,c,h),e[Ai]=t.current,Vc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Zf(t)};Yr.render=function(e,t,n){if(!$f(t))throw Error(Te(200));return Kf(null,e,t,!1,n)};Yr.unmountComponentAtNode=function(e){if(!$f(e))throw Error(Te(40));return e._reactRootContainer?(aa(function(){Kf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ai]=null})}),!0):!1};Yr.unstable_batchedUpdates=Jp;Yr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$f(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return Kf(e,t,n,!1,r)};Yr.version="18.3.1-next-f1338f8080-20240426";function xw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xw)}catch(e){console.error(e)}}xw(),xx.exports=Yr;var pa=xx.exports;const vw=da(pa);var ww,Sy=pa;ww=Sy.createRoot,Sy.hydrateRoot;const H4=1,V4=1e6;let sh=0;function Q4(){return sh=(sh+1)%Number.MAX_SAFE_INTEGER,sh.toString()}const ah=new Map,Ry=e=>{if(ah.has(e))return;const t=setTimeout(()=>{ah.delete(e),kc({type:"REMOVE_TOAST",toastId:e})},V4);ah.set(e,t)},G4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,H4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ry(n):e.toasts.forEach(r=>{Ry(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},_d=[];let Id={toasts:[]};function kc(e){Id=G4(Id,e),_d.forEach(t=>{t(Id)})}function Pc({...e}){const t=Q4(),n=s=>kc({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>kc({type:"DISMISS_TOAST",toastId:t});return kc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Z4(){const[e,t]=E.useState(Id);return E.useEffect(()=>(_d.push(t),()=>{const n=_d.indexOf(t);n>-1&&_d.splice(n,1)}),[e]),{...e,toast:Pc,dismiss:n=>kc({type:"DISMISS_TOAST",toastId:n})}}function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function $4(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function qf(...e){return t=>e.forEach(n=>$4(n,t))}function ut(...e){return E.useCallback(qf(...e),e)}function K4(e,t=[]){let n=[];function r(c,h){const m=E.createContext(h),x=n.length;n=[...n,h];function g(C){const{scope:b,children:_,...N}=C,T=(b==null?void 0:b[e][x])||m,P=E.useMemo(()=>N,Object.values(N));return R.jsx(T.Provider,{value:P,children:_})}function w(C,b){const _=(b==null?void 0:b[e][x])||m,N=E.useContext(_);if(N)return N;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${c}\``)}return g.displayName=c+"Provider",[g,w]}const s=()=>{const c=n.map(h=>E.createContext(h));return function(m){const x=(m==null?void 0:m[e])||c;return E.useMemo(()=>({[`__scope${e}`]:{...m,[e]:x}}),[m,x])}};return s.scopeName=e,[r,q4(s,...t)]}function q4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const h=r.reduce((m,{useScope:x,scopeName:g})=>{const C=x(c)[`__scope${g}`];return{...m,...C}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var gs=E.forwardRef((e,t)=>{const{children:n,...r}=e,s=E.Children.toArray(n),c=s.find(J4);if(c){const h=c.props.children,m=s.map(x=>x===c?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:x);return R.jsx(v1,{...r,ref:t,children:E.isValidElement(h)?E.cloneElement(h,void 0,m):null})}return R.jsx(v1,{...r,ref:t,children:n})});gs.displayName="Slot";var v1=E.forwardRef((e,t)=>{const{children:n,...r}=e;if(E.isValidElement(n)){const s=tT(n);return E.cloneElement(n,{...eT(r,n.props),ref:t?qf(t,s):s})}return E.Children.count(n)>1?E.Children.only(null):null});v1.displayName="SlotClone";var Cw=({children:e})=>R.jsx(R.Fragment,{children:e});function J4(e){return E.isValidElement(e)&&e.type===Cw}function eT(e,t){const n={...t};for(const r in t){const s=e[r],c=t[r];/^on[A-Z]/.test(r)?s&&c?n[r]=(...m)=>{c(...m),s(...m)}:s&&(n[r]=s):r==="style"?n[r]={...s,...c}:r==="className"&&(n[r]=[s,c].filter(Boolean).join(" "))}return{...e,...n}}function tT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jf(e){const t=e+"CollectionProvider",[n,r]=K4(t),[s,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),h=_=>{const{scope:N,children:T}=_,P=De.useRef(null),M=De.useRef(new Map).current;return R.jsx(s,{scope:N,itemMap:M,collectionRef:P,children:T})};h.displayName=t;const m=e+"CollectionSlot",x=De.forwardRef((_,N)=>{const{scope:T,children:P}=_,M=c(m,T),I=ut(N,M.collectionRef);return R.jsx(gs,{ref:I,children:P})});x.displayName=m;const g=e+"CollectionItemSlot",w="data-radix-collection-item",C=De.forwardRef((_,N)=>{const{scope:T,children:P,...M}=_,I=De.useRef(null),D=ut(N,I),F=c(g,T);return De.useEffect(()=>(F.itemMap.set(I,{ref:I,...M}),()=>void F.itemMap.delete(I))),R.jsx(gs,{[w]:"",ref:D,children:P})});C.displayName=g;function b(_){const N=c(e+"CollectionConsumer",_);return De.useCallback(()=>{const P=N.collectionRef.current;if(!P)return[];const M=Array.from(P.querySelectorAll(`[${w}]`));return Array.from(N.itemMap.values()).sort((F,Y)=>M.indexOf(F.ref.current)-M.indexOf(Y.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:h,Slot:x,ItemSlot:C},b,r]}function nT(e,t){const n=E.createContext(t),r=c=>{const{children:h,...m}=c,x=E.useMemo(()=>m,Object.values(m));return R.jsx(n.Provider,{value:x,children:h})};r.displayName=e+"Provider";function s(c){const h=E.useContext(n);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[r,s]}function Di(e,t=[]){let n=[];function r(c,h){const m=E.createContext(h),x=n.length;n=[...n,h];const g=C=>{var M;const{scope:b,children:_,...N}=C,T=((M=b==null?void 0:b[e])==null?void 0:M[x])||m,P=E.useMemo(()=>N,Object.values(N));return R.jsx(T.Provider,{value:P,children:_})};g.displayName=c+"Provider";function w(C,b){var T;const _=((T=b==null?void 0:b[e])==null?void 0:T[x])||m,N=E.useContext(_);if(N)return N;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${c}\``)}return[g,w]}const s=()=>{const c=n.map(h=>E.createContext(h));return function(m){const x=(m==null?void 0:m[e])||c;return E.useMemo(()=>({[`__scope${e}`]:{...m,[e]:x}}),[m,x])}};return s.scopeName=e,[r,rT(s,...t)]}function rT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const h=r.reduce((m,{useScope:x,scopeName:g})=>{const C=x(c)[`__scope${g}`];return{...m,...C}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var oT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=oT.reduce((e,t)=>{const n=E.forwardRef((r,s)=>{const{asChild:c,...h}=r,m=c?gs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),R.jsx(m,{...h,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function am(e,t){e&&pa.flushSync(()=>e.dispatchEvent(t))}function Jt(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function iT(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var sT="DismissableLayer",w1="dismissableLayer.update",aT="dismissableLayer.pointerDownOutside",lT="dismissableLayer.focusOutside",Ey,bw=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pl=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:h,onDismiss:m,...x}=e,g=E.useContext(bw),[w,C]=E.useState(null),b=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=E.useState({}),N=ut(t,z=>C(z)),T=Array.from(g.layers),[P]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),M=T.indexOf(P),I=w?T.indexOf(w):-1,D=g.layersWithOutsidePointerEventsDisabled.size>0,F=I>=M,Y=uT(z=>{const $=z.target,Q=[...g.branches].some(ie=>ie.contains($));!F||Q||(s==null||s(z),h==null||h(z),z.defaultPrevented||m==null||m())},b),G=dT(z=>{const $=z.target;[...g.branches].some(ie=>ie.contains($))||(c==null||c(z),h==null||h(z),z.defaultPrevented||m==null||m())},b);return iT(z=>{I===g.layers.size-1&&(r==null||r(z),!z.defaultPrevented&&m&&(z.preventDefault(),m()))},b),E.useEffect(()=>{if(w)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Ey=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(w)),g.layers.add(w),Ay(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Ey)}},[w,b,n,g]),E.useEffect(()=>()=>{w&&(g.layers.delete(w),g.layersWithOutsidePointerEventsDisabled.delete(w),Ay())},[w,g]),E.useEffect(()=>{const z=()=>_({});return document.addEventListener(w1,z),()=>document.removeEventListener(w1,z)},[]),R.jsx(Je.div,{...x,ref:N,style:{pointerEvents:D?F?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,G.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,Y.onPointerDownCapture)})});Pl.displayName=sT;var cT="DismissableLayerBranch",Sw=E.forwardRef((e,t)=>{const n=E.useContext(bw),r=E.useRef(null),s=ut(t,r);return E.useEffect(()=>{const c=r.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),R.jsx(Je.div,{...e,ref:s})});Sw.displayName=cT;function uT(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const c=m=>{if(m.target&&!r.current){let x=function(){Rw(aT,n,g,{discrete:!0})};const g={originalEvent:m};m.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=x,t.addEventListener("click",s.current,{once:!0})):x()}else t.removeEventListener("click",s.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",c),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dT(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e),r=E.useRef(!1);return E.useEffect(()=>{const s=c=>{c.target&&!r.current&&Rw(lT,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ay(){const e=new CustomEvent(w1);document.dispatchEvent(e)}function Rw(e,t,n,{discrete:r}){const s=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?am(s,c):s.dispatchEvent(c)}var fT=Pl,hT=Sw,Dn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},pT="Portal",vu=E.forwardRef((e,t)=>{var m;const{container:n,...r}=e,[s,c]=E.useState(!1);Dn(()=>c(!0),[]);const h=n||s&&((m=globalThis==null?void 0:globalThis.document)==null?void 0:m.body);return h?vw.createPortal(R.jsx(Je.div,{...r,ref:t}),h):null});vu.displayName=pT;function mT(e,t){return E.useReducer((n,r)=>t[n][r]??n,e)}var fr=e=>{const{present:t,children:n}=e,r=gT(t),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),c=ut(r.ref,yT(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:c}):null};fr.displayName="Presence";function gT(e){const[t,n]=E.useState(),r=E.useRef({}),s=E.useRef(e),c=E.useRef("none"),h=e?"mounted":"unmounted",[m,x]=mT(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const g=nd(r.current);c.current=m==="mounted"?g:"none"},[m]),Dn(()=>{const g=r.current,w=s.current;if(w!==e){const b=c.current,_=nd(g);e?x("MOUNT"):_==="none"||(g==null?void 0:g.display)==="none"?x("UNMOUNT"):x(w&&b!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,x]),Dn(()=>{if(t){let g;const w=t.ownerDocument.defaultView??window,C=_=>{const T=nd(r.current).includes(_.animationName);if(_.target===t&&T&&(x("ANIMATION_END"),!s.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",g=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},b=_=>{_.target===t&&(c.current=nd(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",C),t.addEventListener("animationend",C),()=>{w.clearTimeout(g),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",C),t.removeEventListener("animationend",C)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:E.useCallback(g=>{g&&(r.current=getComputedStyle(g)),n(g)},[])}}function nd(e){return(e==null?void 0:e.animationName)||"none"}function yT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ii({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=xT({defaultProp:t,onChange:n}),c=e!==void 0,h=c?e:r,m=Jt(n),x=E.useCallback(g=>{if(c){const C=typeof g=="function"?g(e):g;C!==e&&m(C)}else s(g)},[c,e,s,m]);return[h,x]}function xT({defaultProp:e,onChange:t}){const n=E.useState(e),[r]=n,s=E.useRef(r),c=Jt(t);return E.useEffect(()=>{s.current!==r&&(c(r),s.current=r)},[r,s,c]),n}var vT="VisuallyHidden",wu=E.forwardRef((e,t)=>R.jsx(Je.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));wu.displayName=vT;var wT=wu,lm="ToastProvider",[cm,CT,bT]=Jf("Toast"),[Ew,S7]=Di("Toast",[bT]),[ST,e0]=Ew(lm),Aw=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:c=50,children:h}=e,[m,x]=E.useState(null),[g,w]=E.useState(0),C=E.useRef(!1),b=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lm}\`. Expected non-empty \`string\`.`),R.jsx(cm.Provider,{scope:t,children:R.jsx(ST,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:c,toastCount:g,viewport:m,onViewportChange:x,onToastAdd:E.useCallback(()=>w(_=>_+1),[]),onToastRemove:E.useCallback(()=>w(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:C,isClosePausedRef:b,children:h})})};Aw.displayName=lm;var Tw="ToastViewport",RT=["F8"],C1="toast.viewportPause",b1="toast.viewportResume",_w=E.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=RT,label:s="Notifications ({hotkey})",...c}=e,h=e0(Tw,n),m=CT(n),x=E.useRef(null),g=E.useRef(null),w=E.useRef(null),C=E.useRef(null),b=ut(t,C,h.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=h.toastCount>0;E.useEffect(()=>{const P=M=>{var D;r.length!==0&&r.every(F=>M[F]||M.code===F)&&((D=C.current)==null||D.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[r]),E.useEffect(()=>{const P=x.current,M=C.current;if(N&&P&&M){const I=()=>{if(!h.isClosePausedRef.current){const G=new CustomEvent(C1);M.dispatchEvent(G),h.isClosePausedRef.current=!0}},D=()=>{if(h.isClosePausedRef.current){const G=new CustomEvent(b1);M.dispatchEvent(G),h.isClosePausedRef.current=!1}},F=G=>{!P.contains(G.relatedTarget)&&D()},Y=()=>{P.contains(document.activeElement)||D()};return P.addEventListener("focusin",I),P.addEventListener("focusout",F),P.addEventListener("pointermove",I),P.addEventListener("pointerleave",Y),window.addEventListener("blur",I),window.addEventListener("focus",D),()=>{P.removeEventListener("focusin",I),P.removeEventListener("focusout",F),P.removeEventListener("pointermove",I),P.removeEventListener("pointerleave",Y),window.removeEventListener("blur",I),window.removeEventListener("focus",D)}}},[N,h.isClosePausedRef]);const T=E.useCallback(({tabbingDirection:P})=>{const I=m().map(D=>{const F=D.ref.current,Y=[F,...jT(F)];return P==="forwards"?Y:Y.reverse()});return(P==="forwards"?I.reverse():I).flat()},[m]);return E.useEffect(()=>{const P=C.current;if(P){const M=I=>{var Y,G,z;const D=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!D){const $=document.activeElement,Q=I.shiftKey;if(I.target===P&&Q){(Y=g.current)==null||Y.focus();return}const re=T({tabbingDirection:Q?"backwards":"forwards"}),we=re.findIndex(he=>he===$);lh(re.slice(we+1))?I.preventDefault():Q?(G=g.current)==null||G.focus():(z=w.current)==null||z.focus()}};return P.addEventListener("keydown",M),()=>P.removeEventListener("keydown",M)}},[m,T]),R.jsxs(hT,{ref:x,role:"region","aria-label":s.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&R.jsx(S1,{ref:g,onFocusFromOutsideViewport:()=>{const P=T({tabbingDirection:"forwards"});lh(P)}}),R.jsx(cm.Slot,{scope:n,children:R.jsx(Je.ol,{tabIndex:-1,...c,ref:b})}),N&&R.jsx(S1,{ref:w,onFocusFromOutsideViewport:()=>{const P=T({tabbingDirection:"backwards"});lh(P)}})]})});_w.displayName=Tw;var Iw="ToastFocusProxy",S1=E.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,c=e0(Iw,n);return R.jsx(wu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:h=>{var g;const m=h.relatedTarget;!((g=c.viewport)!=null&&g.contains(m))&&r()}})});S1.displayName=Iw;var t0="Toast",ET="toast.swipeStart",AT="toast.swipeMove",TT="toast.swipeCancel",_T="toast.swipeEnd",Nw=E.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:c,...h}=e,[m=!0,x]=Ii({prop:r,defaultProp:s,onChange:c});return R.jsx(fr,{present:n||m,children:R.jsx(OT,{open:m,...h,ref:t,onClose:()=>x(!1),onPause:Jt(e.onPause),onResume:Jt(e.onResume),onSwipeStart:ke(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(e.onSwipeMove,g=>{const{x:w,y:C}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${C}px`)}),onSwipeCancel:ke(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(e.onSwipeEnd,g=>{const{x:w,y:C}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${C}px`),x(!1)})})})});Nw.displayName=t0;var[IT,NT]=Ew(t0,{onClose(){}}),OT=E.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:c,onClose:h,onEscapeKeyDown:m,onPause:x,onResume:g,onSwipeStart:w,onSwipeMove:C,onSwipeCancel:b,onSwipeEnd:_,...N}=e,T=e0(t0,n),[P,M]=E.useState(null),I=ut(t,he=>M(he)),D=E.useRef(null),F=E.useRef(null),Y=s||T.duration,G=E.useRef(0),z=E.useRef(Y),$=E.useRef(0),{onToastAdd:Q,onToastRemove:ie}=T,fe=Jt(()=>{var ee;(P==null?void 0:P.contains(document.activeElement))&&((ee=T.viewport)==null||ee.focus()),h()}),re=E.useCallback(he=>{!he||he===1/0||(window.clearTimeout($.current),G.current=new Date().getTime(),$.current=window.setTimeout(fe,he))},[fe]);E.useEffect(()=>{const he=T.viewport;if(he){const ee=()=>{re(z.current),g==null||g()},ve=()=>{const ce=new Date().getTime()-G.current;z.current=z.current-ce,window.clearTimeout($.current),x==null||x()};return he.addEventListener(C1,ve),he.addEventListener(b1,ee),()=>{he.removeEventListener(C1,ve),he.removeEventListener(b1,ee)}}},[T.viewport,Y,x,g,re]),E.useEffect(()=>{c&&!T.isClosePausedRef.current&&re(Y)},[c,Y,T.isClosePausedRef,re]),E.useEffect(()=>(Q(),()=>ie()),[Q,ie]);const we=E.useMemo(()=>P?jw(P):null,[P]);return T.viewport?R.jsxs(R.Fragment,{children:[we&&R.jsx(MT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:we}),R.jsx(IT,{scope:n,onClose:fe,children:pa.createPortal(R.jsx(cm.ItemSlot,{scope:n,children:R.jsx(fT,{asChild:!0,onEscapeKeyDown:ke(m,()=>{T.isFocusedToastEscapeKeyDownRef.current||fe(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:R.jsx(Je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":T.swipeDirection,...N,ref:I,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ke(e.onKeyDown,he=>{he.key==="Escape"&&(m==null||m(he.nativeEvent),he.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,fe()))}),onPointerDown:ke(e.onPointerDown,he=>{he.button===0&&(D.current={x:he.clientX,y:he.clientY})}),onPointerMove:ke(e.onPointerMove,he=>{if(!D.current)return;const ee=he.clientX-D.current.x,ve=he.clientY-D.current.y,ce=!!F.current,q=["left","right"].includes(T.swipeDirection),Z=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,J=q?Z(0,ee):0,ne=q?0:Z(0,ve),ue=he.pointerType==="touch"?10:2,ge={x:J,y:ne},_e={originalEvent:he,delta:ge};ce?(F.current=ge,rd(AT,C,_e,{discrete:!1})):Ty(ge,T.swipeDirection,ue)?(F.current=ge,rd(ET,w,_e,{discrete:!1}),he.target.setPointerCapture(he.pointerId)):(Math.abs(ee)>ue||Math.abs(ve)>ue)&&(D.current=null)}),onPointerUp:ke(e.onPointerUp,he=>{const ee=F.current,ve=he.target;if(ve.hasPointerCapture(he.pointerId)&&ve.releasePointerCapture(he.pointerId),F.current=null,D.current=null,ee){const ce=he.currentTarget,q={originalEvent:he,delta:ee};Ty(ee,T.swipeDirection,T.swipeThreshold)?rd(_T,_,q,{discrete:!0}):rd(TT,b,q,{discrete:!0}),ce.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),MT=e=>{const{__scopeToast:t,children:n,...r}=e,s=e0(t0,t),[c,h]=E.useState(!1),[m,x]=E.useState(!1);return PT(()=>h(!0)),E.useEffect(()=>{const g=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(g)},[]),m?null:R.jsx(vu,{asChild:!0,children:R.jsx(wu,{...r,children:c&&R.jsxs(R.Fragment,{children:[s.label," ",n]})})})},DT="ToastTitle",Ow=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return R.jsx(Je.div,{...r,ref:t})});Ow.displayName=DT;var kT="ToastDescription",Mw=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return R.jsx(Je.div,{...r,ref:t})});Mw.displayName=kT;var Dw="ToastAction",kw=E.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?R.jsx(Lw,{altText:n,asChild:!0,children:R.jsx(um,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dw}\`. Expected non-empty \`string\`.`),null)});kw.displayName=Dw;var Pw="ToastClose",um=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=NT(Pw,n);return R.jsx(Lw,{asChild:!0,children:R.jsx(Je.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,s.onClose)})})});um.displayName=Pw;var Lw=E.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return R.jsx(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function jw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),LT(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",c=r.dataset.radixToastAnnounceExclude==="";if(!s)if(c){const h=r.dataset.radixToastAnnounceAlt;h&&t.push(h)}else t.push(...jw(r))}}),t}function rd(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?am(s,c):s.dispatchEvent(c)}var Ty=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),c=r>s;return t==="left"||t==="right"?c&&r>n:!c&&s>n};function PT(e=()=>{}){const t=Jt(e);Dn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function LT(e){return e.nodeType===e.ELEMENT_NODE}function jT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var BT=Aw,Bw=_w,Fw=Nw,Uw=Ow,zw=Mw,Yw=kw,Xw=um;function Ww(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ww(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hw(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ww(e))&&(r&&(r+=" "),r+=t);return r}const _y=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Iy=Hw,n0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Iy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:c}=t,h=Object.keys(s).map(g=>{const w=n==null?void 0:n[g],C=c==null?void 0:c[g];if(w===null)return null;const b=_y(w)||_y(C);return s[g][b]}),m=n&&Object.entries(n).reduce((g,w)=>{let[C,b]=w;return b===void 0||(g[C]=b),g},{}),x=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((g,w)=>{let{class:C,className:b,..._}=w;return Object.entries(_).every(N=>{let[T,P]=N;return Array.isArray(P)?P.includes({...c,...m}[T]):{...c,...m}[T]===P})?[...g,C,b]:g},[]);return Iy(e,h,x,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:c,iconNode:h,...m},x)=>E.createElement("svg",{ref:x,...UT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Vw("lucide",s),...m},[...h.map(([g,w])=>E.createElement(g,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=(e,t)=>{const n=E.forwardRef(({className:r,...s},c)=>E.createElement(zT,{ref:c,iconNode:t,className:Vw(`lucide-${FT(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=wn("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=wn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=wn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=wn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=wn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=wn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=wn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=wn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=wn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=wn("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=wn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=wn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=wn("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=wn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=wn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=wn("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=wn("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=wn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=wn("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=wn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hm="-",ZT=e=>{const t=KT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:h=>{const m=h.split(hm);return m[0]===""&&m.length!==1&&m.shift(),tC(m,t)||$T(h)},getConflictingClassGroupIds:(h,m)=>{const x=n[h]||[];return m&&r[h]?[...x,...r[h]]:x}}},tC=(e,t)=>{var h;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?tC(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const c=e.join(hm);return(h=t.validators.find(({validator:m})=>m(c)))==null?void 0:h.classGroupId},My=/^\[(.+)\]$/,$T=e=>{if(My.test(e)){const t=My.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},KT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return JT(Object.entries(e.classGroups),n).forEach(([c,h])=>{E1(h,r,c,t)}),r},E1=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const c=s===""?t:Dy(t,s);c.classGroupId=n;return}if(typeof s=="function"){if(qT(s)){E1(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([c,h])=>{E1(h,Dy(t,c),n,r)})})},Dy=(e,t)=>{let n=e;return t.split(hm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qT=e=>e.isThemeGetter,JT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([h,m])=>[t+h,m])):c);return[n,s]}):e,e_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(c,h)=>{n.set(c,h),t++,t>e&&(t=0,r=n,n=new Map)};return{get(c){let h=n.get(c);if(h!==void 0)return h;if((h=r.get(c))!==void 0)return s(c,h),h},set(c,h){n.has(c)?n.set(c,h):s(c,h)}}},nC="!",t_=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],c=t.length,h=m=>{const x=[];let g=0,w=0,C;for(let P=0;P<m.length;P++){let M=m[P];if(g===0){if(M===s&&(r||m.slice(P,P+c)===t)){x.push(m.slice(w,P)),w=P+c;continue}if(M==="/"){C=P;continue}}M==="["?g++:M==="]"&&g--}const b=x.length===0?m:m.substring(w),_=b.startsWith(nC),N=_?b.substring(1):b,T=C&&C>w?C-w:void 0;return{modifiers:x,hasImportantModifier:_,baseClassName:N,maybePostfixModifierPosition:T}};return n?m=>n({className:m,parseClassName:h}):h},n_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},r_=e=>({cache:e_(e.cacheSize),parseClassName:t_(e),...ZT(e)}),o_=/\s+/,i_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,c=[],h=e.trim().split(o_);let m="";for(let x=h.length-1;x>=0;x-=1){const g=h[x],{modifiers:w,hasImportantModifier:C,baseClassName:b,maybePostfixModifierPosition:_}=n(g);let N=!!_,T=r(N?b.substring(0,_):b);if(!T){if(!N){m=g+(m.length>0?" "+m:m);continue}if(T=r(b),!T){m=g+(m.length>0?" "+m:m);continue}N=!1}const P=n_(w).join(":"),M=C?P+nC:P,I=M+T;if(c.includes(I))continue;c.push(I);const D=s(T,N);for(let F=0;F<D.length;++F){const Y=D[F];c.push(M+Y)}m=g+(m.length>0?" "+m:m)}return m};function s_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=rC(t))&&(r&&(r+=" "),r+=n);return r}const rC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=rC(e[r]))&&(n&&(n+=" "),n+=t);return n};function a_(e,...t){let n,r,s,c=h;function h(x){const g=t.reduce((w,C)=>C(w),e());return n=r_(g),r=n.cache.get,s=n.cache.set,c=m,m(x)}function m(x){const g=r(x);if(g)return g;const w=i_(x,n);return s(x,w),w}return function(){return c(s_.apply(null,arguments))}}const Ht=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},oC=/^\[(?:([a-z-]+):)?(.+)\]$/i,l_=/^\d+\/\d+$/,c_=new Set(["px","full","screen"]),u_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,h_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,p_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pi=e=>ll(e)||c_.has(e)||l_.test(e),zi=e=>Ll(e,"length",b_),ll=e=>!!e&&!Number.isNaN(Number(e)),ch=e=>Ll(e,"number",ll),uc=e=>!!e&&Number.isInteger(Number(e)),m_=e=>e.endsWith("%")&&ll(e.slice(0,-1)),at=e=>oC.test(e),Yi=e=>u_.test(e),g_=new Set(["length","size","percentage"]),y_=e=>Ll(e,g_,iC),x_=e=>Ll(e,"position",iC),v_=new Set(["image","url"]),w_=e=>Ll(e,v_,R_),C_=e=>Ll(e,"",S_),dc=()=>!0,Ll=(e,t,n)=>{const r=oC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},b_=e=>d_.test(e)&&!f_.test(e),iC=()=>!1,S_=e=>h_.test(e),R_=e=>p_.test(e),E_=()=>{const e=Ht("colors"),t=Ht("spacing"),n=Ht("blur"),r=Ht("brightness"),s=Ht("borderColor"),c=Ht("borderRadius"),h=Ht("borderSpacing"),m=Ht("borderWidth"),x=Ht("contrast"),g=Ht("grayscale"),w=Ht("hueRotate"),C=Ht("invert"),b=Ht("gap"),_=Ht("gradientColorStops"),N=Ht("gradientColorStopPositions"),T=Ht("inset"),P=Ht("margin"),M=Ht("opacity"),I=Ht("padding"),D=Ht("saturate"),F=Ht("scale"),Y=Ht("sepia"),G=Ht("skew"),z=Ht("space"),$=Ht("translate"),Q=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],fe=()=>["auto",at,t],re=()=>[at,t],we=()=>["",pi,zi],he=()=>["auto",ll,at],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ve=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",at],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[ll,at];return{cacheSize:500,separator:":",theme:{colors:[dc],spacing:[pi,zi],blur:["none","",Yi,at],brightness:ne(),borderColor:[e],borderRadius:["none","","full",Yi,at],borderSpacing:re(),borderWidth:we(),contrast:ne(),grayscale:Z(),hueRotate:ne(),invert:Z(),gap:re(),gradientColorStops:[e],gradientColorStopPositions:[m_,zi],inset:fe(),margin:fe(),opacity:ne(),padding:re(),saturate:ne(),scale:ne(),sepia:Z(),skew:ne(),space:re(),translate:re()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[Yi]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),at]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uc,at]}],basis:[{basis:fe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",uc,at]}],"grid-cols":[{"grid-cols":[dc]}],"col-start-end":[{col:["auto",{span:["full",uc,at]},at]}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":[dc]}],"row-start-end":[{row:["auto",{span:[uc,at]},at]}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,t]}],"min-w":[{"min-w":[at,t,"min","max","fit"]}],"max-w":[{"max-w":[at,t,"none","full","min","max","fit","prose",{screen:[Yi]},Yi]}],h:[{h:[at,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yi,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ch]}],"font-family":[{font:[dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",ll,ch]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pi,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pi,zi]}],"underline-offset":[{"underline-offset":["auto",pi,at]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:re()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),x_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",y_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},w_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...ve(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:ve()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ve()]}],"outline-offset":[{"outline-offset":[pi,at]}],"outline-w":[{outline:[pi,zi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[pi,zi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yi,C_]}],"shadow-color":[{shadow:[dc]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",Yi,at]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[C]}],saturate:[{saturate:[D]}],sepia:[{sepia:[Y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[F]}],"scale-x":[{"scale-x":[F]}],"scale-y":[{"scale-y":[F]}],rotate:[{rotate:[uc,at]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":re()}],"scroll-mx":[{"scroll-mx":re()}],"scroll-my":[{"scroll-my":re()}],"scroll-ms":[{"scroll-ms":re()}],"scroll-me":[{"scroll-me":re()}],"scroll-mt":[{"scroll-mt":re()}],"scroll-mr":[{"scroll-mr":re()}],"scroll-mb":[{"scroll-mb":re()}],"scroll-ml":[{"scroll-ml":re()}],"scroll-p":[{"scroll-p":re()}],"scroll-px":[{"scroll-px":re()}],"scroll-py":[{"scroll-py":re()}],"scroll-ps":[{"scroll-ps":re()}],"scroll-pe":[{"scroll-pe":re()}],"scroll-pt":[{"scroll-pt":re()}],"scroll-pr":[{"scroll-pr":re()}],"scroll-pb":[{"scroll-pb":re()}],"scroll-pl":[{"scroll-pl":re()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pi,zi,ch]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},A_=a_(E_);function Ge(...e){return A_(Hw(e))}const T_=BT,sC=E.forwardRef(({className:e,...t},n)=>R.jsx(Bw,{ref:n,className:Ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sC.displayName=Bw.displayName;const __=n0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aC=E.forwardRef(({className:e,variant:t,...n},r)=>R.jsx(Fw,{ref:r,className:Ge(__({variant:t}),e),...n}));aC.displayName=Fw.displayName;const I_=E.forwardRef(({className:e,...t},n)=>R.jsx(Yw,{ref:n,className:Ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));I_.displayName=Yw.displayName;const lC=E.forwardRef(({className:e,...t},n)=>R.jsx(Xw,{ref:n,className:Ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:R.jsx(fm,{className:"h-4 w-4"})}));lC.displayName=Xw.displayName;const cC=E.forwardRef(({className:e,...t},n)=>R.jsx(Uw,{ref:n,className:Ge("text-sm font-semibold",e),...t}));cC.displayName=Uw.displayName;const uC=E.forwardRef(({className:e,...t},n)=>R.jsx(zw,{ref:n,className:Ge("text-sm opacity-90",e),...t}));uC.displayName=zw.displayName;function dC(){const{toasts:e}=Z4();return R.jsxs(T_,{children:[e.map(function({id:t,title:n,description:r,action:s,...c}){return R.jsxs(aC,{...c,children:[R.jsxs("div",{className:"grid gap-1",children:[n&&R.jsx(cC,{children:n}),r&&R.jsx(uC,{children:r})]}),s,R.jsx(lC,{})]},t)}),R.jsx(sC,{})]})}var ky=["light","dark"],N_="(prefers-color-scheme: dark)",O_=E.createContext(void 0),M_={setTheme:e=>{},themes:[]},D_=()=>{var e;return(e=E.useContext(O_))!=null?e:M_};E.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:c,value:h,attrs:m,nonce:x})=>{let g=c==="system",w=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${m.map(N=>`'${N}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,C=s?ky.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(N,T=!1,P=!0)=>{let M=h?h[N]:N,I=T?N+"|| ''":`'${M}'`,D="";return s&&P&&!T&&ky.includes(N)&&(D+=`d.style.colorScheme = '${N}';`),n==="class"?T||M?D+=`c.add(${I})`:D+="null":M&&(D+=`d[s](n,${I})`),D},_=e?`!function(){${w}${b(e)}}()`:r?`!function(){try{${w}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${g})){var t='${N_}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${h?`var x=${JSON.stringify(h)};`:""}${b(h?"x[e]":"e",!0)}}${g?"":"else{"+b(c,!1,!1)+"}"}${C}}catch(e){}}()`:`!function(){try{${w}var e=localStorage.getItem('${t}');if(e){${h?`var x=${JSON.stringify(h)};`:""}${b(h?"x[e]":"e",!0)}}else{${b(c,!1,!1)};}${C}}catch(t){}}();`;return E.createElement("script",{nonce:x,dangerouslySetInnerHTML:{__html:_}})});var k_=e=>{switch(e){case"success":return j_;case"info":return F_;case"warning":return B_;case"error":return U_;default:return null}},P_=Array(12).fill(0),L_=({visible:e})=>De.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},De.createElement("div",{className:"sonner-spinner"},P_.map((t,n)=>De.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),j_=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),B_=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F_=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),U_=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),z_=()=>{let[e,t]=De.useState(document.hidden);return De.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},A1=1,Y_=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:A1++,c=this.toasts.find(m=>m.id===s),h=e.dismissible===void 0?!0:e.dismissible;return c?this.toasts=this.toasts.map(m=>m.id===s?(this.publish({...m,...e,id:s,title:n}),{...m,...e,id:s,dismissible:h,title:n}):m):this.addToast({title:n,...r,dismissible:h,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async c=>{if(W_(c)&&!c.ok){s=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:h,description:m})}else if(t.success!==void 0){s=!1;let h=typeof t.success=="function"?await t.success(c):t.success,m=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:h,description:m})}}).catch(async c=>{if(t.error!==void 0){s=!1;let h=typeof t.error=="function"?await t.error(c):t.error,m=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:h,description:m})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||A1++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},kr=new Y_,X_=(e,t)=>{let n=(t==null?void 0:t.id)||A1++;return kr.addToast({title:e,...t,id:n}),n},W_=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",H_=X_,V_=()=>kr.toasts;Object.assign(H_,{success:kr.success,info:kr.info,warning:kr.warning,error:kr.error,custom:kr.custom,message:kr.message,promise:kr.promise,dismiss:kr.dismiss,loading:kr.loading},{getHistory:V_});function Q_(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Q_(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function od(e){return e.label!==void 0}var G_=3,Z_="32px",$_=4e3,K_=356,q_=14,J_=20,eI=200;function tI(...e){return e.filter(Boolean).join(" ")}var nI=e=>{var t,n,r,s,c,h,m,x,g,w;let{invert:C,toast:b,unstyled:_,interacting:N,setHeights:T,visibleToasts:P,heights:M,index:I,toasts:D,expanded:F,removeToast:Y,defaultRichColors:G,closeButton:z,style:$,cancelButtonStyle:Q,actionButtonStyle:ie,className:fe="",descriptionClassName:re="",duration:we,position:he,gap:ee,loadingIcon:ve,expandByDefault:ce,classNames:q,icons:Z,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:ne,cn:ue}=e,[ge,_e]=De.useState(!1),[et,me]=De.useState(!1),[Ne,Le]=De.useState(!1),[Se,Ze]=De.useState(!1),[He,Ue]=De.useState(0),[$e,nn]=De.useState(0),Ft=De.useRef(null),gn=De.useRef(null),Ut=I===0,Rt=I+1<=P,Ke=b.type,qn=b.dismissible!==!1,Pe=b.className||"",ii=b.descriptionClassName||"",Er=De.useMemo(()=>M.findIndex(Ve=>Ve.toastId===b.id)||0,[M,b.id]),pr=De.useMemo(()=>{var Ve;return(Ve=b.closeButton)!=null?Ve:z},[b.closeButton,z]),Hr=De.useMemo(()=>b.duration||we||$_,[b.duration,we]),Kt=De.useRef(0),kn=De.useRef(0),Jn=De.useRef(0),Lt=De.useRef(null),[si,ho]=he.split("-"),Vr=De.useMemo(()=>M.reduce((Ve,xt,be)=>be>=Er?Ve:Ve+xt.height,0),[M,Er]),jt=z_(),Ie=b.invert||C,Et=Ke==="loading";kn.current=De.useMemo(()=>Er*ee+Vr,[Er,Vr]),De.useEffect(()=>{_e(!0)},[]),De.useLayoutEffect(()=>{if(!ge)return;let Ve=gn.current,xt=Ve.style.height;Ve.style.height="auto";let be=Ve.getBoundingClientRect().height;Ve.style.height=xt,nn(be),T(tt=>tt.find(dn=>dn.toastId===b.id)?tt.map(dn=>dn.toastId===b.id?{...dn,height:be}:dn):[{toastId:b.id,height:be,position:b.position},...tt])},[ge,b.title,b.description,T,b.id]);let Ee=De.useCallback(()=>{me(!0),Ue(kn.current),T(Ve=>Ve.filter(xt=>xt.toastId!==b.id)),setTimeout(()=>{Y(b)},eI)},[b,Y,T,kn]);De.useEffect(()=>{if(b.promise&&Ke==="loading"||b.duration===1/0||b.type==="loading")return;let Ve,xt=Hr;return F||N||ne&&jt?(()=>{if(Jn.current<Kt.current){let be=new Date().getTime()-Kt.current;xt=xt-be}Jn.current=new Date().getTime()})():xt!==1/0&&(Kt.current=new Date().getTime(),Ve=setTimeout(()=>{var be;(be=b.onAutoClose)==null||be.call(b,b),Ee()},xt)),()=>clearTimeout(Ve)},[F,N,ce,b,Hr,Ee,b.promise,Ke,ne,jt]),De.useEffect(()=>{let Ve=gn.current;if(Ve){let xt=Ve.getBoundingClientRect().height;return nn(xt),T(be=>[{toastId:b.id,height:xt,position:b.position},...be]),()=>T(be=>be.filter(tt=>tt.toastId!==b.id))}},[T,b.id]),De.useEffect(()=>{b.delete&&Ee()},[Ee,b.delete]);function Ot(){return Z!=null&&Z.loading?De.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},Z.loading):ve?De.createElement("div",{className:"sonner-loader","data-visible":Ke==="loading"},ve):De.createElement(L_,{visible:Ke==="loading"})}return De.createElement("li",{"aria-live":b.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:gn,className:ue(fe,Pe,q==null?void 0:q.toast,(t=b==null?void 0:b.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[Ke],(n=b==null?void 0:b.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(r=b.richColors)!=null?r:G,"data-styled":!(b.jsx||b.unstyled||_),"data-mounted":ge,"data-promise":!!b.promise,"data-removed":et,"data-visible":Rt,"data-y-position":si,"data-x-position":ho,"data-index":I,"data-front":Ut,"data-swiping":Ne,"data-dismissible":qn,"data-type":Ke,"data-invert":Ie,"data-swipe-out":Se,"data-expanded":!!(F||ce&&ge),style:{"--index":I,"--toasts-before":I,"--z-index":D.length-I,"--offset":`${et?He:kn.current}px`,"--initial-height":ce?"auto":`${$e}px`,...$,...b.style},onPointerDown:Ve=>{Et||!qn||(Ft.current=new Date,Ue(kn.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(Le(!0),Lt.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,xt,be,tt;if(Se||!qn)return;Lt.current=null;let dn=Number(((Ve=gn.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount").replace("px",""))||0),po=new Date().getTime()-((xt=Ft.current)==null?void 0:xt.getTime()),_s=Math.abs(dn)/po;if(Math.abs(dn)>=J_||_s>.11){Ue(kn.current),(be=b.onDismiss)==null||be.call(b,b),Ee(),Ze(!0);return}(tt=gn.current)==null||tt.style.setProperty("--swipe-amount","0px"),Le(!1)},onPointerMove:Ve=>{var xt;if(!Lt.current||!qn)return;let be=Ve.clientY-Lt.current.y,tt=Ve.clientX-Lt.current.x,dn=(si==="top"?Math.min:Math.max)(0,be),po=Ve.pointerType==="touch"?10:2;Math.abs(dn)>po?(xt=gn.current)==null||xt.style.setProperty("--swipe-amount",`${be}px`):Math.abs(tt)>po&&(Lt.current=null)}},pr&&!b.jsx?De.createElement("button",{"aria-label":J,"data-disabled":Et,"data-close-button":!0,onClick:Et||!qn?()=>{}:()=>{var Ve;Ee(),(Ve=b.onDismiss)==null||Ve.call(b,b)},className:ue(q==null?void 0:q.closeButton,(s=b==null?void 0:b.classNames)==null?void 0:s.closeButton)},De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},De.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),De.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,b.jsx||De.isValidElement(b.title)?b.jsx||b.title:De.createElement(De.Fragment,null,Ke||b.icon||b.promise?De.createElement("div",{"data-icon":"",className:ue(q==null?void 0:q.icon,(c=b==null?void 0:b.classNames)==null?void 0:c.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Ot():null,b.type!=="loading"?b.icon||(Z==null?void 0:Z[Ke])||k_(Ke):null):null,De.createElement("div",{"data-content":"",className:ue(q==null?void 0:q.content,(h=b==null?void 0:b.classNames)==null?void 0:h.content)},De.createElement("div",{"data-title":"",className:ue(q==null?void 0:q.title,(m=b==null?void 0:b.classNames)==null?void 0:m.title)},b.title),b.description?De.createElement("div",{"data-description":"",className:ue(re,ii,q==null?void 0:q.description,(x=b==null?void 0:b.classNames)==null?void 0:x.description)},b.description):null),De.isValidElement(b.cancel)?b.cancel:b.cancel&&od(b.cancel)?De.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||Q,onClick:Ve=>{var xt,be;od(b.cancel)&&qn&&((be=(xt=b.cancel).onClick)==null||be.call(xt,Ve),Ee())},className:ue(q==null?void 0:q.cancelButton,(g=b==null?void 0:b.classNames)==null?void 0:g.cancelButton)},b.cancel.label):null,De.isValidElement(b.action)?b.action:b.action&&od(b.action)?De.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||ie,onClick:Ve=>{var xt,be;od(b.action)&&(Ve.defaultPrevented||((be=(xt=b.action).onClick)==null||be.call(xt,Ve),Ee()))},className:ue(q==null?void 0:q.actionButton,(w=b==null?void 0:b.classNames)==null?void 0:w.actionButton)},b.action.label):null))};function Py(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var rI=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:c,className:h,offset:m,theme:x="light",richColors:g,duration:w,style:C,visibleToasts:b=G_,toastOptions:_,dir:N=Py(),gap:T=q_,loadingIcon:P,icons:M,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:D,cn:F=tI}=e,[Y,G]=De.useState([]),z=De.useMemo(()=>Array.from(new Set([n].concat(Y.filter(ne=>ne.position).map(ne=>ne.position)))),[Y,n]),[$,Q]=De.useState([]),[ie,fe]=De.useState(!1),[re,we]=De.useState(!1),[he,ee]=De.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ve=De.useRef(null),ce=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=De.useRef(null),Z=De.useRef(!1),J=De.useCallback(ne=>{var ue;(ue=Y.find(ge=>ge.id===ne.id))!=null&&ue.delete||kr.dismiss(ne.id),G(ge=>ge.filter(({id:_e})=>_e!==ne.id))},[Y]);return De.useEffect(()=>kr.subscribe(ne=>{if(ne.dismiss){G(ue=>ue.map(ge=>ge.id===ne.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{vw.flushSync(()=>{G(ue=>{let ge=ue.findIndex(_e=>_e.id===ne.id);return ge!==-1?[...ue.slice(0,ge),{...ue[ge],...ne},...ue.slice(ge+1)]:[ne,...ue]})})})}),[]),De.useEffect(()=>{if(x!=="system"){ee(x);return}x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ne})=>{ee(ne?"dark":"light")})},[x]),De.useEffect(()=>{Y.length<=1&&fe(!1)},[Y]),De.useEffect(()=>{let ne=ue=>{var ge,_e;r.every(et=>ue[et]||ue.code===et)&&(fe(!0),(ge=ve.current)==null||ge.focus()),ue.code==="Escape"&&(document.activeElement===ve.current||(_e=ve.current)!=null&&_e.contains(document.activeElement))&&fe(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[r]),De.useEffect(()=>{if(ve.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,Z.current=!1)}},[ve.current]),Y.length?De.createElement("section",{"aria-label":`${I} ${ce}`,tabIndex:-1},z.map((ne,ue)=>{var ge;let[_e,et]=ne.split("-");return De.createElement("ol",{key:ne,dir:N==="auto"?Py():N,tabIndex:-1,ref:ve,className:h,"data-sonner-toaster":!0,"data-theme":he,"data-y-position":_e,"data-x-position":et,style:{"--front-toast-height":`${((ge=$[0])==null?void 0:ge.height)||0}px`,"--offset":typeof m=="number"?`${m}px`:m||Z_,"--width":`${K_}px`,"--gap":`${T}px`,...C},onBlur:me=>{Z.current&&!me.currentTarget.contains(me.relatedTarget)&&(Z.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,q.current=me.relatedTarget)},onMouseEnter:()=>fe(!0),onMouseMove:()=>fe(!0),onMouseLeave:()=>{re||fe(!1)},onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||we(!0)},onPointerUp:()=>we(!1)},Y.filter(me=>!me.position&&ue===0||me.position===ne).map((me,Ne)=>{var Le,Se;return De.createElement(nI,{key:me.id,icons:M,index:Ne,toast:me,defaultRichColors:g,duration:(Le=_==null?void 0:_.duration)!=null?Le:w,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:t,visibleToasts:b,closeButton:(Se=_==null?void 0:_.closeButton)!=null?Se:c,interacting:re,position:ne,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:J,toasts:Y.filter(Ze=>Ze.position==me.position),heights:$.filter(Ze=>Ze.position==me.position),setHeights:Q,expandByDefault:s,gap:T,loadingIcon:P,expanded:ie,pauseWhenPageIsHidden:D,cn:F})}))})):null};const oI=({...e})=>{const{theme:t="system"}=D_();return R.jsx(rI,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var iI=gx.useId||(()=>{}),sI=0;function No(e){const[t,n]=E.useState(iI());return Dn(()=>{n(r=>r??String(sI++))},[e]),t?`radix-${t}`:""}const aI=["top","right","bottom","left"],ys=Math.min,Lr=Math.max,mf=Math.round,id=Math.floor,xs=e=>({x:e,y:e}),lI={left:"right",right:"left",bottom:"top",top:"bottom"},cI={start:"end",end:"start"};function T1(e,t,n){return Lr(e,ys(t,n))}function Ni(e,t){return typeof e=="function"?e(t):e}function Oi(e){return e.split("-")[0]}function jl(e){return e.split("-")[1]}function pm(e){return e==="x"?"y":"x"}function mm(e){return e==="y"?"height":"width"}function vs(e){return["top","bottom"].includes(Oi(e))?"y":"x"}function gm(e){return pm(vs(e))}function uI(e,t,n){n===void 0&&(n=!1);const r=jl(e),s=gm(e),c=mm(s);let h=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(h=gf(h)),[h,gf(h)]}function dI(e){const t=gf(e);return[_1(e),t,_1(t)]}function _1(e){return e.replace(/start|end/g,t=>cI[t])}function fI(e,t,n){const r=["left","right"],s=["right","left"],c=["top","bottom"],h=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?c:h;default:return[]}}function hI(e,t,n,r){const s=jl(e);let c=fI(Oi(e),n==="start",r);return s&&(c=c.map(h=>h+"-"+s),t&&(c=c.concat(c.map(_1)))),c}function gf(e){return e.replace(/left|right|bottom|top/g,t=>lI[t])}function pI(e){return{top:0,right:0,bottom:0,left:0,...e}}function fC(e){return typeof e!="number"?pI(e):{top:e,right:e,bottom:e,left:e}}function yf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ly(e,t,n){let{reference:r,floating:s}=e;const c=vs(t),h=gm(t),m=mm(h),x=Oi(t),g=c==="y",w=r.x+r.width/2-s.width/2,C=r.y+r.height/2-s.height/2,b=r[m]/2-s[m]/2;let _;switch(x){case"top":_={x:w,y:r.y-s.height};break;case"bottom":_={x:w,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:C};break;case"left":_={x:r.x-s.width,y:C};break;default:_={x:r.x,y:r.y}}switch(jl(t)){case"start":_[h]-=b*(n&&g?-1:1);break;case"end":_[h]+=b*(n&&g?-1:1);break}return _}const mI=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:c=[],platform:h}=n,m=c.filter(Boolean),x=await(h.isRTL==null?void 0:h.isRTL(t));let g=await h.getElementRects({reference:e,floating:t,strategy:s}),{x:w,y:C}=Ly(g,r,x),b=r,_={},N=0;for(let T=0;T<m.length;T++){const{name:P,fn:M}=m[T],{x:I,y:D,data:F,reset:Y}=await M({x:w,y:C,initialPlacement:r,placement:b,strategy:s,middlewareData:_,rects:g,platform:h,elements:{reference:e,floating:t}});w=I??w,C=D??C,_={..._,[P]:{..._[P],...F}},Y&&N<=50&&(N++,typeof Y=="object"&&(Y.placement&&(b=Y.placement),Y.rects&&(g=Y.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:s}):Y.rects),{x:w,y:C}=Ly(g,b,x)),T=-1)}return{x:w,y:C,placement:b,strategy:s,middlewareData:_}};async function tu(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:c,rects:h,elements:m,strategy:x}=e,{boundary:g="clippingAncestors",rootBoundary:w="viewport",elementContext:C="floating",altBoundary:b=!1,padding:_=0}=Ni(t,e),N=fC(_),P=m[b?C==="floating"?"reference":"floating":C],M=yf(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(P)))==null||n?P:P.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(m.floating)),boundary:g,rootBoundary:w,strategy:x})),I=C==="floating"?{x:r,y:s,width:h.floating.width,height:h.floating.height}:h.reference,D=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m.floating)),F=await(c.isElement==null?void 0:c.isElement(D))?await(c.getScale==null?void 0:c.getScale(D))||{x:1,y:1}:{x:1,y:1},Y=yf(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:I,offsetParent:D,strategy:x}):I);return{top:(M.top-Y.top+N.top)/F.y,bottom:(Y.bottom-M.bottom+N.bottom)/F.y,left:(M.left-Y.left+N.left)/F.x,right:(Y.right-M.right+N.right)/F.x}}const gI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:c,platform:h,elements:m,middlewareData:x}=t,{element:g,padding:w=0}=Ni(e,t)||{};if(g==null)return{};const C=fC(w),b={x:n,y:r},_=gm(s),N=mm(_),T=await h.getDimensions(g),P=_==="y",M=P?"top":"left",I=P?"bottom":"right",D=P?"clientHeight":"clientWidth",F=c.reference[N]+c.reference[_]-b[_]-c.floating[N],Y=b[_]-c.reference[_],G=await(h.getOffsetParent==null?void 0:h.getOffsetParent(g));let z=G?G[D]:0;(!z||!await(h.isElement==null?void 0:h.isElement(G)))&&(z=m.floating[D]||c.floating[N]);const $=F/2-Y/2,Q=z/2-T[N]/2-1,ie=ys(C[M],Q),fe=ys(C[I],Q),re=ie,we=z-T[N]-fe,he=z/2-T[N]/2+$,ee=T1(re,he,we),ve=!x.arrow&&jl(s)!=null&&he!==ee&&c.reference[N]/2-(he<re?ie:fe)-T[N]/2<0,ce=ve?he<re?he-re:he-we:0;return{[_]:b[_]+ce,data:{[_]:ee,centerOffset:he-ee-ce,...ve&&{alignmentOffset:ce}},reset:ve}}}),yI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:c,rects:h,initialPlacement:m,platform:x,elements:g}=t,{mainAxis:w=!0,crossAxis:C=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:T=!0,...P}=Ni(e,t);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const M=Oi(s),I=vs(m),D=Oi(m)===m,F=await(x.isRTL==null?void 0:x.isRTL(g.floating)),Y=b||(D||!T?[gf(m)]:dI(m)),G=N!=="none";!b&&G&&Y.push(...hI(m,T,N,F));const z=[m,...Y],$=await tu(t,P),Q=[];let ie=((r=c.flip)==null?void 0:r.overflows)||[];if(w&&Q.push($[M]),C){const he=uI(s,h,F);Q.push($[he[0]],$[he[1]])}if(ie=[...ie,{placement:s,overflows:Q}],!Q.every(he=>he<=0)){var fe,re;const he=(((fe=c.flip)==null?void 0:fe.index)||0)+1,ee=z[he];if(ee)return{data:{index:he,overflows:ie},reset:{placement:ee}};let ve=(re=ie.filter(ce=>ce.overflows[0]<=0).sort((ce,q)=>ce.overflows[1]-q.overflows[1])[0])==null?void 0:re.placement;if(!ve)switch(_){case"bestFit":{var we;const ce=(we=ie.filter(q=>{if(G){const Z=vs(q.placement);return Z===I||Z==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Z=>Z>0).reduce((Z,J)=>Z+J,0)]).sort((q,Z)=>q[1]-Z[1])[0])==null?void 0:we[0];ce&&(ve=ce);break}case"initialPlacement":ve=m;break}if(s!==ve)return{reset:{placement:ve}}}return{}}}};function jy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function By(e){return aI.some(t=>e[t]>=0)}const xI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ni(e,t);switch(r){case"referenceHidden":{const c=await tu(t,{...s,elementContext:"reference"}),h=jy(c,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:By(h)}}}case"escaped":{const c=await tu(t,{...s,altBoundary:!0}),h=jy(c,n.floating);return{data:{escapedOffsets:h,escaped:By(h)}}}default:return{}}}}};async function vI(e,t){const{placement:n,platform:r,elements:s}=e,c=await(r.isRTL==null?void 0:r.isRTL(s.floating)),h=Oi(n),m=jl(n),x=vs(n)==="y",g=["left","top"].includes(h)?-1:1,w=c&&x?-1:1,C=Ni(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:N}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:C.mainAxis||0,crossAxis:C.crossAxis||0,alignmentAxis:C.alignmentAxis};return m&&typeof N=="number"&&(_=m==="end"?N*-1:N),x?{x:_*w,y:b*g}:{x:b*g,y:_*w}}const wI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:c,placement:h,middlewareData:m}=t,x=await vI(t,e);return h===((n=m.offset)==null?void 0:n.placement)&&(r=m.arrow)!=null&&r.alignmentOffset?{}:{x:s+x.x,y:c+x.y,data:{...x,placement:h}}}}},CI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:c=!0,crossAxis:h=!1,limiter:m={fn:P=>{let{x:M,y:I}=P;return{x:M,y:I}}},...x}=Ni(e,t),g={x:n,y:r},w=await tu(t,x),C=vs(Oi(s)),b=pm(C);let _=g[b],N=g[C];if(c){const P=b==="y"?"top":"left",M=b==="y"?"bottom":"right",I=_+w[P],D=_-w[M];_=T1(I,_,D)}if(h){const P=C==="y"?"top":"left",M=C==="y"?"bottom":"right",I=N+w[P],D=N-w[M];N=T1(I,N,D)}const T=m.fn({...t,[b]:_,[C]:N});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[b]:c,[C]:h}}}}}},bI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:c,middlewareData:h}=t,{offset:m=0,mainAxis:x=!0,crossAxis:g=!0}=Ni(e,t),w={x:n,y:r},C=vs(s),b=pm(C);let _=w[b],N=w[C];const T=Ni(m,t),P=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(x){const D=b==="y"?"height":"width",F=c.reference[b]-c.floating[D]+P.mainAxis,Y=c.reference[b]+c.reference[D]-P.mainAxis;_<F?_=F:_>Y&&(_=Y)}if(g){var M,I;const D=b==="y"?"width":"height",F=["top","left"].includes(Oi(s)),Y=c.reference[C]-c.floating[D]+(F&&((M=h.offset)==null?void 0:M[C])||0)+(F?0:P.crossAxis),G=c.reference[C]+c.reference[D]+(F?0:((I=h.offset)==null?void 0:I[C])||0)-(F?P.crossAxis:0);N<Y?N=Y:N>G&&(N=G)}return{[b]:_,[C]:N}}}},SI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:c,platform:h,elements:m}=t,{apply:x=()=>{},...g}=Ni(e,t),w=await tu(t,g),C=Oi(s),b=jl(s),_=vs(s)==="y",{width:N,height:T}=c.floating;let P,M;C==="top"||C==="bottom"?(P=C,M=b===(await(h.isRTL==null?void 0:h.isRTL(m.floating))?"start":"end")?"left":"right"):(M=C,P=b==="end"?"top":"bottom");const I=T-w.top-w.bottom,D=N-w.left-w.right,F=ys(T-w[P],I),Y=ys(N-w[M],D),G=!t.middlewareData.shift;let z=F,$=Y;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=D),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(z=I),G&&!b){const ie=Lr(w.left,0),fe=Lr(w.right,0),re=Lr(w.top,0),we=Lr(w.bottom,0);_?$=N-2*(ie!==0||fe!==0?ie+fe:Lr(w.left,w.right)):z=T-2*(re!==0||we!==0?re+we:Lr(w.top,w.bottom))}await x({...t,availableWidth:$,availableHeight:z});const Q=await h.getDimensions(m.floating);return N!==Q.width||T!==Q.height?{reset:{rects:!0}}:{}}}};function r0(){return typeof window<"u"}function Bl(e){return hC(e)?(e.nodeName||"").toLowerCase():"#document"}function Ur(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ri(e){var t;return(t=(hC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hC(e){return r0()?e instanceof Node||e instanceof Ur(e).Node:!1}function Mo(e){return r0()?e instanceof Element||e instanceof Ur(e).Element:!1}function ni(e){return r0()?e instanceof HTMLElement||e instanceof Ur(e).HTMLElement:!1}function Fy(e){return!r0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ur(e).ShadowRoot}function Cu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Do(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function RI(e){return["table","td","th"].includes(Bl(e))}function o0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ym(e){const t=xm(),n=Mo(e)?Do(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function EI(e){let t=ws(e);for(;ni(t)&&!_l(t);){if(ym(t))return t;if(o0(t))return null;t=ws(t)}return null}function xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _l(e){return["html","body","#document"].includes(Bl(e))}function Do(e){return Ur(e).getComputedStyle(e)}function i0(e){return Mo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ws(e){if(Bl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Fy(e)&&e.host||ri(e);return Fy(t)?t.host:t}function pC(e){const t=ws(e);return _l(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&Cu(t)?t:pC(t)}function nu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=pC(e),c=s===((r=e.ownerDocument)==null?void 0:r.body),h=Ur(s);if(c){const m=I1(h);return t.concat(h,h.visualViewport||[],Cu(s)?s:[],m&&n?nu(m):[])}return t.concat(s,nu(s,[],n))}function I1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mC(e){const t=Do(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ni(e),c=s?e.offsetWidth:n,h=s?e.offsetHeight:r,m=mf(n)!==c||mf(r)!==h;return m&&(n=c,r=h),{width:n,height:r,$:m}}function vm(e){return Mo(e)?e:e.contextElement}function cl(e){const t=vm(e);if(!ni(t))return xs(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:c}=mC(t);let h=(c?mf(n.width):n.width)/r,m=(c?mf(n.height):n.height)/s;return(!h||!Number.isFinite(h))&&(h=1),(!m||!Number.isFinite(m))&&(m=1),{x:h,y:m}}const AI=xs(0);function gC(e){const t=Ur(e);return!xm()||!t.visualViewport?AI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ur(e)?!1:t}function la(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),c=vm(e);let h=xs(1);t&&(r?Mo(r)&&(h=cl(r)):h=cl(e));const m=TI(c,n,r)?gC(c):xs(0);let x=(s.left+m.x)/h.x,g=(s.top+m.y)/h.y,w=s.width/h.x,C=s.height/h.y;if(c){const b=Ur(c),_=r&&Mo(r)?Ur(r):r;let N=b,T=I1(N);for(;T&&r&&_!==N;){const P=cl(T),M=T.getBoundingClientRect(),I=Do(T),D=M.left+(T.clientLeft+parseFloat(I.paddingLeft))*P.x,F=M.top+(T.clientTop+parseFloat(I.paddingTop))*P.y;x*=P.x,g*=P.y,w*=P.x,C*=P.y,x+=D,g+=F,N=Ur(T),T=I1(N)}}return yf({width:w,height:C,x,y:g})}function _I(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const c=s==="fixed",h=ri(r),m=t?o0(t.floating):!1;if(r===h||m&&c)return n;let x={scrollLeft:0,scrollTop:0},g=xs(1);const w=xs(0),C=ni(r);if((C||!C&&!c)&&((Bl(r)!=="body"||Cu(h))&&(x=i0(r)),ni(r))){const b=la(r);g=cl(r),w.x=b.x+r.clientLeft,w.y=b.y+r.clientTop}return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-x.scrollLeft*g.x+w.x,y:n.y*g.y-x.scrollTop*g.y+w.y}}function II(e){return Array.from(e.getClientRects())}function N1(e,t){const n=i0(e).scrollLeft;return t?t.left+n:la(ri(e)).left+n}function NI(e){const t=ri(e),n=i0(e),r=e.ownerDocument.body,s=Lr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),c=Lr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let h=-n.scrollLeft+N1(e);const m=-n.scrollTop;return Do(r).direction==="rtl"&&(h+=Lr(t.clientWidth,r.clientWidth)-s),{width:s,height:c,x:h,y:m}}function OI(e,t){const n=Ur(e),r=ri(e),s=n.visualViewport;let c=r.clientWidth,h=r.clientHeight,m=0,x=0;if(s){c=s.width,h=s.height;const g=xm();(!g||g&&t==="fixed")&&(m=s.offsetLeft,x=s.offsetTop)}return{width:c,height:h,x:m,y:x}}function MI(e,t){const n=la(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,c=ni(e)?cl(e):xs(1),h=e.clientWidth*c.x,m=e.clientHeight*c.y,x=s*c.x,g=r*c.y;return{width:h,height:m,x,y:g}}function Uy(e,t,n){let r;if(t==="viewport")r=OI(e,n);else if(t==="document")r=NI(ri(e));else if(Mo(t))r=MI(t,n);else{const s=gC(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return yf(r)}function yC(e,t){const n=ws(e);return n===t||!Mo(n)||_l(n)?!1:Do(n).position==="fixed"||yC(n,t)}function DI(e,t){const n=t.get(e);if(n)return n;let r=nu(e,[],!1).filter(m=>Mo(m)&&Bl(m)!=="body"),s=null;const c=Do(e).position==="fixed";let h=c?ws(e):e;for(;Mo(h)&&!_l(h);){const m=Do(h),x=ym(h);!x&&m.position==="fixed"&&(s=null),(c?!x&&!s:!x&&m.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Cu(h)&&!x&&yC(e,h))?r=r.filter(w=>w!==h):s=m,h=ws(h)}return t.set(e,r),r}function kI(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const h=[...n==="clippingAncestors"?o0(t)?[]:DI(t,this._c):[].concat(n),r],m=h[0],x=h.reduce((g,w)=>{const C=Uy(t,w,s);return g.top=Lr(C.top,g.top),g.right=ys(C.right,g.right),g.bottom=ys(C.bottom,g.bottom),g.left=Lr(C.left,g.left),g},Uy(t,m,s));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function PI(e){const{width:t,height:n}=mC(e);return{width:t,height:n}}function LI(e,t,n){const r=ni(t),s=ri(t),c=n==="fixed",h=la(e,!0,c,t);let m={scrollLeft:0,scrollTop:0};const x=xs(0);if(r||!r&&!c)if((Bl(t)!=="body"||Cu(s))&&(m=i0(t)),r){const _=la(t,!0,c,t);x.x=_.x+t.clientLeft,x.y=_.y+t.clientTop}else s&&(x.x=N1(s));let g=0,w=0;if(s&&!r&&!c){const _=s.getBoundingClientRect();w=_.top+m.scrollTop,g=_.left+m.scrollLeft-N1(s,_)}const C=h.left+m.scrollLeft-x.x-g,b=h.top+m.scrollTop-x.y-w;return{x:C,y:b,width:h.width,height:h.height}}function uh(e){return Do(e).position==="static"}function zy(e,t){if(!ni(e)||Do(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ri(e)===n&&(n=n.ownerDocument.body),n}function xC(e,t){const n=Ur(e);if(o0(e))return n;if(!ni(e)){let s=ws(e);for(;s&&!_l(s);){if(Mo(s)&&!uh(s))return s;s=ws(s)}return n}let r=zy(e,t);for(;r&&RI(r)&&uh(r);)r=zy(r,t);return r&&_l(r)&&uh(r)&&!ym(r)?n:r||EI(e)||n}const jI=async function(e){const t=this.getOffsetParent||xC,n=this.getDimensions,r=await n(e.floating);return{reference:LI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BI(e){return Do(e).direction==="rtl"}const FI={convertOffsetParentRelativeRectToViewportRelativeRect:_I,getDocumentElement:ri,getClippingRect:kI,getOffsetParent:xC,getElementRects:jI,getClientRects:II,getDimensions:PI,getScale:cl,isElement:Mo,isRTL:BI};function UI(e,t){let n=null,r;const s=ri(e);function c(){var m;clearTimeout(r),(m=n)==null||m.disconnect(),n=null}function h(m,x){m===void 0&&(m=!1),x===void 0&&(x=1),c();const{left:g,top:w,width:C,height:b}=e.getBoundingClientRect();if(m||t(),!C||!b)return;const _=id(w),N=id(s.clientWidth-(g+C)),T=id(s.clientHeight-(w+b)),P=id(g),I={rootMargin:-_+"px "+-N+"px "+-T+"px "+-P+"px",threshold:Lr(0,ys(1,x))||1};let D=!0;function F(Y){const G=Y[0].intersectionRatio;if(G!==x){if(!D)return h();G?h(!1,G):r=setTimeout(()=>{h(!1,1e-7)},1e3)}D=!1}try{n=new IntersectionObserver(F,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,I)}n.observe(e)}return h(!0),c}function zI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:x=!1}=r,g=vm(e),w=s||c?[...g?nu(g):[],...nu(t)]:[];w.forEach(M=>{s&&M.addEventListener("scroll",n,{passive:!0}),c&&M.addEventListener("resize",n)});const C=g&&m?UI(g,n):null;let b=-1,_=null;h&&(_=new ResizeObserver(M=>{let[I]=M;I&&I.target===g&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var D;(D=_)==null||D.observe(t)})),n()}),g&&!x&&_.observe(g),_.observe(t));let N,T=x?la(e):null;x&&P();function P(){const M=la(e);T&&(M.x!==T.x||M.y!==T.y||M.width!==T.width||M.height!==T.height)&&n(),T=M,N=requestAnimationFrame(P)}return n(),()=>{var M;w.forEach(I=>{s&&I.removeEventListener("scroll",n),c&&I.removeEventListener("resize",n)}),C==null||C(),(M=_)==null||M.disconnect(),_=null,x&&cancelAnimationFrame(N)}}const YI=wI,XI=CI,WI=yI,HI=SI,VI=xI,Yy=gI,QI=bI,GI=(e,t,n)=>{const r=new Map,s={platform:FI,...n},c={...s.platform,_c:r};return mI(e,t,{...s,platform:c})};var Nd=typeof document<"u"?E.useLayoutEffect:E.useEffect;function xf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const c=s[r];if(!(c==="_owner"&&e.$$typeof)&&!xf(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function vC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Xy(e,t){const n=vC(e);return Math.round(t*n)/n}function dh(e){const t=E.useRef(e);return Nd(()=>{t.current=e}),t}function ZI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:c,floating:h}={},transform:m=!0,whileElementsMounted:x,open:g}=e,[w,C]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=E.useState(r);xf(b,r)||_(r);const[N,T]=E.useState(null),[P,M]=E.useState(null),I=E.useCallback(q=>{q!==G.current&&(G.current=q,T(q))},[]),D=E.useCallback(q=>{q!==z.current&&(z.current=q,M(q))},[]),F=c||N,Y=h||P,G=E.useRef(null),z=E.useRef(null),$=E.useRef(w),Q=x!=null,ie=dh(x),fe=dh(s),re=dh(g),we=E.useCallback(()=>{if(!G.current||!z.current)return;const q={placement:t,strategy:n,middleware:b};fe.current&&(q.platform=fe.current),GI(G.current,z.current,q).then(Z=>{const J={...Z,isPositioned:re.current!==!1};he.current&&!xf($.current,J)&&($.current=J,pa.flushSync(()=>{C(J)}))})},[b,t,n,fe,re]);Nd(()=>{g===!1&&$.current.isPositioned&&($.current.isPositioned=!1,C(q=>({...q,isPositioned:!1})))},[g]);const he=E.useRef(!1);Nd(()=>(he.current=!0,()=>{he.current=!1}),[]),Nd(()=>{if(F&&(G.current=F),Y&&(z.current=Y),F&&Y){if(ie.current)return ie.current(F,Y,we);we()}},[F,Y,we,ie,Q]);const ee=E.useMemo(()=>({reference:G,floating:z,setReference:I,setFloating:D}),[I,D]),ve=E.useMemo(()=>({reference:F,floating:Y}),[F,Y]),ce=E.useMemo(()=>{const q={position:n,left:0,top:0};if(!ve.floating)return q;const Z=Xy(ve.floating,w.x),J=Xy(ve.floating,w.y);return m?{...q,transform:"translate("+Z+"px, "+J+"px)",...vC(ve.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:J}},[n,m,ve.floating,w.x,w.y]);return E.useMemo(()=>({...w,update:we,refs:ee,elements:ve,floatingStyles:ce}),[w,we,ee,ve,ce])}const $I=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Yy({element:r.current,padding:s}).fn(n):{}:r?Yy({element:r,padding:s}).fn(n):{}}}},KI=(e,t)=>({...YI(e),options:[e,t]}),qI=(e,t)=>({...XI(e),options:[e,t]}),JI=(e,t)=>({...QI(e),options:[e,t]}),e8=(e,t)=>({...WI(e),options:[e,t]}),t8=(e,t)=>({...HI(e),options:[e,t]}),n8=(e,t)=>({...VI(e),options:[e,t]}),r8=(e,t)=>({...$I(e),options:[e,t]});var o8="Arrow",wC=E.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...c}=e;return R.jsx(Je.svg,{...c,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:R.jsx("polygon",{points:"0,0 30,0 15,10"})})});wC.displayName=o8;var i8=wC;function s8(e,t=[]){let n=[];function r(c,h){const m=E.createContext(h),x=n.length;n=[...n,h];function g(C){const{scope:b,children:_,...N}=C,T=(b==null?void 0:b[e][x])||m,P=E.useMemo(()=>N,Object.values(N));return R.jsx(T.Provider,{value:P,children:_})}function w(C,b){const _=(b==null?void 0:b[e][x])||m,N=E.useContext(_);if(N)return N;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${c}\``)}return g.displayName=c+"Provider",[g,w]}const s=()=>{const c=n.map(h=>E.createContext(h));return function(m){const x=(m==null?void 0:m[e])||c;return E.useMemo(()=>({[`__scope${e}`]:{...m,[e]:x}}),[m,x])}};return s.scopeName=e,[r,a8(s,...t)]}function a8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const h=r.reduce((m,{useScope:x,scopeName:g})=>{const C=x(c)[`__scope${g}`];return{...m,...C}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}function CC(e){const[t,n]=E.useState(void 0);return Dn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const c=s[0];let h,m;if("borderBoxSize"in c){const x=c.borderBoxSize,g=Array.isArray(x)?x[0]:x;h=g.inlineSize,m=g.blockSize}else h=e.offsetWidth,m=e.offsetHeight;n({width:h,height:m})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var wm="Popper",[bC,Fl]=s8(wm),[l8,SC]=bC(wm),RC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=E.useState(null);return R.jsx(l8,{scope:t,anchor:r,onAnchorChange:s,children:n})};RC.displayName=wm;var EC="PopperAnchor",AC=E.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,c=SC(EC,n),h=E.useRef(null),m=ut(t,h);return E.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||h.current)}),r?null:R.jsx(Je.div,{...s,ref:m})});AC.displayName=EC;var Cm="PopperContent",[c8,u8]=bC(Cm),TC=E.forwardRef((e,t)=>{var Ne,Le,Se,Ze,He,Ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:c="center",alignOffset:h=0,arrowPadding:m=0,avoidCollisions:x=!0,collisionBoundary:g=[],collisionPadding:w=0,sticky:C="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:N,...T}=e,P=SC(Cm,n),[M,I]=E.useState(null),D=ut(t,$e=>I($e)),[F,Y]=E.useState(null),G=CC(F),z=(G==null?void 0:G.width)??0,$=(G==null?void 0:G.height)??0,Q=r+(c!=="center"?"-"+c:""),ie=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},fe=Array.isArray(g)?g:[g],re=fe.length>0,we={padding:ie,boundary:fe.filter(f8),altBoundary:re},{refs:he,floatingStyles:ee,placement:ve,isPositioned:ce,middlewareData:q}=ZI({strategy:"fixed",placement:Q,whileElementsMounted:(...$e)=>zI(...$e,{animationFrame:_==="always"}),elements:{reference:P.anchor},middleware:[KI({mainAxis:s+$,alignmentAxis:h}),x&&qI({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?JI():void 0,...we}),x&&e8({...we}),t8({...we,apply:({elements:$e,rects:nn,availableWidth:Ft,availableHeight:gn})=>{const{width:Ut,height:Rt}=nn.reference,Ke=$e.floating.style;Ke.setProperty("--radix-popper-available-width",`${Ft}px`),Ke.setProperty("--radix-popper-available-height",`${gn}px`),Ke.setProperty("--radix-popper-anchor-width",`${Ut}px`),Ke.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),F&&r8({element:F,padding:m}),h8({arrowWidth:z,arrowHeight:$}),b&&n8({strategy:"referenceHidden",...we})]}),[Z,J]=NC(ve),ne=Jt(N);Dn(()=>{ce&&(ne==null||ne())},[ce,ne]);const ue=(Ne=q.arrow)==null?void 0:Ne.x,ge=(Le=q.arrow)==null?void 0:Le.y,_e=((Se=q.arrow)==null?void 0:Se.centerOffset)!==0,[et,me]=E.useState();return Dn(()=>{M&&me(window.getComputedStyle(M).zIndex)},[M]),R.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:ce?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[(Ze=q.transformOrigin)==null?void 0:Ze.x,(He=q.transformOrigin)==null?void 0:He.y].join(" "),...((Ue=q.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:R.jsx(c8,{scope:n,placedSide:Z,onArrowChange:Y,arrowX:ue,arrowY:ge,shouldHideArrow:_e,children:R.jsx(Je.div,{"data-side":Z,"data-align":J,...T,ref:D,style:{...T.style,animation:ce?void 0:"none"}})})})});TC.displayName=Cm;var _C="PopperArrow",d8={top:"bottom",right:"left",bottom:"top",left:"right"},IC=E.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,c=u8(_C,r),h=d8[c.placedSide];return R.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:R.jsx(i8,{...s,ref:n,style:{...s.style,display:"block"}})})});IC.displayName=_C;function f8(e){return e!==null}var h8=e=>({name:"transformOrigin",options:e,fn(t){var P,M,I;const{placement:n,rects:r,middlewareData:s}=t,h=((P=s.arrow)==null?void 0:P.centerOffset)!==0,m=h?0:e.arrowWidth,x=h?0:e.arrowHeight,[g,w]=NC(n),C={start:"0%",center:"50%",end:"100%"}[w],b=(((M=s.arrow)==null?void 0:M.x)??0)+m/2,_=(((I=s.arrow)==null?void 0:I.y)??0)+x/2;let N="",T="";return g==="bottom"?(N=h?C:`${b}px`,T=`${-x}px`):g==="top"?(N=h?C:`${b}px`,T=`${r.floating.height+x}px`):g==="right"?(N=`${-x}px`,T=h?C:`${_}px`):g==="left"&&(N=`${r.floating.width+x}px`,T=h?C:`${_}px`),{data:{x:N,y:T}}}});function NC(e){const[t,n="center"]=e.split("-");return[t,n]}var bm=RC,Sm=AC,Rm=TC,Em=IC,[s0,R7]=Di("Tooltip",[Fl]),a0=Fl(),OC="TooltipProvider",p8=700,O1="tooltip.open",[m8,Am]=s0(OC),MC=e=>{const{__scopeTooltip:t,delayDuration:n=p8,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:c}=e,[h,m]=E.useState(!0),x=E.useRef(!1),g=E.useRef(0);return E.useEffect(()=>{const w=g.current;return()=>window.clearTimeout(w)},[]),R.jsx(m8,{scope:t,isOpenDelayed:h,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(g.current),m(!1)},[]),onClose:E.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>m(!0),r)},[r]),isPointerInTransitRef:x,onPointerInTransitChange:E.useCallback(w=>{x.current=w},[]),disableHoverableContent:s,children:c})};MC.displayName=OC;var l0="Tooltip",[g8,c0]=s0(l0),DC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:c,disableHoverableContent:h,delayDuration:m}=e,x=Am(l0,e.__scopeTooltip),g=a0(t),[w,C]=E.useState(null),b=No(),_=E.useRef(0),N=h??x.disableHoverableContent,T=m??x.delayDuration,P=E.useRef(!1),[M=!1,I]=Ii({prop:r,defaultProp:s,onChange:z=>{z?(x.onOpen(),document.dispatchEvent(new CustomEvent(O1))):x.onClose(),c==null||c(z)}}),D=E.useMemo(()=>M?P.current?"delayed-open":"instant-open":"closed",[M]),F=E.useCallback(()=>{window.clearTimeout(_.current),_.current=0,P.current=!1,I(!0)},[I]),Y=E.useCallback(()=>{window.clearTimeout(_.current),_.current=0,I(!1)},[I]),G=E.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{P.current=!0,I(!0),_.current=0},T)},[T,I]);return E.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),R.jsx(bm,{...g,children:R.jsx(g8,{scope:t,contentId:b,open:M,stateAttribute:D,trigger:w,onTriggerChange:C,onTriggerEnter:E.useCallback(()=>{x.isOpenDelayed?G():F()},[x.isOpenDelayed,G,F]),onTriggerLeave:E.useCallback(()=>{N?Y():(window.clearTimeout(_.current),_.current=0)},[Y,N]),onOpen:F,onClose:Y,disableHoverableContent:N,children:n})})};DC.displayName=l0;var M1="TooltipTrigger",kC=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=c0(M1,n),c=Am(M1,n),h=a0(n),m=E.useRef(null),x=ut(t,m,s.onTriggerChange),g=E.useRef(!1),w=E.useRef(!1),C=E.useCallback(()=>g.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",C),[C]),R.jsx(Sm,{asChild:!0,...h,children:R.jsx(Je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:x,onPointerMove:ke(e.onPointerMove,b=>{b.pointerType!=="touch"&&!w.current&&!c.isPointerInTransitRef.current&&(s.onTriggerEnter(),w.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{s.onTriggerLeave(),w.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{g.current=!0,document.addEventListener("pointerup",C,{once:!0})}),onFocus:ke(e.onFocus,()=>{g.current||s.onOpen()}),onBlur:ke(e.onBlur,s.onClose),onClick:ke(e.onClick,s.onClose)})})});kC.displayName=M1;var y8="TooltipPortal",[E7,x8]=s0(y8,{forceMount:void 0}),Il="TooltipContent",PC=E.forwardRef((e,t)=>{const n=x8(Il,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...c}=e,h=c0(Il,e.__scopeTooltip);return R.jsx(fr,{present:r||h.open,children:h.disableHoverableContent?R.jsx(LC,{side:s,...c,ref:t}):R.jsx(v8,{side:s,...c,ref:t})})}),v8=E.forwardRef((e,t)=>{const n=c0(Il,e.__scopeTooltip),r=Am(Il,e.__scopeTooltip),s=E.useRef(null),c=ut(t,s),[h,m]=E.useState(null),{trigger:x,onClose:g}=n,w=s.current,{onPointerInTransitChange:C}=r,b=E.useCallback(()=>{m(null),C(!1)},[C]),_=E.useCallback((N,T)=>{const P=N.currentTarget,M={x:N.clientX,y:N.clientY},I=S8(M,P.getBoundingClientRect()),D=R8(M,I),F=E8(T.getBoundingClientRect()),Y=T8([...D,...F]);m(Y),C(!0)},[C]);return E.useEffect(()=>()=>b(),[b]),E.useEffect(()=>{if(x&&w){const N=P=>_(P,w),T=P=>_(P,x);return x.addEventListener("pointerleave",N),w.addEventListener("pointerleave",T),()=>{x.removeEventListener("pointerleave",N),w.removeEventListener("pointerleave",T)}}},[x,w,_,b]),E.useEffect(()=>{if(h){const N=T=>{const P=T.target,M={x:T.clientX,y:T.clientY},I=(x==null?void 0:x.contains(P))||(w==null?void 0:w.contains(P)),D=!A8(M,h);I?b():D&&(b(),g())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[x,w,h,g,b]),R.jsx(LC,{...e,ref:c})}),[w8,C8]=s0(l0,{isInside:!1}),LC=E.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:c,onPointerDownOutside:h,...m}=e,x=c0(Il,n),g=a0(n),{onClose:w}=x;return E.useEffect(()=>(document.addEventListener(O1,w),()=>document.removeEventListener(O1,w)),[w]),E.useEffect(()=>{if(x.trigger){const C=b=>{const _=b.target;_!=null&&_.contains(x.trigger)&&w()};return window.addEventListener("scroll",C,{capture:!0}),()=>window.removeEventListener("scroll",C,{capture:!0})}},[x.trigger,w]),R.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:C=>C.preventDefault(),onDismiss:w,children:R.jsxs(Rm,{"data-state":x.stateAttribute,...g,...m,ref:t,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[R.jsx(Cw,{children:r}),R.jsx(w8,{scope:n,isInside:!0,children:R.jsx(wT,{id:x.contentId,role:"tooltip",children:s||r})})]})})});PC.displayName=Il;var jC="TooltipArrow",b8=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=a0(n);return C8(jC,n).isInside?null:R.jsx(Em,{...s,...r,ref:t})});b8.displayName=jC;function S8(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(n,r,s,c)){case c:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function R8(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function E8(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function A8(e,t){const{x:n,y:r}=e;let s=!1;for(let c=0,h=t.length-1;c<t.length;h=c++){const m=t[c].x,x=t[c].y,g=t[h].x,w=t[h].y;x>r!=w>r&&n<(g-m)*(r-x)/(w-x)+m&&(s=!s)}return s}function T8(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_8(t)}function _8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const c=t[t.length-1],h=t[t.length-2];if((c.x-h.x)*(s.y-h.y)>=(c.y-h.y)*(s.x-h.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const c=n[n.length-1],h=n[n.length-2];if((c.x-h.x)*(s.y-h.y)>=(c.y-h.y)*(s.x-h.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var I8=MC,N8=DC,O8=kC,BC=PC;const M8=I8,D1=N8,k1=O8,vf=E.forwardRef(({className:e,sideOffset:t=4,...n},r)=>R.jsx(BC,{ref:r,sideOffset:t,className:Ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));vf.displayName=BC.displayName;var u0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},d0=typeof window>"u"||"Deno"in globalThis;function bo(){}function D8(e,t){return typeof e=="function"?e(t):e}function k8(e){return typeof e=="number"&&e>=0&&e!==1/0}function P8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wy(e,t){return typeof e=="function"?e(t):e}function L8(e,t){return typeof e=="function"?e(t):e}function Hy(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:c,queryKey:h,stale:m}=e;if(h){if(r){if(t.queryHash!==Tm(h,t.options))return!1}else if(!ou(t.queryKey,h))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||s&&s!==t.state.fetchStatus||c&&!c(t))}function Vy(e,t){const{exact:n,status:r,predicate:s,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(n){if(ru(t.options.mutationKey)!==ru(c))return!1}else if(!ou(t.options.mutationKey,c))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Tm(e,t){return((t==null?void 0:t.queryKeyHashFn)||ru)(e)}function ru(e){return JSON.stringify(e,(t,n)=>P1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ou(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ou(e[n],t[n])):!1}function FC(e,t){if(e===t)return e;const n=Qy(e)&&Qy(t);if(n||P1(e)&&P1(t)){const r=n?e:Object.keys(e),s=r.length,c=n?t:Object.keys(t),h=c.length,m=n?[]:{};let x=0;for(let g=0;g<h;g++){const w=n?g:c[g];(!n&&r.includes(w)||n)&&e[w]===void 0&&t[w]===void 0?(m[w]=void 0,x++):(m[w]=FC(e[w],t[w]),m[w]===e[w]&&e[w]!==void 0&&x++)}return s===h&&x===s?e:m}return t}function Qy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function P1(e){if(!Gy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gy(e){return Object.prototype.toString.call(e)==="[object Object]"}function j8(e){return new Promise(t=>{setTimeout(t,e)})}function B8(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?FC(e,t):t}function F8(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function U8(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var _m=Symbol();function UC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===_m?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ks,Ki,fl,q2,z8=(q2=class extends u0{constructor(){super();Ct(this,Ks);Ct(this,Ki);Ct(this,fl);lt(this,fl,t=>{if(!d0&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){xe(this,Ki)||this.setEventListener(xe(this,fl))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,Ki))==null||t.call(this),lt(this,Ki,void 0))}setEventListener(t){var n;lt(this,fl,t),(n=xe(this,Ki))==null||n.call(this),lt(this,Ki,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){xe(this,Ks)!==t&&(lt(this,Ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof xe(this,Ks)=="boolean"?xe(this,Ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ks=new WeakMap,Ki=new WeakMap,fl=new WeakMap,q2),zC=new z8,hl,qi,pl,J2,Y8=(J2=class extends u0{constructor(){super();Ct(this,hl,!0);Ct(this,qi);Ct(this,pl);lt(this,pl,t=>{if(!d0&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){xe(this,qi)||this.setEventListener(xe(this,pl))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,qi))==null||t.call(this),lt(this,qi,void 0))}setEventListener(t){var n;lt(this,pl,t),(n=xe(this,qi))==null||n.call(this),lt(this,qi,t(this.setOnline.bind(this)))}setOnline(t){xe(this,hl)!==t&&(lt(this,hl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return xe(this,hl)}},hl=new WeakMap,qi=new WeakMap,pl=new WeakMap,J2),wf=new Y8;function X8(){let e,t;const n=new Promise((s,c)=>{e=s,t=c});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function W8(e){return Math.min(1e3*2**e,3e4)}function YC(e){return(e??"online")==="online"?wf.isOnline():!0}var XC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fh(e){return e instanceof XC}function WC(e){let t=!1,n=0,r=!1,s;const c=X8(),h=T=>{var P;r||(b(new XC(T)),(P=e.abort)==null||P.call(e))},m=()=>{t=!0},x=()=>{t=!1},g=()=>zC.isFocused()&&(e.networkMode==="always"||wf.isOnline())&&e.canRun(),w=()=>YC(e.networkMode)&&e.canRun(),C=T=>{var P;r||(r=!0,(P=e.onSuccess)==null||P.call(e,T),s==null||s(),c.resolve(T))},b=T=>{var P;r||(r=!0,(P=e.onError)==null||P.call(e,T),s==null||s(),c.reject(T))},_=()=>new Promise(T=>{var P;s=M=>{(r||g())&&T(M)},(P=e.onPause)==null||P.call(e)}).then(()=>{var T;s=void 0,r||(T=e.onContinue)==null||T.call(e)}),N=()=>{if(r)return;let T;const P=n===0?e.initialPromise:void 0;try{T=P??e.fn()}catch(M){T=Promise.reject(M)}Promise.resolve(T).then(C).catch(M=>{var G;if(r)return;const I=e.retry??(d0?0:3),D=e.retryDelay??W8,F=typeof D=="function"?D(n,M):D,Y=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,M);if(t||!Y){b(M);return}n++,(G=e.onFail)==null||G.call(e,n,M),j8(F).then(()=>g()?void 0:_()).then(()=>{t?b(M):N()})})};return{promise:c,cancel:h,continue:()=>(s==null||s(),c),cancelRetry:m,continueRetry:x,canStart:w,start:()=>(w()?N():_().then(N),c)}}function H8(){let e=[],t=0,n=m=>{m()},r=m=>{m()},s=m=>setTimeout(m,0);const c=m=>{t?e.push(m):s(()=>{n(m)})},h=()=>{const m=e;e=[],m.length&&s(()=>{r(()=>{m.forEach(x=>{n(x)})})})};return{batch:m=>{let x;t++;try{x=m()}finally{t--,t||h()}return x},batchCalls:m=>(...x)=>{c(()=>{m(...x)})},schedule:c,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{r=m},setScheduler:m=>{s=m}}}var ar=H8(),qs,ex,HC=(ex=class{constructor(){Ct(this,qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k8(this.gcTime)&&lt(this,qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(d0?1/0:5*60*1e3))}clearGcTimeout(){xe(this,qs)&&(clearTimeout(xe(this,qs)),lt(this,qs,void 0))}},qs=new WeakMap,ex),ml,gl,ro,Gn,fu,Js,So,gi,tx,V8=(tx=class extends HC{constructor(t){super();Ct(this,So);Ct(this,ml);Ct(this,gl);Ct(this,ro);Ct(this,Gn);Ct(this,fu);Ct(this,Js);lt(this,Js,!1),lt(this,fu,t.defaultOptions),this.setOptions(t.options),this.observers=[],lt(this,ro,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,lt(this,ml,G8(this.options)),this.state=t.state??xe(this,ml),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=xe(this,Gn))==null?void 0:t.promise}setOptions(t){this.options={...xe(this,fu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,ro).remove(this)}setData(t,n){const r=B8(this.state.data,t,this.options);return Hn(this,So,gi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Hn(this,So,gi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=xe(this,Gn))==null?void 0:r.promise;return(s=xe(this,Gn))==null||s.cancel(t),n?n.then(bo).catch(bo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,ml))}isActive(){return this.observers.some(t=>L8(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_m||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!P8(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=xe(this,Gn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=xe(this,Gn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),xe(this,ro).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(xe(this,Gn)&&(xe(this,Js)?xe(this,Gn).cancel({revert:!0}):xe(this,Gn).cancelRetry()),this.scheduleGc()),xe(this,ro).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Hn(this,So,gi).call(this,{type:"invalidate"})}fetch(t,n){var x,g,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(xe(this,Gn))return xe(this,Gn).continueRetry(),xe(this,Gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(b=>b.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,s=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(lt(this,Js,!0),r.signal)})},c=()=>{const C=UC(this.options,n),b={queryKey:this.queryKey,meta:this.meta};return s(b),lt(this,Js,!1),this.options.persister?this.options.persister(C,b,this):C(b)},h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};s(h),(x=this.options.behavior)==null||x.onFetch(h,this),lt(this,gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=h.fetchOptions)==null?void 0:g.meta))&&Hn(this,So,gi).call(this,{type:"fetch",meta:(w=h.fetchOptions)==null?void 0:w.meta});const m=C=>{var b,_,N,T;fh(C)&&C.silent||Hn(this,So,gi).call(this,{type:"error",error:C}),fh(C)||((_=(b=xe(this,ro).config).onError)==null||_.call(b,C,this),(T=(N=xe(this,ro).config).onSettled)==null||T.call(N,this.state.data,C,this)),this.scheduleGc()};return lt(this,Gn,WC({initialPromise:n==null?void 0:n.initialPromise,fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:C=>{var b,_,N,T;if(C===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(C)}catch(P){m(P);return}(_=(b=xe(this,ro).config).onSuccess)==null||_.call(b,C,this),(T=(N=xe(this,ro).config).onSettled)==null||T.call(N,C,this.state.error,this),this.scheduleGc()},onError:m,onFail:(C,b)=>{Hn(this,So,gi).call(this,{type:"failed",failureCount:C,error:b})},onPause:()=>{Hn(this,So,gi).call(this,{type:"pause"})},onContinue:()=>{Hn(this,So,gi).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),xe(this,Gn).start()}},ml=new WeakMap,gl=new WeakMap,ro=new WeakMap,Gn=new WeakMap,fu=new WeakMap,Js=new WeakMap,So=new WeakSet,gi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Q8(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return fh(s)&&s.revert&&xe(this,gl)?{...xe(this,gl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ar.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),xe(this,ro).notify({query:this,type:"updated",action:t})})},tx);function Q8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function G8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ho,nx,Z8=(nx=class extends u0{constructor(t={}){super();Ct(this,Ho);this.config=t,lt(this,Ho,new Map)}build(t,n,r){const s=n.queryKey,c=n.queryHash??Tm(s,n);let h=this.get(c);return h||(h=new V8({cache:this,queryKey:s,queryHash:c,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(h)),h}add(t){xe(this,Ho).has(t.queryHash)||(xe(this,Ho).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=xe(this,Ho).get(t.queryHash);n&&(t.destroy(),n===t&&xe(this,Ho).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ar.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return xe(this,Ho).get(t)}getAll(){return[...xe(this,Ho).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Hy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Hy(t,r)):n}notify(t){ar.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ar.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ar.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ho=new WeakMap,nx),Vo,ir,ea,Qo,Hi,rx,$8=(rx=class extends HC{constructor(t){super();Ct(this,Qo);Ct(this,Vo);Ct(this,ir);Ct(this,ea);this.mutationId=t.mutationId,lt(this,ir,t.mutationCache),lt(this,Vo,[]),this.state=t.state||K8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){xe(this,Vo).includes(t)||(xe(this,Vo).push(t),this.clearGcTimeout(),xe(this,ir).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){lt(this,Vo,xe(this,Vo).filter(n=>n!==t)),this.scheduleGc(),xe(this,ir).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){xe(this,Vo).length||(this.state.status==="pending"?this.scheduleGc():xe(this,ir).remove(this))}continue(){var t;return((t=xe(this,ea))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,c,h,m,x,g,w,C,b,_,N,T,P,M,I,D,F,Y,G,z;lt(this,ea,WC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:($,Q)=>{Hn(this,Qo,Hi).call(this,{type:"failed",failureCount:$,error:Q})},onPause:()=>{Hn(this,Qo,Hi).call(this,{type:"pause"})},onContinue:()=>{Hn(this,Qo,Hi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,ir).canRun(this)}));const n=this.state.status==="pending",r=!xe(this,ea).canStart();try{if(!n){Hn(this,Qo,Hi).call(this,{type:"pending",variables:t,isPaused:r}),await((c=(s=xe(this,ir).config).onMutate)==null?void 0:c.call(s,t,this));const Q=await((m=(h=this.options).onMutate)==null?void 0:m.call(h,t));Q!==this.state.context&&Hn(this,Qo,Hi).call(this,{type:"pending",context:Q,variables:t,isPaused:r})}const $=await xe(this,ea).start();return await((g=(x=xe(this,ir).config).onSuccess)==null?void 0:g.call(x,$,t,this.state.context,this)),await((C=(w=this.options).onSuccess)==null?void 0:C.call(w,$,t,this.state.context)),await((_=(b=xe(this,ir).config).onSettled)==null?void 0:_.call(b,$,null,this.state.variables,this.state.context,this)),await((T=(N=this.options).onSettled)==null?void 0:T.call(N,$,null,t,this.state.context)),Hn(this,Qo,Hi).call(this,{type:"success",data:$}),$}catch($){try{throw await((M=(P=xe(this,ir).config).onError)==null?void 0:M.call(P,$,t,this.state.context,this)),await((D=(I=this.options).onError)==null?void 0:D.call(I,$,t,this.state.context)),await((Y=(F=xe(this,ir).config).onSettled)==null?void 0:Y.call(F,void 0,$,this.state.variables,this.state.context,this)),await((z=(G=this.options).onSettled)==null?void 0:z.call(G,void 0,$,t,this.state.context)),$}finally{Hn(this,Qo,Hi).call(this,{type:"error",error:$})}}finally{xe(this,ir).runNext(this)}}},Vo=new WeakMap,ir=new WeakMap,ea=new WeakMap,Qo=new WeakSet,Hi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ar.batch(()=>{xe(this,Vo).forEach(r=>{r.onMutationUpdate(t)}),xe(this,ir).notify({mutation:this,type:"updated",action:t})})},rx);function K8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dr,hu,ox,q8=(ox=class extends u0{constructor(t={}){super();Ct(this,Dr);Ct(this,hu);this.config=t,lt(this,Dr,new Map),lt(this,hu,Date.now())}build(t,n,r){const s=new $8({mutationCache:this,mutationId:++Bu(this,hu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=sd(t),r=xe(this,Dr).get(n)??[];r.push(t),xe(this,Dr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=sd(t);if(xe(this,Dr).has(n)){const s=(r=xe(this,Dr).get(n))==null?void 0:r.filter(c=>c!==t);s&&(s.length===0?xe(this,Dr).delete(n):xe(this,Dr).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=xe(this,Dr).get(sd(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=xe(this,Dr).get(sd(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ar.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...xe(this,Dr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vy(n,r))}findAll(t={}){return this.getAll().filter(n=>Vy(t,n))}notify(t){ar.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ar.batch(()=>Promise.all(t.map(n=>n.continue().catch(bo))))}},Dr=new WeakMap,hu=new WeakMap,ox);function sd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Zy(e){return{onFetch:(t,n)=>{var w,C,b,_,N;const r=t.options,s=(b=(C=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:C.fetchMore)==null?void 0:b.direction,c=((_=t.state.data)==null?void 0:_.pages)||[],h=((N=t.state.data)==null?void 0:N.pageParams)||[];let m={pages:[],pageParams:[]},x=0;const g=async()=>{let T=!1;const P=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(t.signal.aborted?T=!0:t.signal.addEventListener("abort",()=>{T=!0}),t.signal)})},M=UC(t.options,t.fetchOptions),I=async(D,F,Y)=>{if(T)return Promise.reject();if(F==null&&D.pages.length)return Promise.resolve(D);const G={queryKey:t.queryKey,pageParam:F,direction:Y?"backward":"forward",meta:t.options.meta};P(G);const z=await M(G),{maxPages:$}=t.options,Q=Y?U8:F8;return{pages:Q(D.pages,z,$),pageParams:Q(D.pageParams,F,$)}};if(s&&c.length){const D=s==="backward",F=D?J8:$y,Y={pages:c,pageParams:h},G=F(r,Y);m=await I(Y,G,D)}else{const D=e??c.length;do{const F=x===0?h[0]??r.initialPageParam:$y(r,m);if(x>0&&F==null)break;m=await I(m,F),x++}while(x<D)}return m};t.options.persister?t.fetchFn=()=>{var T,P;return(P=(T=t.options).persister)==null?void 0:P.call(T,g,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function $y(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function J8(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var an,Ji,es,yl,xl,ts,vl,wl,ix,e6=(ix=class{constructor(e={}){Ct(this,an);Ct(this,Ji);Ct(this,es);Ct(this,yl);Ct(this,xl);Ct(this,ts);Ct(this,vl);Ct(this,wl);lt(this,an,e.queryCache||new Z8),lt(this,Ji,e.mutationCache||new q8),lt(this,es,e.defaultOptions||{}),lt(this,yl,new Map),lt(this,xl,new Map),lt(this,ts,0)}mount(){Bu(this,ts)._++,xe(this,ts)===1&&(lt(this,vl,zC.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,an).onFocus())})),lt(this,wl,wf.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,an).onOnline())})))}unmount(){var e,t;Bu(this,ts)._--,xe(this,ts)===0&&((e=xe(this,vl))==null||e.call(this),lt(this,vl,void 0),(t=xe(this,wl))==null||t.call(this),lt(this,wl,void 0))}isFetching(e){return xe(this,an).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xe(this,Ji).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=xe(this,an).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=xe(this,an).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Wy(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return xe(this,an).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=xe(this,an).get(r.queryHash),c=s==null?void 0:s.state.data,h=D8(t,c);if(h!==void 0)return xe(this,an).build(this,r).setData(h,{...n,manual:!0})}setQueriesData(e,t,n){return ar.batch(()=>xe(this,an).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=xe(this,an).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=xe(this,an);ar.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=xe(this,an),r={type:"active",...e};return ar.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=ar.batch(()=>xe(this,an).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(bo).catch(bo)}invalidateQueries(e={},t={}){return ar.batch(()=>{if(xe(this,an).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=ar.batch(()=>xe(this,an).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let c=s.fetch(void 0,n);return n.throwOnError||(c=c.catch(bo)),s.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(r).then(bo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=xe(this,an).build(this,t);return n.isStaleByTime(Wy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bo).catch(bo)}fetchInfiniteQuery(e){return e.behavior=Zy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bo).catch(bo)}ensureInfiniteQueryData(e){return e.behavior=Zy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wf.isOnline()?xe(this,Ji).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,an)}getMutationCache(){return xe(this,Ji)}getDefaultOptions(){return xe(this,es)}setDefaultOptions(e){lt(this,es,e)}setQueryDefaults(e,t){xe(this,yl).set(ru(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xe(this,yl).values()];let n={};return t.forEach(r=>{ou(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){xe(this,xl).set(ru(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xe(this,xl).values()];let n={};return t.forEach(r=>{ou(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xe(this,es).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Tm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===_m&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...xe(this,es).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xe(this,an).clear(),xe(this,Ji).clear()}},an=new WeakMap,Ji=new WeakMap,es=new WeakMap,yl=new WeakMap,xl=new WeakMap,ts=new WeakMap,vl=new WeakMap,wl=new WeakMap,ix),t6=E.createContext(void 0),n6=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),R.jsx(t6.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(this,arguments)}var os;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(os||(os={}));const Ky="popstate";function r6(e){e===void 0&&(e={});function t(r,s){let{pathname:c,search:h,hash:m}=r.location;return L1("",{pathname:c,search:h,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Cf(s)}return i6(t,n,null,e)}function vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function VC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o6(){return Math.random().toString(36).substr(2,8)}function qy(e,t){return{usr:e.state,key:e.key,idx:t}}function L1(e,t,n,r){return n===void 0&&(n=null),iu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ul(t):t,{state:n,key:t&&t.key||r||o6()})}function Cf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ul(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function i6(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:c=!1}=r,h=s.history,m=os.Pop,x=null,g=w();g==null&&(g=0,h.replaceState(iu({},h.state,{idx:g}),""));function w(){return(h.state||{idx:null}).idx}function C(){m=os.Pop;let P=w(),M=P==null?null:P-g;g=P,x&&x({action:m,location:T.location,delta:M})}function b(P,M){m=os.Push;let I=L1(T.location,P,M);g=w()+1;let D=qy(I,g),F=T.createHref(I);try{h.pushState(D,"",F)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(F)}c&&x&&x({action:m,location:T.location,delta:1})}function _(P,M){m=os.Replace;let I=L1(T.location,P,M);g=w();let D=qy(I,g),F=T.createHref(I);h.replaceState(D,"",F),c&&x&&x({action:m,location:T.location,delta:0})}function N(P){let M=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof P=="string"?P:Cf(P);return I=I.replace(/ $/,"%20"),vn(M,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,M)}let T={get action(){return m},get location(){return e(s,h)},listen(P){if(x)throw new Error("A history only accepts one active listener");return s.addEventListener(Ky,C),x=P,()=>{s.removeEventListener(Ky,C),x=null}},createHref(P){return t(s,P)},createURL:N,encodeLocation(P){let M=N(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:_,go(P){return h.go(P)}};return T}var Jy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jy||(Jy={}));function s6(e,t,n){return n===void 0&&(n="/"),a6(e,t,n,!1)}function a6(e,t,n,r){let s=typeof t=="string"?Ul(t):t,c=Im(s.pathname||"/",n);if(c==null)return null;let h=QC(e);l6(h);let m=null;for(let x=0;m==null&&x<h.length;++x){let g=v6(c);m=y6(h[x],g,r)}return m}function QC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(c,h,m)=>{let x={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};x.relativePath.startsWith("/")&&(vn(x.relativePath.startsWith(r),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(r.length));let g=hs([r,x.relativePath]),w=n.concat(x);c.children&&c.children.length>0&&(vn(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),QC(c.children,t,w,g)),!(c.path==null&&!c.index)&&t.push({path:g,score:m6(g,c.index),routesMeta:w})};return e.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))s(c,h);else for(let x of GC(c.path))s(c,h,x)}),t}function GC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return s?[c,""]:[c];let h=GC(r.join("/")),m=[];return m.push(...h.map(x=>x===""?c:[c,x].join("/"))),s&&m.push(...h),m.map(x=>e.startsWith("/")&&x===""?"/":x)}function l6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:g6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const c6=/^:[\w-]+$/,u6=3,d6=2,f6=1,h6=10,p6=-2,e2=e=>e==="*";function m6(e,t){let n=e.split("/"),r=n.length;return n.some(e2)&&(r+=p6),t&&(r+=d6),n.filter(s=>!e2(s)).reduce((s,c)=>s+(c6.test(c)?u6:c===""?f6:h6),r)}function g6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function y6(e,t,n){let{routesMeta:r}=e,s={},c="/",h=[];for(let m=0;m<r.length;++m){let x=r[m],g=m===r.length-1,w=c==="/"?t:t.slice(c.length)||"/",C=t2({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},w),b=x.route;if(!C&&g&&n&&!r[r.length-1].route.index&&(C=t2({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},w)),!C)return null;Object.assign(s,C.params),h.push({params:s,pathname:hs([c,C.pathname]),pathnameBase:S6(hs([c,C.pathnameBase])),route:b}),C.pathnameBase!=="/"&&(c=hs([c,C.pathnameBase]))}return h}function t2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=x6(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let c=s[0],h=c.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:r.reduce((g,w,C)=>{let{paramName:b,isOptional:_}=w;if(b==="*"){let T=m[C]||"";h=c.slice(0,c.length-T.length).replace(/(.)\/+$/,"$1")}const N=m[C];return _&&!N?g[b]=void 0:g[b]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:h,pattern:e}}function x6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),VC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,x)=>(r.push({paramName:m,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function v6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return VC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Im(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function w6(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ul(e):e;return{pathname:n?n.startsWith("/")?n:C6(n,t):t,search:R6(r),hash:E6(s)}}function C6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ZC(e,t){let n=b6(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $C(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ul(e):(s=iu({},e),vn(!s.pathname||!s.pathname.includes("?"),hh("?","pathname","search",s)),vn(!s.pathname||!s.pathname.includes("#"),hh("#","pathname","hash",s)),vn(!s.search||!s.search.includes("#"),hh("#","search","hash",s)));let c=e===""||s.pathname==="",h=c?"/":s.pathname,m;if(h==null)m=n;else{let C=t.length-1;if(!r&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),C-=1;s.pathname=b.join("/")}m=C>=0?t[C]:"/"}let x=w6(s,m),g=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(g||w)&&(x.pathname+="/"),x}const hs=e=>e.join("/").replace(/\/\/+/g,"/"),S6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,E6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KC=["post","put","patch","delete"];new Set(KC);const T6=["get",...KC];new Set(T6);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}const Nm=E.createContext(null),_6=E.createContext(null),ma=E.createContext(null),f0=E.createContext(null),ga=E.createContext({outlet:null,matches:[],isDataRoute:!1}),qC=E.createContext(null);function I6(e,t){let{relative:n}=t===void 0?{}:t;bu()||vn(!1);let{basename:r,navigator:s}=E.useContext(ma),{hash:c,pathname:h,search:m}=eb(e,{relative:n}),x=h;return r!=="/"&&(x=h==="/"?r:hs([r,h])),s.createHref({pathname:x,search:m,hash:c})}function bu(){return E.useContext(f0)!=null}function zl(){return bu()||vn(!1),E.useContext(f0).location}function JC(e){E.useContext(ma).static||E.useLayoutEffect(e)}function N6(){let{isDataRoute:e}=E.useContext(ga);return e?X6():O6()}function O6(){bu()||vn(!1);let e=E.useContext(Nm),{basename:t,future:n,navigator:r}=E.useContext(ma),{matches:s}=E.useContext(ga),{pathname:c}=zl(),h=JSON.stringify(ZC(s,n.v7_relativeSplatPath)),m=E.useRef(!1);return JC(()=>{m.current=!0}),E.useCallback(function(g,w){if(w===void 0&&(w={}),!m.current)return;if(typeof g=="number"){r.go(g);return}let C=$C(g,JSON.parse(h),c,w.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:hs([t,C.pathname])),(w.replace?r.replace:r.push)(C,w.state,w)},[t,r,h,c,e])}function eb(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(ma),{matches:s}=E.useContext(ga),{pathname:c}=zl(),h=JSON.stringify(ZC(s,r.v7_relativeSplatPath));return E.useMemo(()=>$C(e,JSON.parse(h),c,n==="path"),[e,h,c,n])}function M6(e,t){return D6(e,t)}function D6(e,t,n,r){bu()||vn(!1);let{navigator:s}=E.useContext(ma),{matches:c}=E.useContext(ga),h=c[c.length-1],m=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let g=zl(),w;if(t){var C;let P=typeof t=="string"?Ul(t):t;x==="/"||(C=P.pathname)!=null&&C.startsWith(x)||vn(!1),w=P}else w=g;let b=w.pathname||"/",_=b;if(x!=="/"){let P=x.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let N=s6(e,{pathname:_}),T=B6(N&&N.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:hs([x,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?x:hs([x,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,n,r);return t&&T?E.createElement(f0.Provider,{value:{location:su({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:os.Pop}},T):T}function k6(){let e=Y6(),t=A6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:s},n):null,null)}const P6=E.createElement(k6,null);class L6 extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(ga.Provider,{value:this.props.routeContext},E.createElement(qC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j6(e){let{routeContext:t,match:n,children:r}=e,s=E.useContext(Nm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ga.Provider,{value:t},r)}function B6(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var c;if(!n)return null;if(n.errors)e=n.matches;else if((c=r)!=null&&c.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let h=e,m=(s=n)==null?void 0:s.errors;if(m!=null){let w=h.findIndex(C=>C.route.id&&(m==null?void 0:m[C.route.id])!==void 0);w>=0||vn(!1),h=h.slice(0,Math.min(h.length,w+1))}let x=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<h.length;w++){let C=h[w];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(g=w),C.route.id){let{loaderData:b,errors:_}=n,N=C.route.loader&&b[C.route.id]===void 0&&(!_||_[C.route.id]===void 0);if(C.route.lazy||N){x=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}return h.reduceRight((w,C,b)=>{let _,N=!1,T=null,P=null;n&&(_=m&&C.route.id?m[C.route.id]:void 0,T=C.route.errorElement||P6,x&&(g<0&&b===0?(N=!0,P=null):g===b&&(N=!0,P=C.route.hydrateFallbackElement||null)));let M=t.concat(h.slice(0,b+1)),I=()=>{let D;return _?D=T:N?D=P:C.route.Component?D=E.createElement(C.route.Component,null):C.route.element?D=C.route.element:D=w,E.createElement(j6,{match:C,routeContext:{outlet:w,matches:M,isDataRoute:n!=null},children:D})};return n&&(C.route.ErrorBoundary||C.route.errorElement||b===0)?E.createElement(L6,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:I(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):I()},null)}var tb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tb||{}),bf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bf||{});function F6(e){let t=E.useContext(Nm);return t||vn(!1),t}function U6(e){let t=E.useContext(_6);return t||vn(!1),t}function z6(e){let t=E.useContext(ga);return t||vn(!1),t}function nb(e){let t=z6(),n=t.matches[t.matches.length-1];return n.route.id||vn(!1),n.route.id}function Y6(){var e;let t=E.useContext(qC),n=U6(bf.UseRouteError),r=nb(bf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function X6(){let{router:e}=F6(tb.UseNavigateStable),t=nb(bf.UseNavigateStable),n=E.useRef(!1);return JC(()=>{n.current=!0}),E.useCallback(function(s,c){c===void 0&&(c={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,su({fromRouteId:t},c)))},[e,t])}function Vs(e){vn(!1)}function W6(e){let{basename:t="/",children:n=null,location:r,navigationType:s=os.Pop,navigator:c,static:h=!1,future:m}=e;bu()&&vn(!1);let x=t.replace(/^\/*/,"/"),g=E.useMemo(()=>({basename:x,navigator:c,static:h,future:su({v7_relativeSplatPath:!1},m)}),[x,m,c,h]);typeof r=="string"&&(r=Ul(r));let{pathname:w="/",search:C="",hash:b="",state:_=null,key:N="default"}=r,T=E.useMemo(()=>{let P=Im(w,x);return P==null?null:{location:{pathname:P,search:C,hash:b,state:_,key:N},navigationType:s}},[x,w,C,b,_,N,s]);return T==null?null:E.createElement(ma.Provider,{value:g},E.createElement(f0.Provider,{children:n,value:T}))}function H6(e){let{children:t,location:n}=e;return M6(j1(t),n)}new Promise(()=>{});function j1(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,s)=>{if(!E.isValidElement(r))return;let c=[...t,s];if(r.type===E.Fragment){n.push.apply(n,j1(r.props.children,c));return}r.type!==Vs&&vn(!1),!r.props.index||!r.props.children||vn(!1);let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=j1(r.props.children,c)),n.push(h)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B1.apply(this,arguments)}function V6(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,c;for(c=0;c<r.length;c++)s=r[c],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Q6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function G6(e,t){return e.button===0&&(!t||t==="_self")&&!Q6(e)}const Z6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$6="6";try{window.__reactRouterVersion=$6}catch{}const K6="startTransition",n2=gx[K6];function q6(e){let{basename:t,children:n,future:r,window:s}=e,c=E.useRef();c.current==null&&(c.current=r6({window:s,v5Compat:!0}));let h=c.current,[m,x]=E.useState({action:h.action,location:h.location}),{v7_startTransition:g}=r||{},w=E.useCallback(C=>{g&&n2?n2(()=>x(C)):x(C)},[x,g]);return E.useLayoutEffect(()=>h.listen(w),[h,w]),E.createElement(W6,{basename:t,children:n,location:m.location,navigationType:m.action,navigator:h,future:r})}const J6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fc=E.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:c,replace:h,state:m,target:x,to:g,preventScrollReset:w,viewTransition:C}=t,b=V6(t,Z6),{basename:_}=E.useContext(ma),N,T=!1;if(typeof g=="string"&&eN.test(g)&&(N=g,J6))try{let D=new URL(window.location.href),F=g.startsWith("//")?new URL(D.protocol+g):new URL(g),Y=Im(F.pathname,_);F.origin===D.origin&&Y!=null?g=Y+F.search+F.hash:T=!0}catch{}let P=I6(g,{relative:s}),M=tN(g,{replace:h,state:m,target:x,preventScrollReset:w,relative:s,viewTransition:C});function I(D){r&&r(D),D.defaultPrevented||M(D)}return E.createElement("a",B1({},b,{href:N||P,onClick:T||c?r:I,ref:n,target:x}))});var r2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r2||(r2={}));var o2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(o2||(o2={}));function tN(e,t){let{target:n,replace:r,state:s,preventScrollReset:c,relative:h,viewTransition:m}=t===void 0?{}:t,x=N6(),g=zl(),w=eb(e,{relative:h});return E.useCallback(C=>{if(G6(C,n)){C.preventDefault();let b=r!==void 0?r:Cf(g)===Cf(w);x(e,{replace:b,state:s,preventScrollReset:c,relative:h,viewTransition:m})}},[g,x,w,r,s,n,e,c,h,m])}var nN=E.createContext(void 0);function h0(e){const t=E.useContext(nN);return e||t||"ltr"}var ph=0;function Om(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??i2()),document.body.insertAdjacentElement("beforeend",e[1]??i2()),ph++,()=>{ph===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ph--}},[])}function i2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mh="focusScope.autoFocusOnMount",gh="focusScope.autoFocusOnUnmount",s2={bubbles:!1,cancelable:!0},rN="FocusScope",p0=E.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:c,...h}=e,[m,x]=E.useState(null),g=Jt(s),w=Jt(c),C=E.useRef(null),b=ut(t,T=>x(T)),_=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let T=function(D){if(_.paused||!m)return;const F=D.target;m.contains(F)?C.current=F:Vi(C.current,{select:!0})},P=function(D){if(_.paused||!m)return;const F=D.relatedTarget;F!==null&&(m.contains(F)||Vi(C.current,{select:!0}))},M=function(D){if(document.activeElement===document.body)for(const Y of D)Y.removedNodes.length>0&&Vi(m)};document.addEventListener("focusin",T),document.addEventListener("focusout",P);const I=new MutationObserver(M);return m&&I.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",P),I.disconnect()}}},[r,m,_.paused]),E.useEffect(()=>{if(m){l2.add(_);const T=document.activeElement;if(!m.contains(T)){const M=new CustomEvent(mh,s2);m.addEventListener(mh,g),m.dispatchEvent(M),M.defaultPrevented||(oN(cN(rb(m)),{select:!0}),document.activeElement===T&&Vi(m))}return()=>{m.removeEventListener(mh,g),setTimeout(()=>{const M=new CustomEvent(gh,s2);m.addEventListener(gh,w),m.dispatchEvent(M),M.defaultPrevented||Vi(T??document.body,{select:!0}),m.removeEventListener(gh,w),l2.remove(_)},0)}}},[m,g,w,_]);const N=E.useCallback(T=>{if(!n&&!r||_.paused)return;const P=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,M=document.activeElement;if(P&&M){const I=T.currentTarget,[D,F]=iN(I);D&&F?!T.shiftKey&&M===F?(T.preventDefault(),n&&Vi(D,{select:!0})):T.shiftKey&&M===D&&(T.preventDefault(),n&&Vi(F,{select:!0})):M===I&&T.preventDefault()}},[n,r,_.paused]);return R.jsx(Je.div,{tabIndex:-1,...h,ref:b,onKeyDown:N})});p0.displayName=rN;function oN(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Vi(r,{select:t}),document.activeElement!==n)return}function iN(e){const t=rb(e),n=a2(t,e),r=a2(t.reverse(),e);return[n,r]}function rb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function a2(e,t){for(const n of e)if(!sN(n,{upTo:t}))return n}function sN(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aN(e){return e instanceof HTMLInputElement&&"select"in e}function Vi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aN(e)&&t&&e.select()}}var l2=lN();function lN(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=c2(e,t),e.unshift(t)},remove(t){var n;e=c2(e,t),(n=e[0])==null||n.resume()}}}function c2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cN(e){return e.filter(t=>t.tagName!=="A")}function uN(e,t=[]){let n=[];function r(c,h){const m=E.createContext(h),x=n.length;n=[...n,h];function g(C){const{scope:b,children:_,...N}=C,T=(b==null?void 0:b[e][x])||m,P=E.useMemo(()=>N,Object.values(N));return R.jsx(T.Provider,{value:P,children:_})}function w(C,b){const _=(b==null?void 0:b[e][x])||m,N=E.useContext(_);if(N)return N;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${c}\``)}return g.displayName=c+"Provider",[g,w]}const s=()=>{const c=n.map(h=>E.createContext(h));return function(m){const x=(m==null?void 0:m[e])||c;return E.useMemo(()=>({[`__scope${e}`]:{...m,[e]:x}}),[m,x])}};return s.scopeName=e,[r,dN(s,...t)]}function dN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const h=r.reduce((m,{useScope:x,scopeName:g})=>{const C=x(c)[`__scope${g}`];return{...m,...C}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var yh="rovingFocusGroup.onEntryFocus",fN={bubbles:!1,cancelable:!0},m0="RovingFocusGroup",[F1,ob,hN]=Jf(m0),[pN,ib]=uN(m0,[hN]),[mN,gN]=pN(m0),sb=E.forwardRef((e,t)=>R.jsx(F1.Provider,{scope:e.__scopeRovingFocusGroup,children:R.jsx(F1.Slot,{scope:e.__scopeRovingFocusGroup,children:R.jsx(yN,{...e,ref:t})})}));sb.displayName=m0;var yN=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:c,currentTabStopId:h,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:x,onEntryFocus:g,preventScrollOnEntryFocus:w=!1,...C}=e,b=E.useRef(null),_=ut(t,b),N=h0(c),[T=null,P]=Ii({prop:h,defaultProp:m,onChange:x}),[M,I]=E.useState(!1),D=Jt(g),F=ob(n),Y=E.useRef(!1),[G,z]=E.useState(0);return E.useEffect(()=>{const $=b.current;if($)return $.addEventListener(yh,D),()=>$.removeEventListener(yh,D)},[D]),R.jsx(mN,{scope:n,orientation:r,dir:N,loop:s,currentTabStopId:T,onItemFocus:E.useCallback($=>P($),[P]),onItemShiftTab:E.useCallback(()=>I(!0),[]),onFocusableItemAdd:E.useCallback(()=>z($=>$+1),[]),onFocusableItemRemove:E.useCallback(()=>z($=>$-1),[]),children:R.jsx(Je.div,{tabIndex:M||G===0?-1:0,"data-orientation":r,...C,ref:_,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{Y.current=!0}),onFocus:ke(e.onFocus,$=>{const Q=!Y.current;if($.target===$.currentTarget&&Q&&!M){const ie=new CustomEvent(yh,fN);if($.currentTarget.dispatchEvent(ie),!ie.defaultPrevented){const fe=F().filter(ve=>ve.focusable),re=fe.find(ve=>ve.active),we=fe.find(ve=>ve.id===T),ee=[re,we,...fe].filter(Boolean).map(ve=>ve.ref.current);cb(ee,w)}}Y.current=!1}),onBlur:ke(e.onBlur,()=>I(!1))})})}),ab="RovingFocusGroupItem",lb=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:c,...h}=e,m=No(),x=c||m,g=gN(ab,n),w=g.currentTabStopId===x,C=ob(n),{onFocusableItemAdd:b,onFocusableItemRemove:_}=g;return E.useEffect(()=>{if(r)return b(),()=>_()},[r,b,_]),R.jsx(F1.ItemSlot,{scope:n,id:x,focusable:r,active:s,children:R.jsx(Je.span,{tabIndex:w?0:-1,"data-orientation":g.orientation,...h,ref:t,onMouseDown:ke(e.onMouseDown,N=>{r?g.onItemFocus(x):N.preventDefault()}),onFocus:ke(e.onFocus,()=>g.onItemFocus(x)),onKeyDown:ke(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const T=wN(N,g.orientation,g.dir);if(T!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let M=C().filter(I=>I.focusable).map(I=>I.ref.current);if(T==="last")M.reverse();else if(T==="prev"||T==="next"){T==="prev"&&M.reverse();const I=M.indexOf(N.currentTarget);M=g.loop?CN(M,I+1):M.slice(I+1)}setTimeout(()=>cb(M))}})})})});lb.displayName=ab;var xN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vN(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wN(e,t,n){const r=vN(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xN[r]}function cb(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function CN(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bN=sb,SN=lb,RN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fa=new WeakMap,ad=new WeakMap,ld={},xh=0,ub=function(e){return e&&(e.host||ub(e.parentNode))},EN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ub(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},AN=function(e,t,n,r){var s=EN(t,Array.isArray(e)?e:[e]);ld[n]||(ld[n]=new WeakMap);var c=ld[n],h=[],m=new Set,x=new Set(s),g=function(C){!C||m.has(C)||(m.add(C),g(C.parentNode))};s.forEach(g);var w=function(C){!C||x.has(C)||Array.prototype.forEach.call(C.children,function(b){if(m.has(b))w(b);else try{var _=b.getAttribute(r),N=_!==null&&_!=="false",T=(Fa.get(b)||0)+1,P=(c.get(b)||0)+1;Fa.set(b,T),c.set(b,P),h.push(b),T===1&&N&&ad.set(b,!0),P===1&&b.setAttribute(n,"true"),N||b.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",b,M)}})};return w(t),m.clear(),xh++,function(){h.forEach(function(C){var b=Fa.get(C)-1,_=c.get(C)-1;Fa.set(C,b),c.set(C,_),b||(ad.has(C)||C.removeAttribute(r),ad.delete(C)),_||C.removeAttribute(n)}),xh--,xh||(Fa=new WeakMap,Fa=new WeakMap,ad=new WeakMap,ld={})}},Mm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=RN(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),AN(r,s,n,"aria-hidden")):function(){return null}},Zo=function(){return Zo=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Zo.apply(this,arguments)};function db(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function TN(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,c;r<s;r++)(c||!(r in t))&&(c||(c=Array.prototype.slice.call(t,0,r)),c[r]=t[r]);return e.concat(c||Array.prototype.slice.call(t))}var Od="right-scroll-bar-position",Md="width-before-scroll-bar",_N="with-scroll-bars-hidden",IN="--removed-body-scroll-bar-size";function vh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function NN(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var ON=typeof window<"u"?E.useLayoutEffect:E.useEffect,u2=new WeakMap;function MN(e,t){var n=NN(null,function(r){return e.forEach(function(s){return vh(s,r)})});return ON(function(){var r=u2.get(n);if(r){var s=new Set(r),c=new Set(e),h=n.current;s.forEach(function(m){c.has(m)||vh(m,null)}),c.forEach(function(m){s.has(m)||vh(m,h)})}u2.set(n,e)},[e]),n}function DN(e){return e}function kN(e,t){t===void 0&&(t=DN);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(c){var h=t(c,r);return n.push(h),function(){n=n.filter(function(m){return m!==h})}},assignSyncMedium:function(c){for(r=!0;n.length;){var h=n;n=[],h.forEach(c)}n={push:function(m){return c(m)},filter:function(){return n}}},assignMedium:function(c){r=!0;var h=[];if(n.length){var m=n;n=[],m.forEach(c),h=n}var x=function(){var w=h;h=[],w.forEach(c)},g=function(){return Promise.resolve().then(x)};g(),n={push:function(w){h.push(w),g()},filter:function(w){return h=h.filter(w),n}}}};return s}function PN(e){e===void 0&&(e={});var t=kN(null);return t.options=Zo({async:!0,ssr:!1},e),t}var fb=function(e){var t=e.sideCar,n=db(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Zo({},n))};fb.isSideCarExport=!0;function LN(e,t){return e.useMedium(t),fb}var hb=PN(),wh=function(){},g0=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:wh,onWheelCapture:wh,onTouchMoveCapture:wh}),s=r[0],c=r[1],h=e.forwardProps,m=e.children,x=e.className,g=e.removeScrollBar,w=e.enabled,C=e.shards,b=e.sideCar,_=e.noIsolation,N=e.inert,T=e.allowPinchZoom,P=e.as,M=P===void 0?"div":P,I=e.gapMode,D=db(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=b,Y=MN([n,t]),G=Zo(Zo({},D),s);return E.createElement(E.Fragment,null,w&&E.createElement(F,{sideCar:hb,removeScrollBar:g,shards:C,noIsolation:_,inert:N,setCallbacks:c,allowPinchZoom:!!T,lockRef:n,gapMode:I}),h?E.cloneElement(E.Children.only(m),Zo(Zo({},G),{ref:Y})):E.createElement(M,Zo({},G,{className:x,ref:Y}),m))});g0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};g0.classNames={fullWidth:Md,zeroRight:Od};var jN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jN();return t&&e.setAttribute("nonce",t),e}function FN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function UN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=BN())&&(FN(t,n),UN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YN=function(){var e=zN();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pb=function(){var e=YN(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},XN={left:0,top:0,right:0,gap:0},Ch=function(e){return parseInt(e||"",10)||0},WN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ch(n),Ch(r),Ch(s)]},HN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XN;var t=WN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},VN=pb(),ul="data-scroll-locked",QN=function(e,t,n,r){var s=e.left,c=e.top,h=e.right,m=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(_N,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(m,"px ").concat(r,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(m,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Od,` {
    right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(Md,` {
    margin-right: `).concat(m,"px ").concat(r,`;
  }
  
  .`).concat(Od," .").concat(Od,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Md," .").concat(Md,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(IN,": ").concat(m,`px;
  }
`)},d2=function(){var e=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(e)?e:0},GN=function(){E.useEffect(function(){return document.body.setAttribute(ul,(d2()+1).toString()),function(){var e=d2()-1;e<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,e.toString())}},[])},ZN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;GN();var c=E.useMemo(function(){return HN(s)},[s]);return E.createElement(VN,{styles:QN(c,!t,s,n?"":"!important")})},U1=!1;if(typeof window<"u")try{var cd=Object.defineProperty({},"passive",{get:function(){return U1=!0,!0}});window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{U1=!1}var Ua=U1?{passive:!1}:!1,$N=function(e){return e.tagName==="TEXTAREA"},mb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$N(e)&&n[t]==="visible")},KN=function(e){return mb(e,"overflowY")},qN=function(e){return mb(e,"overflowX")},f2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=gb(e,r);if(s){var c=yb(e,r),h=c[1],m=c[2];if(h>m)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},JN=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},e5=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},gb=function(e,t){return e==="v"?KN(t):qN(t)},yb=function(e,t){return e==="v"?JN(t):e5(t)},t5=function(e,t){return e==="h"&&t==="rtl"?-1:1},n5=function(e,t,n,r,s){var c=t5(e,window.getComputedStyle(t).direction),h=c*r,m=n.target,x=t.contains(m),g=!1,w=h>0,C=0,b=0;do{var _=yb(e,m),N=_[0],T=_[1],P=_[2],M=T-P-c*N;(N||M)&&gb(e,m)&&(C+=M,b+=N),m instanceof ShadowRoot?m=m.host:m=m.parentNode}while(!x&&m!==document.body||x&&(t.contains(m)||t===m));return(w&&(Math.abs(C)<1||!s)||!w&&(Math.abs(b)<1||!s))&&(g=!0),g},ud=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},h2=function(e){return[e.deltaX,e.deltaY]},p2=function(e){return e&&"current"in e?e.current:e},r5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},o5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},i5=0,za=[];function s5(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(i5++)[0],c=E.useState(pb)[0],h=E.useRef(e);E.useEffect(function(){h.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var T=TN([e.lockRef.current],(e.shards||[]).map(p2),!0).filter(Boolean);return T.forEach(function(P){return P.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var m=E.useCallback(function(T,P){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!h.current.allowPinchZoom;var M=ud(T),I=n.current,D="deltaX"in T?T.deltaX:I[0]-M[0],F="deltaY"in T?T.deltaY:I[1]-M[1],Y,G=T.target,z=Math.abs(D)>Math.abs(F)?"h":"v";if("touches"in T&&z==="h"&&G.type==="range")return!1;var $=f2(z,G);if(!$)return!0;if($?Y=z:(Y=z==="v"?"h":"v",$=f2(z,G)),!$)return!1;if(!r.current&&"changedTouches"in T&&(D||F)&&(r.current=Y),!Y)return!0;var Q=r.current||Y;return n5(Q,P,T,Q==="h"?D:F,!0)},[]),x=E.useCallback(function(T){var P=T;if(!(!za.length||za[za.length-1]!==c)){var M="deltaY"in P?h2(P):ud(P),I=t.current.filter(function(Y){return Y.name===P.type&&(Y.target===P.target||P.target===Y.shadowParent)&&r5(Y.delta,M)})[0];if(I&&I.should){P.cancelable&&P.preventDefault();return}if(!I){var D=(h.current.shards||[]).map(p2).filter(Boolean).filter(function(Y){return Y.contains(P.target)}),F=D.length>0?m(P,D[0]):!h.current.noIsolation;F&&P.cancelable&&P.preventDefault()}}},[]),g=E.useCallback(function(T,P,M,I){var D={name:T,delta:P,target:M,should:I,shadowParent:a5(M)};t.current.push(D),setTimeout(function(){t.current=t.current.filter(function(F){return F!==D})},1)},[]),w=E.useCallback(function(T){n.current=ud(T),r.current=void 0},[]),C=E.useCallback(function(T){g(T.type,h2(T),T.target,m(T,e.lockRef.current))},[]),b=E.useCallback(function(T){g(T.type,ud(T),T.target,m(T,e.lockRef.current))},[]);E.useEffect(function(){return za.push(c),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:b}),document.addEventListener("wheel",x,Ua),document.addEventListener("touchmove",x,Ua),document.addEventListener("touchstart",w,Ua),function(){za=za.filter(function(T){return T!==c}),document.removeEventListener("wheel",x,Ua),document.removeEventListener("touchmove",x,Ua),document.removeEventListener("touchstart",w,Ua)}},[]);var _=e.removeScrollBar,N=e.inert;return E.createElement(E.Fragment,null,N?E.createElement(c,{styles:o5(s)}):null,_?E.createElement(ZN,{gapMode:e.gapMode}):null)}function a5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const l5=LN(hb,s5);var y0=E.forwardRef(function(e,t){return E.createElement(g0,Zo({},e,{ref:t,sideCar:l5}))});y0.classNames=g0.classNames;var z1=["Enter"," "],c5=["ArrowDown","PageUp","Home"],xb=["ArrowUp","PageDown","End"],u5=[...c5,...xb],d5={ltr:[...z1,"ArrowRight"],rtl:[...z1,"ArrowLeft"]},f5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Su="Menu",[au,h5,p5]=Jf(Su),[ya,vb]=Di(Su,[p5,Fl,ib]),x0=Fl(),wb=ib(),[m5,xa]=ya(Su),[g5,Ru]=ya(Su),Cb=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:c,modal:h=!0}=e,m=x0(t),[x,g]=E.useState(null),w=E.useRef(!1),C=Jt(c),b=h0(s);return E.useEffect(()=>{const _=()=>{w.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>w.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),R.jsx(bm,{...m,children:R.jsx(m5,{scope:t,open:n,onOpenChange:C,content:x,onContentChange:g,children:R.jsx(g5,{scope:t,onClose:E.useCallback(()=>C(!1),[C]),isUsingKeyboardRef:w,dir:b,modal:h,children:r})})})};Cb.displayName=Su;var y5="MenuAnchor",Dm=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=x0(n);return R.jsx(Sm,{...s,...r,ref:t})});Dm.displayName=y5;var km="MenuPortal",[x5,bb]=ya(km,{forceMount:void 0}),Sb=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,c=xa(km,t);return R.jsx(x5,{scope:t,forceMount:n,children:R.jsx(fr,{present:n||c.open,children:R.jsx(vu,{asChild:!0,container:s,children:r})})})};Sb.displayName=km;var lo="MenuContent",[v5,Pm]=ya(lo),Rb=E.forwardRef((e,t)=>{const n=bb(lo,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,c=xa(lo,e.__scopeMenu),h=Ru(lo,e.__scopeMenu);return R.jsx(au.Provider,{scope:e.__scopeMenu,children:R.jsx(fr,{present:r||c.open,children:R.jsx(au.Slot,{scope:e.__scopeMenu,children:h.modal?R.jsx(w5,{...s,ref:t}):R.jsx(C5,{...s,ref:t})})})})}),w5=E.forwardRef((e,t)=>{const n=xa(lo,e.__scopeMenu),r=E.useRef(null),s=ut(t,r);return E.useEffect(()=>{const c=r.current;if(c)return Mm(c)},[]),R.jsx(Lm,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),C5=E.forwardRef((e,t)=>{const n=xa(lo,e.__scopeMenu);return R.jsx(Lm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Lm=E.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:c,onCloseAutoFocus:h,disableOutsidePointerEvents:m,onEntryFocus:x,onEscapeKeyDown:g,onPointerDownOutside:w,onFocusOutside:C,onInteractOutside:b,onDismiss:_,disableOutsideScroll:N,...T}=e,P=xa(lo,n),M=Ru(lo,n),I=x0(n),D=wb(n),F=h5(n),[Y,G]=E.useState(null),z=E.useRef(null),$=ut(t,z,P.onContentChange),Q=E.useRef(0),ie=E.useRef(""),fe=E.useRef(0),re=E.useRef(null),we=E.useRef("right"),he=E.useRef(0),ee=N?y0:E.Fragment,ve=N?{as:gs,allowPinchZoom:!0}:void 0,ce=Z=>{var Ne,Le;const J=ie.current+Z,ne=F().filter(Se=>!Se.disabled),ue=document.activeElement,ge=(Ne=ne.find(Se=>Se.ref.current===ue))==null?void 0:Ne.textValue,_e=ne.map(Se=>Se.textValue),et=D5(_e,J,ge),me=(Le=ne.find(Se=>Se.textValue===et))==null?void 0:Le.ref.current;(function Se(Ze){ie.current=Ze,window.clearTimeout(Q.current),Ze!==""&&(Q.current=window.setTimeout(()=>Se(""),1e3))})(J),me&&setTimeout(()=>me.focus())};E.useEffect(()=>()=>window.clearTimeout(Q.current),[]),Om();const q=E.useCallback(Z=>{var ne,ue;return we.current===((ne=re.current)==null?void 0:ne.side)&&P5(Z,(ue=re.current)==null?void 0:ue.area)},[]);return R.jsx(v5,{scope:n,searchRef:ie,onItemEnter:E.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),onItemLeave:E.useCallback(Z=>{var J;q(Z)||((J=z.current)==null||J.focus(),G(null))},[q]),onTriggerLeave:E.useCallback(Z=>{q(Z)&&Z.preventDefault()},[q]),pointerGraceTimerRef:fe,onPointerGraceIntentChange:E.useCallback(Z=>{re.current=Z},[]),children:R.jsx(ee,{...ve,children:R.jsx(p0,{asChild:!0,trapped:s,onMountAutoFocus:ke(c,Z=>{var J;Z.preventDefault(),(J=z.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:R.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:g,onPointerDownOutside:w,onFocusOutside:C,onInteractOutside:b,onDismiss:_,children:R.jsx(bN,{asChild:!0,...D,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:Y,onCurrentTabStopIdChange:G,onEntryFocus:ke(x,Z=>{M.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:R.jsx(Rm,{role:"menu","aria-orientation":"vertical","data-state":Ub(P.open),"data-radix-menu-content":"",dir:M.dir,...I,...T,ref:$,style:{outline:"none",...T.style},onKeyDown:ke(T.onKeyDown,Z=>{const ne=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,ue=Z.ctrlKey||Z.altKey||Z.metaKey,ge=Z.key.length===1;ne&&(Z.key==="Tab"&&Z.preventDefault(),!ue&&ge&&ce(Z.key));const _e=z.current;if(Z.target!==_e||!u5.includes(Z.key))return;Z.preventDefault();const me=F().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);xb.includes(Z.key)&&me.reverse(),O5(me)}),onBlur:ke(e.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(Q.current),ie.current="")}),onPointerMove:ke(e.onPointerMove,lu(Z=>{const J=Z.target,ne=he.current!==Z.clientX;if(Z.currentTarget.contains(J)&&ne){const ue=Z.clientX>he.current?"right":"left";we.current=ue,he.current=Z.clientX}}))})})})})})})});Rb.displayName=lo;var b5="MenuGroup",jm=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return R.jsx(Je.div,{role:"group",...r,ref:t})});jm.displayName=b5;var S5="MenuLabel",Eb=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return R.jsx(Je.div,{...r,ref:t})});Eb.displayName=S5;var Sf="MenuItem",m2="menu.itemSelect",v0=E.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,c=E.useRef(null),h=Ru(Sf,e.__scopeMenu),m=Pm(Sf,e.__scopeMenu),x=ut(t,c),g=E.useRef(!1),w=()=>{const C=c.current;if(!n&&C){const b=new CustomEvent(m2,{bubbles:!0,cancelable:!0});C.addEventListener(m2,_=>r==null?void 0:r(_),{once:!0}),am(C,b),b.defaultPrevented?g.current=!1:h.onClose()}};return R.jsx(Ab,{...s,ref:x,disabled:n,onClick:ke(e.onClick,w),onPointerDown:C=>{var b;(b=e.onPointerDown)==null||b.call(e,C),g.current=!0},onPointerUp:ke(e.onPointerUp,C=>{var b;g.current||(b=C.currentTarget)==null||b.click()}),onKeyDown:ke(e.onKeyDown,C=>{const b=m.searchRef.current!=="";n||b&&C.key===" "||z1.includes(C.key)&&(C.currentTarget.click(),C.preventDefault())})})});v0.displayName=Sf;var Ab=E.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...c}=e,h=Pm(Sf,n),m=wb(n),x=E.useRef(null),g=ut(t,x),[w,C]=E.useState(!1),[b,_]=E.useState("");return E.useEffect(()=>{const N=x.current;N&&_((N.textContent??"").trim())},[c.children]),R.jsx(au.ItemSlot,{scope:n,disabled:r,textValue:s??b,children:R.jsx(SN,{asChild:!0,...m,focusable:!r,children:R.jsx(Je.div,{role:"menuitem","data-highlighted":w?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:g,onPointerMove:ke(e.onPointerMove,lu(N=>{r?h.onItemLeave(N):(h.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,lu(N=>h.onItemLeave(N))),onFocus:ke(e.onFocus,()=>C(!0)),onBlur:ke(e.onBlur,()=>C(!1))})})})}),R5="MenuCheckboxItem",Tb=E.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return R.jsx(Mb,{scope:e.__scopeMenu,checked:n,children:R.jsx(v0,{role:"menuitemcheckbox","aria-checked":Rf(n)?"mixed":n,...s,ref:t,"data-state":Fm(n),onSelect:ke(s.onSelect,()=>r==null?void 0:r(Rf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Tb.displayName=R5;var _b="MenuRadioGroup",[E5,A5]=ya(_b,{value:void 0,onValueChange:()=>{}}),Ib=E.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,c=Jt(r);return R.jsx(E5,{scope:e.__scopeMenu,value:n,onValueChange:c,children:R.jsx(jm,{...s,ref:t})})});Ib.displayName=_b;var Nb="MenuRadioItem",Ob=E.forwardRef((e,t)=>{const{value:n,...r}=e,s=A5(Nb,e.__scopeMenu),c=n===s.value;return R.jsx(Mb,{scope:e.__scopeMenu,checked:c,children:R.jsx(v0,{role:"menuitemradio","aria-checked":c,...r,ref:t,"data-state":Fm(c),onSelect:ke(r.onSelect,()=>{var h;return(h=s.onValueChange)==null?void 0:h.call(s,n)},{checkForDefaultPrevented:!1})})})});Ob.displayName=Nb;var Bm="MenuItemIndicator",[Mb,T5]=ya(Bm,{checked:!1}),Db=E.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,c=T5(Bm,n);return R.jsx(fr,{present:r||Rf(c.checked)||c.checked===!0,children:R.jsx(Je.span,{...s,ref:t,"data-state":Fm(c.checked)})})});Db.displayName=Bm;var _5="MenuSeparator",kb=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return R.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});kb.displayName=_5;var I5="MenuArrow",Pb=E.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=x0(n);return R.jsx(Em,{...s,...r,ref:t})});Pb.displayName=I5;var N5="MenuSub",[A7,Lb]=ya(N5),bc="MenuSubTrigger",jb=E.forwardRef((e,t)=>{const n=xa(bc,e.__scopeMenu),r=Ru(bc,e.__scopeMenu),s=Lb(bc,e.__scopeMenu),c=Pm(bc,e.__scopeMenu),h=E.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:x}=c,g={__scopeMenu:e.__scopeMenu},w=E.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return E.useEffect(()=>w,[w]),E.useEffect(()=>{const C=m.current;return()=>{window.clearTimeout(C),x(null)}},[m,x]),R.jsx(Dm,{asChild:!0,...g,children:R.jsx(Ab,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Ub(n.open),...e,ref:qf(t,s.onTriggerChange),onClick:C=>{var b;(b=e.onClick)==null||b.call(e,C),!(e.disabled||C.defaultPrevented)&&(C.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,lu(C=>{c.onItemEnter(C),!C.defaultPrevented&&!e.disabled&&!n.open&&!h.current&&(c.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{n.onOpenChange(!0),w()},100))})),onPointerLeave:ke(e.onPointerLeave,lu(C=>{var _,N;w();const b=(_=n.content)==null?void 0:_.getBoundingClientRect();if(b){const T=(N=n.content)==null?void 0:N.dataset.side,P=T==="right",M=P?-5:5,I=b[P?"left":"right"],D=b[P?"right":"left"];c.onPointerGraceIntentChange({area:[{x:C.clientX+M,y:C.clientY},{x:I,y:b.top},{x:D,y:b.top},{x:D,y:b.bottom},{x:I,y:b.bottom}],side:T}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(C),C.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,C=>{var _;const b=c.searchRef.current!=="";e.disabled||b&&C.key===" "||d5[r.dir].includes(C.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),C.preventDefault())})})})});jb.displayName=bc;var Bb="MenuSubContent",Fb=E.forwardRef((e,t)=>{const n=bb(lo,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,c=xa(lo,e.__scopeMenu),h=Ru(lo,e.__scopeMenu),m=Lb(Bb,e.__scopeMenu),x=E.useRef(null),g=ut(t,x);return R.jsx(au.Provider,{scope:e.__scopeMenu,children:R.jsx(fr,{present:r||c.open,children:R.jsx(au.Slot,{scope:e.__scopeMenu,children:R.jsx(Lm,{id:m.contentId,"aria-labelledby":m.triggerId,...s,ref:g,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:w=>{var C;h.isUsingKeyboardRef.current&&((C=x.current)==null||C.focus()),w.preventDefault()},onCloseAutoFocus:w=>w.preventDefault(),onFocusOutside:ke(e.onFocusOutside,w=>{w.target!==m.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,w=>{h.onClose(),w.preventDefault()}),onKeyDown:ke(e.onKeyDown,w=>{var _;const C=w.currentTarget.contains(w.target),b=f5[h.dir].includes(w.key);C&&b&&(c.onOpenChange(!1),(_=m.trigger)==null||_.focus(),w.preventDefault())})})})})})});Fb.displayName=Bb;function Ub(e){return e?"open":"closed"}function Rf(e){return e==="indeterminate"}function Fm(e){return Rf(e)?"indeterminate":e?"checked":"unchecked"}function O5(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function M5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function D5(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let h=M5(e,Math.max(c,0));s.length===1&&(h=h.filter(g=>g!==n));const x=h.find(g=>g.toLowerCase().startsWith(s.toLowerCase()));return x!==n?x:void 0}function k5(e,t){const{x:n,y:r}=e;let s=!1;for(let c=0,h=t.length-1;c<t.length;h=c++){const m=t[c].x,x=t[c].y,g=t[h].x,w=t[h].y;x>r!=w>r&&n<(g-m)*(r-x)/(w-x)+m&&(s=!s)}return s}function P5(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return k5(n,t)}function lu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var L5=Cb,j5=Dm,B5=Sb,F5=Rb,U5=jm,z5=Eb,Y5=v0,X5=Tb,W5=Ib,H5=Ob,V5=Db,Q5=kb,G5=Pb,Z5=jb,$5=Fb,Um="DropdownMenu",[K5,T7]=Di(Um,[vb]),hr=vb(),[q5,zb]=K5(Um),Yb=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:c,onOpenChange:h,modal:m=!0}=e,x=hr(t),g=E.useRef(null),[w=!1,C]=Ii({prop:s,defaultProp:c,onChange:h});return R.jsx(q5,{scope:t,triggerId:No(),triggerRef:g,contentId:No(),open:w,onOpenChange:C,onOpenToggle:E.useCallback(()=>C(b=>!b),[C]),modal:m,children:R.jsx(L5,{...x,open:w,onOpenChange:C,dir:r,modal:m,children:n})})};Yb.displayName=Um;var Xb="DropdownMenuTrigger",Wb=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,c=zb(Xb,n),h=hr(n);return R.jsx(j5,{asChild:!0,...h,children:R.jsx(Je.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:qf(t,c.triggerRef),onPointerDown:ke(e.onPointerDown,m=>{!r&&m.button===0&&m.ctrlKey===!1&&(c.onOpenToggle(),c.open||m.preventDefault())}),onKeyDown:ke(e.onKeyDown,m=>{r||(["Enter"," "].includes(m.key)&&c.onOpenToggle(),m.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});Wb.displayName=Xb;var J5="DropdownMenuPortal",Hb=e=>{const{__scopeDropdownMenu:t,...n}=e,r=hr(t);return R.jsx(B5,{...r,...n})};Hb.displayName=J5;var Vb="DropdownMenuContent",Qb=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=zb(Vb,n),c=hr(n),h=E.useRef(!1);return R.jsx(F5,{id:s.contentId,"aria-labelledby":s.triggerId,...c,...r,ref:t,onCloseAutoFocus:ke(e.onCloseAutoFocus,m=>{var x;h.current||(x=s.triggerRef.current)==null||x.focus(),h.current=!1,m.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,m=>{const x=m.detail.originalEvent,g=x.button===0&&x.ctrlKey===!0,w=x.button===2||g;(!s.modal||w)&&(h.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qb.displayName=Vb;var eO="DropdownMenuGroup",tO=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(U5,{...s,...r,ref:t})});tO.displayName=eO;var nO="DropdownMenuLabel",Gb=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(z5,{...s,...r,ref:t})});Gb.displayName=nO;var rO="DropdownMenuItem",Zb=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(Y5,{...s,...r,ref:t})});Zb.displayName=rO;var oO="DropdownMenuCheckboxItem",$b=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(X5,{...s,...r,ref:t})});$b.displayName=oO;var iO="DropdownMenuRadioGroup",sO=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(W5,{...s,...r,ref:t})});sO.displayName=iO;var aO="DropdownMenuRadioItem",Kb=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(H5,{...s,...r,ref:t})});Kb.displayName=aO;var lO="DropdownMenuItemIndicator",qb=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(V5,{...s,...r,ref:t})});qb.displayName=lO;var cO="DropdownMenuSeparator",Jb=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(Q5,{...s,...r,ref:t})});Jb.displayName=cO;var uO="DropdownMenuArrow",dO=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(G5,{...s,...r,ref:t})});dO.displayName=uO;var fO="DropdownMenuSubTrigger",eS=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx(Z5,{...s,...r,ref:t})});eS.displayName=fO;var hO="DropdownMenuSubContent",tS=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=hr(n);return R.jsx($5,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tS.displayName=hO;var pO=Yb,mO=Wb,gO=Hb,nS=Qb,rS=Gb,oS=Zb,iS=$b,sS=Kb,aS=qb,lS=Jb,cS=eS,uS=tS;const yO=pO,xO=mO,vO=E.forwardRef(({className:e,inset:t,children:n,...r},s)=>R.jsxs(cS,{ref:s,className:Ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,R.jsx(YT,{className:"ml-auto h-4 w-4"})]}));vO.displayName=cS.displayName;const wO=E.forwardRef(({className:e,...t},n)=>R.jsx(uS,{ref:n,className:Ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));wO.displayName=uS.displayName;const dS=E.forwardRef(({className:e,sideOffset:t=4,...n},r)=>R.jsx(gO,{children:R.jsx(nS,{ref:r,sideOffset:t,className:Ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));dS.displayName=nS.displayName;const Dd=E.forwardRef(({className:e,inset:t,...n},r)=>R.jsx(oS,{ref:r,className:Ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Dd.displayName=oS.displayName;const CO=E.forwardRef(({className:e,children:t,checked:n,...r},s)=>R.jsxs(iS,{ref:s,className:Ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(aS,{children:R.jsx(Zw,{className:"h-4 w-4"})})}),t]}));CO.displayName=iS.displayName;const bO=E.forwardRef(({className:e,children:t,...n},r)=>R.jsxs(sS,{ref:r,className:Ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(aS,{children:R.jsx(WT,{className:"h-2 w-2 fill-current"})})}),t]}));bO.displayName=sS.displayName;const SO=E.forwardRef(({className:e,inset:t,...n},r)=>R.jsx(rS,{ref:r,className:Ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));SO.displayName=rS.displayName;const RO=E.forwardRef(({className:e,...t},n)=>R.jsx(lS,{ref:n,className:Ge("-mx-1 my-1 h-px bg-muted",e),...t}));RO.displayName=lS.displayName;const EO=n0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Gt=E.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},c)=>{const h=r?gs:"button";return R.jsx(h,{className:Ge(EO({variant:t,size:n,className:e})),ref:c,...s})});Gt.displayName="Button";const AO=()=>{const e=zl();return R.jsx("nav",{className:"h-16 border-b border-neon-blue/20 bg-space-dark",children:R.jsx("div",{className:"h-full mx-auto px-4",children:R.jsxs("div",{className:"flex h-full items-center justify-between",children:[R.jsx("div",{className:"flex items-center",children:R.jsxs(fc,{to:"/",className:"text-xl font-bold text-white",children:["CARGO",R.jsx("span",{className:"text-neon-blue",children:"LINK"})]})}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsxs(yO,{children:[R.jsx(xO,{asChild:!0,children:R.jsxs(Gt,{variant:"ghost",className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.pathname.startsWith("/contracts")?"text-neon-blue bg-space-medium":"text-gray-300 hover:text-neon-blue"}`,children:[R.jsx(Kw,{className:"h-5 w-5 mr-2"}),"Contracts"]})}),R.jsxs(dS,{className:"bg-space-dark border border-neon-blue/20",children:[R.jsx(Dd,{asChild:!0,children:R.jsx(fc,{to:"/contracts",className:"text-gray-300 hover:text-neon-blue focus:text-neon-blue",children:"All Contracts"})}),R.jsx(Dd,{asChild:!0,children:R.jsx(fc,{to:"/contracts/record",className:"text-gray-300 hover:text-neon-blue focus:text-neon-blue",children:"Record Contract"})}),R.jsx(Dd,{asChild:!0,children:R.jsx(fc,{to:"/contracts/remote",className:"text-gray-300 hover:text-neon-blue focus:text-neon-blue",children:"Remote Session"})})]})]}),R.jsxs(fc,{to:"/routes",className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.pathname==="/routes"?"text-neon-blue bg-space-medium":"text-gray-300 hover:text-neon-blue"}`,children:[R.jsx(Jw,{className:"h-5 w-5 mr-2"}),"Routes"]})]})]})})})};function Y1(e,[t,n]){return Math.min(n,Math.max(t,e))}function TO(e,t){return E.useReducer((n,r)=>t[n][r]??n,e)}var zm="ScrollArea",[fS,_7]=Di(zm),[_O,fo]=fS(zm),hS=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:c=600,...h}=e,[m,x]=E.useState(null),[g,w]=E.useState(null),[C,b]=E.useState(null),[_,N]=E.useState(null),[T,P]=E.useState(null),[M,I]=E.useState(0),[D,F]=E.useState(0),[Y,G]=E.useState(!1),[z,$]=E.useState(!1),Q=ut(t,fe=>x(fe)),ie=h0(s);return R.jsx(_O,{scope:n,type:r,dir:ie,scrollHideDelay:c,scrollArea:m,viewport:g,onViewportChange:w,content:C,onContentChange:b,scrollbarX:_,onScrollbarXChange:N,scrollbarXEnabled:Y,onScrollbarXEnabledChange:G,scrollbarY:T,onScrollbarYChange:P,scrollbarYEnabled:z,onScrollbarYEnabledChange:$,onCornerWidthChange:I,onCornerHeightChange:F,children:R.jsx(Je.div,{dir:ie,...h,ref:Q,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":D+"px",...e.style}})})});hS.displayName=zm;var pS="ScrollAreaViewport",mS=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:c,...h}=e,m=fo(pS,n),x=E.useRef(null),g=ut(t,x,m.onViewportChange);return R.jsxs(R.Fragment,{children:[R.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:c}),R.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...h,asChild:s,ref:g,style:{overflowX:m.scrollbarXEnabled?"scroll":"hidden",overflowY:m.scrollbarYEnabled?"scroll":"hidden",...e.style},children:BO({asChild:s,children:r},w=>R.jsx("div",{"data-radix-scroll-area-content":"",ref:m.onContentChange,style:{minWidth:m.scrollbarXEnabled?"fit-content":void 0},children:w}))})]})});mS.displayName=pS;var oi="ScrollAreaScrollbar",Ym=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=fo(oi,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:h}=s,m=e.orientation==="horizontal";return E.useEffect(()=>(m?c(!0):h(!0),()=>{m?c(!1):h(!1)}),[m,c,h]),s.type==="hover"?R.jsx(IO,{...r,ref:t,forceMount:n}):s.type==="scroll"?R.jsx(NO,{...r,ref:t,forceMount:n}):s.type==="auto"?R.jsx(gS,{...r,ref:t,forceMount:n}):s.type==="always"?R.jsx(Xm,{...r,ref:t}):null});Ym.displayName=oi;var IO=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=fo(oi,e.__scopeScrollArea),[c,h]=E.useState(!1);return E.useEffect(()=>{const m=s.scrollArea;let x=0;if(m){const g=()=>{window.clearTimeout(x),h(!0)},w=()=>{x=window.setTimeout(()=>h(!1),s.scrollHideDelay)};return m.addEventListener("pointerenter",g),m.addEventListener("pointerleave",w),()=>{window.clearTimeout(x),m.removeEventListener("pointerenter",g),m.removeEventListener("pointerleave",w)}}},[s.scrollArea,s.scrollHideDelay]),R.jsx(fr,{present:n||c,children:R.jsx(gS,{"data-state":c?"visible":"hidden",...r,ref:t})})}),NO=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=fo(oi,e.__scopeScrollArea),c=e.orientation==="horizontal",h=C0(()=>x("SCROLL_END"),100),[m,x]=TO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(m==="idle"){const g=window.setTimeout(()=>x("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(g)}},[m,s.scrollHideDelay,x]),E.useEffect(()=>{const g=s.viewport,w=c?"scrollLeft":"scrollTop";if(g){let C=g[w];const b=()=>{const _=g[w];C!==_&&(x("SCROLL"),h()),C=_};return g.addEventListener("scroll",b),()=>g.removeEventListener("scroll",b)}},[s.viewport,c,x,h]),R.jsx(fr,{present:n||m!=="hidden",children:R.jsx(Xm,{"data-state":m==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ke(e.onPointerEnter,()=>x("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>x("POINTER_LEAVE"))})})}),gS=E.forwardRef((e,t)=>{const n=fo(oi,e.__scopeScrollArea),{forceMount:r,...s}=e,[c,h]=E.useState(!1),m=e.orientation==="horizontal",x=C0(()=>{if(n.viewport){const g=n.viewport.offsetWidth<n.viewport.scrollWidth,w=n.viewport.offsetHeight<n.viewport.scrollHeight;h(m?g:w)}},10);return Nl(n.viewport,x),Nl(n.content,x),R.jsx(fr,{present:r||c,children:R.jsx(Xm,{"data-state":c?"visible":"hidden",...s,ref:t})})}),Xm=E.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=fo(oi,e.__scopeScrollArea),c=E.useRef(null),h=E.useRef(0),[m,x]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=CS(m.viewport,m.content),w={...r,sizes:m,onSizesChange:x,hasThumb:g>0&&g<1,onThumbChange:b=>c.current=b,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:b=>h.current=b};function C(b,_){return LO(b,h.current,m,_)}return n==="horizontal"?R.jsx(OO,{...w,ref:t,onThumbPositionChange:()=>{if(s.viewport&&c.current){const b=s.viewport.scrollLeft,_=g2(b,m,s.dir);c.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollLeft=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollLeft=C(b,s.dir))}}):n==="vertical"?R.jsx(MO,{...w,ref:t,onThumbPositionChange:()=>{if(s.viewport&&c.current){const b=s.viewport.scrollTop,_=g2(b,m);c.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollTop=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollTop=C(b))}}):null}),OO=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,c=fo(oi,e.__scopeScrollArea),[h,m]=E.useState(),x=E.useRef(null),g=ut(t,x,c.onScrollbarXChange);return E.useEffect(()=>{x.current&&m(getComputedStyle(x.current))},[x]),R.jsx(xS,{"data-orientation":"horizontal",...s,ref:g,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":w0(n)+"px",...e.style},onThumbPointerDown:w=>e.onThumbPointerDown(w.x),onDragScroll:w=>e.onDragScroll(w.x),onWheelScroll:(w,C)=>{if(c.viewport){const b=c.viewport.scrollLeft+w.deltaX;e.onWheelScroll(b),SS(b,C)&&w.preventDefault()}},onResize:()=>{x.current&&c.viewport&&h&&r({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:x.current.clientWidth,paddingStart:Af(h.paddingLeft),paddingEnd:Af(h.paddingRight)}})}})}),MO=E.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,c=fo(oi,e.__scopeScrollArea),[h,m]=E.useState(),x=E.useRef(null),g=ut(t,x,c.onScrollbarYChange);return E.useEffect(()=>{x.current&&m(getComputedStyle(x.current))},[x]),R.jsx(xS,{"data-orientation":"vertical",...s,ref:g,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":w0(n)+"px",...e.style},onThumbPointerDown:w=>e.onThumbPointerDown(w.y),onDragScroll:w=>e.onDragScroll(w.y),onWheelScroll:(w,C)=>{if(c.viewport){const b=c.viewport.scrollTop+w.deltaY;e.onWheelScroll(b),SS(b,C)&&w.preventDefault()}},onResize:()=>{x.current&&c.viewport&&h&&r({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:x.current.clientHeight,paddingStart:Af(h.paddingTop),paddingEnd:Af(h.paddingBottom)}})}})}),[DO,yS]=fS(oi),xS=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:c,onThumbPointerUp:h,onThumbPointerDown:m,onThumbPositionChange:x,onDragScroll:g,onWheelScroll:w,onResize:C,...b}=e,_=fo(oi,n),[N,T]=E.useState(null),P=ut(t,Q=>T(Q)),M=E.useRef(null),I=E.useRef(""),D=_.viewport,F=r.content-r.viewport,Y=Jt(w),G=Jt(x),z=C0(C,10);function $(Q){if(M.current){const ie=Q.clientX-M.current.left,fe=Q.clientY-M.current.top;g({x:ie,y:fe})}}return E.useEffect(()=>{const Q=ie=>{const fe=ie.target;(N==null?void 0:N.contains(fe))&&Y(ie,F)};return document.addEventListener("wheel",Q,{passive:!1}),()=>document.removeEventListener("wheel",Q,{passive:!1})},[D,N,F,Y]),E.useEffect(G,[r,G]),Nl(N,z),Nl(_.content,z),R.jsx(DO,{scope:n,scrollbar:N,hasThumb:s,onThumbChange:Jt(c),onThumbPointerUp:Jt(h),onThumbPositionChange:G,onThumbPointerDown:Jt(m),children:R.jsx(Je.div,{...b,ref:P,style:{position:"absolute",...b.style},onPointerDown:ke(e.onPointerDown,Q=>{Q.button===0&&(Q.target.setPointerCapture(Q.pointerId),M.current=N.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),$(Q))}),onPointerMove:ke(e.onPointerMove,$),onPointerUp:ke(e.onPointerUp,Q=>{const ie=Q.target;ie.hasPointerCapture(Q.pointerId)&&ie.releasePointerCapture(Q.pointerId),document.body.style.webkitUserSelect=I.current,_.viewport&&(_.viewport.style.scrollBehavior=""),M.current=null})})})}),Ef="ScrollAreaThumb",vS=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yS(Ef,e.__scopeScrollArea);return R.jsx(fr,{present:n||s.hasThumb,children:R.jsx(kO,{ref:t,...r})})}),kO=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,c=fo(Ef,n),h=yS(Ef,n),{onThumbPositionChange:m}=h,x=ut(t,C=>h.onThumbChange(C)),g=E.useRef(),w=C0(()=>{g.current&&(g.current(),g.current=void 0)},100);return E.useEffect(()=>{const C=c.viewport;if(C){const b=()=>{if(w(),!g.current){const _=jO(C,m);g.current=_,m()}};return m(),C.addEventListener("scroll",b),()=>C.removeEventListener("scroll",b)}},[c.viewport,w,m]),R.jsx(Je.div,{"data-state":h.hasThumb?"visible":"hidden",...s,ref:x,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ke(e.onPointerDownCapture,C=>{const _=C.target.getBoundingClientRect(),N=C.clientX-_.left,T=C.clientY-_.top;h.onThumbPointerDown({x:N,y:T})}),onPointerUp:ke(e.onPointerUp,h.onThumbPointerUp)})});vS.displayName=Ef;var Wm="ScrollAreaCorner",wS=E.forwardRef((e,t)=>{const n=fo(Wm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?R.jsx(PO,{...e,ref:t}):null});wS.displayName=Wm;var PO=E.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=fo(Wm,n),[c,h]=E.useState(0),[m,x]=E.useState(0),g=!!(c&&m);return Nl(s.scrollbarX,()=>{var C;const w=((C=s.scrollbarX)==null?void 0:C.offsetHeight)||0;s.onCornerHeightChange(w),x(w)}),Nl(s.scrollbarY,()=>{var C;const w=((C=s.scrollbarY)==null?void 0:C.offsetWidth)||0;s.onCornerWidthChange(w),h(w)}),g?R.jsx(Je.div,{...r,ref:t,style:{width:c,height:m,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Af(e){return e?parseInt(e,10):0}function CS(e,t){const n=e/t;return isNaN(n)?0:n}function w0(e){const t=CS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function LO(e,t,n,r="ltr"){const s=w0(n),c=s/2,h=t||c,m=s-h,x=n.scrollbar.paddingStart+h,g=n.scrollbar.size-n.scrollbar.paddingEnd-m,w=n.content-n.viewport,C=r==="ltr"?[0,w]:[w*-1,0];return bS([x,g],C)(e)}function g2(e,t,n="ltr"){const r=w0(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,c=t.scrollbar.size-s,h=t.content-t.viewport,m=c-r,x=n==="ltr"?[0,h]:[h*-1,0],g=Y1(e,x);return bS([0,h],[0,m])(g)}function bS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function SS(e,t){return e>0&&e<t}var jO=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const c={left:e.scrollLeft,top:e.scrollTop},h=n.left!==c.left,m=n.top!==c.top;(h||m)&&t(),n=c,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function C0(e,t){const n=Jt(e),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Nl(e,t){const n=Jt(t);Dn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function BO(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=E.Children.only(r);return E.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var RS=hS,FO=mS,UO=wS;const ES=E.forwardRef(({className:e,children:t,...n},r)=>R.jsxs(RS,{ref:r,className:Ge("relative overflow-hidden",e),...n,children:[R.jsx(FO,{className:"h-full w-full rounded-[inherit]",children:t}),R.jsx(AS,{}),R.jsx(UO,{})]}));ES.displayName=RS.displayName;const AS=E.forwardRef(({className:e,orientation:t="vertical",...n},r)=>R.jsx(Ym,{ref:r,orientation:t,className:Ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:R.jsx(vS,{className:"relative flex-1 rounded-full bg-border"})}));AS.displayName=Ym.displayName;const hc=({children:e})=>R.jsxs("div",{className:"min-h-screen bg-space-dark",children:[R.jsx(AO,{}),R.jsxs("main",{className:"py-4 px-4 md:px-8",children:[R.jsx(ES,{className:"h-[calc(100vh-5rem)] pr-4",children:R.jsx("div",{className:"px-1 pb-8",children:e})}),R.jsx(dC,{})]})]}),Tf=E.forwardRef(({className:e,...t},n)=>R.jsx("div",{ref:n,className:Ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Tf.displayName="Card";const X1=E.forwardRef(({className:e,...t},n)=>R.jsx("div",{ref:n,className:Ge("flex flex-col space-y-1.5 p-6",e),...t}));X1.displayName="CardHeader";const W1=E.forwardRef(({className:e,...t},n)=>R.jsx("h3",{ref:n,className:Ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));W1.displayName="CardTitle";const zO=E.forwardRef(({className:e,...t},n)=>R.jsx("p",{ref:n,className:Ge("text-sm text-muted-foreground",e),...t}));zO.displayName="CardDescription";const _f=E.forwardRef(({className:e,...t},n)=>R.jsx("div",{ref:n,className:Ge("p-6 pt-0",e),...t}));_f.displayName="CardContent";const YO=E.forwardRef(({className:e,...t},n)=>R.jsx("div",{ref:n,className:Ge("flex items-center p-6 pt-0",e),...t}));YO.displayName="CardFooter";const dd=({title:e,value:t,description:n,icon:r,trend:s})=>R.jsx(Tf,{className:"holographic-panel",children:R.jsxs(_f,{className:"p-6",children:[R.jsxs("div",{className:"flex items-start justify-between",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-400",children:e}),R.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:t}),n&&R.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n})]}),R.jsx("div",{className:"bg-space-medium rounded-full p-2",children:r})]}),s&&R.jsxs("div",{className:"mt-4 flex items-center",children:[R.jsxs("div",{className:`flex items-center text-xs ${s.direction==="up"?"text-green-400":"text-red-400"}`,children:[s.direction==="up"?R.jsx(Gw,{className:"h-3 w-3 mr-1"}):R.jsx(Qw,{className:"h-3 w-3 mr-1"}),R.jsx("span",{children:s.value})]}),R.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"from last week"})]})]})}),XO=n0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function WO({className:e,variant:t,...n}){return R.jsx("div",{className:Ge(XO({variant:t}),e),...n})}const TS=({contracts:e,compact:t=!1})=>{const n=r=>{switch(r){case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"in-progress":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"failed":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}};return e.length===0?R.jsx("p",{className:"text-gray-400",children:"No contracts available"}):R.jsx("div",{className:"space-y-4",children:e.map(r=>R.jsxs("div",{className:"p-4 bg-space-medium/50 border border-neon-blue/20 rounded-lg hover:border-neon-blue/40 transition-colors cursor-pointer",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"font-medium text-white",children:r.title}),!t&&R.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.description})]}),R.jsx(WO,{className:`${n(r.status)}`,children:r.status})]}),R.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-x-2 gap-y-1 text-sm",children:[R.jsx("div",{className:"text-gray-400",children:"From:"}),R.jsx("div",{className:"text-white",children:r.startLocation}),R.jsx("div",{className:"text-gray-400",children:"To:"}),R.jsx("div",{className:"text-white",children:r.endLocation}),R.jsx("div",{className:"text-gray-400",children:"Payment:"}),R.jsxs("div",{className:"text-white",children:[r.payment.toLocaleString()," aUEC"]}),r.deadline&&R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"text-gray-400",children:"Deadline:"}),R.jsx("div",{className:"text-white",children:new Date(r.deadline).toLocaleDateString()})]})]})]},r.id))})},pc=[{id:"cargo-1",name:"Agricultural Supplies",quantity:50,unitValue:120,type:"Agricultural",size:1,fragile:!1,illegal:!1},{id:"cargo-2",name:"Medical Supplies",quantity:30,unitValue:350,type:"Medical",size:1,fragile:!0,illegal:!1},{id:"cargo-3",name:"Titanium",quantity:100,unitValue:80,type:"Metal",size:.5,fragile:!1,illegal:!1},{id:"cargo-4",name:"Widow Jump",quantity:10,unitValue:800,type:"Narcotics",size:.2,fragile:!1,illegal:!0},{id:"cargo-5",name:"Laranite",quantity:70,unitValue:280,type:"Mineral",size:.8,fragile:!1,illegal:!1}],kd=[{id:"contract-1",title:"Medical Supply Run",description:"Transport medical supplies from Port Olisar to Area18",startLocation:"Port Olisar",endLocation:"Area18, ArcCorp",payment:12500,status:"pending",deadline:new Date(Date.now()+864e5),cargo:[pc[1]],createDate:new Date},{id:"contract-2",title:"Mining Material Transport",description:"Transport Titanium and Laranite from Daymar to Lorville",startLocation:"Kudre Ore, Daymar",endLocation:"Lorville, Hurston",payment:18e3,status:"in-progress",deadline:new Date(Date.now()+1728e5),cargo:[pc[2],pc[4]],createDate:new Date(Date.now()-864e5)},{id:"contract-3",title:"Agricultural Delivery",description:"Transport agricultural supplies from Hurston to MicroTech",startLocation:"Lorville, Hurston",endLocation:"New Babbage, MicroTech",payment:15e3,status:"pending",cargo:[pc[0]],createDate:new Date(Date.now()-1728e5)},{id:"contract-4",title:"Covert Delivery",description:"Transport sensitive cargo. No questions asked.",startLocation:"Grim HEX",endLocation:"Levski, Delamar",payment:32e3,status:"pending",cargo:[pc[3]],createDate:new Date(Date.now()-2592e5)}];var HO="Separator",y2="horizontal",VO=["horizontal","vertical"],_S=E.forwardRef((e,t)=>{const{decorative:n,orientation:r=y2,...s}=e,c=QO(r)?r:y2,m=n?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return R.jsx(Je.div,{"data-orientation":c,...m,...s,ref:t})});_S.displayName=HO;function QO(e){return VO.includes(e)}var IS=_S;const NS=E.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>R.jsx(IS,{ref:s,decorative:n,orientation:t,className:Ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));NS.displayName=IS.displayName;const GO=()=>{const e=kd.filter(c=>c.status==="pending"),t=kd.filter(c=>c.status==="in-progress"),n=kd.reduce((c,h)=>h.status==="completed"?c+h.payment:c,0),r=e.reduce((c,h)=>c+h.payment,0),s=e.filter(c=>c.deadline&&c.deadline.getTime()-Date.now()<864e5);return R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("h1",{className:"text-3xl font-bold text-white",children:"Mission Control"}),R.jsx("p",{className:"text-gray-400 mt-2",children:"Welcome to your hauling operations center"})]}),R.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[R.jsx(dd,{title:"Active Contracts",value:t.length.toString(),description:"Current hauling missions",icon:R.jsx(Kw,{className:"h-6 w-6 text-neon-blue"}),trend:{value:"2",direction:"up"}}),R.jsx(dd,{title:"Pending Contracts",value:e.length.toString(),description:"Awaiting action",icon:R.jsx(GT,{className:"h-6 w-6 text-neon-blue"}),trend:{value:"1",direction:"up"}}),R.jsx(dd,{title:"Active Routes",value:"3",description:"Mapped star systems",icon:R.jsx(Jw,{className:"h-6 w-6 text-neon-blue"}),trend:{value:"5%",direction:"up"}}),R.jsx(dd,{title:"Total Earnings",value:`${n.toLocaleString()} aUEC`,description:`${r.toLocaleString()} aUEC pending`,icon:R.jsx(Oy,{className:"h-6 w-6 text-neon-blue"}),trend:{value:"12%",direction:"up"}})]}),R.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[R.jsxs(Tf,{className:"col-span-2 holographic-panel",children:[R.jsx(X1,{className:"pb-2",children:R.jsx(W1,{className:"text-neon-blue",children:"Active Contracts"})}),R.jsx(_f,{children:R.jsx(TS,{contracts:t.length?t:e.slice(0,2),compact:!0})})]}),R.jsxs(Tf,{className:"holographic-panel",children:[R.jsx(X1,{className:"pb-2",children:R.jsx(W1,{className:"text-neon-blue",children:"Urgent Missions"})}),R.jsxs(_f,{children:[s.length>0?R.jsx("div",{className:"space-y-4",children:s.map(c=>R.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-red-500/10 border border-red-500/30",children:[R.jsx(Oy,{className:"h-5 w-5 text-red-400"}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-medium text-white",children:c.title}),R.jsx("p",{className:"text-xs text-gray-400",children:"Deadline approaching"})]})]},c.id))}):R.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[R.jsx("p",{className:"text-gray-400",children:"No urgent missions"}),R.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All deadlines are comfortable"})]}),R.jsx(NS,{className:"my-4 bg-gray-700"}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-medium text-neon-blue mb-2",children:"Quick Stats"}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs("div",{className:"flex justify-between text-sm",children:[R.jsx("span",{className:"text-gray-400",children:"Cargo Hauled (Week):"}),R.jsx("span",{className:"text-white",children:"425 SCU"})]}),R.jsxs("div",{className:"flex justify-between text-sm",children:[R.jsx("span",{className:"text-gray-400",children:"Contracts Completed:"}),R.jsx("span",{className:"text-white",children:"18"})]}),R.jsxs("div",{className:"flex justify-between text-sm",children:[R.jsx("span",{className:"text-gray-400",children:"Success Rate:"}),R.jsx("span",{className:"text-white",children:"96%"})]})]})]})]})]})]})]})},bi=E.forwardRef(({className:e,type:t,...n},r)=>R.jsx("input",{type:t,className:Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));bi.displayName="Input";function OS(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZO=[" ","Enter","ArrowUp","ArrowDown"],$O=[" ","Enter"],Eu="Select",[b0,S0,KO]=Jf(Eu),[Yl,I7]=Di(Eu,[KO,Fl]),R0=Fl(),[qO,Es]=Yl(Eu),[JO,eM]=Yl(Eu),MS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:c,value:h,defaultValue:m,onValueChange:x,dir:g,name:w,autoComplete:C,disabled:b,required:_,form:N}=e,T=R0(t),[P,M]=E.useState(null),[I,D]=E.useState(null),[F,Y]=E.useState(!1),G=h0(g),[z=!1,$]=Ii({prop:r,defaultProp:s,onChange:c}),[Q,ie]=Ii({prop:h,defaultProp:m,onChange:x}),fe=E.useRef(null),re=P?N||!!P.closest("form"):!0,[we,he]=E.useState(new Set),ee=Array.from(we).map(ve=>ve.props.value).join(";");return R.jsx(bm,{...T,children:R.jsxs(qO,{required:_,scope:t,trigger:P,onTriggerChange:M,valueNode:I,onValueNodeChange:D,valueNodeHasChildren:F,onValueNodeHasChildrenChange:Y,contentId:No(),value:Q,onValueChange:ie,open:z,onOpenChange:$,dir:G,triggerPointerDownPosRef:fe,disabled:b,children:[R.jsx(b0.Provider,{scope:t,children:R.jsx(JO,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(ve=>{he(ce=>new Set(ce).add(ve))},[]),onNativeOptionRemove:E.useCallback(ve=>{he(ce=>{const q=new Set(ce);return q.delete(ve),q})},[]),children:n})}),re?R.jsxs(r3,{"aria-hidden":!0,required:_,tabIndex:-1,name:w,autoComplete:C,value:Q,onChange:ve=>ie(ve.target.value),disabled:b,form:N,children:[Q===void 0?R.jsx("option",{value:""}):null,Array.from(we)]},ee):null]})})};MS.displayName=Eu;var DS="SelectTrigger",kS=E.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,c=R0(n),h=Es(DS,n),m=h.disabled||r,x=ut(t,h.onTriggerChange),g=S0(n),w=E.useRef("touch"),[C,b,_]=o3(T=>{const P=g().filter(D=>!D.disabled),M=P.find(D=>D.value===h.value),I=i3(P,T,M);I!==void 0&&h.onValueChange(I.value)}),N=T=>{m||(h.onOpenChange(!0),_()),T&&(h.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return R.jsx(Sm,{asChild:!0,...c,children:R.jsx(Je.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":n3(h.value)?"":void 0,...s,ref:x,onClick:ke(s.onClick,T=>{T.currentTarget.focus(),w.current!=="mouse"&&N(T)}),onPointerDown:ke(s.onPointerDown,T=>{w.current=T.pointerType;const P=T.target;P.hasPointerCapture(T.pointerId)&&P.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(N(T),T.preventDefault())}),onKeyDown:ke(s.onKeyDown,T=>{const P=C.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&b(T.key),!(P&&T.key===" ")&&ZO.includes(T.key)&&(N(),T.preventDefault())})})})});kS.displayName=DS;var PS="SelectValue",LS=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:c,placeholder:h="",...m}=e,x=Es(PS,n),{onValueNodeHasChildrenChange:g}=x,w=c!==void 0,C=ut(t,x.onValueNodeChange);return Dn(()=>{g(w)},[g,w]),R.jsx(Je.span,{...m,ref:C,style:{pointerEvents:"none"},children:n3(x.value)?R.jsx(R.Fragment,{children:h}):c})});LS.displayName=PS;var tM="SelectIcon",jS=E.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return R.jsx(Je.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});jS.displayName=tM;var nM="SelectPortal",BS=e=>R.jsx(vu,{asChild:!0,...e});BS.displayName=nM;var ca="SelectContent",FS=E.forwardRef((e,t)=>{const n=Es(ca,e.__scopeSelect),[r,s]=E.useState();if(Dn(()=>{s(new DocumentFragment)},[]),!n.open){const c=r;return c?pa.createPortal(R.jsx(US,{scope:e.__scopeSelect,children:R.jsx(b0.Slot,{scope:e.__scopeSelect,children:R.jsx("div",{children:e.children})})}),c):null}return R.jsx(zS,{...e,ref:t})});FS.displayName=ca;var wo=10,[US,As]=Yl(ca),rM="SelectContentImpl",zS=E.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:c,onPointerDownOutside:h,side:m,sideOffset:x,align:g,alignOffset:w,arrowPadding:C,collisionBoundary:b,collisionPadding:_,sticky:N,hideWhenDetached:T,avoidCollisions:P,...M}=e,I=Es(ca,n),[D,F]=E.useState(null),[Y,G]=E.useState(null),z=ut(t,Ne=>F(Ne)),[$,Q]=E.useState(null),[ie,fe]=E.useState(null),re=S0(n),[we,he]=E.useState(!1),ee=E.useRef(!1);E.useEffect(()=>{if(D)return Mm(D)},[D]),Om();const ve=E.useCallback(Ne=>{const[Le,...Se]=re().map(Ue=>Ue.ref.current),[Ze]=Se.slice(-1),He=document.activeElement;for(const Ue of Ne)if(Ue===He||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===Le&&Y&&(Y.scrollTop=0),Ue===Ze&&Y&&(Y.scrollTop=Y.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==He))return},[re,Y]),ce=E.useCallback(()=>ve([$,D]),[ve,$,D]);E.useEffect(()=>{we&&ce()},[we,ce]);const{onOpenChange:q,triggerPointerDownPosRef:Z}=I;E.useEffect(()=>{if(D){let Ne={x:0,y:0};const Le=Ze=>{var He,Ue;Ne={x:Math.abs(Math.round(Ze.pageX)-(((He=Z.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(Ze.pageY)-(((Ue=Z.current)==null?void 0:Ue.y)??0))}},Se=Ze=>{Ne.x<=10&&Ne.y<=10?Ze.preventDefault():D.contains(Ze.target)||q(!1),document.removeEventListener("pointermove",Le),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",Se,{capture:!0})}}},[D,q,Z]),E.useEffect(()=>{const Ne=()=>q(!1);return window.addEventListener("blur",Ne),window.addEventListener("resize",Ne),()=>{window.removeEventListener("blur",Ne),window.removeEventListener("resize",Ne)}},[q]);const[J,ne]=o3(Ne=>{const Le=re().filter(He=>!He.disabled),Se=Le.find(He=>He.ref.current===document.activeElement),Ze=i3(Le,Ne,Se);Ze&&setTimeout(()=>Ze.ref.current.focus())}),ue=E.useCallback((Ne,Le,Se)=>{const Ze=!ee.current&&!Se;(I.value!==void 0&&I.value===Le||Ze)&&(Q(Ne),Ze&&(ee.current=!0))},[I.value]),ge=E.useCallback(()=>D==null?void 0:D.focus(),[D]),_e=E.useCallback((Ne,Le,Se)=>{const Ze=!ee.current&&!Se;(I.value!==void 0&&I.value===Le||Ze)&&fe(Ne)},[I.value]),et=r==="popper"?H1:YS,me=et===H1?{side:m,sideOffset:x,align:g,alignOffset:w,arrowPadding:C,collisionBoundary:b,collisionPadding:_,sticky:N,hideWhenDetached:T,avoidCollisions:P}:{};return R.jsx(US,{scope:n,content:D,viewport:Y,onViewportChange:G,itemRefCallback:ue,selectedItem:$,onItemLeave:ge,itemTextRefCallback:_e,focusSelectedItem:ce,selectedItemText:ie,position:r,isPositioned:we,searchRef:J,children:R.jsx(y0,{as:gs,allowPinchZoom:!0,children:R.jsx(p0,{asChild:!0,trapped:I.open,onMountAutoFocus:Ne=>{Ne.preventDefault()},onUnmountAutoFocus:ke(s,Ne=>{var Le;(Le=I.trigger)==null||Le.focus({preventScroll:!0}),Ne.preventDefault()}),children:R.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:Ne=>Ne.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:R.jsx(et,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:Ne=>Ne.preventDefault(),...M,...me,onPlaced:()=>he(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:ke(M.onKeyDown,Ne=>{const Le=Ne.ctrlKey||Ne.altKey||Ne.metaKey;if(Ne.key==="Tab"&&Ne.preventDefault(),!Le&&Ne.key.length===1&&ne(Ne.key),["ArrowUp","ArrowDown","Home","End"].includes(Ne.key)){let Ze=re().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(Ne.key)&&(Ze=Ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ne.key)){const He=Ne.target,Ue=Ze.indexOf(He);Ze=Ze.slice(Ue+1)}setTimeout(()=>ve(Ze)),Ne.preventDefault()}})})})})})})});zS.displayName=rM;var oM="SelectItemAlignedPosition",YS=E.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,c=Es(ca,n),h=As(ca,n),[m,x]=E.useState(null),[g,w]=E.useState(null),C=ut(t,z=>w(z)),b=S0(n),_=E.useRef(!1),N=E.useRef(!0),{viewport:T,selectedItem:P,selectedItemText:M,focusSelectedItem:I}=h,D=E.useCallback(()=>{if(c.trigger&&c.valueNode&&m&&g&&T&&P&&M){const z=c.trigger.getBoundingClientRect(),$=g.getBoundingClientRect(),Q=c.valueNode.getBoundingClientRect(),ie=M.getBoundingClientRect();if(c.dir!=="rtl"){const He=ie.left-$.left,Ue=Q.left-He,$e=z.left-Ue,nn=z.width+$e,Ft=Math.max(nn,$.width),gn=window.innerWidth-wo,Ut=Y1(Ue,[wo,Math.max(wo,gn-Ft)]);m.style.minWidth=nn+"px",m.style.left=Ut+"px"}else{const He=$.right-ie.right,Ue=window.innerWidth-Q.right-He,$e=window.innerWidth-z.right-Ue,nn=z.width+$e,Ft=Math.max(nn,$.width),gn=window.innerWidth-wo,Ut=Y1(Ue,[wo,Math.max(wo,gn-Ft)]);m.style.minWidth=nn+"px",m.style.right=Ut+"px"}const fe=b(),re=window.innerHeight-wo*2,we=T.scrollHeight,he=window.getComputedStyle(g),ee=parseInt(he.borderTopWidth,10),ve=parseInt(he.paddingTop,10),ce=parseInt(he.borderBottomWidth,10),q=parseInt(he.paddingBottom,10),Z=ee+ve+we+q+ce,J=Math.min(P.offsetHeight*5,Z),ne=window.getComputedStyle(T),ue=parseInt(ne.paddingTop,10),ge=parseInt(ne.paddingBottom,10),_e=z.top+z.height/2-wo,et=re-_e,me=P.offsetHeight/2,Ne=P.offsetTop+me,Le=ee+ve+Ne,Se=Z-Le;if(Le<=_e){const He=fe.length>0&&P===fe[fe.length-1].ref.current;m.style.bottom="0px";const Ue=g.clientHeight-T.offsetTop-T.offsetHeight,$e=Math.max(et,me+(He?ge:0)+Ue+ce),nn=Le+$e;m.style.height=nn+"px"}else{const He=fe.length>0&&P===fe[0].ref.current;m.style.top="0px";const $e=Math.max(_e,ee+T.offsetTop+(He?ue:0)+me)+Se;m.style.height=$e+"px",T.scrollTop=Le-_e+T.offsetTop}m.style.margin=`${wo}px 0`,m.style.minHeight=J+"px",m.style.maxHeight=re+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[b,c.trigger,c.valueNode,m,g,T,P,M,c.dir,r]);Dn(()=>D(),[D]);const[F,Y]=E.useState();Dn(()=>{g&&Y(window.getComputedStyle(g).zIndex)},[g]);const G=E.useCallback(z=>{z&&N.current===!0&&(D(),I==null||I(),N.current=!1)},[D,I]);return R.jsx(sM,{scope:n,contentWrapper:m,shouldExpandOnScrollRef:_,onScrollButtonChange:G,children:R.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:R.jsx(Je.div,{...s,ref:C,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});YS.displayName=oM;var iM="SelectPopperPosition",H1=E.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=wo,...c}=e,h=R0(n);return R.jsx(Rm,{...h,...c,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});H1.displayName=iM;var[sM,Hm]=Yl(ca,{}),V1="SelectViewport",XS=E.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,c=As(V1,n),h=Hm(V1,n),m=ut(t,c.onViewportChange),x=E.useRef(0);return R.jsxs(R.Fragment,{children:[R.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),R.jsx(b0.Slot,{scope:n,children:R.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ke(s.onScroll,g=>{const w=g.currentTarget,{contentWrapper:C,shouldExpandOnScrollRef:b}=h;if(b!=null&&b.current&&C){const _=Math.abs(x.current-w.scrollTop);if(_>0){const N=window.innerHeight-wo*2,T=parseFloat(C.style.minHeight),P=parseFloat(C.style.height),M=Math.max(T,P);if(M<N){const I=M+_,D=Math.min(N,I),F=I-D;C.style.height=D+"px",C.style.bottom==="0px"&&(w.scrollTop=F>0?F:0,C.style.justifyContent="flex-end")}}}x.current=w.scrollTop})})})]})});XS.displayName=V1;var WS="SelectGroup",[aM,lM]=Yl(WS),cM=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=No();return R.jsx(aM,{scope:n,id:s,children:R.jsx(Je.div,{role:"group","aria-labelledby":s,...r,ref:t})})});cM.displayName=WS;var HS="SelectLabel",VS=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=lM(HS,n);return R.jsx(Je.div,{id:s.id,...r,ref:t})});VS.displayName=HS;var If="SelectItem",[uM,QS]=Yl(If),GS=E.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:c,...h}=e,m=Es(If,n),x=As(If,n),g=m.value===r,[w,C]=E.useState(c??""),[b,_]=E.useState(!1),N=ut(t,I=>{var D;return(D=x.itemRefCallback)==null?void 0:D.call(x,I,r,s)}),T=No(),P=E.useRef("touch"),M=()=>{s||(m.onValueChange(r),m.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return R.jsx(uM,{scope:n,value:r,disabled:s,textId:T,isSelected:g,onItemTextChange:E.useCallback(I=>{C(D=>D||((I==null?void 0:I.textContent)??"").trim())},[]),children:R.jsx(b0.ItemSlot,{scope:n,value:r,disabled:s,textValue:w,children:R.jsx(Je.div,{role:"option","aria-labelledby":T,"data-highlighted":b?"":void 0,"aria-selected":g&&b,"data-state":g?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...h,ref:N,onFocus:ke(h.onFocus,()=>_(!0)),onBlur:ke(h.onBlur,()=>_(!1)),onClick:ke(h.onClick,()=>{P.current!=="mouse"&&M()}),onPointerUp:ke(h.onPointerUp,()=>{P.current==="mouse"&&M()}),onPointerDown:ke(h.onPointerDown,I=>{P.current=I.pointerType}),onPointerMove:ke(h.onPointerMove,I=>{var D;P.current=I.pointerType,s?(D=x.onItemLeave)==null||D.call(x):P.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(h.onPointerLeave,I=>{var D;I.currentTarget===document.activeElement&&((D=x.onItemLeave)==null||D.call(x))}),onKeyDown:ke(h.onKeyDown,I=>{var F;((F=x.searchRef)==null?void 0:F.current)!==""&&I.key===" "||($O.includes(I.key)&&M(),I.key===" "&&I.preventDefault())})})})})});GS.displayName=If;var Sc="SelectItemText",ZS=E.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...c}=e,h=Es(Sc,n),m=As(Sc,n),x=QS(Sc,n),g=eM(Sc,n),[w,C]=E.useState(null),b=ut(t,M=>C(M),x.onItemTextChange,M=>{var I;return(I=m.itemTextRefCallback)==null?void 0:I.call(m,M,x.value,x.disabled)}),_=w==null?void 0:w.textContent,N=E.useMemo(()=>R.jsx("option",{value:x.value,disabled:x.disabled,children:_},x.value),[x.disabled,x.value,_]),{onNativeOptionAdd:T,onNativeOptionRemove:P}=g;return Dn(()=>(T(N),()=>P(N)),[T,P,N]),R.jsxs(R.Fragment,{children:[R.jsx(Je.span,{id:x.textId,...c,ref:b}),x.isSelected&&h.valueNode&&!h.valueNodeHasChildren?pa.createPortal(c.children,h.valueNode):null]})});ZS.displayName=Sc;var $S="SelectItemIndicator",KS=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return QS($S,n).isSelected?R.jsx(Je.span,{"aria-hidden":!0,...r,ref:t}):null});KS.displayName=$S;var Q1="SelectScrollUpButton",qS=E.forwardRef((e,t)=>{const n=As(Q1,e.__scopeSelect),r=Hm(Q1,e.__scopeSelect),[s,c]=E.useState(!1),h=ut(t,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let m=function(){const g=x.scrollTop>0;c(g)};const x=n.viewport;return m(),x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),s?R.jsx(e3,{...e,ref:h,onAutoScroll:()=>{const{viewport:m,selectedItem:x}=n;m&&x&&(m.scrollTop=m.scrollTop-x.offsetHeight)}}):null});qS.displayName=Q1;var G1="SelectScrollDownButton",JS=E.forwardRef((e,t)=>{const n=As(G1,e.__scopeSelect),r=Hm(G1,e.__scopeSelect),[s,c]=E.useState(!1),h=ut(t,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let m=function(){const g=x.scrollHeight-x.clientHeight,w=Math.ceil(x.scrollTop)<g;c(w)};const x=n.viewport;return m(),x.addEventListener("scroll",m),()=>x.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),s?R.jsx(e3,{...e,ref:h,onAutoScroll:()=>{const{viewport:m,selectedItem:x}=n;m&&x&&(m.scrollTop=m.scrollTop+x.offsetHeight)}}):null});JS.displayName=G1;var e3=E.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,c=As("SelectScrollButton",n),h=E.useRef(null),m=S0(n),x=E.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return E.useEffect(()=>()=>x(),[x]),Dn(()=>{var w;const g=m().find(C=>C.ref.current===document.activeElement);(w=g==null?void 0:g.ref.current)==null||w.scrollIntoView({block:"nearest"})},[m]),R.jsx(Je.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ke(s.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(r,50))}),onPointerMove:ke(s.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),h.current===null&&(h.current=window.setInterval(r,50))}),onPointerLeave:ke(s.onPointerLeave,()=>{x()})})}),dM="SelectSeparator",t3=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return R.jsx(Je.div,{"aria-hidden":!0,...r,ref:t})});t3.displayName=dM;var Z1="SelectArrow",fM=E.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=R0(n),c=Es(Z1,n),h=As(Z1,n);return c.open&&h.position==="popper"?R.jsx(Em,{...s,...r,ref:t}):null});fM.displayName=Z1;function n3(e){return e===""||e===void 0}var r3=E.forwardRef((e,t)=>{const{value:n,...r}=e,s=E.useRef(null),c=ut(t,s),h=OS(n);return E.useEffect(()=>{const m=s.current,x=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(x,"value").set;if(h!==n&&w){const C=new Event("change",{bubbles:!0});w.call(m,n),m.dispatchEvent(C)}},[h,n]),R.jsx(wu,{asChild:!0,children:R.jsx("select",{...r,ref:c,defaultValue:n})})});r3.displayName="BubbleSelect";function o3(e){const t=Jt(e),n=E.useRef(""),r=E.useRef(0),s=E.useCallback(h=>{const m=n.current+h;t(m),function x(g){n.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>x(""),1e3))}(m)},[t]),c=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,c]}function i3(e,t,n){const s=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let h=hM(e,Math.max(c,0));s.length===1&&(h=h.filter(g=>g!==n));const x=h.find(g=>g.textValue.toLowerCase().startsWith(s.toLowerCase()));return x!==n?x:void 0}function hM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var pM=MS,s3=kS,mM=LS,gM=jS,yM=BS,a3=FS,xM=XS,l3=VS,c3=GS,vM=ZS,wM=KS,u3=qS,d3=JS,f3=t3;const CM=pM,bM=mM,h3=E.forwardRef(({className:e,children:t,...n},r)=>R.jsxs(s3,{ref:r,className:Ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,R.jsx(gM,{asChild:!0,children:R.jsx($w,{className:"h-4 w-4 opacity-50"})})]}));h3.displayName=s3.displayName;const p3=E.forwardRef(({className:e,...t},n)=>R.jsx(u3,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:R.jsx(XT,{className:"h-4 w-4"})}));p3.displayName=u3.displayName;const m3=E.forwardRef(({className:e,...t},n)=>R.jsx(d3,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:R.jsx($w,{className:"h-4 w-4"})}));m3.displayName=d3.displayName;const g3=E.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>R.jsx(yM,{children:R.jsxs(a3,{ref:s,className:Ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[R.jsx(p3,{}),R.jsx(xM,{className:Ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),R.jsx(m3,{})]})}));g3.displayName=a3.displayName;const SM=E.forwardRef(({className:e,...t},n)=>R.jsx(l3,{ref:n,className:Ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));SM.displayName=l3.displayName;const Ya=E.forwardRef(({className:e,children:t,...n},r)=>R.jsxs(c3,{ref:r,className:Ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[R.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:R.jsx(wM,{children:R.jsx(Zw,{className:"h-4 w-4"})})}),R.jsx(vM,{children:t})]}));Ya.displayName=c3.displayName;const RM=E.forwardRef(({className:e,...t},n)=>R.jsx(f3,{ref:n,className:Ge("-mx-1 my-1 h-px bg-muted",e),...t}));RM.displayName=f3.displayName;const EM=()=>{const[e,t]=E.useState(""),[n,r]=E.useState("all"),s=kd.filter(c=>{const h=c.title.toLowerCase().includes(e.toLowerCase())||c.description.toLowerCase().includes(e.toLowerCase()),m=n==="all"||c.status===n;return h&&m});return R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsx("h1",{className:"text-3xl font-bold text-white",children:"Contracts"}),R.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your hauling contracts"})]}),R.jsxs(Gt,{className:"bg-neon-blue text-space-dark hover:bg-neon-blue/90",children:[R.jsx(R1,{className:"mr-2 h-4 w-4"}),"New Contract"]})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[R.jsxs("div",{className:"md:col-span-3 relative",children:[R.jsx(VT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),R.jsx(bi,{placeholder:"Search contracts...",className:"pl-10 bg-space-medium border-neon-blue/20 focus:border-neon-blue",value:e,onChange:c=>t(c.target.value)})]}),R.jsx("div",{children:R.jsxs(CM,{value:n,onValueChange:r,children:[R.jsx(h3,{className:"bg-space-medium border-neon-blue/20 focus:border-neon-blue",children:R.jsx(bM,{placeholder:"Filter by status"})}),R.jsxs(g3,{children:[R.jsx(Ya,{value:"all",children:"All Statuses"}),R.jsx(Ya,{value:"pending",children:"Pending"}),R.jsx(Ya,{value:"in-progress",children:"In Progress"}),R.jsx(Ya,{value:"completed",children:"Completed"}),R.jsx(Ya,{value:"failed",children:"Failed"})]})]})})]}),R.jsx("div",{className:"holographic-panel rounded-lg p-4 border border-neon-blue/20",children:R.jsx(TS,{contracts:s})})]})},y3=E.createContext(void 0);function AM({children:e}){const[t,n]=E.useState(!1),r=()=>{n(s=>!s)};return R.jsx(y3.Provider,{value:{isDebugEnabled:t,toggleDebug:r},children:e})}function TM(){const e=E.useContext(y3);if(e===void 0)throw new Error("useDebug must be used within a DebugProvider");return e}var Vm="Switch",[_M,N7]=Di(Vm),[IM,NM]=_M(Vm),x3=E.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:c,required:h,disabled:m,value:x="on",onCheckedChange:g,form:w,...C}=e,[b,_]=E.useState(null),N=ut(t,D=>_(D)),T=E.useRef(!1),P=b?w||!!b.closest("form"):!0,[M=!1,I]=Ii({prop:s,defaultProp:c,onChange:g});return R.jsxs(IM,{scope:n,checked:M,disabled:m,children:[R.jsx(Je.button,{type:"button",role:"switch","aria-checked":M,"aria-required":h,"data-state":C3(M),"data-disabled":m?"":void 0,disabled:m,value:x,...C,ref:N,onClick:ke(e.onClick,D=>{I(F=>!F),P&&(T.current=D.isPropagationStopped(),T.current||D.stopPropagation())})}),P&&R.jsx(OM,{control:b,bubbles:!T.current,name:r,value:x,checked:M,required:h,disabled:m,form:w,style:{transform:"translateX(-100%)"}})]})});x3.displayName=Vm;var v3="SwitchThumb",w3=E.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=NM(v3,n);return R.jsx(Je.span,{"data-state":C3(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});w3.displayName=v3;var OM=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,c=E.useRef(null),h=OS(n),m=CC(t);return E.useEffect(()=>{const x=c.current,g=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==n&&C){const b=new Event("click",{bubbles:r});C.call(x,n),x.dispatchEvent(b)}},[h,n,r]),R.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C3(e){return e?"checked":"unchecked"}var b3=x3,MM=w3;const S3=E.forwardRef(({className:e,...t},n)=>R.jsx(b3,{className:Ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:R.jsx(MM,{className:Ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));S3.displayName=b3.displayName;var DM="Label",R3=E.forwardRef((e,t)=>R.jsx(Je.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));R3.displayName=DM;var E3=R3;const kM=n0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qm=E.forwardRef(({className:e,...t},n)=>R.jsx(E3,{ref:n,className:Ge(kM(),e),...t}));Qm.displayName=E3.displayName;var A3={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vi,function(){var n=function(i,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(f[y]=p[y])})(i,l)},r=function(){return(r=Object.assign||function(i){for(var l,f=1,p=arguments.length;f<p;f++)for(var y in l=arguments[f])Object.prototype.hasOwnProperty.call(l,y)&&(i[y]=l[y]);return i}).apply(this,arguments)};function s(i,l,f){for(var p,y=0,v=l.length;y<v;y++)!p&&y in l||((p=p||Array.prototype.slice.call(l,0,y))[y]=l[y]);return i.concat(p||Array.prototype.slice.call(l))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:vi,h=Object.keys,m=Array.isArray;function x(i,l){return typeof l!="object"||h(l).forEach(function(f){i[f]=l[f]}),i}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var g=Object.getPrototypeOf,w={}.hasOwnProperty;function C(i,l){return w.call(i,l)}function b(i,l){typeof l=="function"&&(l=l(g(i))),(typeof Reflect>"u"?h:Reflect.ownKeys)(l).forEach(function(f){N(i,f,l[f])})}var _=Object.defineProperty;function N(i,l,f,p){_(i,l,x(f&&C(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},p))}function T(i){return{from:function(l){return i.prototype=Object.create(l.prototype),N(i.prototype,"constructor",i),{extend:b.bind(null,i.prototype)}}}}var P=Object.getOwnPropertyDescriptor,M=[].slice;function I(i,l,f){return M.call(i,l,f)}function D(i,l){return l(i)}function F(i){if(!i)throw new Error("Assertion Failed")}function Y(i){c.setImmediate?setImmediate(i):setTimeout(i,0)}function G(i,l){if(typeof l=="string"&&C(i,l))return i[l];if(!l)return i;if(typeof l!="string"){for(var f=[],p=0,y=l.length;p<y;++p){var v=G(i,l[p]);f.push(v)}return f}var S=l.indexOf(".");if(S!==-1){var A=i[l.substr(0,S)];return A==null?void 0:G(A,l.substr(S+1))}}function z(i,l,f){if(i&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof l!="string"&&"length"in l){F(typeof f!="string"&&"length"in f);for(var p=0,y=l.length;p<y;++p)z(i,l[p],f[p])}else{var v,S,A=l.indexOf(".");A!==-1?(v=l.substr(0,A),(S=l.substr(A+1))===""?f===void 0?m(i)&&!isNaN(parseInt(v))?i.splice(v,1):delete i[v]:i[v]=f:z(A=!(A=i[v])||!C(i,v)?i[v]={}:A,S,f)):f===void 0?m(i)&&!isNaN(parseInt(l))?i.splice(l,1):delete i[l]:i[l]=f}}function $(i){var l,f={};for(l in i)C(i,l)&&(f[l]=i[l]);return f}var Q=[].concat;function ie(i){return Q.apply([],i)}var Kt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ie([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(l){return l+i+"Array"})}))).filter(function(i){return c[i]}),fe=new Set(Kt.map(function(i){return c[i]})),re=null;function we(i){return re=new WeakMap,i=function l(f){if(!f||typeof f!="object")return f;var p=re.get(f);if(p)return p;if(m(f)){p=[],re.set(f,p);for(var y=0,v=f.length;y<v;++y)p.push(l(f[y]))}else if(fe.has(f.constructor))p=f;else{var S,A=g(f);for(S in p=A===Object.prototype?{}:Object.create(A),re.set(f,p),f)C(f,S)&&(p[S]=l(f[S]))}return p}(i),re=null,i}var he={}.toString;function ee(i){return he.call(i).slice(8,-1)}var ve=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ce=typeof ve=="symbol"?function(i){var l;return i!=null&&(l=i[ve])&&l.apply(i)}:function(){return null};function q(i,l){return l=i.indexOf(l),0<=l&&i.splice(l,1),0<=l}var Z={};function J(i){var l,f,p,y;if(arguments.length===1){if(m(i))return i.slice();if(this===Z&&typeof i=="string")return[i];if(y=ce(i)){for(f=[];!(p=y.next()).done;)f.push(p.value);return f}if(i==null)return[i];if(typeof(l=i.length)!="number")return[i];for(f=new Array(l);l--;)f[l]=i[l];return f}for(l=arguments.length,f=new Array(l);l--;)f[l]=arguments[l];return f}var ne=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Hr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Hr),ue={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ge(i,l){this.name=i,this.message=l}function _e(i,l){return i+". Errors: "+Object.keys(l).map(function(f){return l[f].toString()}).filter(function(f,p,y){return y.indexOf(f)===p}).join(`
`)}function et(i,l,f,p){this.failures=l,this.failedKeys=p,this.successCount=f,this.message=_e(i,l)}function me(i,l){this.name="BulkError",this.failures=Object.keys(l).map(function(f){return l[f]}),this.failuresByPos=l,this.message=_e(i,this.failures)}T(ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),T(et).from(ge),T(me).from(ge);var Ne=Yn.reduce(function(i,l){return i[l]=l+"Error",i},{}),Le=ge,Se=Yn.reduce(function(i,l){var f=l+"Error";function p(y,v){this.name=f,y?typeof y=="string"?(this.message="".concat(y).concat(v?`
 `+v:""),this.inner=v||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=ue[l]||f,this.inner=null)}return T(p).from(Le),i[l]=p,i},{});Se.Syntax=SyntaxError,Se.Type=TypeError,Se.Range=RangeError;var Ze=Hr.reduce(function(i,l){return i[l+"Error"]=Se[l],i},{}),He=Yn.reduce(function(i,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(i[l+"Error"]=Se[l]),i},{});function Ue(){}function $e(i){return i}function nn(i,l){return i==null||i===$e?l:function(f){return l(i(f))}}function Ft(i,l){return function(){i.apply(this,arguments),l.apply(this,arguments)}}function gn(i,l){return i===Ue?l:function(){var f=i.apply(this,arguments);f!==void 0&&(arguments[0]=f);var p=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var v=l.apply(this,arguments);return p&&(this.onsuccess=this.onsuccess?Ft(p,this.onsuccess):p),y&&(this.onerror=this.onerror?Ft(y,this.onerror):y),v!==void 0?v:f}}function Ut(i,l){return i===Ue?l:function(){i.apply(this,arguments);var f=this.onsuccess,p=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Ft(f,this.onsuccess):f),p&&(this.onerror=this.onerror?Ft(p,this.onerror):p)}}function Rt(i,l){return i===Ue?l:function(f){var p=i.apply(this,arguments);x(f,p);var y=this.onsuccess,v=this.onerror;return this.onsuccess=null,this.onerror=null,f=l.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?Ft(y,this.onsuccess):y),v&&(this.onerror=this.onerror?Ft(v,this.onerror):v),p===void 0?f===void 0?void 0:f:x(p,f)}}function Ke(i,l){return i===Ue?l:function(){return l.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function qn(i,l){return i===Ue?l:function(){var f=i.apply(this,arguments);if(f&&typeof f.then=="function"){for(var p=this,y=arguments.length,v=new Array(y);y--;)v[y]=arguments[y];return f.then(function(){return l.apply(p,v)})}return l.apply(this,arguments)}}He.ModifyError=et,He.DexieError=ge,He.BulkError=me;var Pe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ii(i){Pe=i}var Er={},pr=100,Kt=typeof Promise>"u"?[]:function(){var i=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[i,g(i),i];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,g(l),i]}(),Hr=Kt[0],Yn=Kt[1],Kt=Kt[2],Yn=Yn&&Yn.then,kn=Hr&&Hr.constructor,Jn=!!Kt,Lt=function(i,l){Ot.push([i,l]),ho&&(queueMicrotask(Tn),ho=!1)},si=!0,ho=!0,Vr=[],jt=[],Ie=$e,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ue,pgp:!1,env:{},finalize:Ue},Ee=Et,Ot=[],Ve=0,xt=[];function be(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=Ee;if(typeof i!="function"){if(i!==Er)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&po(this,this._value))}this._state=null,this._value=null,++l.ref,function f(p,y){try{y(function(v){if(p._state===null){if(v===p)throw new TypeError("A promise cannot be resolved with itself.");var S=p._lib&&Ar();v&&typeof v.then=="function"?f(p,function(A,O){v instanceof be?v._then(A,O):v.then(A,O)}):(p._state=!0,p._value=v,_s(p)),S&&mo()}},po.bind(null,p))}catch(v){po(p,v)}}(this,i)}var tt={get:function(){var i=Ee,l=je;function f(p,y){var v=this,S=!i.global&&(i!==Ee||l!==je),A=S&&!tr(),O=new be(function(L,B){er(v,new dn(Tr(p,i,S,A),Tr(y,i,S,A),L,B,i))});return this._consoleTask&&(O._consoleTask=this._consoleTask),O}return f.prototype=Er,f},set:function(i){N(this,"then",i&&i.prototype===Er?tt:{get:function(){return i},set:tt.set})}};function dn(i,l,f,p,y){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof l=="function"?l:null,this.resolve=f,this.reject=p,this.psd=y}function po(i,l){var f,p;jt.push(l),i._state===null&&(f=i._lib&&Ar(),l=Ie(l),i._state=!1,i._value=l,p=i,Vr.some(function(y){return y._value===p._value})||Vr.push(p),_s(i),f&&mo())}function _s(i){var l=i._listeners;i._listeners=[];for(var f=0,p=l.length;f<p;++f)er(i,l[f]);var y=i._PSD;--y.ref||y.finalize(),Ve===0&&(++Ve,Lt(function(){--Ve==0&&mr()},[]))}function er(i,l){if(i._state!==null){var f=i._state?l.onFulfilled:l.onRejected;if(f===null)return(i._state?l.resolve:l.reject)(i._value);++l.psd.ref,++Ve,Lt(Wl,[f,i,l])}else i._listeners.push(l)}function Wl(i,l,f){try{var p,y=l._value;!l._state&&jt.length&&(jt=[]),p=Pe&&l._consoleTask?l._consoleTask.run(function(){return i(y)}):i(y),l._state||jt.indexOf(y)!==-1||function(v){for(var S=Vr.length;S;)if(Vr[--S]._value===v._value)return Vr.splice(S,1)}(l),f.resolve(p)}catch(v){f.reject(v)}finally{--Ve==0&&mr(),--f.psd.ref||f.psd.finalize()}}function Tn(){li(Et,function(){Ar()&&mo()})}function Ar(){var i=si;return ho=si=!1,i}function mo(){var i,l,f;do for(;0<Ot.length;)for(i=Ot,Ot=[],f=i.length,l=0;l<f;++l){var p=i[l];p[0].apply(null,p[1])}while(0<Ot.length);ho=si=!0}function mr(){var i=Vr;Vr=[],i.forEach(function(p){p._PSD.onunhandled.call(null,p._value,p)});for(var l=xt.slice(0),f=l.length;f;)l[--f]()}function ba(i){return new be(Er,!1,i)}function At(i,l){var f=Ee;return function(){var p=Ar(),y=Ee;try{return Cn(f,!0),i.apply(this,arguments)}catch(v){l&&l(v)}finally{Cn(y,!1),p&&mo()}}}b(be.prototype,{then:tt,_then:function(i,l){er(this,new dn(null,null,i,l,Ee))},catch:function(i){if(arguments.length===1)return this.then(null,i);var l=i,f=arguments[1];return typeof l=="function"?this.then(null,function(p){return(p instanceof l?f:ba)(p)}):this.then(null,function(p){return(p&&p.name===l?f:ba)(p)})},finally:function(i){return this.then(function(l){return be.resolve(i()).then(function(){return l})},function(l){return be.resolve(i()).then(function(){return ba(l)})})},timeout:function(i,l){var f=this;return i<1/0?new be(function(p,y){var v=setTimeout(function(){return y(new Se.Timeout(l))},i);f.then(p,y).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&N(be.prototype,Symbol.toStringTag,"Dexie.Promise"),Et.env=Nu(),b(be,{all:function(){var i=J.apply(null,arguments).map(ai);return new be(function(l,f){i.length===0&&l([]);var p=i.length;i.forEach(function(y,v){return be.resolve(y).then(function(S){i[v]=S,--p||l(i)},f)})})},resolve:function(i){return i instanceof be?i:i&&typeof i.then=="function"?new be(function(l,f){i.then(l,f)}):new be(Er,!0,i)},reject:ba,race:function(){var i=J.apply(null,arguments).map(ai);return new be(function(l,f){i.map(function(p){return be.resolve(p).then(l,f)})})},PSD:{get:function(){return Ee},set:function(i){return Ee=i}},totalEchoes:{get:function(){return je}},newPSD:Gr,usePSD:li,scheduler:{get:function(){return Lt},set:function(i){Lt=i}},rejectionMapper:{get:function(){return Ie},set:function(i){Ie=i}},follow:function(i,l){return new be(function(f,p){return Gr(function(y,v){var S=Ee;S.unhandleds=[],S.onunhandled=v,S.finalize=Ft(function(){var A,O=this;A=function(){O.unhandleds.length===0?y():v(O.unhandleds[0])},xt.push(function L(){A(),xt.splice(xt.indexOf(L),1)}),++Ve,Lt(function(){--Ve==0&&mr()},[])},S.finalize),i()},l,f,p)})}}),kn&&(kn.allSettled&&N(be,"allSettled",function(){var i=J.apply(null,arguments).map(ai);return new be(function(l){i.length===0&&l([]);var f=i.length,p=new Array(f);i.forEach(function(y,v){return be.resolve(y).then(function(S){return p[v]={status:"fulfilled",value:S}},function(S){return p[v]={status:"rejected",reason:S}}).then(function(){return--f||l(p)})})})}),kn.any&&typeof AggregateError<"u"&&N(be,"any",function(){var i=J.apply(null,arguments).map(ai);return new be(function(l,f){i.length===0&&f(new AggregateError([]));var p=i.length,y=new Array(p);i.forEach(function(v,S){return be.resolve(v).then(function(A){return l(A)},function(A){y[S]=A,--p||f(new AggregateError(y))})})})}),kn.withResolvers&&(be.withResolvers=kn.withResolvers));var rn={awaits:0,echoes:0,id:0},zn=0,Qr=[],Pn=0,je=0,ki=0;function Gr(i,l,f,p){var y=Ee,v=Object.create(y);return v.parent=y,v.ref=0,v.global=!1,v.id=++ki,Et.env,v.env=Jn?{Promise:be,PromiseProp:{value:be,configurable:!0,writable:!0},all:be.all,race:be.race,allSettled:be.allSettled,any:be.any,resolve:be.resolve,reject:be.reject}:{},l&&x(v,l),++y.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},p=li(v,i,f,p),v.ref===0&&v.finalize(),p}function fn(){return rn.id||(rn.id=++zn),++rn.awaits,rn.echoes+=pr,rn.id}function tr(){return!!rn.awaits&&(--rn.awaits==0&&(rn.id=0),rn.echoes=rn.awaits*pr,!0)}function ai(i){return rn.echoes&&i&&i.constructor===kn?(fn(),i.then(function(l){return tr(),l},function(l){return tr(),nt(l)})):i}function Sa(){var i=Qr[Qr.length-1];Qr.pop(),Cn(i,!1)}function Cn(i,l){var f,p=Ee;(l?!rn.echoes||Pn++&&i===Ee:!Pn||--Pn&&i===Ee)||queueMicrotask(l?(function(y){++je,rn.echoes&&--rn.echoes!=0||(rn.echoes=rn.awaits=rn.id=0),Qr.push(Ee),Cn(y,!0)}).bind(null,i):Sa),i!==Ee&&(Ee=i,p===Et&&(Et.env=Nu()),Jn&&(f=Et.env.Promise,l=i.env,(p.global||i.global)&&(Object.defineProperty(c,"Promise",l.PromiseProp),f.all=l.all,f.race=l.race,f.resolve=l.resolve,f.reject=l.reject,l.allSettled&&(f.allSettled=l.allSettled),l.any&&(f.any=l.any))))}function Nu(){var i=c.Promise;return Jn?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function li(i,l,f,p,y){var v=Ee;try{return Cn(i,!0),l(f,p,y)}finally{Cn(v,!1)}}function Tr(i,l,f,p){return typeof i!="function"?i:function(){var y=Ee;f&&fn(),Cn(l,!0);try{return i.apply(this,arguments)}finally{Cn(y,!1),p&&queueMicrotask(tr)}}}function bn(i){Promise===kn&&rn.echoes===0?Pn===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+Yn).indexOf("[native code]")===-1&&(fn=tr=Ue);var nt=be.reject,Po="",_n="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ra="String expected.",ye=[],Ea="__dbnames",Yt="readonly",Lo="readwrite";function ci(i,l){return i?l?function(){return i.apply(this,arguments)&&l.apply(this,arguments)}:i:l}var bt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yt(i){return typeof i!="string"||/\./.test(i)?function(l){return l}:function(l){return l[i]===void 0&&i in l&&delete(l=we(l))[i],l}}function dt(){throw Se.Type()}function ct(i,l){try{var f=Aa(i),p=Aa(l);if(f!==p)return f==="Array"?1:p==="Array"?-1:f==="binary"?1:p==="binary"?-1:f==="string"?1:p==="string"?-1:f==="Date"?1:p!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return l<i?1:i<l?-1:0;case"binary":return function(y,v){for(var S=y.length,A=v.length,O=S<A?S:A,L=0;L<O;++L)if(y[L]!==v[L])return y[L]<v[L]?-1:1;return S===A?0:S<A?-1:1}(Ta(i),Ta(l));case"Array":return function(y,v){for(var S=y.length,A=v.length,O=S<A?S:A,L=0;L<O;++L){var B=ct(y[L],v[L]);if(B!==0)return B}return S===A?0:S<A?-1:1}(i,l)}}catch{}return NaN}function Aa(i){var l=typeof i;return l!="object"?l:ArrayBuffer.isView(i)?"binary":(i=ee(i),i==="ArrayBuffer"?"binary":i)}function Ta(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}var on=(vt.prototype._trans=function(i,l,f){var p=this._tx||Ee.trans,y=this.name,v=Pe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function S(L,B,j){if(!j.schema[y])throw new Se.NotFound("Table "+y+" not part of transaction");return l(j.idbtrans,j)}var A=Ar();try{var O=p&&p.db._novip===this.db._novip?p===Ee.trans?p._promise(i,S,f):Gr(function(){return p._promise(i,S,f)},{trans:p,transless:Ee.transless||Ee}):function L(B,j,U,W){if(B.idbdb&&(B._state.openComplete||Ee.letThrough||B._vip)){var H=B._createTransaction(j,U,B._dbSchema);try{H.create(),B._state.PR1398_maxLoop=3}catch(V){return V.name===Ne.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return L(B,j,U,W)})):nt(V)}return H._promise(j,function(V,K){return Gr(function(){return Ee.trans=H,W(V,K,H)})}).then(function(V){if(j==="readwrite")try{H.idbtrans.commit()}catch{}return j==="readonly"?V:H._completion.then(function(){return V})})}if(B._state.openComplete)return nt(new Se.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return nt(new Se.DatabaseClosed);B.open().catch(Ue)}return B._state.dbReadyPromise.then(function(){return L(B,j,U,W)})}(this.db,i,[this.name],S);return v&&(O._consoleTask=v,O=O.catch(function(L){return console.trace(L),nt(L)})),O}finally{A&&mo()}},vt.prototype.get=function(i,l){var f=this;return i&&i.constructor===Object?this.where(i).first(l):i==null?nt(new Se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(p){return f.core.get({trans:p,key:i}).then(function(y){return f.hook.reading.fire(y)})}).then(l)},vt.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(m(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var l=h(i);if(l.length===1)return this.where(l[0]).equals(i[l[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(A){if(A.compound&&l.every(function(L){return 0<=A.keyPath.indexOf(L)})){for(var O=0;O<l.length;++O)if(l.indexOf(A.keyPath[O])===-1)return!1;return!0}return!1}).sort(function(A,O){return A.keyPath.length-O.keyPath.length})[0];if(f&&this.db._maxKey!==Po){var v=f.keyPath.slice(0,l.length);return this.where(v).equals(v.map(function(O){return i[O]}))}!f&&Pe&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var p=this.schema.idxByName;function y(A,O){return ct(A,O)===0}var S=l.reduce(function(j,O){var L=j[0],B=j[1],j=p[O],U=i[O];return[L||j,L||!j?ci(B,j&&j.multi?function(W){return W=G(W,O),m(W)&&W.some(function(H){return y(U,H)})}:function(W){return y(U,G(W,O))}):B]},[null,null]),v=S[0],S=S[1];return v?this.where(v.name).equals(i[v.keyPath]).filter(S):f?this.filter(S):this.where(l).equals("")},vt.prototype.filter=function(i){return this.toCollection().and(i)},vt.prototype.count=function(i){return this.toCollection().count(i)},vt.prototype.offset=function(i){return this.toCollection().offset(i)},vt.prototype.limit=function(i){return this.toCollection().limit(i)},vt.prototype.each=function(i){return this.toCollection().each(i)},vt.prototype.toArray=function(i){return this.toCollection().toArray(i)},vt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},vt.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,m(i)?"[".concat(i.join("+"),"]"):i))},vt.prototype.reverse=function(){return this.toCollection().reverse()},vt.prototype.mapToClass=function(i){var l,f=this.db,p=this.name;function y(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=i).prototype instanceof dt&&(function(O,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function B(){this.constructor=O}n(O,L),O.prototype=L===null?Object.create(L):(B.prototype=L.prototype,new B)}(y,l=i),Object.defineProperty(y.prototype,"db",{get:function(){return f},enumerable:!1,configurable:!0}),y.prototype.table=function(){return p},i=y);for(var v=new Set,S=i.prototype;S;S=g(S))Object.getOwnPropertyNames(S).forEach(function(O){return v.add(O)});function A(O){if(!O)return O;var L,B=Object.create(i.prototype);for(L in O)if(!v.has(L))try{B[L]=O[L]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=A,this.hook("reading",A),i},vt.prototype.defineClass=function(){return this.mapToClass(function(i){x(this,i)})},vt.prototype.add=function(i,l){var f=this,p=this.schema.primKey,y=p.auto,v=p.keyPath,S=i;return v&&y&&(S=yt(v)(i)),this._trans("readwrite",function(A){return f.core.mutate({trans:A,type:"add",keys:l!=null?[l]:null,values:[S]})}).then(function(A){return A.numFailures?be.reject(A.failures[0]):A.lastResult}).then(function(A){if(v)try{z(i,v,A)}catch{}return A})},vt.prototype.update=function(i,l){return typeof i!="object"||m(i)?this.where(":id").equals(i).modify(l):(i=G(i,this.schema.primKey.keyPath),i===void 0?nt(new Se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(l))},vt.prototype.put=function(i,l){var f=this,p=this.schema.primKey,y=p.auto,v=p.keyPath,S=i;return v&&y&&(S=yt(v)(i)),this._trans("readwrite",function(A){return f.core.mutate({trans:A,type:"put",values:[S],keys:l!=null?[l]:null})}).then(function(A){return A.numFailures?be.reject(A.failures[0]):A.lastResult}).then(function(A){if(v)try{z(i,v,A)}catch{}return A})},vt.prototype.delete=function(i){var l=this;return this._trans("readwrite",function(f){return l.core.mutate({trans:f,type:"delete",keys:[i]})}).then(function(f){return f.numFailures?be.reject(f.failures[0]):void 0})},vt.prototype.clear=function(){var i=this;return this._trans("readwrite",function(l){return i.core.mutate({trans:l,type:"deleteRange",range:bt})}).then(function(l){return l.numFailures?be.reject(l.failures[0]):void 0})},vt.prototype.bulkGet=function(i){var l=this;return this._trans("readonly",function(f){return l.core.getMany({keys:i,trans:f}).then(function(p){return p.map(function(y){return l.hook.reading.fire(y)})})})},vt.prototype.bulkAdd=function(i,l,f){var p=this,y=Array.isArray(l)?l:void 0,v=(f=f||(y?void 0:l))?f.allKeys:void 0;return this._trans("readwrite",function(S){var L=p.schema.primKey,A=L.auto,L=L.keyPath;if(L&&y)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==i.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var O=i.length,L=L&&A?i.map(yt(L)):i;return p.core.mutate({trans:S,type:"add",keys:y,values:L,wantResults:v}).then(function(H){var j=H.numFailures,U=H.results,W=H.lastResult,H=H.failures;if(j===0)return v?U:W;throw new me("".concat(p.name,".bulkAdd(): ").concat(j," of ").concat(O," operations failed"),H)})})},vt.prototype.bulkPut=function(i,l,f){var p=this,y=Array.isArray(l)?l:void 0,v=(f=f||(y?void 0:l))?f.allKeys:void 0;return this._trans("readwrite",function(S){var L=p.schema.primKey,A=L.auto,L=L.keyPath;if(L&&y)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==i.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var O=i.length,L=L&&A?i.map(yt(L)):i;return p.core.mutate({trans:S,type:"put",keys:y,values:L,wantResults:v}).then(function(H){var j=H.numFailures,U=H.results,W=H.lastResult,H=H.failures;if(j===0)return v?U:W;throw new me("".concat(p.name,".bulkPut(): ").concat(j," of ").concat(O," operations failed"),H)})})},vt.prototype.bulkUpdate=function(i){var l=this,f=this.core,p=i.map(function(S){return S.key}),y=i.map(function(S){return S.changes}),v=[];return this._trans("readwrite",function(S){return f.getMany({trans:S,keys:p,cache:"clone"}).then(function(A){var O=[],L=[];i.forEach(function(j,U){var W=j.key,H=j.changes,V=A[U];if(V){for(var K=0,te=Object.keys(H);K<te.length;K++){var se=te[K],ae=H[se];if(se===l.schema.primKey.keyPath){if(ct(ae,W)!==0)throw new Se.Constraint("Cannot update primary key in bulkUpdate()")}else z(V,se,ae)}v.push(U),O.push(W),L.push(V)}});var B=O.length;return f.mutate({trans:S,type:"put",keys:O,values:L,updates:{keys:p,changeSpecs:y}}).then(function(j){var U=j.numFailures,W=j.failures;if(U===0)return B;for(var H=0,V=Object.keys(W);H<V.length;H++){var K,te=V[H],se=v[Number(te)];se!=null&&(K=W[te],delete W[te],W[se]=K)}throw new me("".concat(l.name,".bulkUpdate(): ").concat(U," of ").concat(B," operations failed"),W)})})})},vt.prototype.bulkDelete=function(i){var l=this,f=i.length;return this._trans("readwrite",function(p){return l.core.mutate({trans:p,type:"delete",keys:i})}).then(function(S){var y=S.numFailures,v=S.lastResult,S=S.failures;if(y===0)return v;throw new me("".concat(l.name,".bulkDelete(): ").concat(y," of ").concat(f," operations failed"),S)})},vt);function vt(){}function Is(i){function l(S,A){if(A){for(var O=arguments.length,L=new Array(O-1);--O;)L[O-1]=arguments[O];return f[S].subscribe.apply(null,L),i}if(typeof S=="string")return f[S]}var f={};l.addEventType=v;for(var p=1,y=arguments.length;p<y;++p)v(arguments[p]);return l;function v(S,A,O){if(typeof S!="object"){var L;A=A||Ke;var B={subscribers:[],fire:O=O||Ue,subscribe:function(j){B.subscribers.indexOf(j)===-1&&(B.subscribers.push(j),B.fire=A(B.fire,j))},unsubscribe:function(j){B.subscribers=B.subscribers.filter(function(U){return U!==j}),B.fire=B.subscribers.reduce(A,O)}};return f[S]=l[S]=B}h(L=S).forEach(function(j){var U=L[j];if(m(U))v(j,L[j][0],L[j][1]);else{if(U!=="asap")throw new Se.InvalidArgument("Invalid event config");var W=v(j,$e,function(){for(var H=arguments.length,V=new Array(H);H--;)V[H]=arguments[H];W.subscribers.forEach(function(K){Y(function(){K.apply(null,V)})})})}})}}function zt(i,l){return T(l).from({prototype:i}),l}function nr(i,l){return!(i.filter||i.algorithm||i.or)&&(l?i.justLimit:!i.replayFilter)}function Hl(i,l){i.filter=ci(i.filter,l)}function jo(i,l,f){var p=i.replayFilter;i.replayFilter=p?function(){return ci(p(),l())}:l,i.justLimit=f&&!p}function _t(i,l){if(i.isPrimKey)return l.primaryKey;var f=l.getIndexByKeyPath(i.index);if(!f)throw new Se.Schema("KeyPath "+i.index+" on object store "+l.name+" is not indexed");return f}function Sn(i,l,f){var p=_t(i,l.schema);return l.openCursor({trans:f,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:p,range:i.range}})}function oe(i,l,f,p){var y=i.replayFilter?ci(i.filter,i.replayFilter()):i.filter;if(i.or){var v={},S=function(A,O,L){var B,j;y&&!y(O,L,function(U){return O.stop(U)},function(U){return O.fail(U)})||((j=""+(B=O.primaryKey))=="[object ArrayBuffer]"&&(j=""+new Uint8Array(B)),C(v,j)||(v[j]=!0,l(A,O,L)))};return Promise.all([i.or._iterate(S,f),X(Sn(i,p,f),i.algorithm,S,!i.keysOnly&&i.valueMapper)])}return X(Sn(i,p,f),ci(i.algorithm,y),l,!i.keysOnly&&i.valueMapper)}function X(i,l,f,p){var y=At(p?function(v,S,A){return f(p(v),S,A)}:f);return i.then(function(v){if(v)return v.start(function(){var S=function(){return v.continue()};l&&!l(v,function(A){return S=A},function(A){v.stop(A),S=Ue},function(A){v.fail(A),S=Ue})||y(v.value,v,function(A){return S=A}),S()})})}var Xe=(hn.prototype.execute=function(i){var l=this["@@propmod"];if(l.add!==void 0){var f=l.add;if(m(f))return s(s([],m(i)?i:[],!0),f).sort();if(typeof f=="number")return(Number(i)||0)+f;if(typeof f=="bigint")try{return BigInt(i)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(l.remove!==void 0){var p=l.remove;if(m(p))return m(i)?i.filter(function(y){return!p.includes(y)}).sort():[];if(typeof p=="number")return Number(i)-p;if(typeof p=="bigint")try{return BigInt(i)-p}catch{return BigInt(0)-p}throw new TypeError("Invalid subtrahend ".concat(p))}return f=(f=l.replacePrefix)===null||f===void 0?void 0:f[0],f&&typeof i=="string"&&i.startsWith(f)?l.replacePrefix[1]+i.substring(f.length):i},hn);function hn(i){this["@@propmod"]=i}var gr=(wt.prototype._read=function(i,l){var f=this._ctx;return f.error?f.table._trans(null,nt.bind(null,f.error)):f.table._trans("readonly",i).then(l)},wt.prototype._write=function(i){var l=this._ctx;return l.error?l.table._trans(null,nt.bind(null,l.error)):l.table._trans("readwrite",i,"locked")},wt.prototype._addAlgorithm=function(i){var l=this._ctx;l.algorithm=ci(l.algorithm,i)},wt.prototype._iterate=function(i,l){return oe(this._ctx,i,l,this._ctx.table.core)},wt.prototype.clone=function(i){var l=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return i&&x(f,i),l._ctx=f,l},wt.prototype.raw=function(){return this._ctx.valueMapper=null,this},wt.prototype.each=function(i){var l=this._ctx;return this._read(function(f){return oe(l,i,f,l.table.core)})},wt.prototype.count=function(i){var l=this;return this._read(function(f){var p=l._ctx,y=p.table.core;if(nr(p,!0))return y.count({trans:f,query:{index:_t(p,y.schema),range:p.range}}).then(function(S){return Math.min(S,p.limit)});var v=0;return oe(p,function(){return++v,!1},f,y).then(function(){return v})}).then(i)},wt.prototype.sortBy=function(i,l){var f=i.split(".").reverse(),p=f[0],y=f.length-1;function v(O,L){return L?v(O[f[L]],L-1):O[p]}var S=this._ctx.dir==="next"?1:-1;function A(O,L){return ct(v(O,y),v(L,y))*S}return this.toArray(function(O){return O.sort(A)}).then(l)},wt.prototype.toArray=function(i){var l=this;return this._read(function(f){var p=l._ctx;if(p.dir==="next"&&nr(p,!0)&&0<p.limit){var y=p.valueMapper,v=_t(p,p.table.core.schema);return p.table.core.query({trans:f,limit:p.limit,values:!0,query:{index:v,range:p.range}}).then(function(A){return A=A.result,y?A.map(y):A})}var S=[];return oe(p,function(A){return S.push(A)},f,p.table.core).then(function(){return S})},i)},wt.prototype.offset=function(i){var l=this._ctx;return i<=0||(l.offset+=i,nr(l)?jo(l,function(){var f=i;return function(p,y){return f===0||(f===1?--f:y(function(){p.advance(f),f=0}),!1)}}):jo(l,function(){var f=i;return function(){return--f<0}})),this},wt.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),jo(this._ctx,function(){var l=i;return function(f,p,y){return--l<=0&&p(y),0<=l}},!0),this},wt.prototype.until=function(i,l){return Hl(this._ctx,function(f,p,y){return!i(f.value)||(p(y),l)}),this},wt.prototype.first=function(i){return this.limit(1).toArray(function(l){return l[0]}).then(i)},wt.prototype.last=function(i){return this.reverse().first(i)},wt.prototype.filter=function(i){var l;return Hl(this._ctx,function(f){return i(f.value)}),(l=this._ctx).isMatch=ci(l.isMatch,i),this},wt.prototype.and=function(i){return this.filter(i)},wt.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},wt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},wt.prototype.desc=function(){return this.reverse()},wt.prototype.eachKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(f,p){i(p.key,p)})},wt.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},wt.prototype.eachPrimaryKey=function(i){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(f,p){i(p.primaryKey,p)})},wt.prototype.keys=function(i){var l=this._ctx;l.keysOnly=!l.isMatch;var f=[];return this.each(function(p,y){f.push(y.key)}).then(function(){return f}).then(i)},wt.prototype.primaryKeys=function(i){var l=this._ctx;if(l.dir==="next"&&nr(l,!0)&&0<l.limit)return this._read(function(p){var y=_t(l,l.table.core.schema);return l.table.core.query({trans:p,values:!1,limit:l.limit,query:{index:y,range:l.range}})}).then(function(p){return p.result}).then(i);l.keysOnly=!l.isMatch;var f=[];return this.each(function(p,y){f.push(y.primaryKey)}).then(function(){return f}).then(i)},wt.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},wt.prototype.firstKey=function(i){return this.limit(1).keys(function(l){return l[0]}).then(i)},wt.prototype.lastKey=function(i){return this.reverse().firstKey(i)},wt.prototype.distinct=function(){var i=this._ctx,i=i.index&&i.table.schema.idxByName[i.index];if(!i||!i.multi)return this;var l={};return Hl(this._ctx,function(y){var p=y.primaryKey.toString(),y=C(l,p);return l[p]=!0,!y}),this},wt.prototype.modify=function(i){var l=this,f=this._ctx;return this._write(function(p){var y,v,S;S=typeof i=="function"?i:(y=h(i),v=y.length,function(K){for(var te=!1,se=0;se<v;++se){var ae=y[se],de=i[ae],pe=G(K,ae);de instanceof Xe?(z(K,ae,de.execute(pe)),te=!0):pe!==de&&(z(K,ae,de),te=!0)}return te});var A=f.table.core,j=A.schema.primaryKey,O=j.outbound,L=j.extractKey,B=200,j=l.db._options.modifyChunkSize;j&&(B=typeof j=="object"?j[A.name]||j["*"]||200:j);function U(K,ae){var se=ae.failures,ae=ae.numFailures;H+=K-ae;for(var de=0,pe=h(se);de<pe.length;de++){var Re=pe[de];W.push(se[Re])}}var W=[],H=0,V=[];return l.clone().primaryKeys().then(function(K){function te(ae){var de=Math.min(B,K.length-ae);return A.getMany({trans:p,keys:K.slice(ae,ae+de),cache:"immutable"}).then(function(pe){for(var Re=[],Ce=[],Ae=O?[]:null,Oe=[],Me=0;Me<de;++Me){var Be=pe[Me],st={value:we(Be),primKey:K[ae+Me]};S.call(st,st.value,st)!==!1&&(st.value==null?Oe.push(K[ae+Me]):O||ct(L(Be),L(st.value))===0?(Ce.push(st.value),O&&Ae.push(K[ae+Me])):(Oe.push(K[ae+Me]),Re.push(st.value)))}return Promise.resolve(0<Re.length&&A.mutate({trans:p,type:"add",values:Re}).then(function(ft){for(var ht in ft.failures)Oe.splice(parseInt(ht),1);U(Re.length,ft)})).then(function(){return(0<Ce.length||se&&typeof i=="object")&&A.mutate({trans:p,type:"put",keys:Ae,values:Ce,criteria:se,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<ae}).then(function(ft){return U(Ce.length,ft)})}).then(function(){return(0<Oe.length||se&&i===Ns)&&A.mutate({trans:p,type:"delete",keys:Oe,criteria:se,isAdditionalChunk:0<ae}).then(function(ft){return U(Oe.length,ft)})}).then(function(){return K.length>ae+de&&te(ae+B)})})}var se=nr(f)&&f.limit===1/0&&(typeof i!="function"||i===Ns)&&{index:f.index,range:f.range};return te(0).then(function(){if(0<W.length)throw new et("Error modifying one or more objects",W,H,V);return K.length})})})},wt.prototype.delete=function(){var i=this._ctx,l=i.range;return nr(i)&&(i.isPrimKey||l.type===3)?this._write(function(f){var p=i.table.core.schema.primaryKey,y=l;return i.table.core.count({trans:f,query:{index:p,range:y}}).then(function(v){return i.table.core.mutate({trans:f,type:"deleteRange",range:y}).then(function(S){var A=S.failures;if(S.lastResult,S.results,S=S.numFailures,S)throw new et("Could not delete some values",Object.keys(A).map(function(O){return A[O]}),v-S);return v-S})})}):this.modify(Ns)},wt);function wt(){}var Ns=function(i,l){return l.value=null};function yr(i,l){return i<l?-1:i===l?0:1}function Qe(i,l){return l<i?-1:i===l?0:1}function pt(i,l,f){return i=i instanceof Ia?new i.Collection(i):i,i._ctx.error=new(f||TypeError)(l),i}function ui(i){return new i.Collection(i,function(){return Os("")}).limit(0)}function _a(i,l,f,p){var y,v,S,A,O,L,B,j=f.length;if(!f.every(function(H){return typeof H=="string"}))return pt(i,Ra);function U(H){y=H==="next"?function(K){return K.toUpperCase()}:function(K){return K.toLowerCase()},v=H==="next"?function(K){return K.toLowerCase()}:function(K){return K.toUpperCase()},S=H==="next"?yr:Qe;var V=f.map(function(K){return{lower:v(K),upper:y(K)}}).sort(function(K,te){return S(K.lower,te.lower)});A=V.map(function(K){return K.upper}),O=V.map(function(K){return K.lower}),B=(L=H)==="next"?"":p}U("next"),i=new i.Collection(i,function(){return Zr(A[0],O[j-1]+p)}),i._ondirectionchange=function(H){U(H)};var W=0;return i._addAlgorithm(function(H,V,K){var te=H.key;if(typeof te!="string")return!1;var se=v(te);if(l(se,O,W))return!0;for(var ae=null,de=W;de<j;++de){var pe=function(Re,Ce,Ae,Oe,Me,Be){for(var st=Math.min(Re.length,Oe.length),ft=-1,ht=0;ht<st;++ht){var Nr=Ce[ht];if(Nr!==Oe[ht])return Me(Re[ht],Ae[ht])<0?Re.substr(0,ht)+Ae[ht]+Ae.substr(ht+1):Me(Re[ht],Oe[ht])<0?Re.substr(0,ht)+Oe[ht]+Ae.substr(ht+1):0<=ft?Re.substr(0,ft)+Ce[ft]+Ae.substr(ft+1):null;Me(Re[ht],Nr)<0&&(ft=ht)}return st<Oe.length&&Be==="next"?Re+Ae.substr(Re.length):st<Re.length&&Be==="prev"?Re.substr(0,Ae.length):ft<0?null:Re.substr(0,ft)+Oe[ft]+Ae.substr(ft+1)}(te,se,A[de],O[de],S,L);pe===null&&ae===null?W=de+1:(ae===null||0<S(ae,pe))&&(ae=pe)}return V(ae!==null?function(){H.continue(ae+B)}:K),!1}),i}function Zr(i,l,f,p){return{type:2,lower:i,upper:l,lowerOpen:f,upperOpen:p}}function Os(i){return{type:1,lower:i,upper:i}}var Ia=(Object.defineProperty(yn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),yn.prototype.between=function(i,l,f,p){f=f!==!1,p=p===!0;try{return 0<this._cmp(i,l)||this._cmp(i,l)===0&&(f||p)&&(!f||!p)?ui(this):new this.Collection(this,function(){return Zr(i,l,!f,!p)})}catch{return pt(this,_n)}},yn.prototype.equals=function(i){return i==null?pt(this,_n):new this.Collection(this,function(){return Os(i)})},yn.prototype.above=function(i){return i==null?pt(this,_n):new this.Collection(this,function(){return Zr(i,void 0,!0)})},yn.prototype.aboveOrEqual=function(i){return i==null?pt(this,_n):new this.Collection(this,function(){return Zr(i,void 0,!1)})},yn.prototype.below=function(i){return i==null?pt(this,_n):new this.Collection(this,function(){return Zr(void 0,i,!1,!0)})},yn.prototype.belowOrEqual=function(i){return i==null?pt(this,_n):new this.Collection(this,function(){return Zr(void 0,i)})},yn.prototype.startsWith=function(i){return typeof i!="string"?pt(this,Ra):this.between(i,i+Po,!0,!0)},yn.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):_a(this,function(l,f){return l.indexOf(f[0])===0},[i],Po)},yn.prototype.equalsIgnoreCase=function(i){return _a(this,function(l,f){return l===f[0]},[i],"")},yn.prototype.anyOfIgnoreCase=function(){var i=J.apply(Z,arguments);return i.length===0?ui(this):_a(this,function(l,f){return f.indexOf(l)!==-1},i,"")},yn.prototype.startsWithAnyOfIgnoreCase=function(){var i=J.apply(Z,arguments);return i.length===0?ui(this):_a(this,function(l,f){return f.some(function(p){return l.indexOf(p)===0})},i,Po)},yn.prototype.anyOf=function(){var i=this,l=J.apply(Z,arguments),f=this._cmp;try{l.sort(f)}catch{return pt(this,_n)}if(l.length===0)return ui(this);var p=new this.Collection(this,function(){return Zr(l[0],l[l.length-1])});p._ondirectionchange=function(v){f=v==="next"?i._ascending:i._descending,l.sort(f)};var y=0;return p._addAlgorithm(function(v,S,A){for(var O=v.key;0<f(O,l[y]);)if(++y===l.length)return S(A),!1;return f(O,l[y])===0||(S(function(){v.continue(l[y])}),!1)}),p},yn.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},yn.prototype.noneOf=function(){var i=J.apply(Z,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return pt(this,_n)}var l=i.reduce(function(f,p){return f?f.concat([[f[f.length-1][1],p]]):[[-1/0,p]]},null);return l.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},yn.prototype.inAnyRange=function(te,l){var f=this,p=this._cmp,y=this._ascending,v=this._descending,S=this._min,A=this._max;if(te.length===0)return ui(this);if(!te.every(function(se){return se[0]!==void 0&&se[1]!==void 0&&y(se[0],se[1])<=0}))return pt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);var O=!l||l.includeLowers!==!1,L=l&&l.includeUppers===!0,B,j=y;function U(se,ae){return j(se[0],ae[0])}try{(B=te.reduce(function(se,ae){for(var de=0,pe=se.length;de<pe;++de){var Re=se[de];if(p(ae[0],Re[1])<0&&0<p(ae[1],Re[0])){Re[0]=S(Re[0],ae[0]),Re[1]=A(Re[1],ae[1]);break}}return de===pe&&se.push(ae),se},[])).sort(U)}catch{return pt(this,_n)}var W=0,H=L?function(se){return 0<y(se,B[W][1])}:function(se){return 0<=y(se,B[W][1])},V=O?function(se){return 0<v(se,B[W][0])}:function(se){return 0<=v(se,B[W][0])},K=H,te=new this.Collection(this,function(){return Zr(B[0][0],B[B.length-1][1],!O,!L)});return te._ondirectionchange=function(se){j=se==="next"?(K=H,y):(K=V,v),B.sort(U)},te._addAlgorithm(function(se,ae,de){for(var pe,Re=se.key;K(Re);)if(++W===B.length)return ae(de),!1;return!H(pe=Re)&&!V(pe)||(f._cmp(Re,B[W][1])===0||f._cmp(Re,B[W][0])===0||ae(function(){j===y?se.continue(B[W][0]):se.continue(B[W][1])}),!1)}),te},yn.prototype.startsWithAnyOf=function(){var i=J.apply(Z,arguments);return i.every(function(l){return typeof l=="string"})?i.length===0?ui(this):this.inAnyRange(i.map(function(l){return[l,l+Po]})):pt(this,"startsWithAnyOf() only works with strings")},yn);function yn(){}function Mt(i){return At(function(l){return go(l),i(l.target.error),!1})}function go(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var xr="storagemutated",qe="x-storagemutated-1",Bo=Is(null,xr),it=(Bt.prototype._lock=function(){return F(!Ee.global),++this._reculock,this._reculock!==1||Ee.global||(Ee.lockOwnerFor=this),this},Bt.prototype._unlock=function(){if(F(!Ee.global),--this._reculock==0)for(Ee.global||(Ee.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{li(i[1],i[0])}catch{}}return this},Bt.prototype._locked=function(){return this._reculock&&Ee.lockOwnerFor!==this},Bt.prototype.create=function(i){var l=this;if(!this.mode)return this;var f=this.db.idbdb,p=this.db._state.dbOpenError;if(F(!this.idbtrans),!i&&!f)switch(p&&p.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(p);case"MissingAPIError":throw new Se.MissingAPI(p.message,p);default:throw new Se.OpenFailed(p)}if(!this.active)throw new Se.TransactionInactive;return F(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=At(function(y){go(y),l._reject(i.error)}),i.onabort=At(function(y){go(y),l.active&&l._reject(new Se.Abort(i.error)),l.active=!1,l.on("abort").fire(y)}),i.oncomplete=At(function(){l.active=!1,l._resolve(),"mutatedParts"in i&&Bo.storagemutated.fire(i.mutatedParts)}),this},Bt.prototype._promise=function(i,l,f){var p=this;if(i==="readwrite"&&this.mode!=="readwrite")return nt(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return nt(new Se.TransactionInactive);if(this._locked())return new be(function(v,S){p._blockedFuncs.push([function(){p._promise(i,l,f).then(v,S)},Ee])});if(f)return Gr(function(){var v=new be(function(S,A){p._lock();var O=l(S,A,p);O&&O.then&&O.then(S,A)});return v.finally(function(){return p._unlock()}),v._lib=!0,v});var y=new be(function(v,S){var A=l(v,S,p);A&&A.then&&A.then(v,S)});return y._lib=!0,y},Bt.prototype._root=function(){return this.parent?this.parent._root():this},Bt.prototype.waitFor=function(i){var l,f=this._root(),p=be.resolve(i);f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return p}):(f._waitingFor=p,f._waitingQueue=[],l=f.idbtrans.objectStore(f.storeNames[0]),function v(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(l.get(-1/0).onsuccess=v)}());var y=f._waitingFor;return new be(function(v,S){p.then(function(A){return f._waitingQueue.push(At(v.bind(null,A)))},function(A){return f._waitingQueue.push(At(S.bind(null,A)))}).finally(function(){f._waitingFor===y&&(f._waitingFor=null)})})},Bt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))},Bt.prototype.table=function(i){var l=this._memoizedTables||(this._memoizedTables={});if(C(l,i))return l[i];var f=this.schema[i];if(!f)throw new Se.NotFound("Table "+i+" not part of transaction");return f=new this.db.Table(i,f,this),f.core=this.db.core.table(i),l[i]=f},Bt);function Bt(){}function Vl(i,l,f,p,y,v,S){return{name:i,keyPath:l,unique:f,multi:p,auto:y,compound:v,src:(f&&!S?"&":"")+(p?"*":"")+(y?"++":"")+Na(l)}}function Na(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function Oa(i,l,f){return{name:i,primKey:l,indexes:f,mappedClass:null,idxByName:(p=function(y){return[y.name,y]},f.reduce(function(y,v,S){return S=p(v,S),S&&(y[S[0]]=S[1]),y},{}))};var p}var _r=function(i){try{return i.only([[]]),_r=function(){return[[]]},[[]]}catch{return _r=function(){return Po},Po}};function Ql(i){return i==null?function(){}:typeof i=="string"?(l=i).split(".").length===1?function(f){return f[l]}:function(f){return G(f,l)}:function(f){return G(f,i)};var l}function Pi(i){return[].slice.call(i)}var Ms=0;function yo(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Ou(i,l,O){function p(K){if(K.type===3)return null;if(K.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var W=K.lower,H=K.upper,V=K.lowerOpen,K=K.upperOpen;return W===void 0?H===void 0?null:l.upperBound(H,!!K):H===void 0?l.lowerBound(W,!!V):l.bound(W,H,!!V,!!K)}function y(U){var W,H=U.name;return{name:H,schema:U,mutate:function(V){var K=V.trans,te=V.type,se=V.keys,ae=V.values,de=V.range;return new Promise(function(pe,Re){pe=At(pe);var Ce=K.objectStore(H),Ae=Ce.keyPath==null,Oe=te==="put"||te==="add";if(!Oe&&te!=="delete"&&te!=="deleteRange")throw new Error("Invalid operation type: "+te);var Me,Be=(se||ae||{length:1}).length;if(se&&ae&&se.length!==ae.length)throw new Error("Given keys array must have same length as given values array.");if(Be===0)return pe({numFailures:0,failures:{},results:[],lastResult:void 0});function st(or){++Nr,go(or)}var ft=[],ht=[],Nr=0;if(te==="deleteRange"){if(de.type===4)return pe({numFailures:Nr,failures:ht,results:[],lastResult:void 0});de.type===3?ft.push(Me=Ce.clear()):ft.push(Me=Ce.delete(p(de)))}else{var Ae=Oe?Ae?[ae,se]:[ae,null]:[se,null],ot=Ae[0],Xn=Ae[1];if(Oe)for(var Wn=0;Wn<Be;++Wn)ft.push(Me=Xn&&Xn[Wn]!==void 0?Ce[te](ot[Wn],Xn[Wn]):Ce[te](ot[Wn])),Me.onerror=st;else for(Wn=0;Wn<Be;++Wn)ft.push(Me=Ce[te](ot[Wn])),Me.onerror=st}function ju(or){or=or.target.result,ft.forEach(function(zs,M0){return zs.error!=null&&(ht[M0]=zs.error)}),pe({numFailures:Nr,failures:ht,results:te==="delete"?se:ft.map(function(zs){return zs.result}),lastResult:or})}Me.onerror=function(or){st(or),ju(or)},Me.onsuccess=ju})},getMany:function(V){var K=V.trans,te=V.keys;return new Promise(function(se,ae){se=At(se);for(var de,pe=K.objectStore(H),Re=te.length,Ce=new Array(Re),Ae=0,Oe=0,Me=function(ft){ft=ft.target,Ce[ft._pos]=ft.result,++Oe===Ae&&se(Ce)},Be=Mt(ae),st=0;st<Re;++st)te[st]!=null&&((de=pe.get(te[st]))._pos=st,de.onsuccess=Me,de.onerror=Be,++Ae);Ae===0&&se(Ce)})},get:function(V){var K=V.trans,te=V.key;return new Promise(function(se,ae){se=At(se);var de=K.objectStore(H).get(te);de.onsuccess=function(pe){return se(pe.target.result)},de.onerror=Mt(ae)})},query:(W=L,function(V){return new Promise(function(K,te){K=At(K);var se,ae,de,Ae=V.trans,pe=V.values,Re=V.limit,Me=V.query,Ce=Re===1/0?void 0:Re,Oe=Me.index,Me=Me.range,Ae=Ae.objectStore(H),Oe=Oe.isPrimaryKey?Ae:Ae.index(Oe.name),Me=p(Me);if(Re===0)return K({result:[]});W?((Ce=pe?Oe.getAll(Me,Ce):Oe.getAllKeys(Me,Ce)).onsuccess=function(Be){return K({result:Be.target.result})},Ce.onerror=Mt(te)):(se=0,ae=!pe&&"openKeyCursor"in Oe?Oe.openKeyCursor(Me):Oe.openCursor(Me),de=[],ae.onsuccess=function(Be){var st=ae.result;return st?(de.push(pe?st.value:st.primaryKey),++se===Re?K({result:de}):void st.continue()):K({result:de})},ae.onerror=Mt(te))})}),openCursor:function(V){var K=V.trans,te=V.values,se=V.query,ae=V.reverse,de=V.unique;return new Promise(function(pe,Re){pe=At(pe);var Oe=se.index,Ce=se.range,Ae=K.objectStore(H),Ae=Oe.isPrimaryKey?Ae:Ae.index(Oe.name),Oe=ae?de?"prevunique":"prev":de?"nextunique":"next",Me=!te&&"openKeyCursor"in Ae?Ae.openKeyCursor(p(Ce),Oe):Ae.openCursor(p(Ce),Oe);Me.onerror=Mt(Re),Me.onsuccess=At(function(Be){var st,ft,ht,Nr,ot=Me.result;ot?(ot.___id=++Ms,ot.done=!1,st=ot.continue.bind(ot),ft=(ft=ot.continuePrimaryKey)&&ft.bind(ot),ht=ot.advance.bind(ot),Nr=function(){throw new Error("Cursor not stopped")},ot.trans=K,ot.stop=ot.continue=ot.continuePrimaryKey=ot.advance=function(){throw new Error("Cursor not started")},ot.fail=At(Re),ot.next=function(){var Xn=this,Wn=1;return this.start(function(){return Wn--?Xn.continue():Xn.stop()}).then(function(){return Xn})},ot.start=function(Xn){function Wn(){if(Me.result)try{Xn()}catch(or){ot.fail(or)}else ot.done=!0,ot.start=function(){throw new Error("Cursor behind last entry")},ot.stop()}var ju=new Promise(function(or,zs){or=At(or),Me.onerror=Mt(zs),ot.fail=zs,ot.stop=function(M0){ot.stop=ot.continue=ot.continuePrimaryKey=ot.advance=Nr,or(M0)}});return Me.onsuccess=At(function(or){Me.onsuccess=Wn,Wn()}),ot.continue=st,ot.continuePrimaryKey=ft,ot.advance=ht,Wn(),ju},pe(ot)):pe(null)},Re)})},count:function(V){var K=V.query,te=V.trans,se=K.index,ae=K.range;return new Promise(function(de,pe){var Re=te.objectStore(H),Ce=se.isPrimaryKey?Re:Re.index(se.name),Re=p(ae),Ce=Re?Ce.count(Re):Ce.count();Ce.onsuccess=At(function(Ae){return de(Ae.target.result)}),Ce.onerror=Mt(pe)})}}}var v,S,A,B=(S=O,A=Pi((v=i).objectStoreNames),{schema:{name:v.name,tables:A.map(function(U){return S.objectStore(U)}).map(function(U){var W=U.keyPath,K=U.autoIncrement,H=m(W),V={},K={name:U.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:W==null,compound:H,keyPath:W,autoIncrement:K,unique:!0,extractKey:Ql(W)},indexes:Pi(U.indexNames).map(function(te){return U.index(te)}).map(function(de){var se=de.name,ae=de.unique,pe=de.multiEntry,de=de.keyPath,pe={name:se,compound:m(de),keyPath:de,unique:ae,multiEntry:pe,extractKey:Ql(de)};return V[yo(de)]=pe}),getIndexByKeyPath:function(te){return V[yo(te)]}};return V[":id"]=K.primaryKey,W!=null&&(V[yo(W)]=K.primaryKey),K})},hasGetAll:0<A.length&&"getAll"in S.objectStore(A[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),O=B.schema,L=B.hasGetAll,B=O.tables.map(y),j={};return B.forEach(function(U){return j[U.name]=U}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(U){if(!j[U])throw new Error("Table '".concat(U,"' not found"));return j[U]},MIN_KEY:-1/0,MAX_KEY:_r(l),schema:O}}function Ds(i,l,f,p){var y=f.IDBKeyRange;return f.indexedDB,{dbcore:(p=Ou(l,y,p),i.dbcore.reduce(function(v,S){return S=S.create,r(r({},v),S(v))},p))}}function Fo(i,p){var f=p.db,p=Ds(i._middlewares,f,i._deps,p);i.core=p.dbcore,i.tables.forEach(function(y){var v=y.name;i.core.schema.tables.some(function(S){return S.name===v})&&(y.core=i.core.table(v),i[v]instanceof i.Table&&(i[v].core=y.core))})}function Rn(i,l,f,p){f.forEach(function(y){var v=p[y];l.forEach(function(S){var A=function O(L,B){return P(L,B)||(L=g(L))&&O(L,B)}(S,y);(!A||"value"in A&&A.value===void 0)&&(S===i.Transaction.prototype||S instanceof i.Transaction?N(S,y,{get:function(){return this.table(y)},set:function(O){_(this,y,{value:O,writable:!0,configurable:!0,enumerable:!0})}}):S[y]=new i.Table(y,v))})})}function Ma(i,l){l.forEach(function(f){for(var p in f)f[p]instanceof i.Table&&delete f[p]})}function Mu(i,l){return i._cfg.version-l._cfg.version}function Du(i,l,f,p){var y=i._dbSchema;f.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=Oa("$meta",ku("")[0],[]),i._storeNames.push("$meta"));var v=i._createTransaction("readwrite",i._storeNames,y);v.create(f),v._completion.catch(p);var S=v._reject.bind(v),A=Ee.transless||Ee;Gr(function(){return Ee.trans=v,Ee.transless=A,l!==0?(Fo(i,f),L=l,((O=v).storeNames.includes("$meta")?O.table("$meta").get("version").then(function(B){return B??L}):be.resolve(L)).then(function(B){return U=B,W=v,H=f,V=[],B=(j=i)._versions,K=j._dbSchema=di(0,j.idbdb,H),(B=B.filter(function(te){return te._cfg.version>=U})).length!==0?(B.forEach(function(te){V.push(function(){var se=K,ae=te._cfg.dbschema;Ir(j,se,H),Ir(j,ae,H),K=j._dbSchema=ae;var de=Gl(se,ae);de.add.forEach(function(Oe){Zl(H,Oe[0],Oe[1].primKey,Oe[1].indexes)}),de.change.forEach(function(Oe){if(Oe.recreate)throw new Se.Upgrade("Not yet support for changing primary key");var Me=H.objectStore(Oe.name);Oe.add.forEach(function(Be){return ks(Me,Be)}),Oe.change.forEach(function(Be){Me.deleteIndex(Be.name),ks(Me,Be)}),Oe.del.forEach(function(Be){return Me.deleteIndex(Be)})});var pe=te._cfg.contentUpgrade;if(pe&&te._cfg.version>U){Fo(j,H),W._memoizedTables={};var Re=$(ae);de.del.forEach(function(Oe){Re[Oe]=se[Oe]}),Ma(j,[j.Transaction.prototype]),Rn(j,[j.Transaction.prototype],h(Re),Re),W.schema=Re;var Ce,Ae=ne(pe);return Ae&&fn(),de=be.follow(function(){var Oe;(Ce=pe(W))&&Ae&&(Oe=tr.bind(null,null),Ce.then(Oe,Oe))}),Ce&&typeof Ce.then=="function"?be.resolve(Ce):de.then(function(){return Ce})}}),V.push(function(se){var ae,de,pe=te._cfg.dbschema;ae=pe,de=se,[].slice.call(de.db.objectStoreNames).forEach(function(Re){return ae[Re]==null&&de.db.deleteObjectStore(Re)}),Ma(j,[j.Transaction.prototype]),Rn(j,[j.Transaction.prototype],j._storeNames,j._dbSchema),W.schema=j._dbSchema}),V.push(function(se){j.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(j.idbdb.version/10)===te._cfg.version?(j.idbdb.deleteObjectStore("$meta"),delete j._dbSchema.$meta,j._storeNames=j._storeNames.filter(function(ae){return ae!=="$meta"})):se.objectStore("$meta").put(te._cfg.version,"version"))})}),function te(){return V.length?be.resolve(V.shift()(W.idbtrans)).then(te):be.resolve()}().then(function(){It(K,H)})):be.resolve();var j,U,W,H,V,K}).catch(S)):(h(y).forEach(function(B){Zl(f,B,y[B].primKey,y[B].indexes)}),Fo(i,f),void be.follow(function(){return i.on.populate.fire(v)}).catch(S));var O,L})}function _0(i,l){It(i._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var f=di(0,i.idbdb,l);Ir(i,i._dbSchema,l);for(var p=0,y=Gl(f,i._dbSchema).change;p<y.length;p++){var v=function(S){if(S.change.length||S.recreate)return console.warn("Unable to patch indexes of table ".concat(S.name," because it has changes on the type of index or primary key.")),{value:void 0};var A=l.objectStore(S.name);S.add.forEach(function(O){Pe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(S.name,".").concat(O.src)),ks(A,O)})}(y[p]);if(typeof v=="object")return v.value}}function Gl(i,l){var f,p={del:[],add:[],change:[]};for(f in i)l[f]||p.del.push(f);for(f in l){var y=i[f],v=l[f];if(y){var S={name:f,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||y.primKey.auto!==v.primKey.auto)S.recreate=!0,p.change.push(S);else{var A=y.idxByName,O=v.idxByName,L=void 0;for(L in A)O[L]||S.del.push(L);for(L in O){var B=A[L],j=O[L];B?B.src!==j.src&&S.change.push(j):S.add.push(j)}(0<S.del.length||0<S.add.length||0<S.change.length)&&p.change.push(S)}}else p.add.push([f,v])}return p}function Zl(i,l,f,p){var y=i.db.createObjectStore(l,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});return p.forEach(function(v){return ks(y,v)}),y}function It(i,l){h(i).forEach(function(f){l.db.objectStoreNames.contains(f)||(Pe&&console.debug("Dexie: Creating missing table",f),Zl(l,f,i[f].primKey,i[f].indexes))})}function ks(i,l){i.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function di(i,l,f){var p={};return I(l.objectStoreNames,0).forEach(function(y){for(var v=f.objectStore(y),S=Vl(Na(L=v.keyPath),L||"",!0,!1,!!v.autoIncrement,L&&typeof L!="string",!0),A=[],O=0;O<v.indexNames.length;++O){var B=v.index(v.indexNames[O]),L=B.keyPath,B=Vl(B.name,L,!!B.unique,!!B.multiEntry,!1,L&&typeof L!="string",!1);A.push(B)}p[y]=Oa(y,S,A)}),p}function Ir(i,l,f){for(var p=f.db.objectStoreNames,y=0;y<p.length;++y){var v=p[y],S=f.objectStore(v);i._hasGetAll="getAll"in S;for(var A=0;A<S.indexNames.length;++A){var O=S.indexNames[A],L=S.index(O).keyPath,B=typeof L=="string"?L:"["+I(L).join("+")+"]";!l[v]||(L=l[v].idxByName[B])&&(L.name=O,delete l[v].idxByName[B],l[v].idxByName[O]=L)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function ku(i){return i.split(",").map(function(l,f){var p=(l=l.trim()).replace(/([&*]|\+\+)/g,""),y=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Vl(p,y||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),m(y),f===0)})}var le=(rt.prototype._parseStoresSpec=function(i,l){h(i).forEach(function(f){if(i[f]!==null){var p=ku(i[f]),y=p.shift();if(y.unique=!0,y.multi)throw new Se.Schema("Primary key cannot be multi-valued");p.forEach(function(v){if(v.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),l[f]=Oa(f,y,p)}})},rt.prototype.stores=function(f){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,f):f;var f=l._versions,p={},y={};return f.forEach(function(v){x(p,v._cfg.storesSource),y=v._cfg.dbschema={},v._parseStoresSpec(p,y)}),l._dbSchema=y,Ma(l,[l._allTables,l,l.Transaction.prototype]),Rn(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],h(y),y),l._storeNames=h(y),this},rt.prototype.upgrade=function(i){return this._cfg.contentUpgrade=qn(this._cfg.contentUpgrade||Ue,i),this},rt);function rt(){}function pn(i,l){var f=i._dbNamesDB;return f||(f=i._dbNamesDB=new eo(Ea,{addons:[],indexedDB:i,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Li(i){return i&&typeof i.databases=="function"}function Da(i){return Gr(function(){return Ee.letThrough=!0,i()})}function $l(i){return!("from"in i)}var In=function(i,l){if(!this){var f=new In;return i&&"d"in i&&x(f,i),f}x(this,arguments.length?{d:1,from:i,to:1<arguments.length?l:i}:{d:0})};function Ps(i,l,f){var p=ct(l,f);if(!isNaN(p)){if(0<p)throw RangeError();if($l(i))return x(i,{from:l,to:f,d:1});var y=i.l,p=i.r;if(ct(f,i.from)<0)return y?Ps(y,l,f):i.l={from:l,to:f,d:1,l:null,r:null},Wt(i);if(0<ct(l,i.to))return p?Ps(p,l,f):i.r={from:l,to:f,d:1,l:null,r:null},Wt(i);ct(l,i.from)<0&&(i.from=l,i.l=null,i.d=p?p.d+1:1),0<ct(f,i.to)&&(i.to=f,i.r=null,i.d=i.l?i.l.d+1:1),f=!i.r,y&&!i.l&&fi(i,y),p&&f&&fi(i,p)}}function fi(i,l){$l(l)||function f(p,O){var v=O.from,S=O.to,A=O.l,O=O.r;Ps(p,v,S),A&&f(p,A),O&&f(p,O)}(i,l)}function sn(i,l){var f=ji(l),p=f.next();if(p.done)return!1;for(var y=p.value,v=ji(i),S=v.next(y.from),A=S.value;!p.done&&!S.done;){if(ct(A.from,y.to)<=0&&0<=ct(A.to,y.from))return!0;ct(y.from,A.from)<0?y=(p=f.next(A.from)).value:A=(S=v.next(y.from)).value}return!1}function ji(i){var l=$l(i)?null:{s:0,n:i};return{next:function(f){for(var p=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,p)for(;l.n.l&&ct(f,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!p||ct(f,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function Wt(i){var l,f,p=(((l=i.r)===null||l===void 0?void 0:l.d)||0)-(((f=i.l)===null||f===void 0?void 0:f.d)||0),y=1<p?"r":p<-1?"l":"";y&&(l=y=="r"?"l":"r",f=r({},i),p=i[y],i.from=p.from,i.to=p.to,i[y]=p[y],f[y]=p[l],(i[l]=f).d=Ls(f)),i.d=Ls(i)}function Ls(f){var l=f.r,f=f.l;return(l?f?Math.max(l.d,f.d):l.d:f?f.d:0)+1}function $r(i,l){return h(l).forEach(function(f){i[f]?fi(i[f],l[f]):i[f]=function p(y){var v,S,A={};for(v in y)C(y,v)&&(S=y[v],A[v]=!S||typeof S!="object"||fe.has(S.constructor)?S:p(S));return A}(l[f])}),i}function Nt(i,l){return i.all||l.all||Object.keys(i).some(function(f){return l[f]&&sn(l[f],i[f])})}b(In.prototype,((Yn={add:function(i){return fi(this,i),this},addKey:function(i){return Ps(this,i,i),this},addKeys:function(i){var l=this;return i.forEach(function(f){return Ps(l,f,f)}),this},hasKey:function(i){var l=ji(this).next(i).value;return l&&ct(l.from,i)<=0&&0<=ct(l.to,i)}})[ve]=function(){return ji(this)},Yn));var We={},Kl={},Dt=!1;function Kr(i){$r(Kl,i),Dt||(Dt=!0,setTimeout(function(){Dt=!1,Uo(Kl,!(Kl={}))},0))}function Uo(i,l){l===void 0&&(l=!1);var f=new Set;if(i.all)for(var p=0,y=Object.values(We);p<y.length;p++)Pu(S=y[p],i,f,l);else for(var v in i){var S,A=/^idb\:\/\/(.*)\/(.*)\//.exec(v);A&&(v=A[1],A=A[2],(S=We["idb://".concat(v,"/").concat(A)])&&Pu(S,i,f,l))}f.forEach(function(O){return O()})}function Pu(i,l,f,p){for(var y=[],v=0,S=Object.entries(i.queries.query);v<S.length;v++){for(var A=S[v],O=A[0],L=[],B=0,j=A[1];B<j.length;B++){var U=j[B];Nt(l,U.obsSet)?U.subscribers.forEach(function(K){return f.add(K)}):p&&L.push(U)}p&&y.push([O,L])}if(p)for(var W=0,H=y;W<H.length;W++){var V=H[W],O=V[0],L=V[1];i.queries.query[O]=L}}function qr(i){var l=i._state,f=i._deps.indexedDB;if(l.isBeingOpened||i.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?nt(l.dbOpenError):i});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var p=l.openCanceller,y=Math.round(10*i.verno),v=!1;function S(){if(l.openCanceller!==p)throw new Se.DatabaseClosed("db.open() was cancelled")}function A(){return new be(function(U,W){if(S(),!f)throw new Se.MissingAPI;var H=i.name,V=l.autoSchema||!y?f.open(H):f.open(H,y);if(!V)throw new Se.MissingAPI;V.onerror=Mt(W),V.onblocked=At(i._fireOnBlocked),V.onupgradeneeded=At(function(K){var te;B=V.transaction,l.autoSchema&&!i._options.allowEmptyDB?(V.onerror=go,B.abort(),V.result.close(),(te=f.deleteDatabase(H)).onsuccess=te.onerror=At(function(){W(new Se.NoSuchDatabase("Database ".concat(H," doesnt exist")))})):(B.onerror=Mt(W),K=K.oldVersion>Math.pow(2,62)?0:K.oldVersion,j=K<1,i.idbdb=V.result,v&&_0(i,B),Du(i,K/10,B,W))},W),V.onsuccess=At(function(){B=null;var K,te,se,ae,de,pe=i.idbdb=V.result,Re=I(pe.objectStoreNames);if(0<Re.length)try{var Ce=pe.transaction((ae=Re).length===1?ae[0]:ae,"readonly");if(l.autoSchema)te=pe,se=Ce,(K=i).verno=te.version/10,se=K._dbSchema=di(0,te,se),K._storeNames=I(te.objectStoreNames,0),Rn(K,[K._allTables],h(se),se);else if(Ir(i,i._dbSchema,Ce),((de=Gl(di(0,(de=i).idbdb,Ce),de._dbSchema)).add.length||de.change.some(function(Ae){return Ae.add.length||Ae.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),pe.close(),y=pe.version+1,v=!0,U(A());Fo(i,Ce)}catch{}ye.push(i),pe.onversionchange=At(function(Ae){l.vcFired=!0,i.on("versionchange").fire(Ae)}),pe.onclose=At(function(Ae){i.on("close").fire(Ae)}),j&&(de=i._deps,Ce=H,pe=de.indexedDB,de=de.IDBKeyRange,Li(pe)||Ce===Ea||pn(pe,de).put({name:Ce}).catch(Ue)),U()},W)}).catch(function(U){switch(U==null?void 0:U.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),A();break;case"VersionError":if(0<y)return y=0,A()}return be.reject(U)})}var O,L=l.dbReadyResolve,B=null,j=!1;return be.race([p,(typeof navigator>"u"?be.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(U){function W(){return indexedDB.databases().finally(U)}O=setInterval(W,100),W()}).finally(function(){return clearInterval(O)}):Promise.resolve()).then(A)]).then(function(){return S(),l.onReadyBeingFired=[],be.resolve(Da(function(){return i.on.ready.fire(i.vip)})).then(function U(){if(0<l.onReadyBeingFired.length){var W=l.onReadyBeingFired.reduce(qn,Ue);return l.onReadyBeingFired=[],be.resolve(Da(function(){return W(i.vip)})).then(U)}})}).finally(function(){l.openCanceller===p&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(U){l.dbOpenError=U;try{B&&B.abort()}catch{}return p===l.openCanceller&&i._close(),nt(U)}).finally(function(){l.openComplete=!0,L()}).then(function(){var U;return j&&(U={},i.tables.forEach(function(W){W.schema.indexes.forEach(function(H){H.name&&(U["idb://".concat(i.name,"/").concat(W.name,"/").concat(H.name)]=new In(-1/0,[[[]]]))}),U["idb://".concat(i.name,"/").concat(W.name,"/")]=U["idb://".concat(i.name,"/").concat(W.name,"/:dels")]=new In(-1/0,[[[]]])}),Bo(xr).fire(U),Uo(U,!0)),i})}function js(i){function l(v){return i.next(v)}var f=y(l),p=y(function(v){return i.throw(v)});function y(v){return function(O){var A=v(O),O=A.value;return A.done?O:O&&typeof O.then=="function"?O.then(f,p):m(O)?Promise.all(O).then(f,p):f(O)}}return y(l)()}function Bs(i,l,f){for(var p=m(i)?i.slice():[i],y=0;y<f;++y)p.push(l);return p}var ql={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return r(r({},i),{table:function(l){var f=i.table(l),p=f.schema,y={},v=[];function S(j,U,W){var H=yo(j),V=y[H]=y[H]||[],K=j==null?0:typeof j=="string"?1:j.length,te=0<U,te=r(r({},W),{name:te?"".concat(H,"(virtual-from:").concat(W.name,")"):W.name,lowLevelIndex:W,isVirtual:te,keyTail:U,keyLength:K,extractKey:Ql(j),unique:!te&&W.unique});return V.push(te),te.isPrimaryKey||v.push(te),1<K&&S(K===2?j[0]:j.slice(0,K-1),U+1,W),V.sort(function(se,ae){return se.keyTail-ae.keyTail}),te}l=S(p.primaryKey.keyPath,0,p.primaryKey),y[":id"]=[l];for(var A=0,O=p.indexes;A<O.length;A++){var L=O[A];S(L.keyPath,0,L)}function B(j){var U,W=j.query.index;return W.isVirtual?r(r({},j),{query:{index:W.lowLevelIndex,range:(U=j.query.range,W=W.keyTail,{type:U.type===1?2:U.type,lower:Bs(U.lower,U.lowerOpen?i.MAX_KEY:i.MIN_KEY,W),lowerOpen:!0,upper:Bs(U.upper,U.upperOpen?i.MIN_KEY:i.MAX_KEY,W),upperOpen:!0})}}):j}return r(r({},f),{schema:r(r({},p),{primaryKey:l,indexes:v,getIndexByKeyPath:function(j){return(j=y[yo(j)])&&j[0]}}),count:function(j){return f.count(B(j))},query:function(j){return f.query(B(j))},openCursor:function(j){var U=j.query.index,W=U.keyTail,H=U.isVirtual,V=U.keyLength;return H?f.openCursor(B(j)).then(function(te){return te&&K(te)}):f.openCursor(j);function K(te){return Object.create(te,{continue:{value:function(se){se!=null?te.continue(Bs(se,j.reverse?i.MAX_KEY:i.MIN_KEY,W)):j.unique?te.continue(te.key.slice(0,V).concat(j.reverse?i.MIN_KEY:i.MAX_KEY,W)):te.continue()}},continuePrimaryKey:{value:function(se,ae){te.continuePrimaryKey(Bs(se,i.MAX_KEY,W),ae)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var se=te.key;return V===1?se[0]:se.slice(0,V)}},value:{get:function(){return te.value}}})}}})}})}};function ka(i,l,f,p){return f=f||{},p=p||"",h(i).forEach(function(y){var v,S,A;C(l,y)?(v=i[y],S=l[y],typeof v=="object"&&typeof S=="object"&&v&&S?(A=ee(v))!==ee(S)?f[p+y]=l[y]:A==="Object"?ka(v,S,f,p+y+"."):v!==S&&(f[p+y]=l[y]):v!==S&&(f[p+y]=l[y])):f[p+y]=void 0}),h(l).forEach(function(y){C(i,y)||(f[p+y]=l[y])}),f}function Pa(i,l){return l.type==="delete"?l.keys:l.keys||l.values.map(i.extractKey)}var I0={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return r(r({},i),{table:function(l){var f=i.table(l),p=f.schema.primaryKey;return r(r({},f),{mutate:function(y){var v=Ee.trans,S=v.table(l).hook,A=S.deleting,O=S.creating,L=S.updating;switch(y.type){case"add":if(O.fire===Ue)break;return v._promise("readwrite",function(){return B(y)},!0);case"put":if(O.fire===Ue&&L.fire===Ue)break;return v._promise("readwrite",function(){return B(y)},!0);case"delete":if(A.fire===Ue)break;return v._promise("readwrite",function(){return B(y)},!0);case"deleteRange":if(A.fire===Ue)break;return v._promise("readwrite",function(){return function j(U,W,H){return f.query({trans:U,values:!1,query:{index:p,range:W},limit:H}).then(function(V){var K=V.result;return B({type:"delete",keys:K,trans:U}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):K.length<H?{failures:[],numFailures:0,lastResult:void 0}:j(U,r(r({},W),{lower:K[K.length-1],lowerOpen:!0}),H)})})}(y.trans,y.range,1e4)},!0)}return f.mutate(y);function B(j){var U,W,H,V=Ee.trans,K=j.keys||Pa(p,j);if(!K)throw new Error("Keys missing");return(j=j.type==="add"||j.type==="put"?r(r({},j),{keys:K}):r({},j)).type!=="delete"&&(j.values=s([],j.values)),j.keys&&(j.keys=s([],j.keys)),U=f,H=K,((W=j).type==="add"?Promise.resolve([]):U.getMany({trans:W.trans,keys:H,cache:"immutable"})).then(function(te){var se=K.map(function(ae,de){var pe,Re,Ce,Ae=te[de],Oe={onerror:null,onsuccess:null};return j.type==="delete"?A.fire.call(Oe,ae,Ae,V):j.type==="add"||Ae===void 0?(pe=O.fire.call(Oe,ae,j.values[de],V),ae==null&&pe!=null&&(j.keys[de]=ae=pe,p.outbound||z(j.values[de],p.keyPath,ae))):(pe=ka(Ae,j.values[de]),(Re=L.fire.call(Oe,pe,ae,Ae,V))&&(Ce=j.values[de],Object.keys(Re).forEach(function(Me){C(Ce,Me)?Ce[Me]=Re[Me]:z(Ce,Me,Re[Me])}))),Oe});return f.mutate(j).then(function(ae){for(var de=ae.failures,pe=ae.results,Re=ae.numFailures,ae=ae.lastResult,Ce=0;Ce<K.length;++Ce){var Ae=(pe||K)[Ce],Oe=se[Ce];Ae==null?Oe.onerror&&Oe.onerror(de[Ce]):Oe.onsuccess&&Oe.onsuccess(j.type==="put"&&te[Ce]?j.values[Ce]:Ae)}return{failures:de,results:pe,numFailures:Re,lastResult:ae}}).catch(function(ae){return se.forEach(function(de){return de.onerror&&de.onerror(ae)}),Promise.reject(ae)})})}}})}})}};function hi(i,l,f){try{if(!l||l.keys.length<i.length)return null;for(var p=[],y=0,v=0;y<l.keys.length&&v<i.length;++y)ct(l.keys[y],i[v])===0&&(p.push(f?we(l.values[y]):l.values[y]),++v);return p.length===i.length?p:null}catch{return null}}var Jl={stack:"dbcore",level:-1,create:function(i){return{table:function(l){var f=i.table(l);return r(r({},f),{getMany:function(p){if(!p.cache)return f.getMany(p);var y=hi(p.keys,p.trans._cache,p.cache==="clone");return y?be.resolve(y):f.getMany(p).then(function(v){return p.trans._cache={keys:p.keys,values:p.cache==="clone"?we(v):v},v})},mutate:function(p){return p.type!=="add"&&(p.trans._cache=null),f.mutate(p)}})}}}};function Lu(i,l){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Bi(i,l){switch(i){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var N0={stack:"dbcore",level:0,name:"Observability",create:function(i){var l=i.schema.name,f=new In(i.MIN_KEY,i.MAX_KEY);return r(r({},i),{transaction:function(p,y,v){if(Ee.subscr&&y!=="readonly")throw new Se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ee.querier));return i.transaction(p,y,v)},table:function(p){var y=i.table(p),v=y.schema,S=v.primaryKey,j=v.indexes,A=S.extractKey,O=S.outbound,L=S.autoIncrement&&j.filter(function(W){return W.compound&&W.keyPath.includes(S.keyPath)}),B=r(r({},y),{mutate:function(W){function H(Me){return Me="idb://".concat(l,"/").concat(p,"/").concat(Me),ae[Me]||(ae[Me]=new In)}var V,K,te,se=W.trans,ae=W.mutatedParts||(W.mutatedParts={}),de=H(""),pe=H(":dels"),Re=W.type,Oe=W.type==="deleteRange"?[W.range]:W.type==="delete"?[W.keys]:W.values.length<50?[Pa(S,W).filter(function(Me){return Me}),W.values]:[],Ce=Oe[0],Ae=Oe[1],Oe=W.trans._cache;return m(Ce)?(de.addKeys(Ce),(Oe=Re==="delete"||Ce.length===Ae.length?hi(Ce,Oe):null)||pe.addKeys(Ce),(Oe||Ae)&&(V=H,K=Oe,te=Ae,v.indexes.forEach(function(Me){var Be=V(Me.name||"");function st(ht){return ht!=null?Me.extractKey(ht):null}function ft(ht){return Me.multiEntry&&m(ht)?ht.forEach(function(Nr){return Be.addKey(Nr)}):Be.addKey(ht)}(K||te).forEach(function(ht,Xn){var ot=K&&st(K[Xn]),Xn=te&&st(te[Xn]);ct(ot,Xn)!==0&&(ot!=null&&ft(ot),Xn!=null&&ft(Xn))})}))):Ce?(Ae={from:(Ae=Ce.lower)!==null&&Ae!==void 0?Ae:i.MIN_KEY,to:(Ae=Ce.upper)!==null&&Ae!==void 0?Ae:i.MAX_KEY},pe.add(Ae),de.add(Ae)):(de.add(f),pe.add(f),v.indexes.forEach(function(Me){return H(Me.name).add(f)})),y.mutate(W).then(function(Me){return!Ce||W.type!=="add"&&W.type!=="put"||(de.addKeys(Me.results),L&&L.forEach(function(Be){for(var st=W.values.map(function(ot){return Be.extractKey(ot)}),ft=Be.keyPath.findIndex(function(ot){return ot===S.keyPath}),ht=0,Nr=Me.results.length;ht<Nr;++ht)st[ht][ft]=Me.results[ht];H(Be.name).addKeys(st)})),se.mutatedParts=$r(se.mutatedParts||{},ae),Me})}}),j=function(H){var V=H.query,H=V.index,V=V.range;return[H,new In((H=V.lower)!==null&&H!==void 0?H:i.MIN_KEY,(V=V.upper)!==null&&V!==void 0?V:i.MAX_KEY)]},U={get:function(W){return[S,new In(W.key)]},getMany:function(W){return[S,new In().addKeys(W.keys)]},count:j,query:j,openCursor:j};return h(U).forEach(function(W){B[W]=function(H){var V=Ee.subscr,K=!!V,te=Lu(Ee,y)&&Bi(W,H)?H.obsSet={}:V;if(K){var se=function(Ae){return Ae="idb://".concat(l,"/").concat(p,"/").concat(Ae),te[Ae]||(te[Ae]=new In)},ae=se(""),de=se(":dels"),V=U[W](H),K=V[0],V=V[1];if((W==="query"&&K.isPrimaryKey&&!H.values?de:se(K.name||"")).add(V),!K.isPrimaryKey){if(W!=="count"){var pe=W==="query"&&O&&H.values&&y.query(r(r({},H),{values:!1}));return y[W].apply(this,arguments).then(function(Ae){if(W==="query"){if(O&&H.values)return pe.then(function(st){return st=st.result,ae.addKeys(st),Ae});var Oe=H.values?Ae.result.map(A):Ae.result;(H.values?ae:de).addKeys(Oe)}else if(W==="openCursor"){var Me=Ae,Be=H.values;return Me&&Object.create(Me,{key:{get:function(){return de.addKey(Me.primaryKey),Me.key}},primaryKey:{get:function(){var st=Me.primaryKey;return de.addKey(st),st}},value:{get:function(){return Be&&ae.addKey(Me.primaryKey),Me.value}}})}return Ae})}de.add(f)}}return y[W].apply(this,arguments)}}),B}})}};function xo(i,l,f){if(f.numFailures===0)return l;if(l.type==="deleteRange")return null;var p=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return f.numFailures===p?null:(l=r({},l),m(l.keys)&&(l.keys=l.keys.filter(function(y,v){return!(v in f.failures)})),"values"in l&&m(l.values)&&(l.values=l.values.filter(function(y,v){return!(v in f.failures)})),l)}function Fi(i,l){return f=i,((p=l).lower===void 0||(p.lowerOpen?0<ct(f,p.lower):0<=ct(f,p.lower)))&&(i=i,(l=l).upper===void 0||(l.upperOpen?ct(i,l.upper)<0:ct(i,l.upper)<=0));var f,p}function rr(i,l,U,p,y,v){if(!U||U.length===0)return i;var S=l.query.index,A=S.multiEntry,O=l.query.range,L=p.schema.primaryKey.extractKey,B=S.extractKey,j=(S.lowLevelIndex||S).extractKey,U=U.reduce(function(W,H){var V=W,K=[];if(H.type==="add"||H.type==="put")for(var te=new In,se=H.values.length-1;0<=se;--se){var ae,de=H.values[se],pe=L(de);te.hasKey(pe)||(ae=B(de),(A&&m(ae)?ae.some(function(Me){return Fi(Me,O)}):Fi(ae,O))&&(te.addKey(pe),K.push(de)))}switch(H.type){case"add":var Re=new In().addKeys(l.values?W.map(function(Be){return L(Be)}):W),V=W.concat(l.values?K.filter(function(Be){return Be=L(Be),!Re.hasKey(Be)&&(Re.addKey(Be),!0)}):K.map(function(Be){return L(Be)}).filter(function(Be){return!Re.hasKey(Be)&&(Re.addKey(Be),!0)}));break;case"put":var Ce=new In().addKeys(H.values.map(function(Be){return L(Be)}));V=W.filter(function(Be){return!Ce.hasKey(l.values?L(Be):Be)}).concat(l.values?K:K.map(function(Be){return L(Be)}));break;case"delete":var Ae=new In().addKeys(H.keys);V=W.filter(function(Be){return!Ae.hasKey(l.values?L(Be):Be)});break;case"deleteRange":var Oe=H.range;V=W.filter(function(Be){return!Fi(L(Be),Oe)})}return V},i);return U===i?i:(U.sort(function(W,H){return ct(j(W),j(H))||ct(L(W),L(H))}),l.limit&&l.limit<1/0&&(U.length>l.limit?U.length=l.limit:i.length===l.limit&&U.length<l.limit&&(y.dirty=!0)),v?Object.freeze(U):U)}function ec(i,l){return ct(i.lower,l.lower)===0&&ct(i.upper,l.upper)===0&&!!i.lowerOpen==!!l.lowerOpen&&!!i.upperOpen==!!l.upperOpen}function Jr(i,l){return function(f,p,y,v){if(f===void 0)return p!==void 0?-1:0;if(p===void 0)return 1;if((p=ct(f,p))===0){if(y&&v)return 0;if(y)return 1;if(v)return-1}return p}(i.lower,l.lower,i.lowerOpen,l.lowerOpen)<=0&&0<=function(f,p,y,v){if(f===void 0)return p!==void 0?1:0;if(p===void 0)return-1;if((p=ct(f,p))===0){if(y&&v)return 0;if(y)return-1;if(v)return 1}return p}(i.upper,l.upper,i.upperOpen,l.upperOpen)}function O0(i,l,f,p){i.subscribers.add(f),p.addEventListener("abort",function(){var y,v;i.subscribers.delete(f),i.subscribers.size===0&&(y=i,v=l,setTimeout(function(){y.subscribers.size===0&&q(v,y)},3e3))})}var tc={stack:"dbcore",level:0,name:"Cache",create:function(i){var l=i.schema.name;return r(r({},i),{transaction:function(f,p,y){var v,S,A=i.transaction(f,p,y);return p==="readwrite"&&(S=(v=new AbortController).signal,y=function(O){return function(){if(v.abort(),p==="readwrite"){for(var L=new Set,B=0,j=f;B<j.length;B++){var U=j[B],W=We["idb://".concat(l,"/").concat(U)];if(W){var H=i.table(U),V=W.optimisticOps.filter(function(Be){return Be.trans===A});if(A._explicit&&O&&A.mutatedParts)for(var K=0,te=Object.values(W.queries.query);K<te.length;K++)for(var se=0,ae=(Re=te[K]).slice();se<ae.length;se++)Nt((Ce=ae[se]).obsSet,A.mutatedParts)&&(q(Re,Ce),Ce.subscribers.forEach(function(Be){return L.add(Be)}));else if(0<V.length){W.optimisticOps=W.optimisticOps.filter(function(Be){return Be.trans!==A});for(var de=0,pe=Object.values(W.queries.query);de<pe.length;de++)for(var Re,Ce,Ae,Oe=0,Me=(Re=pe[de]).slice();Oe<Me.length;Oe++)(Ce=Me[Oe]).res!=null&&A.mutatedParts&&(O&&!Ce.dirty?(Ae=Object.isFrozen(Ce.res),Ae=rr(Ce.res,Ce.req,V,H,Ce,Ae),Ce.dirty?(q(Re,Ce),Ce.subscribers.forEach(function(Be){return L.add(Be)})):Ae!==Ce.res&&(Ce.res=Ae,Ce.promise=be.resolve({result:Ae}))):(Ce.dirty&&q(Re,Ce),Ce.subscribers.forEach(function(Be){return L.add(Be)})))}}}L.forEach(function(Be){return Be()})}}},A.addEventListener("abort",y(!1),{signal:S}),A.addEventListener("error",y(!1),{signal:S}),A.addEventListener("complete",y(!0),{signal:S})),A},table:function(f){var p=i.table(f),y=p.schema.primaryKey;return r(r({},p),{mutate:function(v){var S=Ee.trans;if(y.outbound||S.db._options.cache==="disabled"||S.explicit||S.idbtrans.mode!=="readwrite")return p.mutate(v);var A=We["idb://".concat(l,"/").concat(f)];return A?(S=p.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||Pa(y,v).some(function(O){return O==null}))?(A.optimisticOps.push(v),v.mutatedParts&&Kr(v.mutatedParts),S.then(function(O){0<O.numFailures&&(q(A.optimisticOps,v),(O=xo(0,v,O))&&A.optimisticOps.push(O),v.mutatedParts&&Kr(v.mutatedParts))}),S.catch(function(){q(A.optimisticOps,v),v.mutatedParts&&Kr(v.mutatedParts)})):S.then(function(O){var L=xo(0,r(r({},v),{values:v.values.map(function(B,j){var U;return O.failures[j]?B:(B=(U=y.keyPath)!==null&&U!==void 0&&U.includes(".")?we(B):r({},B),z(B,y.keyPath,O.results[j]),B)})}),O);A.optimisticOps.push(L),queueMicrotask(function(){return v.mutatedParts&&Kr(v.mutatedParts)})}),S):p.mutate(v)},query:function(v){if(!Lu(Ee,p)||!Bi("query",v))return p.query(v);var S=((L=Ee.trans)===null||L===void 0?void 0:L.db._options.cache)==="immutable",j=Ee,A=j.requery,O=j.signal,L=function(H,V,K,te){var se=We["idb://".concat(H,"/").concat(V)];if(!se)return[];if(!(V=se.queries[K]))return[null,!1,se,null];var ae=V[(te.query?te.query.index.name:null)||""];if(!ae)return[null,!1,se,null];switch(K){case"query":var de=ae.find(function(pe){return pe.req.limit===te.limit&&pe.req.values===te.values&&ec(pe.req.query.range,te.query.range)});return de?[de,!0,se,ae]:[ae.find(function(pe){return("limit"in pe.req?pe.req.limit:1/0)>=te.limit&&(!te.values||pe.req.values)&&Jr(pe.req.query.range,te.query.range)}),!1,se,ae];case"count":return de=ae.find(function(pe){return ec(pe.req.query.range,te.query.range)}),[de,!!de,se,ae]}}(l,f,"query",v),B=L[0],j=L[1],U=L[2],W=L[3];return B&&j?B.obsSet=v.obsSet:(j=p.query(v).then(function(H){var V=H.result;if(B&&(B.res=V),S){for(var K=0,te=V.length;K<te;++K)Object.freeze(V[K]);Object.freeze(V)}else H.result=we(V);return H}).catch(function(H){return W&&B&&q(W,B),Promise.reject(H)}),B={obsSet:v.obsSet,promise:j,subscribers:new Set,type:"query",req:v,dirty:!1},W?W.push(B):(W=[B],(U=U||(We["idb://".concat(l,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=W)),O0(B,W,A,O),B.promise.then(function(H){return{result:rr(H.result,v,U==null?void 0:U.optimisticOps,p,B,S)}})}})}})}};function La(i,l){return new Proxy(i,{get:function(f,p,y){return p==="db"?l:Reflect.get(f,p,y)}})}var eo=(Tt.prototype.version=function(i){if(isNaN(i)||i<.1)throw new Se.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var l=this._versions,f=l.filter(function(p){return p._cfg.version===i})[0];return f||(f=new this.Version(i),l.push(f),l.sort(Mu),f.stores({}),this._state.autoSchema=!1,f)},Tt.prototype._whenReady=function(i){var l=this;return this.idbdb&&(this._state.openComplete||Ee.letThrough||this._vip)?i():new be(function(f,p){if(l._state.openComplete)return p(new Se.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void p(new Se.DatabaseClosed);l.open().catch(Ue)}l._state.dbReadyPromise.then(f,p)}).then(i)},Tt.prototype.use=function(i){var l=i.stack,f=i.create,p=i.level,y=i.name;return y&&this.unuse({stack:l,name:y}),i=this._middlewares[l]||(this._middlewares[l]=[]),i.push({stack:l,create:f,level:p??10,name:y}),i.sort(function(v,S){return v.level-S.level}),this},Tt.prototype.unuse=function(i){var l=i.stack,f=i.name,p=i.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(y){return p?y.create!==p:!!f&&y.name!==f})),this},Tt.prototype.open=function(){var i=this;return li(Et,function(){return qr(i)})},Tt.prototype._close=function(){var i=this._state,l=ye.indexOf(this);if(0<=l&&ye.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new be(function(f){i.dbReadyResolve=f}),i.openCanceller=new be(function(f,p){i.cancelOpen=p}))},Tt.prototype.close=function(f){var l=(f===void 0?{disableAutoOpen:!0}:f).disableAutoOpen,f=this._state;l?(f.isBeingOpened&&f.cancelOpen(new Se.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new Se.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Tt.prototype.delete=function(i){var l=this;i===void 0&&(i={disableAutoOpen:!0});var f=0<arguments.length&&typeof arguments[0]!="object",p=this._state;return new be(function(y,v){function S(){l.close(i);var A=l._deps.indexedDB.deleteDatabase(l.name);A.onsuccess=At(function(){var O,L,B;O=l._deps,L=l.name,B=O.indexedDB,O=O.IDBKeyRange,Li(B)||L===Ea||pn(B,O).delete(L).catch(Ue),y()}),A.onerror=Mt(v),A.onblocked=l._fireOnBlocked}if(f)throw new Se.InvalidArgument("Invalid closeOptions argument to db.delete()");p.isBeingOpened?p.dbReadyPromise.then(S):S()})},Tt.prototype.backendDB=function(){return this.idbdb},Tt.prototype.isOpen=function(){return this.idbdb!==null},Tt.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},Tt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Tt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Tt.prototype,"tables",{get:function(){var i=this;return h(this._allTables).map(function(l){return i._allTables[l]})},enumerable:!1,configurable:!0}),Tt.prototype.transaction=function(){var i=(function(l,f,p){var y=arguments.length;if(y<2)throw new Se.InvalidArgument("Too few arguments");for(var v=new Array(y-1);--y;)v[y-1]=arguments[y];return p=v.pop(),[l,ie(v),p]}).apply(this,arguments);return this._transaction.apply(this,i)},Tt.prototype._transaction=function(i,l,f){var p=this,y=Ee.trans;y&&y.db===this&&i.indexOf("!")===-1||(y=null);var v,S,A=i.indexOf("?")!==-1;i=i.replace("!","").replace("?","");try{if(S=l.map(function(L){if(L=L instanceof p.Table?L.name:L,typeof L!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return L}),i=="r"||i===Yt)v=Yt;else{if(i!="rw"&&i!=Lo)throw new Se.InvalidArgument("Invalid transaction mode: "+i);v=Lo}if(y){if(y.mode===Yt&&v===Lo){if(!A)throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y=null}y&&S.forEach(function(L){if(y&&y.storeNames.indexOf(L)===-1){if(!A)throw new Se.SubTransaction("Table "+L+" not included in parent transaction.");y=null}}),A&&y&&!y.active&&(y=null)}}catch(L){return y?y._promise(null,function(B,j){j(L)}):nt(L)}var O=(function L(B,j,U,W,H){return be.resolve().then(function(){var V=Ee.transless||Ee,K=B._createTransaction(j,U,B._dbSchema,W);if(K.explicit=!0,V={trans:K,transless:V},W)K.idbtrans=W.idbtrans;else try{K.create(),K.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(ae){return ae.name===Ne.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return L(B,j,U,null,H)})):nt(ae)}var te,se=ne(H);return se&&fn(),V=be.follow(function(){var ae;(te=H.call(K,K))&&(se?(ae=tr.bind(null,null),te.then(ae,ae)):typeof te.next=="function"&&typeof te.throw=="function"&&(te=js(te)))},V),(te&&typeof te.then=="function"?be.resolve(te).then(function(ae){return K.active?ae:nt(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):V.then(function(){return te})).then(function(ae){return W&&K._resolve(),K._completion.then(function(){return ae})}).catch(function(ae){return K._reject(ae),nt(ae)})})}).bind(null,this,v,S,y,f);return y?y._promise(v,O,"lock"):Ee.trans?li(Ee.transless,function(){return p._whenReady(O)}):this._whenReady(O)},Tt.prototype.table=function(i){if(!C(this._allTables,i))throw new Se.InvalidTable("Table ".concat(i," does not exist"));return this._allTables[i]},Tt);function Tt(i,l){var f=this;this._middlewares={},this.verno=0;var p=Tt.dependencies;this._options=l=r({addons:Tt.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},p=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var y,v,S,A,O,L={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ue,dbReadyPromise:null,cancelOpen:Ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};L.dbReadyPromise=new be(function(j){L.dbReadyResolve=j}),L.openCanceller=new be(function(j,U){L.cancelOpen=U}),this._state=L,this.name=i,this.on=Is(this,"populate","blocked","versionchange","close",{ready:[qn,Ue]}),this.on.ready.subscribe=D(this.on.ready.subscribe,function(j){return function(U,W){Tt.vip(function(){var H,V=f._state;V.openComplete?(V.dbOpenError||be.resolve().then(U),W&&j(U)):V.onReadyBeingFired?(V.onReadyBeingFired.push(U),W&&j(U)):(j(U),H=f,W||j(function K(){H.on.ready.unsubscribe(U),H.on.ready.unsubscribe(K)}))})}}),this.Collection=(y=this,zt(gr.prototype,function(te,K){this.db=y;var W=bt,H=null;if(K)try{W=K()}catch(se){H=se}var V=te._ctx,K=V.table,te=K.hook.reading.fire;this._ctx={table:K,index:V.index,isPrimKey:!V.index||K.schema.primKey.keyPath&&V.index===K.schema.primKey.name,range:W,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:H,or:V.or,valueMapper:te!==$e?te:null}})),this.Table=(v=this,zt(on.prototype,function(j,U,W){this.db=v,this._tx=W,this.name=j,this.schema=U,this.hook=v._allTables[j]?v._allTables[j].hook:Is(null,{creating:[gn,Ue],reading:[nn,$e],updating:[Rt,Ue],deleting:[Ut,Ue]})})),this.Transaction=(S=this,zt(it.prototype,function(j,U,W,H,V){var K=this;this.db=S,this.mode=j,this.storeNames=U,this.schema=W,this.chromeTransactionDurability=H,this.idbtrans=null,this.on=Is(this,"complete","error","abort"),this.parent=V||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new be(function(te,se){K._resolve=te,K._reject=se}),this._completion.then(function(){K.active=!1,K.on.complete.fire()},function(te){var se=K.active;return K.active=!1,K.on.error.fire(te),K.parent?K.parent._reject(te):se&&K.idbtrans&&K.idbtrans.abort(),nt(te)})})),this.Version=(A=this,zt(le.prototype,function(j){this.db=A,this._cfg={version:j,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(O=this,zt(Ia.prototype,function(j,U,W){if(this.db=O,this._ctx={table:j,index:U===":id"?null:U,or:W},this._cmp=this._ascending=ct,this._descending=function(H,V){return ct(V,H)},this._max=function(H,V){return 0<ct(H,V)?H:V},this._min=function(H,V){return ct(H,V)<0?H:V},this._IDBKeyRange=O._deps.IDBKeyRange,!this._IDBKeyRange)throw new Se.MissingAPI})),this.on("versionchange",function(j){0<j.newVersion?console.warn("Another connection wants to upgrade database '".concat(f.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(f.name,"'. Closing db now to resume the delete request.")),f.close({disableAutoOpen:!1})}),this.on("blocked",function(j){!j.newVersion||j.newVersion<j.oldVersion?console.warn("Dexie.delete('".concat(f.name,"') was blocked")):console.warn("Upgrade '".concat(f.name,"' blocked by other connection holding version ").concat(j.oldVersion/10))}),this._maxKey=_r(l.IDBKeyRange),this._createTransaction=function(j,U,W,H){return new f.Transaction(j,U,W,f._options.chromeTransactionDurability,H)},this._fireOnBlocked=function(j){f.on("blocked").fire(j),ye.filter(function(U){return U.name===f.name&&U!==f&&!U._state.vcFired}).map(function(U){return U.on("versionchange").fire(j)})},this.use(Jl),this.use(tc),this.use(N0),this.use(ql),this.use(I0);var B=new Proxy(this,{get:function(j,U,W){if(U==="_vip")return!0;if(U==="table")return function(V){return La(f.table(V),B)};var H=Reflect.get(j,U,W);return H instanceof on?La(H,B):U==="tables"?H.map(function(V){return La(V,B)}):U==="_createTransaction"?function(){return La(H.apply(this,arguments),B)}:H}});this.vip=B,p.forEach(function(j){return j(f)})}var ja,Yn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Fs=(mt.prototype.subscribe=function(i,l,f){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:l,complete:f})},mt.prototype[Yn]=function(){return this},mt);function mt(i){this._subscribe=i}try{ja={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{ja={indexedDB:null,IDBKeyRange:null}}function Us(i){var l,f=!1,p=new Fs(function(y){var v=ne(i),S,A=!1,O={},L={},B={get closed(){return A},unsubscribe:function(){A||(A=!0,S&&S.abort(),j&&Bo.storagemutated.unsubscribe(W))}};y.start&&y.start(B);var j=!1,U=function(){return bn(H)},W=function(V){$r(O,V),Nt(L,O)&&U()},H=function(){var V,K,te;!A&&ja.indexedDB&&(O={},V={},S&&S.abort(),S=new AbortController,te=function(se){var ae=Ar();try{v&&fn();var de=Gr(i,se);return de=v?de.finally(tr):de}finally{ae&&mo()}}(K={subscr:V,signal:S.signal,requery:U,querier:i,trans:null}),Promise.resolve(te).then(function(se){f=!0,l=se,A||K.signal.aborted||(O={},function(ae){for(var de in ae)if(C(ae,de))return;return 1}(L=V)||j||(Bo(xr,W),j=!0),bn(function(){return!A&&y.next&&y.next(se)}))},function(se){f=!1,["DatabaseClosedError","AbortError"].includes(se==null?void 0:se.name)||A||bn(function(){A||y.error&&y.error(se)})}))};return setTimeout(U,0),B});return p.hasValue=function(){return f},p.getValue=function(){return l},p}var k=eo;function o(i){var l=u;try{u=!0,Bo.storagemutated.fire(i),Uo(i,!0)}finally{u=l}}b(k,r(r({},He),{delete:function(i){return new k(i,{addons:[]}).delete()},exists:function(i){return new k(i,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return l=k.dependencies,f=l.indexedDB,l=l.IDBKeyRange,(Li(f)?Promise.resolve(f.databases()).then(function(p){return p.map(function(y){return y.name}).filter(function(y){return y!==Ea})}):pn(f,l).toCollection().primaryKeys()).then(i)}catch{return nt(new Se.MissingAPI)}var l,f},defineClass:function(){return function(i){x(this,i)}},ignoreTransaction:function(i){return Ee.trans?li(Ee.transless,i):i()},vip:Da,async:function(i){return function(){try{var l=js(i.apply(this,arguments));return l&&typeof l.then=="function"?l:be.resolve(l)}catch(f){return nt(f)}}},spawn:function(i,l,f){try{var p=js(i.apply(f,l||[]));return p&&typeof p.then=="function"?p:be.resolve(p)}catch(y){return nt(y)}},currentTransaction:{get:function(){return Ee.trans||null}},waitFor:function(i,l){return l=be.resolve(typeof i=="function"?k.ignoreTransaction(i):i).timeout(l||6e4),Ee.trans?Ee.trans.waitFor(l):l},Promise:be,debug:{get:function(){return Pe},set:function(i){ii(i)}},derive:T,extend:x,props:b,override:D,Events:Is,on:Bo,liveQuery:Us,extendObservabilitySet:$r,getByKeyPath:G,setByKeyPath:z,delByKeyPath:function(i,l){typeof l=="string"?z(i,l,void 0):"length"in l&&[].map.call(l,function(f){z(i,f,void 0)})},shallowClone:$,deepClone:we,getObjectDiff:ka,cmp:ct,asap:Y,minKey:-1/0,addons:[],connections:ye,errnames:Ne,dependencies:ja,cache:We,semVer:"4.0.11",version:"4.0.11".split(".").map(function(i){return parseInt(i)}).reduce(function(i,l,f){return i+l/Math.pow(10,2*f)})})),k.maxKey=_r(k.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Bo(xr,function(i){u||(i=new CustomEvent(qe,{detail:i}),u=!0,dispatchEvent(i),u=!1)}),addEventListener(qe,function(i){i=i.detail,u||o(i)}));var a,u=!1,d=function(){};return typeof BroadcastChannel<"u"&&((d=function(){(a=new BroadcastChannel(qe)).onmessage=function(i){return i.data&&o(i.data)}})(),typeof a.unref=="function"&&a.unref(),Bo(xr,function(i){u||a.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!eo.disableBfCache&&i.persisted){Pe&&console.debug("Dexie: handling persisted pagehide"),a!=null&&a.close();for(var l=0,f=ye;l<f.length;l++)f[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!eo.disableBfCache&&i.persisted&&(Pe&&console.debug("Dexie: handling persisted pageshow"),d(),o({all:new In(-1/0,[[]])}))})),be.rejectionMapper=function(i,l){return!i||i instanceof ge||i instanceof TypeError||i instanceof SyntaxError||!i.name||!Ze[i.name]?i:(l=new Ze[i.name](l||i.message,i),"stack"in i&&N(l,"stack",{get:function(){return this.inner.stack}}),l)},ii(Pe),r(eo,Object.freeze({__proto__:null,Dexie:eo,liveQuery:Us,Entity:dt,cmp:ct,PropModification:Xe,replacePrefix:function(i,l){return new Xe({replacePrefix:[i,l]})},add:function(i){return new Xe({add:i})},remove:function(i){return new Xe({remove:i})},default:eo,RangeSet:In,mergeRanges:fi,rangesOverlap:sn}),{default:eo}),eo})})(A3);var PM=A3.exports;const $1=da(PM),x2=Symbol.for("Dexie"),K1=globalThis[x2]||(globalThis[x2]=$1);if($1.semVer!==K1.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${$1.semVer} and ${K1.semVer}`);class LM extends K1{constructor(){super("HaulPlannerDB");pg(this,"contractSessions");this.version(1).stores({contractSessions:"++id, sessionId, name, createdAt",contracts:"++id, timestamp, reward, objective"})}}const bh=new LM,jM={async createSession(e,t,n){try{return await bh.contractSessions.add({sessionId:t,name:e,createdAt:new Date,contracts:n})}catch(r){throw console.error("Error creating session:",r),r}},async getSessions(){try{return await bh.contractSessions.toArray()}catch(e){throw console.error("Error getting sessions:",e),e}},async getSessionById(e){try{return await bh.contractSessions.get(e)}catch(t){throw console.error("Error getting session:",t),t}}},T3=E.forwardRef(({className:e,...t},n)=>R.jsx("div",{className:"relative w-full overflow-auto",children:R.jsx("table",{ref:n,className:Ge("w-full caption-bottom text-sm",e),...t})}));T3.displayName="Table";const _3=E.forwardRef(({className:e,...t},n)=>R.jsx("thead",{ref:n,className:Ge("[&_tr]:border-b",e),...t}));_3.displayName="TableHeader";const I3=E.forwardRef(({className:e,...t},n)=>R.jsx("tbody",{ref:n,className:Ge("[&_tr:last-child]:border-0",e),...t}));I3.displayName="TableBody";const BM=E.forwardRef(({className:e,...t},n)=>R.jsx("tfoot",{ref:n,className:Ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));BM.displayName="TableFooter";const q1=E.forwardRef(({className:e,...t},n)=>R.jsx("tr",{ref:n,className:Ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));q1.displayName="TableRow";const Pd=E.forwardRef(({className:e,...t},n)=>R.jsx("th",{ref:n,className:Ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Pd.displayName="TableHead";const Ld=E.forwardRef(({className:e,...t},n)=>R.jsx("td",{ref:n,className:Ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ld.displayName="TableCell";const FM=E.forwardRef(({className:e,...t},n)=>R.jsx("caption",{ref:n,className:Ge("mt-4 text-sm text-muted-foreground",e),...t}));FM.displayName="TableCaption";var Gm="Dialog",[N3,O7]=Di(Gm),[UM,ko]=N3(Gm),O3=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:c,modal:h=!0}=e,m=E.useRef(null),x=E.useRef(null),[g=!1,w]=Ii({prop:r,defaultProp:s,onChange:c});return R.jsx(UM,{scope:t,triggerRef:m,contentRef:x,contentId:No(),titleId:No(),descriptionId:No(),open:g,onOpenChange:w,onOpenToggle:E.useCallback(()=>w(C=>!C),[w]),modal:h,children:n})};O3.displayName=Gm;var M3="DialogTrigger",D3=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ko(M3,n),c=ut(t,s.triggerRef);return R.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Km(s.open),...r,ref:c,onClick:ke(e.onClick,s.onOpenToggle)})});D3.displayName=M3;var Zm="DialogPortal",[zM,k3]=N3(Zm,{forceMount:void 0}),P3=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,c=ko(Zm,t);return R.jsx(zM,{scope:t,forceMount:n,children:E.Children.map(r,h=>R.jsx(fr,{present:n||c.open,children:R.jsx(vu,{asChild:!0,container:s,children:h})}))})};P3.displayName=Zm;var Nf="DialogOverlay",L3=E.forwardRef((e,t)=>{const n=k3(Nf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,c=ko(Nf,e.__scopeDialog);return c.modal?R.jsx(fr,{present:r||c.open,children:R.jsx(YM,{...s,ref:t})}):null});L3.displayName=Nf;var YM=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ko(Nf,n);return R.jsx(y0,{as:gs,allowPinchZoom:!0,shards:[s.contentRef],children:R.jsx(Je.div,{"data-state":Km(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ua="DialogContent",j3=E.forwardRef((e,t)=>{const n=k3(ua,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,c=ko(ua,e.__scopeDialog);return R.jsx(fr,{present:r||c.open,children:c.modal?R.jsx(XM,{...s,ref:t}):R.jsx(WM,{...s,ref:t})})});j3.displayName=ua;var XM=E.forwardRef((e,t)=>{const n=ko(ua,e.__scopeDialog),r=E.useRef(null),s=ut(t,n.contentRef,r);return E.useEffect(()=>{const c=r.current;if(c)return Mm(c)},[]),R.jsx(B3,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,c=>{var h;c.preventDefault(),(h=n.triggerRef.current)==null||h.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,c=>{const h=c.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0;(h.button===2||m)&&c.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,c=>c.preventDefault())})}),WM=E.forwardRef((e,t)=>{const n=ko(ua,e.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return R.jsx(B3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var h,m;(h=e.onCloseAutoFocus)==null||h.call(e,c),c.defaultPrevented||(r.current||(m=n.triggerRef.current)==null||m.focus(),c.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:c=>{var x,g;(x=e.onInteractOutside)==null||x.call(e,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const h=c.target;((g=n.triggerRef.current)==null?void 0:g.contains(h))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&s.current&&c.preventDefault()}})}),B3=E.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:c,...h}=e,m=ko(ua,n),x=E.useRef(null),g=ut(t,x);return Om(),R.jsxs(R.Fragment,{children:[R.jsx(p0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:c,children:R.jsx(Pl,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":Km(m.open),...h,ref:g,onDismiss:()=>m.onOpenChange(!1)})}),R.jsxs(R.Fragment,{children:[R.jsx(HM,{titleId:m.titleId}),R.jsx(QM,{contentRef:x,descriptionId:m.descriptionId})]})]})}),$m="DialogTitle",F3=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ko($m,n);return R.jsx(Je.h2,{id:s.titleId,...r,ref:t})});F3.displayName=$m;var U3="DialogDescription",z3=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ko(U3,n);return R.jsx(Je.p,{id:s.descriptionId,...r,ref:t})});z3.displayName=U3;var Y3="DialogClose",X3=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ko(Y3,n);return R.jsx(Je.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,()=>s.onOpenChange(!1))})});X3.displayName=Y3;function Km(e){return e?"open":"closed"}var W3="DialogTitleWarning",[M7,H3]=nT(W3,{contentName:ua,titleName:$m,docsSlug:"dialog"}),HM=({titleId:e})=>{const t=H3(W3),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},VM="DialogDescriptionWarning",QM=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${H3(VM).contentName}}.`;return E.useEffect(()=>{var c;const s=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},GM=O3,ZM=D3,$M=P3,V3=L3,Q3=j3,G3=F3,Z3=z3,KM=X3;const E0=GM,qm=ZM,qM=$M,$3=E.forwardRef(({className:e,...t},n)=>R.jsx(V3,{ref:n,className:Ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$3.displayName=V3.displayName;const Au=E.forwardRef(({className:e,children:t,...n},r)=>R.jsxs(qM,{children:[R.jsx($3,{}),R.jsxs(Q3,{ref:r,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,R.jsxs(KM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[R.jsx(fm,{className:"h-4 w-4"}),R.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Au.displayName=Q3.displayName;const Tu=({className:e,...t})=>R.jsx("div",{className:Ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Tu.displayName="DialogHeader";const K3=({className:e,...t})=>R.jsx("div",{className:Ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});K3.displayName="DialogFooter";const _u=E.forwardRef(({className:e,...t},n)=>R.jsx(G3,{ref:n,className:Ge("text-lg font-semibold leading-none tracking-tight",e),...t}));_u.displayName=G3.displayName;const q3=E.forwardRef(({className:e,...t},n)=>R.jsx(Z3,{ref:n,className:Ge("text-sm text-muted-foreground",e),...t}));q3.displayName=Z3.displayName;const JM=({record:e,onSave:t,onClose:n})=>{const[r,s]=E.useState({...e,objective:e.objective.map(C=>({...C,deliveries:C.deliveries||[]}))}),c=()=>{s(C=>({...C,objective:[...C.objective,{item:"",location:"",quantity:0,deliveries:[]}]}))},h=C=>{s(b=>({...b,objective:b.objective.filter((_,N)=>N!==C)}))},m=(C,b,_)=>{s(N=>({...N,objective:N.objective.map((T,P)=>P===C?{...T,[b]:b==="quantity"?Number(_):_}:T)}))},x=C=>{s(b=>({...b,objective:b.objective.map((_,N)=>N===C?{..._,deliveries:[..._.deliveries,{location:"",quantity:0}]}:_)}))},g=(C,b)=>{s(_=>({..._,objective:_.objective.map((N,T)=>T===C?{...N,deliveries:N.deliveries.filter((P,M)=>M!==b)}:N)}))},w=(C,b,_,N)=>{s(T=>({...T,objective:T.objective.map((P,M)=>M===C?{...P,deliveries:P.deliveries.map((I,D)=>D===b?{...I,[_]:_==="quantity"?Number(N):N}:I)}:P)}))};return R.jsxs(Au,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[R.jsx(Tu,{children:R.jsx(_u,{children:"Edit Record"})}),R.jsxs("div",{className:"grid gap-6 py-4",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("h3",{className:"text-lg font-semibold",children:"Objectives"}),R.jsxs(Gt,{variant:"outline",size:"sm",onClick:c,children:[R.jsx(R1,{className:"h-4 w-4 mr-1"})," Add Objective"]})]}),r.objective.map((C,b)=>R.jsxs("div",{className:"space-y-4 border border-gray-200 rounded-lg p-4",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsxs("h4",{className:"text-md font-medium",children:["Objective ",b+1]}),R.jsx(Gt,{variant:"ghost",size:"sm",onClick:()=>h(b),children:R.jsx(eC,{className:"h-4 w-4"})})]}),R.jsxs("div",{className:"grid gap-4",children:[R.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[R.jsx("label",{className:"text-right",children:"Item"}),R.jsx(bi,{className:"col-span-3 bg-white/10 border border-white/20 focus:bg-white/20 focus:border-neon-blue/50 transition-colors",value:C.item,onChange:_=>m(b,"item",_.target.value)})]}),R.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[R.jsx("label",{className:"text-right",children:"Source"}),R.jsx(bi,{className:"col-span-3 bg-white/10 border border-white/20 focus:bg-white/20 focus:border-neon-blue/50 transition-colors",value:C.location,onChange:_=>m(b,"location",_.target.value)})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("label",{children:"Deliveries"}),R.jsxs(Gt,{variant:"outline",size:"sm",onClick:()=>x(b),children:[R.jsx(R1,{className:"h-4 w-4 mr-1"})," Add Delivery"]})]}),C.deliveries.map((_,N)=>R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx(bi,{placeholder:"Location",value:_.location,onChange:T=>w(b,N,"location",T.target.value),className:"bg-white/10 border border-white/20 focus:bg-white/20 focus:border-neon-blue/50 transition-colors"}),R.jsx(bi,{type:"number",placeholder:"Quantity",value:_.quantity,onChange:T=>w(b,N,"quantity",T.target.value),className:"w-24 bg-white/10 border border-white/20 focus:bg-white/20 focus:border-neon-blue/50 transition-colors"}),R.jsx(Gt,{variant:"ghost",size:"sm",onClick:()=>g(b,N),children:R.jsx(fm,{className:"h-4 w-4"})})]},N))]})]})]},b))]}),R.jsxs("div",{className:"flex justify-end gap-2",children:[R.jsx(Gt,{variant:"outline",onClick:n,children:"Cancel"}),R.jsx(Gt,{onClick:()=>t(r),children:"Save"})]})]})},J3=({records:e,debugImages:t,onUpdate:n})=>{const[r,s]=E.useState(null),c=m=>{const x=e.filter(g=>g.id!==m);n(x)},h=m=>{const x=e.map(g=>g.id===m.id?m:g);n(x),s(null)};return R.jsxs("div",{className:"bg-black/30 rounded-lg p-4 border border-neon-blue/30",children:[R.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Extracted Information"}),e.length>0?R.jsx("div",{className:"overflow-x-auto",children:R.jsxs(T3,{children:[R.jsx(_3,{children:R.jsxs(q1,{children:[R.jsx(Pd,{className:"text-neon-blue",children:"Reward"}),R.jsx(Pd,{className:"text-neon-blue",children:"Objective"}),R.jsx(Pd,{className:"text-neon-blue w-24",children:"Actions"})]})}),R.jsx(I3,{children:e.sort((m,x)=>new Date(x.timestamp).getTime()-new Date(m.timestamp).getTime()).map(m=>{var x,g;return R.jsxs(q1,{children:[R.jsx(Ld,{className:"text-green-400 font-semibold",children:R.jsxs(D1,{children:[R.jsx(k1,{asChild:!0,children:R.jsx("span",{children:m.reward})}),R.jsx(vf,{side:"top",children:R.jsx("img",{src:(x=t[m.id])==null?void 0:x.reward,alt:"Reward Debug",className:"max-w-xs max-h-40"})})]})}),R.jsx(Ld,{className:"text-gray-300",children:R.jsxs(D1,{children:[R.jsx(k1,{asChild:!0,children:R.jsx("span",{className:"whitespace-pre-line block",children:m.objective.map((w,C)=>R.jsxs("div",{children:[R.jsx("span",{className:"text-emerald-400",children:w.item}),":",w.deliveries.map((b,_)=>R.jsxs("div",{className:"ml-4",children:["- [",R.jsx("span",{className:"text-red-300",children:b.quantity}),"] ",R.jsx("span",{className:"text-green-300",children:w.location}),"  ",R.jsx("span",{className:"text-green-300",children:b.location})]},_))]}))})}),R.jsx(vf,{side:"top",children:R.jsx("img",{src:(g=t[m.id])==null?void 0:g.objective,alt:"Objective Debug",className:"max-w-xs max-h-40"})})]})}),R.jsx(Ld,{children:R.jsxs("div",{className:"flex flex-col gap-2",children:[R.jsxs(E0,{open:(r==null?void 0:r.id)===m.id,children:[R.jsx(qm,{asChild:!0,children:R.jsx(Gt,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>s(m),children:R.jsx(QT,{className:"h-4 w-4 mr-2"})})}),r&&R.jsx(JM,{record:r,onSave:h,onClose:()=>s(null)})]}),R.jsx(Gt,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>c(m.id),children:R.jsx(eC,{className:"h-4 w-4 mr-2"})})]})})]},m.id)})})]})}):R.jsx("p",{className:"text-gray-400 text-center py-8",children:"No data captured yet."})]})};var eR={};(function(e){var t=vi&&vi.__spreadArray||function(g,w,C){if(C||arguments.length===2)for(var b=0,_=w.length,N;b<_;b++)(N||!(b in w))&&(N||(N=Array.prototype.slice.call(w,0,b)),N[b]=w[b]);return g.concat(N||Array.prototype.slice.call(w))};Object.defineProperty(e,"__esModule",{value:!0}),e.minLength=e.maxLength=e.poolSize=e.humanId=e.adverbs=e.verbs=e.nouns=e.adjectives=void 0,e.adjectives=["afraid","all","angry","beige","big","better","bitter","blue","brave","breezy","bright","brown","bumpy","busy","calm","chatty","chilly","chubby","clean","clear","clever","cold","crazy","cruel","cuddly","curly","curvy","cute","common","cold","cool","cyan","dark","deep","dirty","dry","dull","eager","early","easy","eight","eighty","eleven","empty","every","evil","fair","famous","fast","fancy","few","fine","fifty","five","flat","fluffy","floppy","forty","four","free","fresh","fruity","full","funny","fuzzy","gentle","giant","gold","good","great","green","grumpy","happy","heavy","hip","honest","hot","huge","hungry","icy","itchy","khaki","kind","large","late","lazy","lemon","legal","light","little","long","loose","loud","lovely","lucky","major","many","mean","metal","mighty","modern","moody","nasty","neat","new","nice","nine","ninety","odd","old","olive","open","orange","pink","plain","plenty","polite","poor","pretty","proud","public","puny","petite","purple","quick","quiet","rare","real","ready","red","rich","ripe","rotten","rude","sad","salty","seven","shaggy","shaky","sharp","shiny","short","shy","silent","silly","silver","six","sixty","slick","slimy","slow","small","smart","smooth","social","soft","solid","some","sour","spicy","spotty","stale","strong","stupid","sweet","swift","tall","tame","tangy","tasty","ten","tender","thick","thin","thirty","three","tidy","tiny","tired","tough","tricky","true","twelve","twenty","two","upset","vast","violet","warm","weak","wet","whole","wicked","wide","wild","wise","witty","yellow","young","yummy"],e.nouns=["apes","animals","areas","bars","banks","baths","breads","bushes","cloths","clowns","clubs","hoops","loops","memes","papers","parks","paths","showers","sides","signs","sites","streets","teeth","tires","webs","actors","ads","adults","aliens","ants","apples","baboons","badgers","bags","bananas","bats","beans","bears","beds","beers","bees","berries","bikes","birds","boats","bobcats","books","bottles","boxes","brooms","buckets","bugs","buses","buttons","camels","cases","cameras","candies","candles","carpets","carrots","carrots","cars","cats","chairs","chefs","chicken","clocks","clouds","coats","cobras","coins","corners","colts","comics","cooks","cougars","regions","results","cows","crabs","crabs","crews","cups","cities","cycles","dancers","days","deer","dingos","dodos","dogs","dolls","donkeys","donuts","doodles","doors","dots","dragons","drinks","dryers","ducks","ducks","eagles","ears","eels","eggs","ends","mammals","emus","experts","eyes","facts","falcons","fans","feet","files","flies","flowers","forks","foxes","friends","frogs","games","garlics","geckos","geese","ghosts","ghosts","gifts","glasses","goats","grapes","groups","guests","hairs","hands","hats","heads","hornets","horses","hotels","hounds","houses","humans","icons","ideas","impalas","insects","islands","items","jars","jeans","jobs","jokes","keys","kids","kings","kiwis","knives","lamps","lands","laws","lemons","lies","lights","lines","lions","lizards","llamas","mails","mangos","maps","masks","meals","melons","mice","mirrors","moments","moles","monkeys","months","moons","moose","mugs","nails","needles","news","nights","numbers","olives","onions","oranges","otters","owls","pandas","pans","pants","papayas","parents","parts","parrots","paws","peaches","pears","peas","pens","pets","phones","pianos","pigs","pillows","places","planes","planets","plants","plums","poems","poets","points","pots","pugs","pumas","queens","rabbits","radios","rats","ravens","readers","rice","rings","rivers","rockets","rocks","rooms","roses","rules","schools","bats","seals","seas","sheep","shirts","shoes","shrimps","singers","sloths","snails","snakes","socks","spiders","spies","spoons","squids","stars","states","steaks","wings","suits","suns","swans","symbols","tables","taxes","taxis","teams","terms","things","ties","tigers","times","tips","toes","towns","tools","toys","trains","trams","trees","turkeys","turtles","vans","views","walls","walls","wasps","waves","ways","weeks","windows","wolves","women","wombats","words","worlds","worms","yaks","years","zebras","zoos"],e.verbs=["accept","act","add","admire","agree","allow","appear","argue","arrive","ask","attack","attend","bake","bathe","battle","beam","beg","begin","behave","bet","boil","bow","brake","brush","build","burn","buy","call","camp","care","carry","change","cheat","check","cheer","chew","clap","clean","cough","count","cover","crash","create","cross","cry","cut","dance","decide","deny","design","dig","divide","do","double","doubt","draw","dream","dress","drive","drop","drum","eat","end","enter","enjoy","exist","fail","fall","feel","fetch","film","find","fix","flash","float","flow","fly","fold","follow","fry","give","glow","go","grab","greet","grin","grow","guess","hammer","hang","happen","heal","hear","help","hide","hope","hug","hunt","invent","invite","itch","jam","jog","join","joke","judge","juggle","jump","kick","kiss","kneel","knock","know","laugh","lay","lead","learn","leave","lick","like","lie","listen","live","look","lose","love","make","march","marry","mate","matter","melt","mix","move","nail","notice","obey","occur","open","own","pay","peel","play","poke","post","press","prove","pull","pump","pick","punch","push","raise","read","refuse","relate","relax","remain","repair","repeat","reply","report","rescue","rest","retire","return","rhyme","ring","roll","rule","run","rush","say","scream","see","search","sell","send","serve","shake","share","shave","shine","show","shop","shout","sin","sink","sing","sip","sit","sleep","slide","smash","smell","smile","smoke","sneeze","sniff","sort","speak","spend","stand","start","stay","stick","stop","stare","study","strive","swim","switch","take","talk","tan","tap","taste","teach","tease","tell","thank","think","throw","tickle","tie","trade","train","travel","try","turn","type","unite","vanish","visit","wait","walk","warn","wash","watch","wave","wear","win","wink","wish","wonder","work","worry","write","yawn","yell"],e.adverbs=["bravely","brightly","busily","daily","freely","hungrily","joyously","knowlingly","lazily","oddly","mysteriously","noisily","politely","quickly","quietly","rapidly","safely","sleepily","slowly","truly","yearly"];function n(g){return g[Math.floor(Math.random()*g.length)]}function r(g){return g.reduce(function(w,C){return w.length>C.length?w:C})}function s(g){return g.reduce(function(w,C){return w.length<C.length?w:C})}function c(g){g===void 0&&(g={}),typeof g=="string"&&(g={separator:g}),typeof g=="boolean"&&(g={capitalize:g});var w=g.separator,C=w===void 0?"":w,b=g.capitalize,_=b===void 0?!0:b,N=g.adjectiveCount,T=N===void 0?1:N,P=g.addAdverb,M=P===void 0?!1:P,I=t(t(t([],t([],Array(T),!0).map(function(D){return n(e.adjectives)}),!0),[n(e.nouns),n(e.verbs)],!1),M?[n(e.adverbs)]:[],!0);return _&&(I=I.map(function(D){return D.charAt(0).toUpperCase()+D.substr(1)})),I.join(C)}e.humanId=c;function h(g){g===void 0&&(g={});var w=g.adjectiveCount,C=w===void 0?1:w,b=g.addAdverb,_=b===void 0?!1:b;return e.adjectives.length*C*e.nouns.length*e.verbs.length*(_?e.adverbs.length:1)}e.poolSize=h;function m(g){g===void 0&&(g={});var w=g.adjectiveCount,C=w===void 0?1:w,b=g.addAdverb,_=b===void 0?!1:b,N=g.separator,T=N===void 0?"":N;return r(e.adjectives).length*C+C*T.length+r(e.nouns).length+T.length+r(e.verbs).length+(_?r(e.adverbs).length+T.length:0)}e.maxLength=m;function x(g){g===void 0&&(g={});var w=g.adjectiveCount,C=w===void 0?1:w,b=g.addAdverb,_=b===void 0?!1:b,N=g.separator,T=N===void 0?"":N;return s(e.adjectives).length*C+C*T.length+s(e.nouns).length+T.length+s(e.verbs).length+(_?s(e.adverbs).length+T.length:0)}e.minLength=x,e.default=c})(eR);const eD=da(eR),tD=({isDebugEnabled:e,debugImages:t})=>{if(!e)return null;const n=Object.entries(t).at(-1);if(!n)return R.jsx("div",{id:"canvas-container",className:"flex flex-col items-center my-6 text-gray-400",children:"No debug images yet."});const[r,s]=n;return R.jsxs("div",{id:"canvas-container",className:"flex flex-col md:flex-row gap-6 items-center my-6",children:[R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx("span",{className:"text-xs text-green-400 mb-1",children:"Reward Zone (Canvas)"}),R.jsx("canvas",{width:1,height:1,ref:c=>{if(c&&s.reward){const h=new window.Image;h.onload=()=>{c.width=h.width,c.height=h.height;const m=c.getContext("2d");m.clearRect(0,0,c.width,c.height),m.drawImage(h,0,0)},h.src=s.reward}},className:"border border-green-400 rounded-lg max-w-xs h-auto bg-black shadow-lg",style:{display:"block"}})]}),R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx("span",{className:"text-xs text-blue-400 mb-1",children:"Objective Zone (Canvas)"}),R.jsx("canvas",{width:1,height:1,ref:c=>{if(c&&s.objective){const h=new window.Image;h.onload=()=>{c.width=h.width,c.height=h.height;const m=c.getContext("2d");m.clearRect(0,0,c.width,c.height),m.drawImage(h,0,0)},h.src=s.objective}},className:"border border-blue-400 rounded-lg max-w-xs h-auto bg-black shadow-lg",style:{display:"block"}})]})]})},nD=({open:e,onOpenChange:t,sessionName:n,setSessionName:r,handleCreateSession:s})=>R.jsx(E0,{open:e,onOpenChange:t,children:R.jsxs(Au,{children:[R.jsxs(Tu,{children:[R.jsx(_u,{children:"Create Session"}),R.jsx(q3,{children:"Give your session a name to save it. This will store all captured contracts."})]}),R.jsxs("div",{className:"py-4",children:[R.jsx(Qm,{htmlFor:"session-name",children:"Session Name"}),R.jsx(bi,{id:"session-name",value:n,onChange:c=>r(c.target.value),placeholder:"Enter session name",className:"mt-2"})]}),R.jsxs(K3,{children:[R.jsx(Gt,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),R.jsx(Gt,{onClick:s,children:"Create"})]})]})});var Jm="Collapsible",[rD,D7]=Di(Jm),[oD,eg]=rD(Jm),tR=E.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:c,onOpenChange:h,...m}=e,[x=!1,g]=Ii({prop:r,defaultProp:s,onChange:h});return R.jsx(oD,{scope:n,disabled:c,contentId:No(),open:x,onOpenToggle:E.useCallback(()=>g(w=>!w),[g]),children:R.jsx(Je.div,{"data-state":ng(x),"data-disabled":c?"":void 0,...m,ref:t})})});tR.displayName=Jm;var nR="CollapsibleTrigger",rR=E.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=eg(nR,n);return R.jsx(Je.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":ng(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ke(e.onClick,s.onOpenToggle)})});rR.displayName=nR;var tg="CollapsibleContent",oR=E.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=eg(tg,e.__scopeCollapsible);return R.jsx(fr,{present:n||s.open,children:({present:c})=>R.jsx(iD,{...r,ref:t,present:c})})});oR.displayName=tg;var iD=E.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...c}=e,h=eg(tg,n),[m,x]=E.useState(r),g=E.useRef(null),w=ut(t,g),C=E.useRef(0),b=C.current,_=E.useRef(0),N=_.current,T=h.open||m,P=E.useRef(T),M=E.useRef();return E.useEffect(()=>{const I=requestAnimationFrame(()=>P.current=!1);return()=>cancelAnimationFrame(I)},[]),Dn(()=>{const I=g.current;if(I){M.current=M.current||{transitionDuration:I.style.transitionDuration,animationName:I.style.animationName},I.style.transitionDuration="0s",I.style.animationName="none";const D=I.getBoundingClientRect();C.current=D.height,_.current=D.width,P.current||(I.style.transitionDuration=M.current.transitionDuration,I.style.animationName=M.current.animationName),x(r)}},[h.open,r]),R.jsx(Je.div,{"data-state":ng(h.open),"data-disabled":h.disabled?"":void 0,id:h.contentId,hidden:!T,...c,ref:w,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:T&&s})});function ng(e){return e?"open":"closed"}var sD=tR;const aD=sD,lD=rR,cD=oR;var A0={},iR={exports:{}},uD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dD=uD,fD=dD;function sR(){}function aR(){}aR.resetWarningCache=sR;var hD=function(){function e(r,s,c,h,m,x){if(x!==fD){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:aR,resetWarningCache:sR};return n.PropTypes=n,n};iR.exports=hD();var lR=iR.exports,cR={L:1,M:0,Q:3,H:2},uR={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},pD=uR;function dR(e){this.mode=pD.MODE_8BIT_BYTE,this.data=e}dR.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var mD=dR,fd=cR;function $o(e,t){this.totalCount=e,this.dataCount=t}$o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];$o.getRSBlocks=function(e,t){var n=$o.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,s=new Array,c=0;c<r;c++)for(var h=n[c*3+0],m=n[c*3+1],x=n[c*3+2],g=0;g<h;g++)s.push(new $o(m,x));return s};$o.getRsBlockTable=function(e,t){switch(t){case fd.L:return $o.RS_BLOCK_TABLE[(e-1)*4+0];case fd.M:return $o.RS_BLOCK_TABLE[(e-1)*4+1];case fd.Q:return $o.RS_BLOCK_TABLE[(e-1)*4+2];case fd.H:return $o.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var gD=$o;function fR(){this.buffer=new Array,this.length=0}fR.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var yD=fR,To={glog:function(e){if(e<1)throw new Error("glog("+e+")");return To.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return To.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Bn=0;Bn<8;Bn++)To.EXP_TABLE[Bn]=1<<Bn;for(var Bn=8;Bn<256;Bn++)To.EXP_TABLE[Bn]=To.EXP_TABLE[Bn-4]^To.EXP_TABLE[Bn-5]^To.EXP_TABLE[Bn-6]^To.EXP_TABLE[Bn-8];for(var Bn=0;Bn<255;Bn++)To.LOG_TABLE[To.EXP_TABLE[Bn]]=Bn;var hR=To,Ys=hR;function jd(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}jd.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=Ys.gexp(Ys.glog(this.get(n))+Ys.glog(e.get(r)));return new jd(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Ys.glog(this.get(0))-Ys.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=Ys.gexp(Ys.glog(e.get(r))+t);return new jd(n,0).mod(e)}};var pR=jd,to=uR,v2=pR,xD=hR,Xi={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ln={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ln.getBCHDigit(t)-Ln.getBCHDigit(Ln.G15)>=0;)t^=Ln.G15<<Ln.getBCHDigit(t)-Ln.getBCHDigit(Ln.G15);return(e<<10|t)^Ln.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ln.getBCHDigit(t)-Ln.getBCHDigit(Ln.G18)>=0;)t^=Ln.G18<<Ln.getBCHDigit(t)-Ln.getBCHDigit(Ln.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ln.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Xi.PATTERN000:return(t+n)%2==0;case Xi.PATTERN001:return t%2==0;case Xi.PATTERN010:return n%3==0;case Xi.PATTERN011:return(t+n)%3==0;case Xi.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Xi.PATTERN101:return t*n%2+t*n%3==0;case Xi.PATTERN110:return(t*n%2+t*n%3)%2==0;case Xi.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new v2([1],0),n=0;n<e;n++)t=t.multiply(new v2([1,xD.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case to.MODE_NUMBER:return 10;case to.MODE_ALPHA_NUM:return 9;case to.MODE_8BIT_BYTE:return 8;case to.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case to.MODE_NUMBER:return 12;case to.MODE_ALPHA_NUM:return 11;case to.MODE_8BIT_BYTE:return 16;case to.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case to.MODE_NUMBER:return 14;case to.MODE_ALPHA_NUM:return 13;case to.MODE_8BIT_BYTE:return 16;case to.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var s=0;s<t;s++){for(var c=0,h=e.isDark(r,s),m=-1;m<=1;m++)if(!(r+m<0||t<=r+m))for(var x=-1;x<=1;x++)s+x<0||t<=s+x||m==0&&x==0||h==e.isDark(r+m,s+x)&&c++;c>5&&(n+=3+c-5)}for(var r=0;r<t-1;r++)for(var s=0;s<t-1;s++){var g=0;e.isDark(r,s)&&g++,e.isDark(r+1,s)&&g++,e.isDark(r,s+1)&&g++,e.isDark(r+1,s+1)&&g++,(g==0||g==4)&&(n+=3)}for(var r=0;r<t;r++)for(var s=0;s<t-6;s++)e.isDark(r,s)&&!e.isDark(r,s+1)&&e.isDark(r,s+2)&&e.isDark(r,s+3)&&e.isDark(r,s+4)&&!e.isDark(r,s+5)&&e.isDark(r,s+6)&&(n+=40);for(var s=0;s<t;s++)for(var r=0;r<t-6;r++)e.isDark(r,s)&&!e.isDark(r+1,s)&&e.isDark(r+2,s)&&e.isDark(r+3,s)&&e.isDark(r+4,s)&&!e.isDark(r+5,s)&&e.isDark(r+6,s)&&(n+=40);for(var w=0,s=0;s<t;s++)for(var r=0;r<t;r++)e.isDark(r,s)&&w++;var C=Math.abs(100*w/t/t-50)/5;return n+=C*10,n}},vD=Ln,wD=mD,mR=gD,gR=yD,Ts=vD,CD=pR;function Ko(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Wr=Ko.prototype;Wr.addData=function(e){var t=new wD(e);this.dataList.push(t),this.dataCache=null};Wr.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Wr.getModuleCount=function(){return this.moduleCount};Wr.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=mR.getRSBlocks(e,this.errorCorrectLevel),n=new gR,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var c=this.dataList[s];n.put(c.mode,4),n.put(c.getLength(),Ts.getLengthInBits(c.mode,e)),c.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Wr.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Ko.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Wr.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};Wr.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=Ts.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};Wr.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),s=1;this.make();for(var c=0;c<this.modules.length;c++)for(var h=c*s,m=0;m<this.modules[c].length;m++){var x=m*s,g=this.modules[c][m];g&&(r.beginFill(0,100),r.moveTo(x,h),r.lineTo(x+s,h),r.lineTo(x+s,h+s),r.lineTo(x,h+s),r.endFill())}return r};Wr.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Wr.setupPositionAdjustPattern=function(){for(var e=Ts.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],s=e[n];if(this.modules[r][s]==null)for(var c=-2;c<=2;c++)for(var h=-2;h<=2;h++)c==-2||c==2||h==-2||h==2||c==0&&h==0?this.modules[r+c][s+h]=!0:this.modules[r+c][s+h]=!1}};Wr.setupTypeNumber=function(e){for(var t=Ts.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};Wr.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=Ts.getBCHTypeInfo(n),s=0;s<15;s++){var c=!e&&(r>>s&1)==1;s<6?this.modules[s][8]=c:s<8?this.modules[s+1][8]=c:this.modules[this.moduleCount-15+s][8]=c}for(var s=0;s<15;s++){var c=!e&&(r>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=c:s<9?this.modules[8][15-s-1+1]=c:this.modules[8][15-s-1]=c}this.modules[this.moduleCount-8][8]=!e};Wr.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,s=7,c=0,h=this.moduleCount-1;h>0;h-=2)for(h==6&&h--;;){for(var m=0;m<2;m++)if(this.modules[r][h-m]==null){var x=!1;c<e.length&&(x=(e[c]>>>s&1)==1);var g=Ts.getMask(t,r,h-m);g&&(x=!x),this.modules[r][h-m]=x,s--,s==-1&&(c++,s=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};Ko.PAD0=236;Ko.PAD1=17;Ko.createData=function(e,t,n){for(var r=mR.getRSBlocks(e,t),s=new gR,c=0;c<n.length;c++){var h=n[c];s.put(h.mode,4),s.put(h.getLength(),Ts.getLengthInBits(h.mode,e)),h.write(s)}for(var m=0,c=0;c<r.length;c++)m+=r[c].dataCount;if(s.getLengthInBits()>m*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+m*8+")");for(s.getLengthInBits()+4<=m*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=m*8||(s.put(Ko.PAD0,8),s.getLengthInBits()>=m*8));)s.put(Ko.PAD1,8);return Ko.createBytes(s,r)};Ko.createBytes=function(e,t){for(var n=0,r=0,s=0,c=new Array(t.length),h=new Array(t.length),m=0;m<t.length;m++){var x=t[m].dataCount,g=t[m].totalCount-x;r=Math.max(r,x),s=Math.max(s,g),c[m]=new Array(x);for(var w=0;w<c[m].length;w++)c[m][w]=255&e.buffer[w+n];n+=x;var C=Ts.getErrorCorrectPolynomial(g),b=new CD(c[m],C.getLength()-1),_=b.mod(C);h[m]=new Array(C.getLength()-1);for(var w=0;w<h[m].length;w++){var N=w+_.getLength()-h[m].length;h[m][w]=N>=0?_.get(N):0}}for(var T=0,w=0;w<t.length;w++)T+=t[w].totalCount;for(var P=new Array(T),M=0,w=0;w<r;w++)for(var m=0;m<t.length;m++)w<c[m].length&&(P[M++]=c[m][w]);for(var w=0;w<s;w++)for(var m=0;m<t.length;m++)w<h[m].length&&(P[M++]=h[m][w]);return P};var bD=Ko,rg={};Object.defineProperty(rg,"__esModule",{value:!0});var SD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RD=lR,no=xR(RD),yR=E,hd=xR(yR);function xR(e){return e&&e.__esModule?e:{default:e}}function ED(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var AD={bgColor:no.default.oneOfType([no.default.object,no.default.string]).isRequired,bgD:no.default.string.isRequired,fgColor:no.default.oneOfType([no.default.object,no.default.string]).isRequired,fgD:no.default.string.isRequired,size:no.default.number.isRequired,title:no.default.string,viewBoxSize:no.default.number.isRequired,xmlns:no.default.string},og=(0,yR.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,s=e.fgD,c=e.fgColor,h=e.size,m=e.title,x=e.viewBoxSize,g=e.xmlns,w=g===void 0?"http://www.w3.org/2000/svg":g,C=ED(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return hd.default.createElement("svg",SD({},C,{height:h,ref:t,viewBox:"0 0 "+x+" "+x,width:h,xmlns:w}),m?hd.default.createElement("title",null,m):null,hd.default.createElement("path",{d:r,fill:n}),hd.default.createElement("path",{d:s,fill:c}))});og.displayName="QRCodeSvg";og.propTypes=AD;rg.default=og;Object.defineProperty(A0,"__esModule",{value:!0});A0.QRCode=void 0;var TD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_D=lR,mi=Iu(_D),ID=cR,ND=Iu(ID),OD=bD,MD=Iu(OD),vR=E,DD=Iu(vR),kD=rg,PD=Iu(kD);function Iu(e){return e&&e.__esModule?e:{default:e}}function LD(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var jD={bgColor:mi.default.oneOfType([mi.default.object,mi.default.string]),fgColor:mi.default.oneOfType([mi.default.object,mi.default.string]),level:mi.default.string,size:mi.default.number,value:mi.default.string.isRequired},T0=(0,vR.forwardRef)(function(e,t){var n=e.bgColor,r=n===void 0?"#FFFFFF":n,s=e.fgColor,c=s===void 0?"#000000":s,h=e.level,m=h===void 0?"L":h,x=e.size,g=x===void 0?256:x,w=e.value,C=LD(e,["bgColor","fgColor","level","size","value"]),b=new MD.default(-1,ND.default[m]);b.addData(w),b.make();var _=b.modules;return DD.default.createElement(PD.default,TD({},C,{bgColor:r,bgD:_.map(function(N,T){return N.map(function(P,M){return P?"":"M "+M+" "+T+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:c,fgD:_.map(function(N,T){return N.map(function(P,M){return P?"M "+M+" "+T+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:g,viewBoxSize:_.length}))});A0.QRCode=T0;T0.displayName="QRCode";T0.propTypes=jD;var BD=A0.default=T0;const FD=({sessionId:e})=>R.jsxs("div",{className:"space-y-2 flex-1 max-w-xs",children:[R.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Your Session ID"}),R.jsxs("div",{className:"relative",children:[R.jsx(bi,{value:e,readOnly:!0,className:"bg-space-medium border-neon-blue/20 pr-20"}),R.jsx(Gt,{type:"button",size:"icon",variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1",onClick:()=>{navigator.clipboard.writeText(e),Pc({title:"Copied!",description:"Session ID copied to clipboard."})},children:R.jsx(HT,{className:"w-4 h-4 text-neon-blue"})}),R.jsxs(E0,{children:[R.jsxs(D1,{children:[R.jsx(k1,{asChild:!0,children:R.jsx(qm,{asChild:!0,children:R.jsx(Gt,{type:"button",size:"icon",variant:"ghost",className:"absolute right-10 top-1/2 -translate-y-1/2 p-1","aria-label":"Show QR Code",children:R.jsx(qw,{className:"w-5 h-5 text-neon-blue"})})})}),R.jsx(vf,{children:"Show QR code for this session"})]}),R.jsxs(Au,{className:"flex flex-col items-center gap-4 bg-white !text-gray-900 shadow-lg rounded-xl",children:[R.jsx(Tu,{children:R.jsx(_u,{children:"Session QR Code"})}),R.jsx(BD,{value:e,size:300,className:"rounded-lg w-full max-w-xs md:max-w-md mx-auto"}),R.jsx("div",{className:"text-xs text-gray-400 break-all",children:e})]})]})]})]}),UD=({captureActive:e,onZonesChange:t,videoRef:n})=>{const[r,s]=E.useState({reward:{x:0,y:0,width:100,height:50},objective:{x:0,y:0,width:100,height:50}}),[c,h]=E.useState(!1),[m,x]=E.useState(null),[g,w]=E.useState({x:0,y:0}),[C,b]=E.useState({scaleX:1,scaleY:1,offsetX:0,offsetY:0}),_=E.useRef(null);E.useEffect(()=>{t&&t(r)},[r]);const N=F=>{x(F),_.current&&(_.current.style.pointerEvents="auto")},T=()=>{if(!n.current||!_.current)return;const F=n.current,Y=_.current,G=F.getBoundingClientRect();Y.width=G.width,Y.height=G.height;const z=F.videoWidth/F.videoHeight,$=Y.width/Y.height;let Q=1,ie=0,fe=0;$>z?(Q=Y.height/F.videoHeight,ie=(Y.width-F.videoWidth*Q)/2):(Q=Y.width/F.videoWidth,fe=(Y.height-F.videoHeight*Q)/2),b({scaleX:Q,scaleY:Q,offsetX:ie,offsetY:fe});const re=Y.getContext("2d");re.clearRect(0,0,Y.width,Y.height),re.lineWidth=2,Object.entries(r).forEach(([we,he])=>{re.strokeStyle=we==="reward"?"#00ff00":"#0000ff",re.fillStyle=we==="reward"?"rgba(0, 255, 0, 0.1)":"rgba(0, 0, 255, 0.1)";const ee=he.x*Q+ie,ve=he.y*Q+fe,ce=he.width*Q,q=he.height*Q;re.fillRect(ee,ve,ce,q),re.strokeRect(ee,ve,ce,q)})};E.useEffect(()=>{if(n.current&&_.current){const F=n.current,Y=()=>{T()};F.addEventListener("loadedmetadata",Y);const G=new ResizeObserver(T);return G.observe(F),()=>{F.removeEventListener("loadedmetadata",Y),G.disconnect()}}},[r]);const P=(F,Y)=>{const{scaleX:G,scaleY:z,offsetX:$,offsetY:Q}=C;return{x:Math.round((F-$)/G),y:Math.round((Y-Q)/z)}},M=F=>{if(!m||!n.current)return;const G=_.current.getBoundingClientRect(),z=F.clientX-G.left,$=F.clientY-G.top,Q=P(z,$);w(Q),h(!0)},I=F=>{if(!c||!m||!n.current)return;const Y=_.current,G=Y.getContext("2d"),z=Y.getBoundingClientRect(),$=F.clientX-z.left,Q=F.clientY-z.top,ie=P($,Q);G.clearRect(0,0,Y.width,Y.height),G.lineWidth=2,Object.entries(r).forEach(([ne,ue])=>{if(ne!==m){G.strokeStyle=ne==="reward"?"#00ff00":"#0000ff",G.fillStyle=ne==="reward"?"rgba(0, 255, 0, 0.1)":"rgba(0, 0, 255, 0.1)";const{scaleX:ge,scaleY:_e,offsetX:et,offsetY:me}=C,Ne=ue.x*ge+et,Le=ue.y*_e+me,Se=ue.width*ge,Ze=ue.height*_e;G.fillRect(Ne,Le,Se,Ze),G.strokeRect(Ne,Le,Se,Ze)}}),G.strokeStyle=m==="reward"?"#00ff00":"#0000ff",G.fillStyle=m==="reward"?"rgba(0, 255, 0, 0.1)":"rgba(0, 0, 255, 0.1)";const{scaleX:fe,scaleY:re,offsetX:we,offsetY:he}=C,ee=ie.x-g.x,ve=ie.y-g.y,ce=g.x*fe+we,q=g.y*re+he,Z=ee*fe,J=ve*re;G.fillRect(ce,q,Z,J),G.strokeRect(ce,q,Z,J)},D=F=>{if(!c||!m||!n.current)return;const G=_.current.getBoundingClientRect(),z=F.clientX-G.left,$=F.clientY-G.top,Q=P(z,$),ie={x:Math.min(g.x,Q.x),y:Math.min(g.y,Q.y),width:Math.abs(Q.x-g.x),height:Math.abs(Q.y-g.y)};s(fe=>({...fe,[m]:ie})),h(!1),x(null)};return R.jsxs("div",{className:"relative bg-black/30 rounded-lg overflow-hidden border border-neon-blue/30 w-full aspect-video",children:[R.jsx("video",{ref:n,autoPlay:!0,className:"w-full h-full object-contain"}),R.jsx("canvas",{ref:_,className:"absolute top-0 left-0 w-full h-full",style:{cursor:m?"crosshair":"default"},onMouseDown:M,onMouseMove:I,onMouseUp:D,onMouseLeave:D}),e&&R.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-center space-x-4",children:[R.jsxs(Gt,{onClick:()=>N("reward"),className:Ge("bg-green-600 hover:bg-green-700 relative",m==="reward"&&"ring-2 ring-white"),children:[R.jsx(Ny,{className:"h-4 w-4 mr-2"}),"Set Reward Zone",r.reward.width>0&&R.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-white rounded-full"})]}),R.jsxs(Gt,{onClick:()=>N("objective"),className:Ge("bg-blue-600 hover:bg-blue-700 relative",m==="objective"&&"ring-2 ring-white"),children:[R.jsx(Ny,{className:"h-4 w-4 mr-2"}),"Set Objective Zone",r.objective.width>0&&R.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-white rounded-full"})]})]})]})},zD=({isSetupOpen:e,setIsSetupOpen:t,sessionId:n,onZonesChange:r,onCaptureActiveChange:s,videoRef:c})=>{const[h,m]=E.useState(!1),[x,g]=E.useState({reward:{x:0,y:0,width:100,height:50},objective:{x:0,y:0,width:100,height:50}});E.useEffect(()=>{r&&r(x)},[x]),E.useEffect(()=>{s&&s(h)},[h]);const w=async()=>{try{const b=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});c.current&&(c.current.srcObject=b,m(!0))}catch(b){console.error("Error starting capture: ",b)}},C=()=>{c.current&&c.current.srcObject&&(c.current.srcObject.getTracks().forEach(_=>_.stop()),c.current.srcObject=null,m(!1))};return R.jsxs(aD,{open:e,onOpenChange:t,className:"holographic-panel rounded-lg p-6 border border-neon-blue/20 space-y-4",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("h2",{className:"text-xl font-bold text-neon-blue",children:"Setup"}),R.jsx(lD,{asChild:!0,children:R.jsx(Gt,{variant:"ghost",size:"sm",children:e?R.jsx(Gw,{className:"h-4 w-4"}):R.jsx(Qw,{className:"h-4 w-4"})})})]}),R.jsx(cD,{className:"space-y-6",children:R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[R.jsxs("div",{className:"flex space-x-2",children:[R.jsxs(Gt,{onClick:w,disabled:h,className:"bg-neon-blue text-space-dark hover:bg-neon-blue/90",children:[R.jsx(dm,{className:"h-4 w-4 mr-2"}),"Start Capture"]}),R.jsx(Gt,{onClick:C,disabled:!h,variant:"outline",className:"border-neon-blue/50 text-neon-blue hover:bg-neon-blue/10",children:"Stop Capture"})]}),R.jsx("div",{className:"flex-1 flex justify-end",children:R.jsx(FD,{sessionId:n})})]}),R.jsx(UD,{captureActive:h,onZonesChange:g,videoRef:c})]})})]})},YD="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let XD=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=YD[n[e]&63];return t};var WD={exports:{}};(function(e){var t=function(n){var r=Object.prototype,s=r.hasOwnProperty,c=Object.defineProperty||function(Z,J,ne){Z[J]=ne.value},h,m=typeof Symbol=="function"?Symbol:{},x=m.iterator||"@@iterator",g=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";function C(Z,J,ne){return Object.defineProperty(Z,J,{value:ne,enumerable:!0,configurable:!0,writable:!0}),Z[J]}try{C({},"")}catch{C=function(J,ne,ue){return J[ne]=ue}}function b(Z,J,ne,ue){var ge=J&&J.prototype instanceof D?J:D,_e=Object.create(ge.prototype),et=new ve(ue||[]);return c(_e,"_invoke",{value:re(Z,ne,et)}),_e}n.wrap=b;function _(Z,J,ne){try{return{type:"normal",arg:Z.call(J,ne)}}catch(ue){return{type:"throw",arg:ue}}}var N="suspendedStart",T="suspendedYield",P="executing",M="completed",I={};function D(){}function F(){}function Y(){}var G={};C(G,x,function(){return this});var z=Object.getPrototypeOf,$=z&&z(z(ce([])));$&&$!==r&&s.call($,x)&&(G=$);var Q=Y.prototype=D.prototype=Object.create(G);F.prototype=Y,c(Q,"constructor",{value:Y,configurable:!0}),c(Y,"constructor",{value:F,configurable:!0}),F.displayName=C(Y,w,"GeneratorFunction");function ie(Z){["next","throw","return"].forEach(function(J){C(Z,J,function(ne){return this._invoke(J,ne)})})}n.isGeneratorFunction=function(Z){var J=typeof Z=="function"&&Z.constructor;return J?J===F||(J.displayName||J.name)==="GeneratorFunction":!1},n.mark=function(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,Y):(Z.__proto__=Y,C(Z,w,"GeneratorFunction")),Z.prototype=Object.create(Q),Z},n.awrap=function(Z){return{__await:Z}};function fe(Z,J){function ne(_e,et,me,Ne){var Le=_(Z[_e],Z,et);if(Le.type==="throw")Ne(Le.arg);else{var Se=Le.arg,Ze=Se.value;return Ze&&typeof Ze=="object"&&s.call(Ze,"__await")?J.resolve(Ze.__await).then(function(He){ne("next",He,me,Ne)},function(He){ne("throw",He,me,Ne)}):J.resolve(Ze).then(function(He){Se.value=He,me(Se)},function(He){return ne("throw",He,me,Ne)})}}var ue;function ge(_e,et){function me(){return new J(function(Ne,Le){ne(_e,et,Ne,Le)})}return ue=ue?ue.then(me,me):me()}c(this,"_invoke",{value:ge})}ie(fe.prototype),C(fe.prototype,g,function(){return this}),n.AsyncIterator=fe,n.async=function(Z,J,ne,ue,ge){ge===void 0&&(ge=Promise);var _e=new fe(b(Z,J,ne,ue),ge);return n.isGeneratorFunction(J)?_e:_e.next().then(function(et){return et.done?et.value:_e.next()})};function re(Z,J,ne){var ue=N;return function(_e,et){if(ue===P)throw new Error("Generator is already running");if(ue===M){if(_e==="throw")throw et;return q()}for(ne.method=_e,ne.arg=et;;){var me=ne.delegate;if(me){var Ne=we(me,ne);if(Ne){if(Ne===I)continue;return Ne}}if(ne.method==="next")ne.sent=ne._sent=ne.arg;else if(ne.method==="throw"){if(ue===N)throw ue=M,ne.arg;ne.dispatchException(ne.arg)}else ne.method==="return"&&ne.abrupt("return",ne.arg);ue=P;var Le=_(Z,J,ne);if(Le.type==="normal"){if(ue=ne.done?M:T,Le.arg===I)continue;return{value:Le.arg,done:ne.done}}else Le.type==="throw"&&(ue=M,ne.method="throw",ne.arg=Le.arg)}}}function we(Z,J){var ne=J.method,ue=Z.iterator[ne];if(ue===h)return J.delegate=null,ne==="throw"&&Z.iterator.return&&(J.method="return",J.arg=h,we(Z,J),J.method==="throw")||ne!=="return"&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+ne+"' method")),I;var ge=_(ue,Z.iterator,J.arg);if(ge.type==="throw")return J.method="throw",J.arg=ge.arg,J.delegate=null,I;var _e=ge.arg;if(!_e)return J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,I;if(_e.done)J[Z.resultName]=_e.value,J.next=Z.nextLoc,J.method!=="return"&&(J.method="next",J.arg=h);else return _e;return J.delegate=null,I}ie(Q),C(Q,w,"Generator"),C(Q,x,function(){return this}),C(Q,"toString",function(){return"[object Generator]"});function he(Z){var J={tryLoc:Z[0]};1 in Z&&(J.catchLoc=Z[1]),2 in Z&&(J.finallyLoc=Z[2],J.afterLoc=Z[3]),this.tryEntries.push(J)}function ee(Z){var J=Z.completion||{};J.type="normal",delete J.arg,Z.completion=J}function ve(Z){this.tryEntries=[{tryLoc:"root"}],Z.forEach(he,this),this.reset(!0)}n.keys=function(Z){var J=Object(Z),ne=[];for(var ue in J)ne.push(ue);return ne.reverse(),function ge(){for(;ne.length;){var _e=ne.pop();if(_e in J)return ge.value=_e,ge.done=!1,ge}return ge.done=!0,ge}};function ce(Z){if(Z){var J=Z[x];if(J)return J.call(Z);if(typeof Z.next=="function")return Z;if(!isNaN(Z.length)){var ne=-1,ue=function ge(){for(;++ne<Z.length;)if(s.call(Z,ne))return ge.value=Z[ne],ge.done=!1,ge;return ge.value=h,ge.done=!0,ge};return ue.next=ue}}return{next:q}}n.values=ce;function q(){return{value:h,done:!0}}return ve.prototype={constructor:ve,reset:function(Z){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(ee),!Z)for(var J in this)J.charAt(0)==="t"&&s.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=h)},stop:function(){this.done=!0;var Z=this.tryEntries[0],J=Z.completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(Z){if(this.done)throw Z;var J=this;function ne(Ne,Le){return _e.type="throw",_e.arg=Z,J.next=Ne,Le&&(J.method="next",J.arg=h),!!Le}for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ge=this.tryEntries[ue],_e=ge.completion;if(ge.tryLoc==="root")return ne("end");if(ge.tryLoc<=this.prev){var et=s.call(ge,"catchLoc"),me=s.call(ge,"finallyLoc");if(et&&me){if(this.prev<ge.catchLoc)return ne(ge.catchLoc,!0);if(this.prev<ge.finallyLoc)return ne(ge.finallyLoc)}else if(et){if(this.prev<ge.catchLoc)return ne(ge.catchLoc,!0)}else if(me){if(this.prev<ge.finallyLoc)return ne(ge.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Z,J){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var ue=this.tryEntries[ne];if(ue.tryLoc<=this.prev&&s.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var ge=ue;break}}ge&&(Z==="break"||Z==="continue")&&ge.tryLoc<=J&&J<=ge.finallyLoc&&(ge=null);var _e=ge?ge.completion:{};return _e.type=Z,_e.arg=J,ge?(this.method="next",this.next=ge.finallyLoc,I):this.complete(_e)},complete:function(Z,J){if(Z.type==="throw")throw Z.arg;return Z.type==="break"||Z.type==="continue"?this.next=Z.arg:Z.type==="return"?(this.rval=this.arg=Z.arg,this.method="return",this.next="end"):Z.type==="normal"&&J&&(this.next=J),I},finish:function(Z){for(var J=this.tryEntries.length-1;J>=0;--J){var ne=this.tryEntries[J];if(ne.finallyLoc===Z)return this.complete(ne.completion,ne.afterLoc),ee(ne),I}},catch:function(Z){for(var J=this.tryEntries.length-1;J>=0;--J){var ne=this.tryEntries[J];if(ne.tryLoc===Z){var ue=ne.completion;if(ue.type==="throw"){var ge=ue.arg;ee(ne)}return ge}}throw new Error("illegal catch attempt")},delegateYield:function(Z,J,ne){return this.delegate={iterator:ce(Z),resultName:J,nextLoc:ne},this.method==="next"&&(this.arg=h),I}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(WD);var ig=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const HD=ig;let w2=0;var wR=({id:e,action:t,payload:n={}})=>{let r=e;return typeof r>"u"&&(r=HD("Job",w2),w2+=1),{id:r,action:t,payload:n}},Xl={};let sg=!1;Xl.logging=sg;Xl.setLogging=e=>{sg=e};Xl.log=(...e)=>sg?console.log.apply(void 0,e):null;const VD=wR,{log:pd}=Xl,QD=ig;let C2=0;var GD=()=>{const e=QD("Scheduler",C2),t={},n={};let r=[];C2+=1;const s=()=>r.length,c=()=>Object.keys(t).length,h=()=>{if(r.length!==0){const C=Object.keys(t);for(let b=0;b<C.length;b+=1)if(typeof n[C[b]]>"u"){r[0](t[C[b]]);break}}},m=(C,b)=>new Promise((_,N)=>{const T=VD({action:C,payload:b});r.push(async P=>{r.shift(),n[P.id]=T;try{_(await P[C].apply(void 0,[...b,T.id]))}catch(M){N(M)}finally{delete n[P.id],h()}}),pd(`[${e}]: Add ${T.id} to JobQueue`),pd(`[${e}]: JobQueue length=${r.length}`),h()});return{addWorker:C=>(t[C.id]=C,pd(`[${e}]: Add ${C.id}`),pd(`[${e}]: Number of workers=${c()}`),h(),C.id),addJob:async(C,...b)=>{if(c()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return m(C,b)},terminate:async()=>{Object.keys(t).forEach(async C=>{await t[C].terminate()}),r=[]},getQueueLen:s,getNumWorkers:c}};function ZD(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $D=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof ZD=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const KD=$D("type")==="browser",qD=KD?e=>new URL(e,window.location.href).href:e=>e;var JD=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(t[n]=qD(t[n]))}),t},CR={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const ek="tesseract.js",tk="6.0.1",nk="Pure Javascript Multilingual OCR",rk="src/index.js",ok="commonjs",ik="src/index.d.ts",sk="dist/tesseract.min.js",ak="dist/tesseract.min.js",lk={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},ck={"./src/worker/node/index.js":"./src/worker/browser/index.js"},uk="",dk=["jeromewu"],fk="Apache-2.0",hk={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},pk={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},mk={"@rollup/pluginutils":"^5.0.2"},gk={type:"git",url:"https://github.com/naptha/tesseract.js.git"},yk={url:"https://github.com/naptha/tesseract.js/issues"},xk="https://github.com/naptha/tesseract.js",vk={type:"opencollective",url:"https://opencollective.com/tesseractjs"},wk={name:ek,version:tk,description:nk,main:rk,type:ok,types:ik,unpkg:sk,jsdelivr:ak,scripts:lk,browser:ck,author:uk,contributors:dk,license:fk,devDependencies:hk,dependencies:pk,overrides:mk,repository:gk,bugs:yk,homepage:xk,collective:vk};var Ck={workerBlobURL:!0,logger:()=>{}};const bk=wk.version,Sk=Ck;var Rk={...Sk,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${bk}/dist/worker.min.js`},Ek=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const r=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(e);return n},Ak=e=>{e.terminate()},Tk=(e,t)=>{e.onmessage=({data:n})=>{t(n)}},_k=async(e,t)=>{e.postMessage(t)};const Sh=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:s}}})=>{n(Error(`File could not be read! Code=${s}`))},r.readAsArrayBuffer(e)}),J1=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await J1(e.src)),e.tagName==="VIDEO"&&(t=await J1(e.poster)),e.tagName==="CANVAS"&&await new Promise(n=>{e.toBlob(async r=>{t=await Sh(r),n()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();t=await Sh(n)}else(e instanceof File||e instanceof Blob)&&(t=await Sh(e));return new Uint8Array(t)};var Ik=J1;const Nk=Rk,Ok=Ek,Mk=Ak,Dk=Tk,kk=_k,Pk=Ik;var Lk={defaultOptions:Nk,spawnWorker:Ok,terminateWorker:Mk,onMessage:Dk,send:kk,loadImage:Pk};const jk=JD,Yo=wR,{log:b2}=Xl,Bk=ig,Xs=CR,{defaultOptions:Fk,spawnWorker:Uk,terminateWorker:zk,onMessage:Yk,loadImage:S2,send:Xk}=Lk;let R2=0;var bR=async(e="eng",t=Xs.LSTM_ONLY,n={},r={})=>{const s=Bk("Worker",R2),{logger:c,errorHandler:h,...m}=jk({...Fk,...n}),x={},g=typeof e=="string"?e.split("+"):e;let w=t,C=r;const b=[Xs.DEFAULT,Xs.LSTM_ONLY].includes(t)&&!m.legacyCore;let _,N;const T=new Promise((ce,q)=>{N=ce,_=q}),P=ce=>{_(ce.message)};let M=Uk(m);M.onerror=P,R2+=1;const I=({id:ce,action:q,payload:Z})=>new Promise((J,ne)=>{b2(`[${s}]: Start ${ce}, action=${q}`);const ue=`${q}-${ce}`;x[ue]={resolve:J,reject:ne},Xk(M,{workerId:s,jobId:ce,action:q,payload:Z})}),D=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),F=ce=>I(Yo({id:ce,action:"load",payload:{options:{lstmOnly:b,corePath:m.corePath,logging:m.logging}}})),Y=(ce,q,Z)=>I(Yo({id:Z,action:"FS",payload:{method:"writeFile",args:[ce,q]}})),G=(ce,q)=>I(Yo({id:q,action:"FS",payload:{method:"readFile",args:[ce,{encoding:"utf8"}]}})),z=(ce,q)=>I(Yo({id:q,action:"FS",payload:{method:"unlink",args:[ce]}})),$=(ce,q,Z)=>I(Yo({id:Z,action:"FS",payload:{method:ce,args:q}})),Q=(ce,q)=>I(Yo({id:q,action:"loadLanguage",payload:{langs:ce,options:{langPath:m.langPath,dataPath:m.dataPath,cachePath:m.cachePath,cacheMethod:m.cacheMethod,gzip:m.gzip,lstmOnly:[Xs.DEFAULT,Xs.LSTM_ONLY].includes(w)&&!m.legacyLang}}})),ie=(ce,q,Z,J)=>I(Yo({id:J,action:"initialize",payload:{langs:ce,oem:q,config:Z}})),fe=(ce="eng",q,Z,J)=>{if(b&&[Xs.TESSERACT_ONLY,Xs.TESSERACT_LSTM_COMBINED].includes(q))throw Error("Legacy model requested but code missing.");const ne=q||w;w=ne;const ue=Z||C;C=ue;const _e=(typeof ce=="string"?ce.split("+"):ce).filter(et=>!g.includes(et));return g.push(..._e),_e.length>0?Q(_e,J).then(()=>ie(ce,ne,ue,J)):ie(ce,ne,ue,J)},re=(ce={},q)=>I(Yo({id:q,action:"setParameters",payload:{params:ce}})),we=async(ce,q={},Z={text:!0},J)=>I(Yo({id:J,action:"recognize",payload:{image:await S2(ce),options:q,output:Z}})),he=async(ce,q)=>{if(b)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return I(Yo({id:q,action:"detect",payload:{image:await S2(ce)}}))},ee=async()=>(M!==null&&(zk(M),M=null),Promise.resolve());Yk(M,({workerId:ce,jobId:q,status:Z,action:J,data:ne})=>{const ue=`${J}-${q}`;if(Z==="resolve")b2(`[${ce}]: Complete ${q}`),x[ue].resolve({jobId:q,data:ne}),delete x[ue];else if(Z==="reject")if(x[ue].reject(ne),delete x[ue],J==="load"&&_(ne),h)h(ne);else throw Error(ne);else Z==="progress"&&c({...ne,userJobId:q})});const ve={id:s,worker:M,load:D,writeText:Y,readText:G,removeFile:z,FS:$,reinitialize:fe,setParameters:re,recognize:we,detect:he,terminate:ee};return F().then(()=>Q(e)).then(()=>ie(e,t,r)).then(()=>N(ve)).catch(()=>{}),T};const SR=bR,Wk=async(e,t,n)=>{const r=await SR(t,1,n);return r.recognize(e).finally(async()=>{await r.terminate()})},Hk=async(e,t)=>{const n=await SR("osd",0,t);return n.detect(e).finally(async()=>{await n.terminate()})};var Vk={recognize:Wk,detect:Hk},Qk={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Gk={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Zk=GD,$k=bR,Kk=Vk,qk=Qk,Jk=CR,eP=Gk,{setLogging:tP}=Xl;var nP={languages:qk,OEM:Jk,PSM:eP,createScheduler:Zk,createWorker:$k,setLogging:tP,...Kk};const E2=da(nP);class rP{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return oP(t).buffer}}function oP(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e){const c=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(c,r),r+=s.byteLength}return n}function RR(e){return new iP(e).unpack()}function ER(e){const t=new sP,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class iP{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,s="",c,h;for(;r<t;)c=n[r],c<160?(h=c,r++):(c^192)<32?(h=(c&31)<<6|n[r+1]&63,r+=2):(c^224)<16?(h=(c&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(h=(c&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(h);return this.index+=t,s}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,s=t&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,s=(t>>20&2047)-1023,h=(t&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*h}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class sP{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const c=this.pack(t[s]);return c instanceof Promise?c.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),s=t/2**r-1,c=Math.floor(s*2**52),h=2**32,m=n<<31|r+1023<<20|c/h&1048575,x=c%h;this._bufferBuilder.append(203),this.pack_int32(m),this.pack_int32(x)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=c=>{if(c<n.length){const h=n[c];if(t.hasOwnProperty(h)){this.pack(h);const m=this.pack(t[h]);if(m instanceof Promise)return m.then(()=>s(c+1))}return s(c+1)}};return s(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new rP,this._textEncoder=new TextEncoder}}let AR=!0,TR=!0;function Rc(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function va(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(h,m){if(h!==t)return s.apply(this,arguments);const x=g=>{const w=n(g);w&&(m.handleEvent?m.handleEvent(w):m(w))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(m,x),s.apply(this,[h,x])};const c=r.removeEventListener;r.removeEventListener=function(h,m){if(h!==t||!this._eventMap||!this._eventMap[t])return c.apply(this,arguments);if(!this._eventMap[t].has(m))return c.apply(this,arguments);const x=this._eventMap[t].get(m);return this._eventMap[t].delete(m),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[h,x])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(h){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),h&&this.addEventListener(t,this["_on"+t]=h)},enumerable:!0,configurable:!0})}function aP(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(AR=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function lP(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(TR=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function _R(){if(typeof window=="object"){if(AR)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ag(e,t){TR&&console.warn(e+" is deprecated, please use "+t+" instead.")}function cP(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Rc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Rc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Rc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Rc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function A2(e){return Object.prototype.toString.call(e)==="[object Object]"}function IR(e){return A2(e)?Object.keys(e).reduce(function(t,n){const r=A2(e[n]),s=r?IR(e[n]):e[n],c=r&&!Object.keys(s).length;return s===void 0||c?t:Object.assign(t,{[n]:s})},{}):e}function ep(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?ep(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(s=>{ep(e,e.get(s),n)})}))}function T2(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const c=[];return e.forEach(h=>{h.type==="track"&&h.trackIdentifier===t.id&&c.push(h)}),c.forEach(h=>{e.forEach(m=>{m.type===r&&m.trackId===h.id&&ep(e,m,s)})}),s}const _2=_R;function NR(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(m){if(typeof m!="object"||m.mandatory||m.optional)return m;const x={};return Object.keys(m).forEach(g=>{if(g==="require"||g==="advanced"||g==="mediaSource")return;const w=typeof m[g]=="object"?m[g]:{ideal:m[g]};w.exact!==void 0&&typeof w.exact=="number"&&(w.min=w.max=w.exact);const C=function(b,_){return b?b+_.charAt(0).toUpperCase()+_.slice(1):_==="deviceId"?"sourceId":_};if(w.ideal!==void 0){x.optional=x.optional||[];let b={};typeof w.ideal=="number"?(b[C("min",g)]=w.ideal,x.optional.push(b),b={},b[C("max",g)]=w.ideal,x.optional.push(b)):(b[C("",g)]=w.ideal,x.optional.push(b))}w.exact!==void 0&&typeof w.exact!="number"?(x.mandatory=x.mandatory||{},x.mandatory[C("",g)]=w.exact):["min","max"].forEach(b=>{w[b]!==void 0&&(x.mandatory=x.mandatory||{},x.mandatory[C(b,g)]=w[b])})}),m.advanced&&(x.optional=(x.optional||[]).concat(m.advanced)),x},s=function(m,x){if(t.version>=61)return x(m);if(m=JSON.parse(JSON.stringify(m)),m&&typeof m.audio=="object"){const g=function(w,C,b){C in w&&!(b in w)&&(w[b]=w[C],delete w[C])};m=JSON.parse(JSON.stringify(m)),g(m.audio,"autoGainControl","googAutoGainControl"),g(m.audio,"noiseSuppression","googNoiseSuppression"),m.audio=r(m.audio)}if(m&&typeof m.video=="object"){let g=m.video.facingMode;g=g&&(typeof g=="object"?g:{ideal:g});const w=t.version<66;if(g&&(g.exact==="user"||g.exact==="environment"||g.ideal==="user"||g.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!w)){delete m.video.facingMode;let C;if(g.exact==="environment"||g.ideal==="environment"?C=["back","rear"]:(g.exact==="user"||g.ideal==="user")&&(C=["front"]),C)return n.mediaDevices.enumerateDevices().then(b=>{b=b.filter(N=>N.kind==="videoinput");let _=b.find(N=>C.some(T=>N.label.toLowerCase().includes(T)));return!_&&b.length&&C.includes("back")&&(_=b[b.length-1]),_&&(m.video.deviceId=g.exact?{exact:_.deviceId}:{ideal:_.deviceId}),m.video=r(m.video),_2("chrome: "+JSON.stringify(m)),x(m)})}m.video=r(m.video)}return _2("chrome: "+JSON.stringify(m)),x(m)},c=function(m){return t.version>=64?m:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[m.name]||m.name,message:m.message,constraint:m.constraint||m.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},h=function(m,x,g){s(m,w=>{n.webkitGetUserMedia(w,x,C=>{g&&g(c(C))})})};if(n.getUserMedia=h.bind(n),n.mediaDevices.getUserMedia){const m=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(x){return s(x,g=>m(g).then(w=>{if(g.audio&&!w.getAudioTracks().length||g.video&&!w.getVideoTracks().length)throw w.getTracks().forEach(C=>{C.stop()}),new DOMException("","NotFoundError");return w},w=>Promise.reject(c(w))))}}}function OR(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function MR(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let c;e.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(m=>m.track&&m.track.id===s.track.id):c={track:s.track};const h=new Event("track");h.track=s.track,h.receiver=c,h.transceiver={receiver:c},h.streams=[r.stream],this.dispatchEvent(h)}),r.stream.getTracks().forEach(s=>{let c;e.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(m=>m.track&&m.track.id===s.id):c={track:s};const h=new Event("track");h.track=s,h.receiver=c,h.transceiver={receiver:c},h.streams=[r.stream],this.dispatchEvent(h)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else va(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function DR(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=s.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(m,x){let g=s.apply(this,arguments);return g||(g=t(this,m),this._senders.push(g)),g};const c=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(m){c.apply(this,arguments);const x=this._senders.indexOf(m);x!==-1&&this._senders.splice(x,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(h=>{this._senders.push(t(this,h))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],r.apply(this,[c]),c.getTracks().forEach(h=>{const m=this._senders.find(x=>x.track===h);m&&this._senders.splice(this._senders.indexOf(m),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function kR(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(h=>h._pc=this),c});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const c=r.apply(this,arguments);return c._pc=this,c}),e.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(h=>T2(h,c.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(c=>c._pc=this),s}),va(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(c=>T2(c,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let s,c,h;return this.getSenders().forEach(m=>{m.track===r&&(s?h=!0:s=m)}),this.getReceivers().forEach(m=>(m.track===r&&(c?h=!0:c=m),m.track===r)),h||s&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function PR(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(h=>this._shimmedLocalStreams[h][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(h,m){if(!m)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const x=t.apply(this,arguments);return this._shimmedLocalStreams[m.id]?this._shimmedLocalStreams[m.id].indexOf(x)===-1&&this._shimmedLocalStreams[m.id].push(x):this._shimmedLocalStreams[m.id]=[m,x],x};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(h){this._shimmedLocalStreams=this._shimmedLocalStreams||{},h.getTracks().forEach(g=>{if(this.getSenders().find(C=>C.track===g))throw new DOMException("Track already exists.","InvalidAccessError")});const m=this.getSenders();n.apply(this,arguments);const x=this.getSenders().filter(g=>m.indexOf(g)===-1);this._shimmedLocalStreams[h.id]=[h].concat(x)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(h){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[h.id],r.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(h){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},h&&Object.keys(this._shimmedLocalStreams).forEach(m=>{const x=this._shimmedLocalStreams[m].indexOf(h);x!==-1&&this._shimmedLocalStreams[m].splice(x,1),this._shimmedLocalStreams[m].length===1&&delete this._shimmedLocalStreams[m]}),s.apply(this,arguments)}}function LR(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return PR(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const w=n.apply(this);return this._reverseStreams=this._reverseStreams||{},w.map(C=>this._reverseStreams[C.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(w){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},w.getTracks().forEach(C=>{if(this.getSenders().find(_=>_.track===C))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[w.id]){const C=new e.MediaStream(w.getTracks());this._streams[w.id]=C,this._reverseStreams[C.id]=w,w=C}r.apply(this,[w])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(w){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[w.id]||w]),delete this._reverseStreams[this._streams[w.id]?this._streams[w.id].id:w.id],delete this._streams[w.id]},e.RTCPeerConnection.prototype.addTrack=function(w,C){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const b=[].slice.call(arguments,1);if(b.length!==1||!b[0].getTracks().find(T=>T===w))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(T=>T.track===w))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const N=this._streams[C.id];if(N)N.addTrack(w),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const T=new e.MediaStream([w]);this._streams[C.id]=T,this._reverseStreams[T.id]=C,this.addStream(T)}return this.getSenders().find(T=>T.track===w)};function c(g,w){let C=w.sdp;return Object.keys(g._reverseStreams||[]).forEach(b=>{const _=g._reverseStreams[b],N=g._streams[_.id];C=C.replace(new RegExp(N.id,"g"),_.id)}),new RTCSessionDescription({type:w.type,sdp:C})}function h(g,w){let C=w.sdp;return Object.keys(g._reverseStreams||[]).forEach(b=>{const _=g._reverseStreams[b],N=g._streams[_.id];C=C.replace(new RegExp(_.id,"g"),N.id)}),new RTCSessionDescription({type:w.type,sdp:C})}["createOffer","createAnswer"].forEach(function(g){const w=e.RTCPeerConnection.prototype[g],C={[g](){const b=arguments;return arguments.length&&typeof arguments[0]=="function"?w.apply(this,[N=>{const T=c(this,N);b[0].apply(null,[T])},N=>{b[1]&&b[1].apply(null,N)},arguments[2]]):w.apply(this,arguments).then(N=>c(this,N))}};e.RTCPeerConnection.prototype[g]=C[g]});const m=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?m.apply(this,arguments):(arguments[0]=h(this,arguments[0]),m.apply(this,arguments))};const x=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const g=x.get.apply(this);return g.type===""?g:c(this,g)}}),e.RTCPeerConnection.prototype.removeTrack=function(w){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!w._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(w._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let b;Object.keys(this._streams).forEach(_=>{this._streams[_].getTracks().find(T=>w.track===T)&&(b=this._streams[_])}),b&&(b.getTracks().length===1?this.removeStream(this._reverseStreams[b.id]):b.removeTrack(w.track),this.dispatchEvent(new Event("negotiationneeded")))}}function tp(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=s[n]})}function jR(e,t){va(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const I2=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:jR,shimAddTrackRemoveTrack:LR,shimAddTrackRemoveTrackWithNative:PR,shimGetSendersWithDtmf:DR,shimGetUserMedia:NR,shimMediaStream:OR,shimOnTrack:MR,shimPeerConnection:tp,shimSenderReceiverGetStats:kR},Symbol.toStringTag,{value:"Module"}));function BR(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(s,c,h){ag("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(c,h)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(h,m,x){m in h&&!(x in h)&&(h[x]=h[m],delete h[m])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(h){return typeof h=="object"&&typeof h.audio=="object"&&(h=JSON.parse(JSON.stringify(h)),s(h.audio,"autoGainControl","mozAutoGainControl"),s(h.audio,"noiseSuppression","mozNoiseSuppression")),c(h)},r&&r.prototype.getSettings){const h=r.prototype.getSettings;r.prototype.getSettings=function(){const m=h.apply(this,arguments);return s(m,"mozAutoGainControl","autoGainControl"),s(m,"mozNoiseSuppression","noiseSuppression"),m}}if(r&&r.prototype.applyConstraints){const h=r.prototype.applyConstraints;r.prototype.applyConstraints=function(m){return this.kind==="audio"&&typeof m=="object"&&(m=JSON.parse(JSON.stringify(m)),s(m,"autoGainControl","mozAutoGainControl"),s(m,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[m])}}}}function uP(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function FR(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function np(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const c=e.RTCPeerConnection.prototype[s],h={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=h[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[c,h,m]=arguments;return r.apply(this,[c||null]).then(x=>{if(t.version<53&&!h)try{x.forEach(g=>{g.type=n[g.type]||g.type})}catch(g){if(g.name!=="TypeError")throw g;x.forEach((w,C)=>{x.set(C,Object.assign({},w,{type:n[w.type]||w.type}))})}return x}).then(h,m)}}function UR(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(c=>c._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function zR(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r}),va(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function YR(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){ag("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function XR(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function WR(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(h=>{if("rid"in h&&!/^[a-z0-9]{0,16}$/i.test(h.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in h&&!(parseFloat(h.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in h&&!(parseFloat(h.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=t.apply(this,arguments);if(s){const{sender:h}=c,m=h.getParameters();(!("encodings"in m)||m.encodings.length===1&&Object.keys(m.encodings[0]).length===0)&&(m.encodings=r,h.sendEncodings=r,this.setParametersPromises.push(h.setParameters(m).then(()=>{delete h.sendEncodings}).catch(()=>{delete h.sendEncodings})))}return c})}function HR(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function VR(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function QR(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const N2=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:WR,shimCreateAnswer:QR,shimCreateOffer:VR,shimGetDisplayMedia:uP,shimGetParameters:HR,shimGetUserMedia:BR,shimOnTrack:FR,shimPeerConnection:np,shimRTCDataChannel:XR,shimReceiverGetStats:zR,shimRemoveStream:YR,shimSenderGetStats:UR},Symbol.toStringTag,{value:"Module"}));function GR(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>t.call(this,s,r)),r.getVideoTracks().forEach(s=>t.call(this,s,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(c=>{s.includes(c.track)&&this.removeTrack(c)})})}}function ZR(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const c=new Event("addstream");c.stream=s,this.dispatchEvent(c)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(c=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(c)>=0)return;r._remoteStreams.push(c);const h=new Event("addstream");h.stream=c,r.dispatchEvent(h)})}),t.apply(r,arguments)}}}function $R(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,s=t.setLocalDescription,c=t.setRemoteDescription,h=t.addIceCandidate;t.createOffer=function(g,w){const C=arguments.length>=2?arguments[2]:arguments[0],b=n.apply(this,[C]);return w?(b.then(g,w),Promise.resolve()):b},t.createAnswer=function(g,w){const C=arguments.length>=2?arguments[2]:arguments[0],b=r.apply(this,[C]);return w?(b.then(g,w),Promise.resolve()):b};let m=function(x,g,w){const C=s.apply(this,[x]);return w?(C.then(g,w),Promise.resolve()):C};t.setLocalDescription=m,m=function(x,g,w){const C=c.apply(this,[x]);return w?(C.then(g,w),Promise.resolve()):C},t.setRemoteDescription=m,m=function(x,g,w){const C=h.apply(this,[x]);return w?(C.then(g,w),Promise.resolve()):C},t.addIceCandidate=m}function KR(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=s=>r(qR(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,s,c){t.mediaDevices.getUserMedia(r).then(s,c)}).bind(t))}function qR(e){return e&&e.video!==void 0?Object.assign({},e,{video:IR(e.video)}):e}function JR(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const c=[];for(let h=0;h<r.iceServers.length;h++){let m=r.iceServers[h];m.urls===void 0&&m.url?(ag("RTCIceServer.url","RTCIceServer.urls"),m=JSON.parse(JSON.stringify(m)),m.urls=m.url,delete m.url,c.push(m)):c.push(r.iceServers[h])}r.iceServers=c}return new t(r,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function eE(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function tE(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(h=>h.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const c=this.getTransceivers().find(h=>h.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):r.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function nE(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const O2=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:nE,shimCallbacksAPI:$R,shimConstraints:qR,shimCreateOfferLegacy:tE,shimGetUserMedia:KR,shimLocalStreamsAPI:GR,shimRTCIceServerUrls:JR,shimRemoteStreamsAPI:ZR,shimTrackEventTransceiver:eE},Symbol.toStringTag,{value:"Module"}));var rE={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((s,c)=>(c>0?"m="+s:s).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(s=>s.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let c=8;c<r.length;c+=2)switch(r[c]){case"raddr":s.relatedAddress=r[c+1];break;case"rport":s.relatedPort=parseInt(r[c+1],10);break;case"tcptype":s.tcpType=r[c+1];break;case"ufrag":s.ufrag=r[c+1],s.usernameFragment=r[c+1];break;default:s[r[c]]===void 0&&(s[r[c]]=r[c+1]);break}return s},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const c=n.type;return r.push("typ"),r.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let s;const c=n.substring(n.indexOf(" ")+1).split(";");for(let h=0;h<c.length;h++)s=c[h].trim().split("="),r[s[0].trim()]=s[1];return r},t.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(h=>{n.parameters[h]!==void 0?c.push(h+"="+n.parameters[h]):c.push(h)}),r+="a=fmtp:"+s+" "+c.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{r+="a=rtcp-fb:"+s+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},c=n.indexOf(":",r);return c>-1?(s.attribute=n.substring(r+1,c),s.value=n.substring(c+1)):s.attribute=n.substring(r+1),s},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(c=>{s+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),s},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const s=t.matchPrefix(n+r,"a=ice-ufrag:")[0],c=t.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&c?{usernameFragment:s.substring(12),password:c.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=t.splitLines(n)[0].split(" ");r.profile=c[2];for(let m=3;m<c.length;m++){const x=c[m],g=t.matchPrefix(n,"a=rtpmap:"+x+" ")[0];if(g){const w=t.parseRtpMap(g),C=t.matchPrefix(n,"a=fmtp:"+x+" ");switch(w.parameters=C.length?t.parseFmtp(C[0]):{},w.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+x+" ").map(t.parseRtcpFb),r.codecs.push(w),w.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(w.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(m=>{r.headerExtensions.push(t.parseExtmap(m))});const h=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(m=>{h.forEach(x=>{m.rtcpFeedback.find(w=>w.type===x.type&&w.parameter===x.parameter)||m.rtcpFeedback.push(x)})}),r},t.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(h=>h.preferredPayloadType!==void 0?h.preferredPayloadType:h.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(h=>{s+=t.writeRtpMap(h),s+=t.writeFmtp(h),s+=t.writeRtcpFb(h)});let c=0;return r.codecs.forEach(h=>{h.maxptime>c&&(c=h.maxptime)}),c>0&&(s+="a=maxptime:"+c+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(h=>{s+=t.writeExtmap(h)}),s},t.parseRtpEncodingParameters=function(n){const r=[],s=t.parseRtpParameters(n),c=s.fecMechanisms.indexOf("RED")!==-1,h=s.fecMechanisms.indexOf("ULPFEC")!==-1,m=t.matchPrefix(n,"a=ssrc:").map(b=>t.parseSsrcMedia(b)).filter(b=>b.attribute==="cname"),x=m.length>0&&m[0].ssrc;let g;const w=t.matchPrefix(n,"a=ssrc-group:FID").map(b=>b.substring(17).split(" ").map(N=>parseInt(N,10)));w.length>0&&w[0].length>1&&w[0][0]===x&&(g=w[0][1]),s.codecs.forEach(b=>{if(b.name.toUpperCase()==="RTX"&&b.parameters.apt){let _={ssrc:x,codecPayloadType:parseInt(b.parameters.apt,10)};x&&g&&(_.rtx={ssrc:g}),r.push(_),c&&(_=JSON.parse(JSON.stringify(_)),_.fec={ssrc:x,mechanism:h?"red+ulpfec":"red"},r.push(_))}}),r.length===0&&x&&r.push({ssrc:x});let C=t.matchPrefix(n,"b=");return C.length&&(C[0].indexOf("b=TIAS:")===0?C=parseInt(C[0].substring(7),10):C[0].indexOf("b=AS:")===0?C=parseInt(C[0].substring(5),10)*1e3*.95-50*40*8:C=void 0,r.forEach(b=>{b.maxBitrate=C})),r},t.parseRtcpParameters=function(n){const r={},s=t.matchPrefix(n,"a=ssrc:").map(m=>t.parseSsrcMedia(m)).filter(m=>m.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const c=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=c.length>0,r.compound=c.length===0;const h=t.matchPrefix(n,"a=rtcp-mux");return r.mux=h.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const s=t.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const c=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="msid");if(c.length>0)return r=c[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),s=t.matchPrefix(n,"a=max-message-size:");let c;s.length>0&&(c=parseInt(s[0].substring(19),10)),isNaN(c)&&(c=65536);const h=t.matchPrefix(n,"a=sctp-port:");if(h.length>0)return{port:parseInt(h[0].substring(12),10),protocol:r.fmt,maxMessageSize:c};const m=t.matchPrefix(n,"a=sctpmap:");if(m.length>0){const x=m[0].substring(10).split(" ");return{port:parseInt(x[0],10),protocol:x[1],maxMessageSize:c}}},t.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,s){let c;const h=r!==void 0?r:2;return n?c=n:c=t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+c+" "+h+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const s=t.splitLines(n);for(let c=0;c<s.length;c++)switch(s[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[c].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const s=t.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},t.parseOLine=function(n){const s=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(rE);var oE=rE.exports;const dl=da(oE),dP=fp({__proto__:null,default:dl},[oE]);function Bd(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new t(r),c=dl.parseCandidate(r.candidate);for(const h in c)h in s||Object.defineProperty(s,h,{value:c[h]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,va(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function rp(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||va(e,"icecandidate",t=>{if(t.candidate){const n=dl.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Fd(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(m){if(!m||!m.sdp)return!1;const x=dl.splitSections(m.sdp);return x.shift(),x.some(g=>{const w=dl.parseMLine(g);return w&&w.kind==="application"&&w.protocol.indexOf("SCTP")!==-1})},r=function(m){const x=m.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(x===null||x.length<2)return-1;const g=parseInt(x[1],10);return g!==g?-1:g},s=function(m){let x=65536;return t.browser==="firefox"&&(t.version<57?m===-1?x=16384:x=2147483637:t.version<60?x=t.version===57?65535:65536:x=2147483637),x},c=function(m,x){let g=65536;t.browser==="firefox"&&t.version===57&&(g=65535);const w=dl.matchPrefix(m.sdp,"a=max-message-size:");return w.length>0?g=parseInt(w[0].substring(19),10):t.browser==="firefox"&&x!==-1&&(g=2147483637),g},h=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:x}=this.getConfiguration();x==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const x=r(arguments[0]),g=s(x),w=c(arguments[0],x);let C;g===0&&w===0?C=Number.POSITIVE_INFINITY:g===0||w===0?C=Math.max(g,w):C=Math.min(g,w);const b={};Object.defineProperty(b,"maxMessageSize",{get(){return C}}),this._sctp=b}return h.apply(this,arguments)}}function Ud(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,s){const c=r.send;r.send=function(){const m=arguments[0],x=m.length||m.size||m.byteLength;if(r.readyState==="open"&&s.sctp&&x>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return c.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return t(s,this),s},va(e,"datachannel",r=>(t(r.channel,r.target),r))}function op(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const c=s.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const h=new Event("connectionstatechange",s);c.dispatchEvent(h)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function ip(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=s.sdp.split(`
`).filter(h=>h.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:c}):s.sdp=c}return n.apply(this,arguments)}}function zd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Yd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(h=>n.apply(this,[h]))})}const fP=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:ip,shimAddIceCandidateNullOrEmpty:zd,shimConnectionState:op,shimMaxMessageSize:Fd,shimParameterlessSetLocalDescription:Yd,shimRTCIceCandidate:Bd,shimRTCIceCandidateRelayProtocol:rp,shimSendThrowTypeError:Ud},Symbol.toStringTag,{value:"Module"}));function hP({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=_R,r=cP(e),s={browserDetails:r,commonShim:fP,extractVersion:Rc,disableLog:aP,disableWarnings:lP,sdp:dP};switch(r.browser){case"chrome":if(!I2||!tp||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=I2,zd(e,r),Yd(e),NR(e,r),OR(e),tp(e,r),MR(e),LR(e,r),DR(e),kR(e),jR(e,r),Bd(e),rp(e),op(e),Fd(e,r),Ud(e),ip(e,r);break;case"firefox":if(!N2||!np||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=N2,zd(e,r),Yd(e),BR(e,r),np(e,r),FR(e),YR(e),UR(e),zR(e),XR(e),WR(e),HR(e),VR(e),QR(e),Bd(e),op(e),Fd(e,r),Ud(e);break;case"safari":if(!O2||!t.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=O2,zd(e,r),Yd(e),JR(e),tE(e),$R(e),GR(e),ZR(e),eE(e),KR(e),nE(e),Bd(e),rp(e),Fd(e,r),Ud(e),ip(e,r);break;default:n("Unsupported browser!");break}return s}const M2=hP({window:typeof window>"u"?void 0:window});function wa(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class iE{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,s=Math.ceil(r/this.chunkedMTU);let c=0,h=0;for(;h<r;){const m=Math.min(r,h+this.chunkedMTU),x=t.slice(h,m),g={__peerData:this._dataCount,n:c,data:x,total:s};n.push(g),h=m,c++}return this._dataCount++,n}}}function pP(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.byteLength;return n}const Rh=M2.default||M2,mc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return Rh.browserDetails.browser}getVersion(){return Rh.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=Rh.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},mP=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),sE=()=>Math.random().toString(36).slice(2),D2={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class gP extends iE{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=D2,this.browser=mc.getBrowser(),this.browserVersion=mc.getVersion(),this.pack=ER,this.unpack=RR,this.supports=function(){const n={browser:mc.isBrowserSupported(),webRTC:mc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(D2),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!mc.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=mP,this.randomToken=sE}}const vr=new gP,yP="PeerJS: ";var k2;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(k2||(k2={}));class xP{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[yP,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var Ye=new xP,lg={},vP=Object.prototype.hasOwnProperty,cr="~";function cu(){}Object.create&&(cu.prototype=Object.create(null),new cu().__proto__||(cr=!1));function wP(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function aE(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new wP(n,r||e,s),h=cr?cr+t:t;return e._events[h]?e._events[h].fn?e._events[h]=[e._events[h],c]:e._events[h].push(c):(e._events[h]=c,e._eventsCount++),e}function Xd(e,t){--e._eventsCount===0?e._events=new cu:delete e._events[t]}function Kn(){this._events=new cu,this._eventsCount=0}Kn.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)vP.call(n,r)&&t.push(cr?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Kn.prototype.listeners=function(t){var n=cr?cr+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,c=r.length,h=new Array(c);s<c;s++)h[s]=r[s].fn;return h};Kn.prototype.listenerCount=function(t){var n=cr?cr+t:t,r=this._events[n];return r?r.fn?1:r.length:0};Kn.prototype.emit=function(t,n,r,s,c,h){var m=cr?cr+t:t;if(!this._events[m])return!1;var x=this._events[m],g=arguments.length,w,C;if(x.fn){switch(x.once&&this.removeListener(t,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,n),!0;case 3:return x.fn.call(x.context,n,r),!0;case 4:return x.fn.call(x.context,n,r,s),!0;case 5:return x.fn.call(x.context,n,r,s,c),!0;case 6:return x.fn.call(x.context,n,r,s,c,h),!0}for(C=1,w=new Array(g-1);C<g;C++)w[C-1]=arguments[C];x.fn.apply(x.context,w)}else{var b=x.length,_;for(C=0;C<b;C++)switch(x[C].once&&this.removeListener(t,x[C].fn,void 0,!0),g){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,n);break;case 3:x[C].fn.call(x[C].context,n,r);break;case 4:x[C].fn.call(x[C].context,n,r,s);break;default:if(!w)for(_=1,w=new Array(g-1);_<g;_++)w[_-1]=arguments[_];x[C].fn.apply(x[C].context,w)}}return!0};Kn.prototype.on=function(t,n,r){return aE(this,t,n,r,!1)};Kn.prototype.once=function(t,n,r){return aE(this,t,n,r,!0)};Kn.prototype.removeListener=function(t,n,r,s){var c=cr?cr+t:t;if(!this._events[c])return this;if(!n)return Xd(this,c),this;var h=this._events[c];if(h.fn)h.fn===n&&(!s||h.once)&&(!r||h.context===r)&&Xd(this,c);else{for(var m=0,x=[],g=h.length;m<g;m++)(h[m].fn!==n||s&&!h[m].once||r&&h[m].context!==r)&&x.push(h[m]);x.length?this._events[c]=x.length===1?x[0]:x:Xd(this,c)}return this};Kn.prototype.removeAllListeners=function(t){var n;return t?(n=cr?cr+t:t,this._events[n]&&Xd(this,n)):(this._events=new cu,this._eventsCount=0),this};Kn.prototype.off=Kn.prototype.removeListener;Kn.prototype.addListener=Kn.prototype.on;Kn.prefixed=cr;Kn.EventEmitter=Kn;lg=Kn;var Ca={};wa(Ca,"ConnectionType",()=>ti);wa(Ca,"PeerErrorType",()=>ln);wa(Ca,"BaseConnectionErrorType",()=>uu);wa(Ca,"DataConnectionErrorType",()=>du);wa(Ca,"SerializationType",()=>Ol);wa(Ca,"SocketEventType",()=>qo);wa(Ca,"ServerMessageType",()=>On);var ti;(function(e){e.Data="data",e.Media="media"})(ti||(ti={}));var ln;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(ln||(ln={}));var uu;(function(e){e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed"})(uu||(uu={}));var du;(function(e){e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big"})(du||(du={}));var Ol;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw"})(Ol||(Ol={}));var qo;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(qo||(qo={}));var On;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(On||(On={}));var cg={};cg=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class CP extends lg.EventEmitter{constructor(t,n,r,s,c,h=5e3){super(),this.pingInterval=h,this._disconnected=!0,this._messagesQueue=[];const m=t?"wss://":"ws://";this._baseUrl=m+n+":"+r+s+"peerjs?key="+c}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+cg.version),this._disconnected=!1,this._socket.onmessage=s=>{let c;try{c=JSON.parse(s.data),Ye.log("Server message received:",c)}catch{Ye.log("Invalid server message",s.data);return}this.emit(qo.Message,c)},this._socket.onclose=s=>{this._disconnected||(Ye.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(qo.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Ye.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Ye.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:On.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(qo.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class lE{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===ti.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,s={ordered:!!t.reliable},c=n.createDataChannel(r.label,s);r._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){Ye.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,c=this.connection.provider;Ye.log("Listening for ICE candidates."),t.onicecandidate=h=>{!h.candidate||!h.candidate.candidate||(Ye.log(`Received ICE candidates for ${n}:`,h.candidate),c.socket.send({type:On.Candidate,payload:{candidate:h.candidate,type:s,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":Ye.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(uu.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":Ye.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(uu.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":Ye.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},Ye.log("Listening for data channel"),t.ondatachannel=h=>{Ye.log("Received data channel");const m=h.channel;c.getConnection(n,r)._initializeDataChannel(m)},Ye.log("Listening for remote stream"),t.ontrack=h=>{Ye.log("Received remote stream");const m=h.streams[0],x=c.getConnection(n,r);if(x.type===ti.Media){const g=x;this._addStreamToMediaConnection(m,g)}}}cleanup(){Ye.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);Ye.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),Ye.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===ti.Data){const c=this.connection;s={...s,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:On.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(ln.WebRTC,s),Ye.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(ln.WebRTC,r),Ye.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();Ye.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),Ye.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:On.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(ln.WebRTC,s),Ye.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(ln.WebRTC,r),Ye.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;Ye.log("Setting remote description",n);const c=this;try{await r.setRemoteDescription(n),Ye.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await c._makeAnswer()}catch(h){s.emitError(ln.WebRTC,h),Ye.log("Failed to setRemoteDescription, ",h)}}async handleCandidate(t){Ye.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),Ye.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(ln.WebRTC,n),Ye.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(Ye.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return Ye.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){Ye.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class cE extends lg.EventEmitter{emitError(t,n){Ye.error("Error:",n),this.emit("error",new bP(`${t}`,n))}}class bP extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class uE extends cE{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var lp;const Lc=class Lc extends uE{get type(){return ti.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Lc.ID_PREFIX+vr.randomToken(),this._negotiator=new lE(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){Ye.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case On.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case On.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:Ye.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){Ye.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};lp=new WeakMap,Ct(Lc,lp,Lc.ID_PREFIX="mc_");let Of=Lc;class SP{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:s,path:c,key:h}=this._options,m=new URL(`${n}://${r}:${s}${c}${h}/${t}`);return m.searchParams.set("ts",`${Date.now()}${Math.random()}`),m.searchParams.set("version",cg.version),fetch(m.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){Ye.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==vr.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===vr.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw Ye.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var cp,up;const Qs=class Qs extends uE{get type(){return ti.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Qs.ID_PREFIX+sE(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new lE(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{Ye.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(du.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case On.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case On.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:Ye.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};cp=new WeakMap,up=new WeakMap,Ct(Qs,cp,Qs.ID_PREFIX="dc_"),Ct(Qs,up,Qs.MAX_BUFFERED_AMOUNT=8388608);let Mf=Qs;class ug extends Mf{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Mf.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return Ye.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Eh extends ug{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new iE,this.serialization=Ol.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=RR(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=pP(r.data);this._handleDataMessage({data:s})}}_send(t,n){const r=ER(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);Ye.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class RP extends ug{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Ol.None}}class EP extends ug{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=vr.chunkedMTU){this.emitError(du.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=Ol.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var dp;const jc=class jc extends cE{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:RP,json:EP,binary:Eh,"binary-utf8":Eh,default:Eh},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:vr.CLOUD_HOST,port:vr.CLOUD_PORT,path:"/",key:jc.DEFAULT_KEY,token:vr.randomToken(),config:vr.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==vr.CLOUD_HOST?this._options.secure=vr.isSecure():this._options.host==vr.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ye.setLogFunction(this._options.logFunction),Ye.logLevel=this._options.debug||0,this._api=new SP(n),this._socket=this._createServerConnection(),!vr.supports.audioVideo&&!vr.supports.data){this._delayedAbort(ln.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!vr.validateId(r)){this._delayedAbort(ln.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(ln.ServerError,s))}_createServerConnection(){const t=new CP(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(qo.Message,n=>{this._handleMessage(n)}),t.on(qo.Error,n=>{this._abort(ln.SocketError,n)}),t.on(qo.Disconnected,()=>{this.disconnected||(this.emitError(ln.Network,"Lost connection to server."),this.disconnect())}),t.on(qo.Close,()=>{this.disconnected||this._abort(ln.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,s=t.src;switch(n){case On.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case On.Error:this._abort(ln.ServerError,r.msg);break;case On.IdTaken:this._abort(ln.UnavailableID,`ID "${this.id}" is taken`);break;case On.InvalidKey:this._abort(ln.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case On.Leave:Ye.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case On.Expire:this.emitError(ln.PeerUnavailable,`Could not connect to peer ${s}`);break;case On.Offer:{const c=r.connectionId;let h=this.getConnection(s,c);if(h&&(h.close(),Ye.warn(`Offer received for existing Connection ID:${c}`)),r.type===ti.Media){const x=new Of(s,this,{connectionId:c,_payload:r,metadata:r.metadata});h=x,this._addConnection(s,h),this.emit("call",x)}else if(r.type===ti.Data){const x=new this._serializers[r.serialization](s,this,{connectionId:c,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});h=x,this._addConnection(s,h),this.emit("connection",x)}else{Ye.warn(`Received malformed connection type:${r.type}`);return}const m=this._getMessages(c);for(const x of m)h.handleMessage(x);break}default:{if(!r){Ye.warn(`You received a malformed message from ${s} of type ${n}`);return}const c=r.connectionId,h=this.getConnection(s,c);h&&h.peerConnection?h.handleMessage(t):c?this._storeMessage(c,t):Ye.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ln.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ln.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){Ye.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Of(t,this,{...r,_stream:n});return this._addConnection(t,s),s}_addConnection(t,n){Ye.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){Ye.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Ye.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;Ye.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)Ye.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ye.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(ln.ServerError,n))}};dp=new WeakMap,Ct(jc,dp,jc.DEFAULT_KEY="peerjs");let Df=jc;const AP=e=>{e=e.replace(/,/g,"");const t=e.match(/\d+/);return t?parseInt(t[0]):null},TP=e=>{const t=e.match(/Collect (.*) from (.*)\./);return t?{item:t[1],location:t[2]}:null},_P=e=>{e=e.replace("Deliver 07","Deliver 0/");const t=e.match(/Deliver (\d+)\/(.*) SCU to (.*)\./);return t?{quantity:parseInt(t[2]),location:t[3]}:null},IP=e=>{console.log("objective",e);const t=e.split(`
`),n=[];let r=null;for(const s of t)if(s.includes("Collect"))r&&n.push(r),r=TP(s),r&&(r.deliveries=[]);else if(s.includes("Deliver")){const c=_P(s);c&&r.deliveries.push(c)}return r&&n.push(r),n};function P2(e){const t=e.getContext("2d"),n=e.width,r=e.height,s=t.getImageData(0,0,n,r),c=s.data,h=new Uint8ClampedArray(c),m=[0,-1,0,-1,5,-1,0,-1,0];for(let x=1;x<r-1;x++)for(let g=1;g<n-1;g++)for(let w=0;w<3;w++){let C=(x*n+g)*4+w,b=0,_=0;for(let N=-1;N<=1;N++)for(let T=-1;T<=1;T++){let P=((x+N)*n+(g+T))*4+w;b+=h[P]*m[_++]}c[C]=Math.min(255,Math.max(0,b))}t.putImageData(s,0,0)}const NP=E.forwardRef(({videoRef:e,canvasRef:t,zonesRef:n,sessionId:r,setExtractedData:s,setDebugImages:c,setErrorMessage:h,isDebugEnabled:m,extractedDataRef:x,debugImagesRef:g,connRef:w,peerRef:C},b)=>{const _=E.useRef(null),N=E.useRef([]),T=E.useRef(0),P=E.useRef(null),M=async()=>{const z=E2.createScheduler(),$=[];for(let Q=0;Q<2;Q++){const ie=await E2.createWorker("eng");await ie.setParameters({tessedit_char_whitelist:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-/.",preserve_interword_spaces:"1"}),await ie.reinitialize("eng"),z.addWorker(ie),$.push(ie)}_.current=z,N.current=$,T.current=0},I=async()=>{console.log("terminateScheduler"),_.current&&(await _.current.terminate(),_.current=null),N.current.length>0&&(N.current=[])};E.useEffect(()=>(P.current=M(),()=>{I()}),[]);const D=async()=>{P.current&&await P.current},F=async()=>{if(await D(),!e.current||!t.current||!_.current)return;const z=t.current,$=e.current,Q=z.getContext("2d");z.width=$.videoWidth,z.height=$.videoHeight,Q.drawImage($,0,0,z.width,z.height);const ie=document.createElement("canvas"),fe=ie.getContext("2d");ie.width=n.current.reward.width,ie.height=n.current.reward.height,fe.drawImage($,n.current.reward.x,n.current.reward.y,n.current.reward.width,n.current.reward.height,0,0,n.current.reward.width,n.current.reward.height);const re=document.createElement("canvas"),we=re.getContext("2d");re.width=n.current.objective.width,re.height=n.current.objective.height,we.drawImage($,n.current.objective.x,n.current.objective.y,n.current.objective.width,n.current.objective.height,0,0,n.current.objective.width,n.current.objective.height),P2(ie),P2(re);try{T.current+=2,T.current>100&&(P.current||(P.current=(async()=>{await I(),await M(),P.current=null})()),await P.current);const he=_.current,[ee,ve]=await Promise.all([he.addJob("recognize",ie.toDataURL(),"eng"),he.addJob("recognize",re.toDataURL(),"eng")]),ce=XD(5);if(m&&c(q=>({...q,[ce]:{reward:ie.toDataURL(),objective:re.toDataURL()}})),ee.data.text.trim()===""){w.current&&w.current.send({type:"error",message:"No text found in the reward zone"}),h("No text found in the reward zone");return}if(ve.data.text.trim()===""){w.current&&w.current.send({type:"error",message:"No text found in the objective zone"}),h("No text found in the objective zone");return}h(""),s(q=>[...q,{id:ce,timestamp:new Date().toLocaleString(),reward:AP(ee.data.text.trim()),objective:IP(ve.data.text.trim())}])}catch(he){console.error("Error extracting text:",he),h(he.message)}},Y=z=>{w.current=z;let $=null;z.on("data",Q=>{console.log("data",Q),Q.type==="capture-request"&&F(),Q.type==="records-update"&&s(Q.records)}),$=setInterval(()=>{z.send({type:"records",records:x.current,debugImages:g.current})},300),z.on("close",()=>{$&&clearInterval($)}),z.on("error",Q=>{h(Q.message)})},G=()=>{C.current||(C.current=new Df(r),C.current.on("open",()=>{h("")}),C.current.on("connection",Y),C.current.on("error",z=>{h(z.message)}))};return E.useEffect(()=>{G()},[r]),E.useImperativeHandle(b,()=>({captureScreen:F})),null}),OP=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState({}),[s,c]=E.useState(""),[h,m]=E.useState([]),[x,g]=E.useState(!1),{isDebugEnabled:w,toggleDebug:C}=TM(),[b,_]=E.useState(""),[N,T]=E.useState(eD({capitalize:!1,separator:"-"})),[P,M]=E.useState({reward:{x:0,y:0,width:100,height:50},objective:{x:0,y:0,width:100,height:50}}),I=De.useRef(null),D=E.useRef(null),F=E.useRef(null),Y=De.useRef(null),G=E.useRef(h),z=E.useRef(n),$=E.useRef(P),[Q,ie]=E.useState(!0),fe=E.useRef(null),re=()=>{m([]),r({})},we=async()=>{if(!b.trim()){Pc({title:"Error",description:"Please enter a session name",variant:"destructive"});return}try{const he=h.map(ee=>({id:ee.id,timestamp:ee.timestamp,reward:ee.reward,objective:ee.objective}));await jM.createSession(b,N,he),Pc({title:"Success",description:"Session created successfully"}),g(!1),_("")}catch(he){console.error("Error creating session:",he),Pc({title:"Error",description:"Failed to create session",variant:"destructive"})}};return E.useEffect(()=>{G.current=h},[h]),E.useEffect(()=>{z.current=n},[n]),E.useEffect(()=>{$.current=P},[P]),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("div",{children:R.jsx("h1",{className:"text-3xl font-bold text-white",children:"Record Contract"})}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(S3,{id:"debug-mode",checked:w,onCheckedChange:C}),R.jsx(Qm,{htmlFor:"debug-mode",children:"Debug Mode"})]})]}),R.jsx(zD,{isSetupOpen:Q,setIsSetupOpen:ie,sessionId:N,onZonesChange:M,onCaptureActiveChange:t,videoRef:D}),R.jsx(tD,{isDebugEnabled:w,debugImages:n}),R.jsxs("div",{className:"holographic-panel rounded-lg p-6 border border-neon-blue/20 space-y-4",children:[R.jsx("h2",{className:"text-xl font-bold text-neon-blue",children:"Record"}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[R.jsxs(Gt,{onClick:()=>{var he;return(he=fe.current)==null?void 0:he.captureScreen()},disabled:!e,className:e?"bg-green-600 hover:bg-green-700 w-full":"bg-gray-600 hover:bg-gray-700",children:[R.jsx(dm,{className:"h-4 w-4 mr-2"}),"Capture Current Screen"]}),R.jsx(Gt,{onClick:re,variant:"outline",className:"border-neon-blue/50 text-neon-blue hover:bg-neon-blue/10 ml-auto",disabled:h.length===0&&Object.keys(n).length===0,children:"Clear"})]}),R.jsx("div",{id:"error-message",className:"text-red-500",children:s}),R.jsx("canvas",{ref:F,className:"hidden"}),R.jsx(J3,{records:h,debugImages:n,onUpdate:m})]})]}),R.jsx(nD,{open:x,onOpenChange:g,sessionName:b,setSessionName:_,handleCreateSession:we}),R.jsx(NP,{ref:fe,videoRef:D,canvasRef:F,zonesRef:$,sessionId:N,setExtractedData:m,setDebugImages:r,setErrorMessage:c,isDebugEnabled:w,extractedDataRef:G,debugImagesRef:z,connRef:I,peerRef:Y})]})},MP=[{item_id:1,System:"Stanton",ObjectContainer:"Stanton Star",InternalName:"Stanton",Type:"Star",XCoord:136049870,YCoord:1294427400,ZCoord:2923345368,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:696e6,OrbitalMarkerRadius:0,GRIDRadius:696e3,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 14:43:02"},{item_id:2,System:"Stanton",ObjectContainer:"Daymar",InternalName:"Stanton2b",Type:"Planet",XCoord:-18930539540,YCoord:-2610158765,ZCoord:0,RotationSpeedX:2.48000002,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:188.51987379,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:295e3,OrbitalMarkerRadius:432850,GRIDRadius:59e4,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:20"},{item_id:3,System:"Stanton",ObjectContainer:"Microtech",InternalName:"Stanton4",Type:"Planet",XCoord:22462085252,YCoord:37185744964,ZCoord:0,RotationSpeedX:4.11999999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:248.25714552,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:1e6,OrbitalMarkerRadius:1439593,GRIDRadius:23e5,Comment:"Updated Alpha 4.1",Submitted:"2025-04-07 21:49:02"},{item_id:4,System:"Stanton",ObjectContainer:"Lyria",InternalName:"Stanton3a",Type:"Planet",XCoord:18703607170,YCoord:-22121650134,ZCoord:0,RotationSpeedX:6.42999983,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:193.16289781,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:223e3,OrbitalMarkerRadius:331030,GRIDRadius:446e3,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:21"},{item_id:5,System:"Stanton",ObjectContainer:"Wala",InternalName:"Stanton3b",Type:"Planet",XCoord:18379649310,YCoord:-22000466768,ZCoord:0,RotationSpeedX:6.32000017,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:24.76657416,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:283e3,OrbitalMarkerRadius:415880,GRIDRadius:566300,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:26"},{item_id:6,System:"Stanton",ObjectContainer:"Arial",InternalName:"Stanton1a",Type:"Planet",XCoord:12892673308,YCoord:-31476128,ZCoord:0,RotationSpeedX:5.51000023,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:41.53099411,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:344500,OrbitalMarkerRadius:502850,GRIDRadius:689e3,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:29"},{item_id:7,System:"Stanton",ObjectContainer:"Crusader",InternalName:"Stanton2",Type:"Planet",XCoord:-18962176e3,YCoord:-266496e4,ZCoord:0,RotationSpeedX:5.0999999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:260.0202673,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:745e4,OrbitalMarkerRadius:10673170,GRIDRadius:15e6,Comment:"Updated Alpha 3.24.2",Submitted:"2024-10-23 23:43:02"},{item_id:8,System:"Stanton",ObjectContainer:"Ita",InternalName:"Stanton1d",Type:"Planet",XCoord:12830194716,YCoord:114913608,ZCoord:0,RotationSpeedX:4.8499999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:233.72396211,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:325e3,OrbitalMarkerRadius:475280,GRIDRadius:65e4,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:35"},{item_id:9,System:"Stanton",ObjectContainer:"Calliope",InternalName:"Stanton4a",Type:"Planet",XCoord:22398369308,YCoord:37168840679,ZCoord:0,RotationSpeedX:4.59000015,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:204.26138758,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:24e4,OrbitalMarkerRadius:355070,GRIDRadius:480666,Comment:"Updated Alpha 4.1",Submitted:"2025-04-07 23:05:12"},{item_id:10,System:"Stanton",ObjectContainer:"Cellin",InternalName:"Stanton2a",Type:"Planet",XCoord:-18987611119,YCoord:-2709009661,ZCoord:0,RotationSpeedX:4.44999981,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:390.4268745,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:26e4,OrbitalMarkerRadius:383350,GRIDRadius:520666,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:39"},{item_id:11,System:"Stanton",ObjectContainer:"Euterpe",InternalName:"Stanton4c",Type:"Planet",XCoord:22488109736,YCoord:37081123565,ZCoord:0,RotationSpeedX:4.28000021,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:189.24396356,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:213e3,OrbitalMarkerRadius:316880,GRIDRadius:425666,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:14"},{item_id:12,System:"Stanton",ObjectContainer:"Clio",InternalName:"Stanton4b",Type:"Planet",XCoord:22476728221,YCoord:37091020074,ZCoord:0,RotationSpeedX:3.25,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:410.98999616,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:337170,OrbitalMarkerRadius:492490,GRIDRadius:674334,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:46:58"},{item_id:13,System:"Stanton",ObjectContainer:"Hurston",InternalName:"Stanton1",Type:"Planet",XCoord:12850457093,YCoord:0,ZCoord:0,RotationSpeedX:2.48000002,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:153.02925836,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:1e6,OrbitalMarkerRadius:1436800,GRIDRadius:2e6,Comment:"Updated Alpha 4.1",Submitted:"2025-04-07 21:49:02"},{item_id:14,System:"Stanton",ObjectContainer:"ArcCorp",InternalName:"Stanton3",Type:"Planet",XCoord:18587664740,YCoord:-22151916920,ZCoord:0,RotationSpeedX:3.1099999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:178.59050426,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:8e5,OrbitalMarkerRadius:1151452,GRIDRadius:19e5,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:42"},{item_id:15,System:"Stanton",ObjectContainer:"Aberdeen",InternalName:"Stanton1b",Type:"Planet",XCoord:12905757636,YCoord:40955550,ZCoord:0,RotationSpeedX:2.5999999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:324.61721962,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:274e3,OrbitalMarkerRadius:403150,GRIDRadius:548e3,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:46:13"},{item_id:16,System:"Stanton",ObjectContainer:"Magda",InternalName:"Stanton1c",Type:"Planet",XCoord:12792686359,YCoord:-74464581,ZCoord:0,RotationSpeedX:1.94000006,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:207.00959411,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:340830,OrbitalMarkerRadius:497600,GRIDRadius:681666,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:49"},{item_id:17,System:"Stanton",ObjectContainer:"Yela",InternalName:"Stanton2c",Type:"Planet",XCoord:-19022916799,YCoord:-2613996152,ZCoord:0,RotationSpeedX:1.8200005,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:361.61418695,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"1.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:313e3,OrbitalMarkerRadius:458310,GRIDRadius:1016e3,Comment:"Updated Alpha 4.1",Submitted:"2025-04-08 23:47:53"},{item_id:18,System:"Stanton",ObjectContainer:"Pyro JumpPoint",InternalName:"Stanton_Pyro",Type:"JumpPoint",XCoord:331049163980218e-5,YCoord:-279794082214568e-4,ZCoord:-2676285679,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:19,System:"Stanton",ObjectContainer:"Terra JumpPoint",InternalName:"Stanton_Terra",Type:"JumpPoint",XCoord:511182216169033e-4,YCoord:-526998130311381e-5,ZCoord:-4339551619,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:20,System:"Stanton",ObjectContainer:"Magnus JumpPoint",InternalName:"Stanton_Magnus",Type:"JumpPoint",XCoord:-622842738607205e-4,YCoord:234676180513957e-4,ZCoord:20198396608,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:21,System:"Stanton",ObjectContainer:"Green Glade Station",InternalName:"HUR-L1-A Station",Type:"Refinery Station",XCoord:-3998772246343e-6,YCoord:-262923.20307,ZCoord:-484614.272233,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:22,System:"Stanton",ObjectContainer:"Faithful Dream Station",InternalName:"HUR-L2-A Station",Type:"Refinery Station",XCoord:4132733257641e-6,YCoord:-1967281288555e-6,ZCoord:-527794.652046,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:23,System:"Stanton",ObjectContainer:"Thundering Express Station",InternalName:"HUR-L3-A Station",Type:"RestStop",XCoord:5714047700759e-6,YCoord:-1553267713991e-6,ZCoord:1335042126724e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:24,System:"Stanton",ObjectContainer:"Melodic Fields Station",InternalName:"HUR-L4-A Station",Type:"RestStop",XCoord:2399285850316e-6,YCoord:-4056977607235e-6,ZCoord:666284.287928,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:25,System:"Stanton",ObjectContainer:"High Course Station",InternalName:"HUR-L5-A Station",Type:"RestStop",XCoord:495237.544279,YCoord:461676.822044,ZCoord:-842035.054335,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:26,System:"Stanton",ObjectContainer:"Wide Forest Station	",InternalName:"ARC-L1-A Station",Type:"Refinery Station",XCoord:167292200345729e-4,YCoord:-199420481858436e-4,ZCoord:2239765214955e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:27,System:"Stanton",ObjectContainer:"Shallow Frontier Station",InternalName:"MIC-L1 Station",Type:"Refinery Station",XCoord:202158272688881e-4,YCoord:334670695178379e-4,ZCoord:-943.200883,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:28,System:"Stanton",ObjectContainer:"Long Forest Station",InternalName:"MIC-L2-A Station",Type:"Refinery Station",XCoord:247137748977407e-4,YCoord:40912934444477e-3,ZCoord:-10634826699256e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:29,System:"Stanton",ObjectContainer:"Endless Odyssey Station",InternalName:"MIC-L3-A Station",Type:"RestStop",XCoord:-224522182519082e-4,YCoord:-371799230230001e-4,ZCoord:-10590410524509e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:30,System:"Stanton",ObjectContainer:"Red Crossroads Station",InternalName:"MIC-L4-A Station",Type:"RestStop",XCoord:-209687206632777e-4,YCoord:380560583574567e-4,ZCoord:-11799274780179e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:31,System:"Stanton",ObjectContainer:"Modern Icarus Station",InternalName:"MIC-L5-A Station",Type:"Refinery Station",XCoord:434485598566716e-4,YCoord:-857708037078453e-6,ZCoord:-7824371169867e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:32,System:"Stanton",ObjectContainer:"Ambitious Dream Station",InternalName:"CRU-L1-A Station",Type:"RestStop",XCoord:-2796346220133e-6,YCoord:-1018270588192e-6,ZCoord:-20043.24729,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:33,System:"Stanton",ObjectContainer:"Shallow Fields Station",InternalName:"CRU-L4-A Station",Type:"RestStop",XCoord:-599663.560167,YCoord:414766736741e-5,ZCoord:-2174785282594e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:34,System:"Stanton",ObjectContainer:"Beautiful Glen Station",InternalName:"CRU-L5-A Station",Type:"RestStop",XCoord:3996778312065e-6,YCoord:1989652047372e-6,ZCoord:-2796439642359e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:35,System:"Stanton",ObjectContainer:"Lively Pathway Station",InternalName:"ARC-L2-A Station",Type:"Refinery Station",XCoord:204510059078842e-4,YCoord:-243680535206711e-4,ZCoord:-293845.452982,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:36,System:"Stanton",ObjectContainer:"Modern Express Station",InternalName:"ARC-L3-A Station",Type:"RestStop",XCoord:-250455254868275e-4,YCoord:144632552326371e-4,ZCoord:-1892762817474e-6,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:37,System:"Stanton",ObjectContainer:"Faint Glen Station",InternalName:"ARC-L4-A Station",Type:"Refinery Station",XCoord:2847614015622e-2,YCoord:501890417864352e-5,ZCoord:959731.505652,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:38,System:"Stanton",ObjectContainer:"Yellow Core Station",InternalName:"ARC-L5-A Station",Type:"RestStop",XCoord:-989575157739578e-5,YCoord:-271751566724832e-4,ZCoord:882465.416416,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:39,System:"Stanton",ObjectContainer:"INS Jericho",InternalName:"MIC-L1-B Station",Type:"Naval Station",XCoord:20243753011,YCoord:33468394836,ZCoord:-1708634292e-2,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:40,System:"Stanton",ObjectContainer:"ARC-L1",InternalName:"Stanton3_L1",Type:"Lagrange Point",XCoord:16729134637,YCoord:-19937006925,ZCoord:8076.625,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:41,System:"Stanton",ObjectContainer:"ARC-L2",InternalName:"Stanton3_L2",Type:"Lagrange Point",XCoord:204467185033901e-4,YCoord:-24367450990706e-3,ZCoord:8076.625,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:42,System:"Stanton",ObjectContainer:"ARC-L3",InternalName:"Stanton3_L3",Type:"Lagrange Point",XCoord:-250434468835029e-4,YCoord:14458841787628e-3,ZCoord:8076.625,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:43,System:"Stanton",ObjectContainer:"ARC-L4",InternalName:"Stanton3_L4",Type:"Lagrange Point",XCoord:284783549156557e-4,YCoord:502150248291174e-5,ZCoord:8076.625,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:44,System:"Stanton",ObjectContainer:"ARC-L5",InternalName:"Stanton3_L5",Type:"Lagrange Point",XCoord:-989042251616967e-5,YCoord:-2717373222514e-2,ZCoord:8076.625,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:45,System:"Stanton",ObjectContainer:"CRU-L1",InternalName:"Stanton2_L1",Type:"Lagrange Point",XCoord:-17065957376,YCoord:-2398464e3,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:46,System:"Stanton",ObjectContainer:"CRU-L2",InternalName:"Stanton2_L2",Type:"Lagrange Point",XCoord:-20858376485,YCoord:-2931474402,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:47,System:"Stanton",ObjectContainer:"CRU-L3",InternalName:"Stanton2_L3",Type:"Lagrange Point",XCoord:18962164826,YCoord:2664965040,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:48,System:"Stanton",ObjectContainer:"CRU-L4",InternalName:"Stanton2_L4",Type:"Lagrange Point",XCoord:-7173168640,YCoord:-17754204160,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:49,System:"Stanton",ObjectContainer:"CRU-L5",InternalName:"Stanton2_L5",Type:"Lagrange Point",XCoord:-11789008988,YCoord:150892461067638e-4,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:50,System:"Stanton",ObjectContainer:"HUR-L1",InternalName:"Stanton1_L1",Type:"Lagrange Point",XCoord:11565411328,YCoord:0,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:51,System:"Stanton",ObjectContainer:"HUR-L2",InternalName:"Stanton1_L2",Type:"Lagrange Point",XCoord:14135502848,YCoord:0,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:52,System:"Stanton",ObjectContainer:"HUR-L3",InternalName:"Stanton1_L3",Type:"Lagrange Point",XCoord:-12850457600,YCoord:-1123.422729,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:53,System:"Stanton",ObjectContainer:"HUR-L4",InternalName:"Stanton1_L4",Type:"Lagrange Point",XCoord:6425228288,YCoord:11128823808,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:54,System:"Stanton",ObjectContainer:"HUR-L5",InternalName:"Stanton1_L5",Type:"Lagrange Point",XCoord:6425227776,YCoord:-11128823808,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:55,System:"Stanton",ObjectContainer:"MIC-L1",InternalName:"Stanton4_L1",Type:"Lagrange Point",XCoord:20215824238,YCoord:33467065007,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:56,System:"Stanton",ObjectContainer:"MIC-L2",InternalName:"Stanton4_L2",Type:"Lagrange Point",XCoord:24708827153,YCoord:40905202459,ZCoord:-.050088,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Added with Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:57,System:"Stanton",ObjectContainer:"MIC-L3",InternalName:"Stanton4_L3",Type:"Lagrange Point",XCoord:-22457170265,YCoord:-37187612395,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:58,System:"Stanton",ObjectContainer:"MIC-L4",InternalName:"Stanton4_L4",Type:"Lagrange Point",XCoord:-20971933230,YCoord:38045504032,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.17.4",Submitted:"2023-04-01 17:31:49"},{item_id:59,System:"Stanton",ObjectContainer:"MIC-L5",InternalName:"Stanton4_L5",Type:"Lagrange Point",XCoord:434352042882185e-4,YCoord:-851406955908429e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated Alpha 3.21.0",Submitted:"2023-10-21 12:31:49"},{item_id:60,System:"Pyro",ObjectContainer:"P1_L1",InternalName:"P1_L1",Type:"Lagrange",XCoord:-7128820246109381e-6,YCoord:-2148305944926896e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:61,System:"Pyro",ObjectContainer:"Terminus",InternalName:"Pyro6",Type:"Planet",XCoord:-4811827499362024e-5,YCoord:4850311585320156e-5,ZCoord:0,RotationSpeedX:2.8699999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:126.22409622,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:285e3,OrbitalMarkerRadius:424366,GRIDRadius:87e4,Comment:"Updated Alpha 4.0.2",Submitted:"2023-11-04 23:42:05"},{item_id:62,System:"Pyro",ObjectContainer:"Vuur",InternalName:"Pyro5f",Type:"Planet",XCoord:-4049984180413617e-6,YCoord:-4264894141855396e-5,ZCoord:0,RotationSpeedX:5.1599998,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:130.54158157,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:452830,OrbitalMarkerRadius:653227,GRIDRadius:905666,Comment:"Updated Alpha 4.1",Submitted:"2023-11-04 23:42:05"},{item_id:63,System:"Pyro",ObjectContainer:"Fuego",InternalName:"Pyro5e",Type:"Planet",XCoord:-3780104297522546e-6,YCoord:-4282719010643001e-5,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:274.7686984,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:465670,OrbitalMarkerRadius:671385,GRIDRadius:931334,Comment:"Updated Alpha 4.1",Submitted:"2025-03-18 03:50:05"},{item_id:64,System:"Pyro",ObjectContainer:"Fairo",InternalName:"Pyro5d",Type:"Planet",XCoord:-3946426939492779e-6,YCoord:-4287983278272051e-5,ZCoord:0,RotationSpeedX:5.0799999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:354.4430005,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:392240,OrbitalMarkerRadius:570368,GRIDRadius:784480,Comment:"Updated Alpha 4.1",Submitted:"2025-03-18 03:50:05"},{item_id:65,System:"Pyro",ObjectContainer:"Adir",InternalName:"Pyro5c",Type:"Planet",XCoord:-3815633250522375e-6,YCoord:-4272908762688909e-5,ZCoord:0,RotationSpeedX:2.3699999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:317.3832096,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:431e3,OrbitalMarkerRadius:625184,GRIDRadius:862e3,Comment:"Updated Alpha 4.1",Submitted:"2025-03-18 03:50:05"},{item_id:66,System:"Pyro",ObjectContainer:"Vatra",InternalName:"Pyro5b",Type:"Planet",XCoord:-3889829129246335e-6,YCoord:-4268806249425623e-5,ZCoord:0,RotationSpeedX:3.4200001,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:356.209052,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:365810,OrbitalMarkerRadius:530162,GRIDRadius:731610,Comment:"Updated Alpha 4.1",Submitted:"2025-03-18 03:50:05"},{item_id:67,System:"Pyro",ObjectContainer:"Ignis",InternalName:"Pyro5a",Type:"Planet",XCoord:-3965327312679451e-6,YCoord:-4277479282694388e-5,ZCoord:0,RotationSpeedX:3.4400001,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:16.14275526,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:393170,OrbitalMarkerRadius:568855,GRIDRadius:786334,Comment:"Updated Alpha 4.1",Submitted:"2025-03-18 03:50:05"},{item_id:68,System:"Pyro",ObjectContainer:"Pyro5",InternalName:"Pyro5",Type:"Planet",XCoord:-3912418653619051e-6,YCoord:-4275872667287816e-5,ZCoord:0,RotationSpeedX:5.0999999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:260.0909414,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:7812300,OrbitalMarkerRadius:11161074,GRIDRadius:1e6,Comment:"Updated Alpha 4.0.2",Submitted:"2023-11-04 23:42:05"},{item_id:69,System:"Pyro",ObjectContainer:"Pyro4",InternalName:"Pyro4",Type:"Planet",XCoord:-3704129440063207e-6,YCoord:-4307165330131001e-5,ZCoord:0,RotationSpeedX:4.0900002,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:230.0436648,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:321400,OrbitalMarkerRadius:475842,GRIDRadius:942800,Comment:"Updated Alpha 4.1",Submitted:"2025-03-18 03:50:05"},{item_id:70,System:"Pyro",ObjectContainer:"Bloom",InternalName:"pyro3",Type:"Planet",XCoord:-1610389341931249e-5,YCoord:7587934807894157e-6,ZCoord:0,RotationSpeedX:5.0300002,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:199.53737221,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:413900,OrbitalMarkerRadius:606657,GRIDRadius:1127800,Comment:"Updated Alpha 4.0.2",Submitted:"2023-11-05 23:42:05"},{item_id:71,System:"Pyro",ObjectContainer:"Monox",InternalName:"Pyro2",Type:"Planet",XCoord:6057267758208695e-6,YCoord:-8724928707984728e-6,ZCoord:0,RotationSpeedX:3.1099999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:178.405387,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:529500,OrbitalMarkerRadius:770140,GRIDRadius:1359e3,Comment:"Updated Alpha 4.0.2",Submitted:"2023-11-05 23:42:05"},{item_id:72,System:"Pyro",ObjectContainer:"Pyro1",InternalName:"Pyro1",Type:"Planet",XCoord:-7920919212264582e-6,YCoord:-2386977493490582e-6,ZCoord:0,RotationSpeedX:2.4200001,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:22.47267972,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:411700,OrbitalMarkerRadius:603545,GRIDRadius:1123400,Comment:"Updated Alpha 4.0.2",Submitted:"2023-11-06 23:22:05"},{item_id:73,System:"Pyro",ObjectContainer:"P6_L5",InternalName:"P6_L5",Type:"Lagrange",XCoord:29122470164338722e-6,YCoord:6180489510140972e-5,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:74,System:"Pyro",ObjectContainer:"P6_L4",InternalName:"P6_L4",Type:"Lagrange",XCoord:-6203644080645678e-5,YCoord:-28625942535941006e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:75,System:"Pyro",ObjectContainer:"P6_L3",InternalName:"P6_L3",Type:"Lagrange",XCoord:5216140364224197e-5,YCoord:-441264911356201e-4,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:35",Submitted:"2023-11-04 23:42:05"},{item_id:76,System:"Pyro",ObjectContainer:"P6_L2",InternalName:"P6_L2",Type:"Lagrange",XCoord:-49918483338131e-3,YCoord:5032025134226988e-5,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:77,System:"Pyro",ObjectContainer:"P6_L1",InternalName:"P6_L1",Type:"Lagrange",XCoord:-4660452269513904e-5,YCoord:46979749572773636e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:78,System:"Pyro",ObjectContainer:"P5_L5",InternalName:"P5_L5",Type:"Lagrange",XCoord:-42314565583599335e-6,YCoord:-7286465628469063e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:79,System:"Pyro",ObjectContainer:"P5_L4",InternalName:"P5_L4",Type:"Lagrange",XCoord:4142935131330984e-5,YCoord:-1127933342532618e-5,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:80,System:"Pyro",ObjectContainer:"P5_L3",InternalName:"P5_L3",Type:"Lagrange",XCoord:1830206539451919e-5,YCoord:3884134195173255e-5,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:81,System:"Pyro",ObjectContainer:"P5_L2",InternalName:"P5_L2",Type:"Lagrange",XCoord:-4305013180344072e-6,YCoord:-4703447432937001e-5,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:82,System:"Pyro",ObjectContainer:"P5_L1",InternalName:"P5_L1",Type:"Lagrange",XCoord:-35223199394429297e-7,YCoord:-38482740207664444e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:83,System:"Pyro",ObjectContainer:"P3_L5",InternalName:"P3_L5",Type:"Lagrange",XCoord:12638431338806473e-6,YCoord:12537403510646212e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:84,System:"Pyro",ObjectContainer:"P3_L4",InternalName:"P3_L4",Type:"Lagrange",XCoord:-14623507669033464e-6,YCoord:-10152318683684526e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:85,System:"Pyro",ObjectContainer:"P3_L3",InternalName:"P3_L3",Type:"Lagrange",XCoord:14541573612661484e-6,YCoord:-10269333167882816e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:86,System:"Pyro",ObjectContainer:"P3_L2",InternalName:"P3_L2",Type:"Lagrange",XCoord:-1771430060725097e-5,YCoord:8346987643492376e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:87,System:"Pyro",ObjectContainer:"Checkmate Station",InternalName:"PYR2-L4 Station",Type:"RestStop",XCoord:0,YCoord:0,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"(NULL)",Submitted:"2023-10-25 23:51:02"},{item_id:88,System:"Pyro",ObjectContainer:"Ruin Station",InternalName:"PYR6 Station",Type:"RestStop",XCoord:0,YCoord:0,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"(NULL)",Submitted:"2023-10-25 23:51:02"},{item_id:89,System:"Pyro",ObjectContainer:"P3_L1",InternalName:"P3_L1",Type:"Lagrange",XCoord:-14493519662272226e-6,YCoord:6829353989972408e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:90,System:"Pyro",ObjectContainer:"P2_L5",InternalName:"P2_L5",Type:"Lagrange",XCoord:-6127061368363462e-6,YCoord:-867607895711457e-5,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:91,System:"Pyro",ObjectContainer:"P2_L4",InternalName:"P2_L4",Type:"Lagrange",XCoord:10577229334369995e-6,YCoord:-968166324911032e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:92,System:"Pyro",ObjectContainer:"P2_L3",InternalName:"P2_L3",Type:"Lagrange",XCoord:-27078468091092405e-7,YCoord:10270479208678055e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:93,System:"Pyro",ObjectContainer:"P2_L2",InternalName:"P2_L2",Type:"Lagrange",XCoord:6662973750894195e-6,YCoord:-9597452987012045e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:94,System:"Pyro",ObjectContainer:"P2_L1",InternalName:"P2_L1",Type:"Lagrange",XCoord:5451522554417854e-6,YCoord:-78524594842715e-4,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:95,System:"Pyro",ObjectContainer:"P1_L5",InternalName:"P1_L5",Type:"Lagrange",XCoord:-6027626644577356e-6,YCoord:5666241171990139e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:96,System:"Pyro",ObjectContainer:"P1_L4",InternalName:"P1_L4",Type:"Lagrange",XCoord:-1893296274445993e-6,YCoord:-805320225263223e-5,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:97,System:"Pyro",ObjectContainer:"P1_L3",InternalName:"P1_L3",Type:"Lagrange",XCoord:8274711438802226e-6,YCoord:22296805456371098e-7,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:35",Submitted:"2023-11-04 23:42:05"},{item_id:98,System:"Pyro",ObjectContainer:"P1_L2",InternalName:"P1_L2",Type:"Lagrange",XCoord:-8713009576030907e-6,YCoord:-2625677640068095e-6,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-04 23:41:36",Submitted:"2023-11-04 23:42:05"},{item_id:99,System:"Pyro",ObjectContainer:"Pyrostar",InternalName:"Pyrostar",Type:"Star",XCoord:0,YCoord:0,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:570720,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:"Updated from Build 8816750 at 2023-11-06 23:03:21",Submitted:"2023-11-06 23:03:34"},{item_id:100,System:"Nyx",ObjectContainer:"Delamar",InternalName:"nyx1",Type:"Planet",XCoord:-10531703478e-3,YCoord:18241438664e-3,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.025662",RotQuatX:.76970404,RotQuatY:.45771712,RotQuatZ:.44428843,BodyRadius:75e3,OrbitalMarkerRadius:118890,GRIDRadius:7e5,Comment:"wq qx und qz sind negative werte !",Submitted:"2023-04-03 23:51:02"},{item_id:101,System:"Ellis",ObjectContainer:"Ellis3",InternalName:"ellis3",Type:"Planet",XCoord:0,YCoord:0,ZCoord:0,RotationSpeedX:4.11999999,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:1e6,OrbitalMarkerRadius:1439593,GRIDRadius:23e5,Comment:null,Submitted:"2024-01-10 00:15:43"},{item_id:102,System:"Stanton",ObjectContainer:"Wikelo Emporium Dasi Station",InternalName:"Stanton1_?",Type:"AsteroidBase",XCoord:12859079702,YCoord:-200097,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:2e5,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:null,Submitted:"2025-03-10 22:31:08"},{item_id:103,System:"Stanton",ObjectContainer:"Wikelo Emporium Selo Station",InternalName:"Stanton2c_?",Type:"AsteroidBase",XCoord:-19025676464,YCoord:-2614423933,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:2e5,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:null,Submitted:"2025-03-10 22:31:08"},{item_id:104,System:"Stanton",ObjectContainer:"Wikelo Emporium Kinga Station",InternalName:"Stanton4_?",Type:"AsteroidBase",XCoord:22469379766,YCoord:37193674053,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:2e5,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:null,Submitted:"2025-03-10 22:31:08"},{item_id:2001,System:"Sol",ObjectContainer:"Earth",InternalName:"sol1",Type:"Planet",XCoord:0,YCoord:0,ZCoord:0,RotationSpeedX:0,RotationSpeedY:0,RotationSpeedZ:0,RotationAdjustmentX:0,RotationAdjustmentY:0,RotationAdjustmentZ:0,RotQuatW:"0.000000",RotQuatX:0,RotQuatY:0,RotQuatZ:0,BodyRadius:0,OrbitalMarkerRadius:0,GRIDRadius:0,Comment:null,Submitted:"2023-04-03 23:51:02"}],gc=800,yc=600,Ah=7,md=40,L2=(e,t)=>{const n=e.map(r=>r[t]);return{min:Math.min(...n),max:Math.max(...n)}},DP=()=>{const e=E.useRef(null),[t,n]=E.useState(null),[r,s]=E.useState("Stanton"),[c,h]=E.useState([]),m=MP.filter(Y=>Y.System===r),x=m.find(Y=>Y.Type==="Star"),g=x?x.XCoord:0,w=x?x.YCoord:0,C=m.map(Y=>({...Y,XCoord:Y.XCoord-g,YCoord:Y.YCoord-w})),b=C.filter(Y=>Y.Type==="Planet"),_=L2(C,"XCoord"),N=L2(C,"YCoord"),T=Y=>_.max===_.min?gc/2:(Y-_.min)/(_.max-_.min)*(gc-2*md)+md,P=Y=>N.max===N.min?yc/2:(Y-N.min)/(N.max-N.min)*(yc-2*md)+md;E.useEffect(()=>{const Y=e.current;if(!Y)return;const G=Y.getContext("2d");if(G){if(G.clearRect(0,0,gc,yc),b.length>0&&C.length>0){const z=T(0),$=P(0);b.forEach(Q=>{const ie=T(Q.XCoord),fe=P(Q.YCoord),re=ie-z,we=fe-$,he=Math.sqrt(re*re+we*we);G.beginPath(),G.arc(z,$,he,0,2*Math.PI),G.strokeStyle="rgba(59, 130, 246, 0.2)",G.lineWidth=2,G.setLineDash([6,6]),G.stroke(),G.setLineDash([]),G.closePath()})}C.forEach(z=>{G.beginPath(),G.arc(T(z.XCoord),P(z.YCoord),Ah,0,2*Math.PI);const $=c.some(Q=>Q.InternalName===z.InternalName);G.fillStyle=$?"#f59e42":"#3b82f6",G.shadowColor="#60a5fa",G.shadowBlur=8,G.fill(),G.shadowBlur=0,G.closePath()})}},[C,b,c]);const M=Y=>{const G=Y.currentTarget.getBoundingClientRect(),z=Y.clientX-G.left,$=Y.clientY-G.top;let Q=null;for(const ie of C){const fe=T(ie.XCoord),re=P(ie.YCoord);if(Math.hypot(z-fe,$-re)<Ah+3){Q={x:fe,y:re,data:ie};break}}n(Q)},I=()=>n(null),D=Y=>{const G=Y.currentTarget.getBoundingClientRect(),z=Y.clientX-G.left,$=Y.clientY-G.top;let Q=null;for(const ie of C){const fe=T(ie.XCoord),re=P(ie.YCoord);if(Math.hypot(z-fe,$-re)<Ah+3){Q=ie;break}}if(Q){const ie=m.find(fe=>fe.InternalName===Q.InternalName);if(!ie)return;h(fe=>fe.some(re=>re.InternalName===ie.InternalName)?fe.filter(re=>re.InternalName!==ie.InternalName):fe.length===2?[fe[1],ie]:[...fe,ie])}};let F=null;if(c.length===2){const[Y,G]=c,z=Y.XCoord-G.XCoord,$=Y.YCoord-G.YCoord;F=Math.sqrt(z*z+$*$)}return R.jsxs("div",{className:"flex flex-col items-center justify-center w-full min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-4",children:[R.jsx("div",{className:"mb-6 w-full max-w-md flex justify-center",children:R.jsxs("select",{value:r,onChange:Y=>s(Y.target.value),className:"px-4 py-2 rounded-lg border border-gray-700 bg-gray-800 text-gray-200 shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",children:[R.jsx("option",{value:"Stanton",children:"Stanton"}),R.jsx("option",{value:"Pyro",children:"Pyro"})]})}),R.jsxs("div",{className:"relative max-w-full overflow-x-auto rounded-lg shadow-lg border border-gray-700 bg-gray-900",children:[R.jsx("canvas",{ref:e,width:gc,height:yc,className:"block max-w-full h-auto bg-gray-800 rounded-lg cursor-pointer",onMouseMove:M,onMouseLeave:I,onClick:D}),t&&R.jsxs("div",{className:"absolute z-10 pointer-events-none px-4 py-2 rounded-lg shadow-lg bg-white text-gray-900 text-sm font-semibold border border-blue-400 animate-fade-in",style:{left:t.x>gc*.7?t.x-160:t.x+20,top:t.y>yc*.7?t.y-70:t.y+20,minWidth:120,maxWidth:220},children:[R.jsx("div",{className:"mb-1 text-blue-600 font-bold",children:t.data.ObjectContainer}),R.jsx("div",{className:"text-xs text-gray-600",children:t.data.InternalName}),R.jsxs("div",{className:"text-xs text-gray-500",children:["(",t.data.XCoord,", ",t.data.YCoord,")"]})]})]}),R.jsx("div",{className:"mt-6 text-gray-300 text-lg font-semibold",children:"Object Container Map"}),c.length>0&&R.jsx("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-center",children:c.map((Y,G)=>R.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-orange-400 text-white font-semibold text-xs shadow",children:Y.ObjectContainer},Y.InternalName))}),F&&R.jsxs("div",{className:"mt-2 px-4 py-2 rounded-lg bg-blue-700 text-white font-bold text-lg shadow border border-blue-400 animate-fade-in",children:["Distance: ",F.toLocaleString(void 0,{maximumFractionDigits:2})]})]})},kP=()=>{const e=zl();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),R.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),R.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var Fe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var j2=new Map([[Fe.QR_CODE,"QR_CODE"],[Fe.AZTEC,"AZTEC"],[Fe.CODABAR,"CODABAR"],[Fe.CODE_39,"CODE_39"],[Fe.CODE_93,"CODE_93"],[Fe.CODE_128,"CODE_128"],[Fe.DATA_MATRIX,"DATA_MATRIX"],[Fe.MAXICODE,"MAXICODE"],[Fe.ITF,"ITF"],[Fe.EAN_13,"EAN_13"],[Fe.EAN_8,"EAN_8"],[Fe.PDF_417,"PDF_417"],[Fe.RSS_14,"RSS_14"],[Fe.RSS_EXPANDED,"RSS_EXPANDED"],[Fe.UPC_A,"UPC_A"],[Fe.UPC_E,"UPC_E"],[Fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),B2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(B2||(B2={}));function PP(e){return Object.values(Fe).includes(e)}var Cs;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Cs||(Cs={}));var Eo=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Cs.SCAN_TYPE_CAMERA,Cs.SCAN_TYPE_FILE],e}(),dE=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!j2.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,j2.get(t))},e}(),F2=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),sp;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(sp||(sp={}));var fE=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:sp.UNKWOWN_ERROR}},e}(),hE=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Wo(e){return typeof e>"u"||e===null}function LP(e,t,n){return e>n?n:e<t?t:e}var tl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),kt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),U2=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),pE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(s),h=Object.keys(t),m=0,x=h;m<x.length;m++){var g=x[m];if(c.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),ap={exports:{}};(function(e,t){(function(n,r){r(t)})(vi,function(n){function r(k){return k==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,o){k.__proto__=o}||function(k,o){for(var a in o)o.hasOwnProperty(a)&&(k[a]=o[a])};function c(k,o){s(k,o);function a(){this.constructor=k}k.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}function h(k,o){var a=Object.setPrototypeOf;a?a(k,o):k.__proto__=o}function m(k,o){o===void 0&&(o=k.constructor);var a=Error.captureStackTrace;a&&a(k,o)}var x=function(k){c(o,k);function o(a){var u=this.constructor,d=k.call(this,a)||this;return Object.defineProperty(d,"name",{value:u.name,enumerable:!1}),h(d,u.prototype),m(d),d}return o}(Error);class g extends x{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}g.kind="Exception";class w extends g{}w.kind="ArgumentException";class C extends g{}C.kind="IllegalArgumentException";class b{constructor(o){if(this.binarizer=o,o===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,a){return this.binarizer.getBlackRow(o,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,a,u,d){const i=this.binarizer.getLuminanceSource().crop(o,a,u,d);return new b(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends g{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class N{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(o,a,u,d,i){for(;i--;)u[d++]=o[a++]}static currentTimeMillis(){return Date.now()}}class P extends g{}P.kind="IndexOutOfBoundsException";class M extends P{constructor(o=void 0,a=void 0){super(a),this.index=o,this.message=a}}M.kind="ArrayIndexOutOfBoundsException";class I{static fill(o,a){for(let u=0,d=o.length;u<d;u++)o[u]=a}static fillWithin(o,a,u,d){I.rangeCheck(o.length,a,u);for(let i=a;i<u;i++)o[i]=d}static rangeCheck(o,a,u){if(a>u)throw new C("fromIndex("+a+") > toIndex("+u+")");if(a<0)throw new M(a);if(u>o)throw new M(u)}static asList(...o){return o}static create(o,a,u){return Array.from({length:o}).map(i=>Array.from({length:a}).fill(u))}static createInt32Array(o,a,u){return Array.from({length:o}).map(i=>Int32Array.from({length:a}).fill(u))}static equals(o,a){if(!o||!a||!o.length||!a.length||o.length!==a.length)return!1;for(let u=0,d=o.length;u<d;u++)if(o[u]!==a[u])return!1;return!0}static hashCode(o){if(o===null)return 0;let a=1;for(const u of o)a=31*a+u;return a}static fillUint8Array(o,a){for(let u=0;u!==o.length;u++)o[u]=a}static copyOf(o,a){return o.slice(0,a)}static copyOfUint8Array(o,a){if(o.length<=a){const u=new Uint8Array(a);return u.set(o),u}return o.slice(0,a)}static copyOfRange(o,a,u){const d=u-a,i=new Int32Array(d);return T.arraycopy(o,a,i,0,d),i}static binarySearch(o,a,u){u===void 0&&(u=I.numberComparator);let d=0,i=o.length-1;for(;d<=i;){const l=i+d>>1,f=u(a,o[l]);if(f>0)d=l+1;else if(f<0)i=l-1;else return l}return-d-1}static numberComparator(o,a){return o-a}}class D{static numberOfTrailingZeros(o){let a;if(o===0)return 32;let u=31;return a=o<<16,a!==0&&(u-=16,o=a),a=o<<8,a!==0&&(u-=8,o=a),a=o<<4,a!==0&&(u-=4,o=a),a=o<<2,a!==0&&(u-=2,o=a),u-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let a=1;return o>>>16||(a+=16,o<<=16),o>>>24||(a+=8,o<<=8),o>>>28||(a+=4,o<<=4),o>>>30||(a+=2,o<<=2),a-=o>>>31,a}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,a){return Math.trunc(o/a)}static parseInt(o,a=void 0){return parseInt(o,a)}}D.MIN_VALUE_32_BITS=-2147483648,D.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(o,a){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,a==null?this.bits=F.makeArray(o):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const a=F.makeArray(o);T.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const a=this.size;if(o>=a)return a;const u=this.bits;let d=Math.floor(o/32),i=u[d];i&=~((1<<(o&31))-1);const l=u.length;for(;i===0;){if(++d===l)return a;i=u[d]}const f=d*32+D.numberOfTrailingZeros(i);return f>a?a:f}getNextUnset(o){const a=this.size;if(o>=a)return a;const u=this.bits;let d=Math.floor(o/32),i=~u[d];i&=~((1<<(o&31))-1);const l=u.length;for(;i===0;){if(++d===l)return a;i=~u[d]}const f=d*32+D.numberOfTrailingZeros(i);return f>a?a:f}setBulk(o,a){this.bits[Math.floor(o/32)]=a}setRange(o,a){if(a<o||o<0||a>this.size)throw new C;if(a===o)return;a--;const u=Math.floor(o/32),d=Math.floor(a/32),i=this.bits;for(let l=u;l<=d;l++){const f=l>u?0:o&31,y=(2<<(l<d?31:a&31))-(1<<f);i[l]|=y}}clear(){const o=this.bits.length,a=this.bits;for(let u=0;u<o;u++)a[u]=0}isRange(o,a,u){if(a<o||o<0||a>this.size)throw new C;if(a===o)return!0;a--;const d=Math.floor(o/32),i=Math.floor(a/32),l=this.bits;for(let f=d;f<=i;f++){const p=f>d?0:o&31,v=(2<<(f<i?31:a&31))-(1<<p)&4294967295;if((l[f]&v)!==(u?v:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,a){if(a<0||a>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let u=a;u>0;u--)this.appendBit((o>>u-1&1)===1)}appendBitArray(o){const a=o.size;this.ensureCapacity(this.size+a);for(let u=0;u<a;u++)this.appendBit(o.get(u))}xor(o){if(this.size!==o.size)throw new C("Sizes don't match");const a=this.bits;for(let u=0,d=a.length;u<d;u++)a[u]^=o.bits[u]}toBytes(o,a,u,d){for(let i=0;i<d;i++){let l=0;for(let f=0;f<8;f++)this.get(o)&&(l|=1<<7-f),o++;a[u+i]=l}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),u=a+1,d=this.bits;for(let i=0;i<u;i++){let l=d[i];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,o[a-i]=l}if(this.size!==u*32){const i=u*32-this.size;let l=o[0]>>>i;for(let f=1;f<u;f++){const p=o[f];l|=p<<32-i,o[f-1]=l,l=p>>>i}o[u-1]=l}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof F))return!1;const a=o;return this.size===a.size&&I.equals(this.bits,a.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let o="";for(let a=0,u=this.size;a<u;a++)a&7||(o+=" "),o+=this.get(a)?"X":".";return o}clone(){return new F(this.size,this.bits.slice())}}var Y;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Y||(Y={}));var G=Y;class z extends g{static getFormatInstance(){return new z}}z.kind="FormatException";var $;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})($||($={}));class Q{constructor(o,a,u,...d){this.valueIdentifier=o,this.name=u,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=d,Q.VALUE_IDENTIFIER_TO_ECI.set(o,this),Q.NAME_TO_ECI.set(u,this);const i=this.values;for(let l=0,f=i.length;l!==f;l++){const p=i[l];Q.VALUES_TO_ECI.set(p,this)}for(const l of d)Q.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new z("incorect value");const a=Q.VALUES_TO_ECI.get(o);if(a===void 0)throw new z("incorect value");return a}static getCharacterSetECIByName(o){const a=Q.NAME_TO_ECI.get(o);if(a===void 0)throw new z("incorect value");return a}equals(o){if(!(o instanceof Q))return!1;const a=o;return this.getName()===a.getName()}}Q.VALUE_IDENTIFIER_TO_ECI=new Map,Q.VALUES_TO_ECI=new Map,Q.NAME_TO_ECI=new Map,Q.Cp437=new Q($.Cp437,Int32Array.from([0,2]),"Cp437"),Q.ISO8859_1=new Q($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Q.ISO8859_2=new Q($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Q.ISO8859_3=new Q($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Q.ISO8859_4=new Q($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Q.ISO8859_5=new Q($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Q.ISO8859_6=new Q($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Q.ISO8859_7=new Q($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Q.ISO8859_8=new Q($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Q.ISO8859_9=new Q($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Q.ISO8859_10=new Q($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Q.ISO8859_11=new Q($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Q.ISO8859_13=new Q($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Q.ISO8859_14=new Q($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Q.ISO8859_15=new Q($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Q.ISO8859_16=new Q($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Q.SJIS=new Q($.SJIS,20,"SJIS","Shift_JIS"),Q.Cp1250=new Q($.Cp1250,21,"Cp1250","windows-1250"),Q.Cp1251=new Q($.Cp1251,22,"Cp1251","windows-1251"),Q.Cp1252=new Q($.Cp1252,23,"Cp1252","windows-1252"),Q.Cp1256=new Q($.Cp1256,24,"Cp1256","windows-1256"),Q.UnicodeBigUnmarked=new Q($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Q.UTF8=new Q($.UTF8,26,"UTF8","UTF-8"),Q.ASCII=new Q($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Q.Big5=new Q($.Big5,28,"Big5"),Q.GB18030=new Q($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Q.EUC_KR=new Q($.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends g{}ie.kind="UnsupportedOperationException";class fe{static decode(o,a){const u=this.encodingName(a);return this.customDecoder?this.customDecoder(o,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(o,u):new TextDecoder(u).decode(o)}static shouldDecodeOnFallback(o){return!fe.isBrowser()&&o==="ISO-8859-1"}static encode(o,a){const u=this.encodingName(a);return this.customEncoder?this.customEncoder(o,u):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof Q?o:Q.getCharacterSetECIByName(o)}static decodeFallback(o,a){const u=this.encodingCharacterSet(a);if(fe.isDecodeFallbackSupported(u)){let d="";for(let i=0,l=o.length;i<l;i++){let f=o[i].toString(16);f.length<2&&(f="0"+f),d+="%"+f}return decodeURIComponent(d)}if(u.equals(Q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new ie(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(Q.UTF8)||o.equals(Q.ISO8859_1)||o.equals(Q.ASCII)}static encodeFallback(o){const u=btoa(unescape(encodeURIComponent(o))).split(""),d=[];for(let i=0;i<u.length;i++)d.push(u[i].charCodeAt(0));return new Uint8Array(d)}}class re{static castAsNonUtf8Char(o,a=null){const u=a?a.getName():this.ISO88591;return fe.decode(new Uint8Array([o]),u)}static guessEncoding(o,a){if(a!=null&&a.get(G.CHARACTER_SET)!==void 0)return a.get(G.CHARACTER_SET).toString();const u=o.length;let d=!0,i=!0,l=!0,f=0,p=0,y=0,v=0,S=0,A=0,O=0,L=0,B=0,j=0,U=0;const W=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let H=0;H<u&&(d||i||l);H++){const V=o[H]&255;l&&(f>0?V&128?f--:l=!1:V&128&&(V&64?(f++,V&32?(f++,V&16?(f++,V&8?l=!1:v++):y++):p++):l=!1)),d&&(V>127&&V<160?d=!1:V>159&&(V<192||V===215||V===247)&&U++),i&&(S>0?V<64||V===127||V>252?i=!1:S--:V===128||V===160||V>239?i=!1:V>160&&V<224?(A++,L=0,O++,O>B&&(B=O)):V>127?(S++,O=0,L++,L>j&&(j=L)):(O=0,L=0))}return l&&f>0&&(l=!1),i&&S>0&&(i=!1),l&&(W||p+y+v>0)?re.UTF8:i&&(re.ASSUME_SHIFT_JIS||B>=3||j>=3)?re.SHIFT_JIS:d&&i?B===2&&A===2||U*10>=u?re.SHIFT_JIS:re.ISO88591:d?re.ISO88591:i?re.SHIFT_JIS:l?re.UTF8:re.PLATFORM_DEFAULT_ENCODING}static format(o,...a){let u=-1;function d(l,f,p,y,v,S){if(l==="%%")return"%";if(a[++u]===void 0)return;l=y?parseInt(y.substr(1)):void 0;let A=v?parseInt(v.substr(1)):void 0,O;switch(S){case"s":O=a[u];break;case"c":O=a[u][0];break;case"f":O=parseFloat(a[u]).toFixed(l);break;case"p":O=parseFloat(a[u]).toPrecision(l);break;case"e":O=parseFloat(a[u]).toExponential(l);break;case"x":O=parseInt(a[u]).toString(A||16);break;case"d":O=parseFloat(parseInt(a[u],A||10).toPrecision(l)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(A);let L=parseInt(p),B=p&&p[0]+""=="0"?"0":" ";for(;O.length<L;)O=f!==void 0?O+B:B+O;return O}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(i,d)}static getBytes(o,a){return fe.encode(o,a)}static getCharCode(o,a=0){return o.charCodeAt(a)}static getCharAt(o){return String.fromCharCode(o)}}re.SHIFT_JIS=Q.SJIS.getName(),re.GB2312="GB2312",re.ISO88591=Q.ISO8859_1.getName(),re.EUC_JP="EUC_JP",re.UTF8=Q.UTF8.getName(),re.PLATFORM_DEFAULT_ENCODING=re.UTF8,re.ASSUME_SHIFT_JIS=!1;class we{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=re.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,a,u){for(let d=a;a<a+u;d++)this.append(o[d]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,a){this.value=this.value.substr(0,o)+a+this.value.substr(o+1)}substring(o,a){return this.value.substring(o,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,a){this.value=this.value.substr(0,o)+a+this.value.substr(o+a.length)}}class he{constructor(o,a,u,d){if(this.width=o,this.height=a,this.rowSize=u,this.bits=d,a==null&&(a=o),this.height=a,o<1||a<1)throw new C("Both dimensions must be greater than 0");u==null&&(u=Math.floor((o+31)/32)),this.rowSize=u,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const a=o.length,u=o[0].length,d=new he(u,a);for(let i=0;i<a;i++){const l=o[i];for(let f=0;f<u;f++)l[f]&&d.set(f,i)}return d}static parseFromString(o,a,u){if(o===null)throw new C("stringRepresentation cannot be null");const d=new Array(o.length);let i=0,l=0,f=-1,p=0,y=0;for(;y<o.length;)if(o.charAt(y)===`
`||o.charAt(y)==="\r"){if(i>l){if(f===-1)f=i-l;else if(i-l!==f)throw new C("row lengths do not match");l=i,p++}y++}else if(o.substring(y,y+a.length)===a)y+=a.length,d[i]=!0,i++;else if(o.substring(y,y+u.length)===u)y+=u.length,d[i]=!1,i++;else throw new C("illegal character encountered: "+o.substring(y));if(i>l){if(f===-1)f=i-l;else if(i-l!==f)throw new C("row lengths do not match");p++}const v=new he(f,p);for(let S=0;S<i;S++)d[S]&&v.set(Math.floor(S%f),Math.floor(S/f));return v}get(o,a){const u=a*this.rowSize+Math.floor(o/32);return(this.bits[u]>>>(o&31)&1)!==0}set(o,a){const u=a*this.rowSize+Math.floor(o/32);this.bits[u]|=1<<(o&31)&4294967295}unset(o,a){const u=a*this.rowSize+Math.floor(o/32);this.bits[u]&=~(1<<(o&31)&4294967295)}flip(o,a){const u=a*this.rowSize+Math.floor(o/32);this.bits[u]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new C("input matrix dimensions do not match");const a=new F(Math.floor(this.width/32)+1),u=this.rowSize,d=this.bits;for(let i=0,l=this.height;i<l;i++){const f=i*u,p=o.getRow(i,a).getBitArray();for(let y=0;y<u;y++)d[f+y]^=p[y]}}clear(){const o=this.bits,a=o.length;for(let u=0;u<a;u++)o[u]=0}setRegion(o,a,u,d){if(a<0||o<0)throw new C("Left and top must be nonnegative");if(d<1||u<1)throw new C("Height and width must be at least 1");const i=o+u,l=a+d;if(l>this.height||i>this.width)throw new C("The region must fit inside the matrix");const f=this.rowSize,p=this.bits;for(let y=a;y<l;y++){const v=y*f;for(let S=o;S<i;S++)p[v+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(o,a){a==null||a.getSize()<this.width?a=new F(this.width):a.clear();const u=this.rowSize,d=this.bits,i=o*u;for(let l=0;l<u;l++)a.setBulk(l*32,d[i+l]);return a}setRow(o,a){T.arraycopy(a.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),a=this.getHeight();let u=new F(o),d=new F(o);for(let i=0,l=Math.floor((a+1)/2);i<l;i++)u=this.getRow(i,u),d=this.getRow(a-1-i,d),u.reverse(),d.reverse(),this.setRow(i,d),this.setRow(a-1-i,u)}getEnclosingRectangle(){const o=this.width,a=this.height,u=this.rowSize,d=this.bits;let i=o,l=a,f=-1,p=-1;for(let y=0;y<a;y++)for(let v=0;v<u;v++){const S=d[y*u+v];if(S!==0){if(y<l&&(l=y),y>p&&(p=y),v*32<i){let A=0;for(;!(S<<31-A&4294967295);)A++;v*32+A<i&&(i=v*32+A)}if(v*32+31>f){let A=31;for(;!(S>>>A);)A--;v*32+A>f&&(f=v*32+A)}}}return f<i||p<l?null:Int32Array.from([i,l,f-i+1,p-l+1])}getTopLeftOnBit(){const o=this.rowSize,a=this.bits;let u=0;for(;u<a.length&&a[u]===0;)u++;if(u===a.length)return null;const d=u/o;let i=u%o*32;const l=a[u];let f=0;for(;!(l<<31-f&4294967295);)f++;return i+=f,Int32Array.from([i,d])}getBottomRightOnBit(){const o=this.rowSize,a=this.bits;let u=a.length-1;for(;u>=0&&a[u]===0;)u--;if(u<0)return null;const d=Math.floor(u/o);let i=Math.floor(u%o)*32;const l=a[u];let f=31;for(;!(l>>>f);)f--;return i+=f,Int32Array.from([i,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof he))return!1;const a=o;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&I.equals(this.bits,a.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+I.hashCode(this.bits),o}toString(o="X ",a="  ",u=`
`){return this.buildToString(o,a,u)}buildToString(o,a,u){let d=new we;for(let i=0,l=this.height;i<l;i++){for(let f=0,p=this.width;f<p;f++)d.append(this.get(f,i)?o:a);d.append(u)}return d.toString()}clone(){return new he(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends g{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class ve extends N{constructor(o){super(o),this.luminances=ve.EMPTY,this.buckets=new Int32Array(ve.LUMINANCE_BUCKETS)}getBlackRow(o,a){const u=this.getLuminanceSource(),d=u.getWidth();a==null||a.getSize()<d?a=new F(d):a.clear(),this.initArrays(d);const i=u.getRow(o,this.luminances),l=this.buckets;for(let p=0;p<d;p++)l[(i[p]&255)>>ve.LUMINANCE_SHIFT]++;const f=ve.estimateBlackPoint(l);if(d<3)for(let p=0;p<d;p++)(i[p]&255)<f&&a.set(p);else{let p=i[0]&255,y=i[1]&255;for(let v=1;v<d-1;v++){const S=i[v+1]&255;(y*4-p-S)/2<f&&a.set(v),p=y,y=S}}return a}getBlackMatrix(){const o=this.getLuminanceSource(),a=o.getWidth(),u=o.getHeight(),d=new he(a,u);this.initArrays(a);const i=this.buckets;for(let p=1;p<5;p++){const y=Math.floor(u*p/5),v=o.getRow(y,this.luminances),S=Math.floor(a*4/5);for(let A=Math.floor(a/5);A<S;A++){const O=v[A]&255;i[O>>ve.LUMINANCE_SHIFT]++}}const l=ve.estimateBlackPoint(i),f=o.getMatrix();for(let p=0;p<u;p++){const y=p*a;for(let v=0;v<a;v++)(f[y+v]&255)<l&&d.set(v,p)}return d}createBinarizer(o){return new ve(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const a=this.buckets;for(let u=0;u<ve.LUMINANCE_BUCKETS;u++)a[u]=0}static estimateBlackPoint(o){const a=o.length;let u=0,d=0,i=0;for(let v=0;v<a;v++)o[v]>i&&(d=v,i=o[v]),o[v]>u&&(u=o[v]);let l=0,f=0;for(let v=0;v<a;v++){const S=v-d,A=o[v]*S*S;A>f&&(l=v,f=A)}if(d>l){const v=d;d=l,l=v}if(l-d<=a/16)throw new ee;let p=l-1,y=-1;for(let v=l-1;v>d;v--){const S=v-d,A=S*S*(l-v)*(u-o[v]);A>y&&(p=v,y=A)}return p<<ve.LUMINANCE_SHIFT}}ve.LUMINANCE_BITS=5,ve.LUMINANCE_SHIFT=8-ve.LUMINANCE_BITS,ve.LUMINANCE_BUCKETS=1<<ve.LUMINANCE_BITS,ve.EMPTY=Uint8ClampedArray.from([0]);class ce extends ve{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),a=o.getWidth(),u=o.getHeight();if(a>=ce.MINIMUM_DIMENSION&&u>=ce.MINIMUM_DIMENSION){const d=o.getMatrix();let i=a>>ce.BLOCK_SIZE_POWER;a&ce.BLOCK_SIZE_MASK&&i++;let l=u>>ce.BLOCK_SIZE_POWER;u&ce.BLOCK_SIZE_MASK&&l++;const f=ce.calculateBlackPoints(d,i,l,a,u),p=new he(a,u);ce.calculateThresholdForBlock(d,i,l,a,u,f,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ce(o)}static calculateThresholdForBlock(o,a,u,d,i,l,f){const p=i-ce.BLOCK_SIZE,y=d-ce.BLOCK_SIZE;for(let v=0;v<u;v++){let S=v<<ce.BLOCK_SIZE_POWER;S>p&&(S=p);const A=ce.cap(v,2,u-3);for(let O=0;O<a;O++){let L=O<<ce.BLOCK_SIZE_POWER;L>y&&(L=y);const B=ce.cap(O,2,a-3);let j=0;for(let W=-2;W<=2;W++){const H=l[A+W];j+=H[B-2]+H[B-1]+H[B]+H[B+1]+H[B+2]}const U=j/25;ce.thresholdBlock(o,L,S,U,d,f)}}}static cap(o,a,u){return o<a?a:o>u?u:o}static thresholdBlock(o,a,u,d,i,l){for(let f=0,p=u*i+a;f<ce.BLOCK_SIZE;f++,p+=i)for(let y=0;y<ce.BLOCK_SIZE;y++)(o[p+y]&255)<=d&&l.set(a+y,u+f)}static calculateBlackPoints(o,a,u,d,i){const l=i-ce.BLOCK_SIZE,f=d-ce.BLOCK_SIZE,p=new Array(u);for(let y=0;y<u;y++){p[y]=new Int32Array(a);let v=y<<ce.BLOCK_SIZE_POWER;v>l&&(v=l);for(let S=0;S<a;S++){let A=S<<ce.BLOCK_SIZE_POWER;A>f&&(A=f);let O=0,L=255,B=0;for(let U=0,W=v*d+A;U<ce.BLOCK_SIZE;U++,W+=d){for(let H=0;H<ce.BLOCK_SIZE;H++){const V=o[W+H]&255;O+=V,V<L&&(L=V),V>B&&(B=V)}if(B-L>ce.MIN_DYNAMIC_RANGE)for(U++,W+=d;U<ce.BLOCK_SIZE;U++,W+=d)for(let H=0;H<ce.BLOCK_SIZE;H++)O+=o[W+H]&255}let j=O>>ce.BLOCK_SIZE_POWER*2;if(B-L<=ce.MIN_DYNAMIC_RANGE&&(j=L/2,y>0&&S>0)){const U=(p[y-1][S]+2*p[y][S-1]+p[y-1][S-1])/4;L<U&&(j=U)}p[y][S]=j}}return p}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class q{constructor(o,a){this.width=o,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,a,u,d){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let a=new we;for(let u=0;u<this.height;u++){const d=this.getRow(u,o);for(let i=0;i<this.width;i++){const l=d[i]&255;let f;l<64?f="#":l<128?f="+":l<192?f=".":f=" ",a.append(f)}a.append(`
`)}return a.toString()}}class Z extends q{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,a){const u=this.delegate.getRow(o,a),d=this.getWidth();for(let i=0;i<d;i++)u[i]=255-(u[i]&255);return u}getMatrix(){const o=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(a);for(let d=0;d<a;d++)u[d]=255-(o[d]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(o,a,u,d){return new Z(this.delegate.crop(o,a,u,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Z(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Z(this.delegate.rotateCounterClockwise45())}}class J extends q{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=J.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const a=o.getContext("2d").getImageData(0,0,o.width,o.height);return J.toGrayscaleBuffer(a.data,o.width,o.height)}static toGrayscaleBuffer(o,a,u){const d=new Uint8ClampedArray(a*u);for(let i=0,l=0,f=o.length;i<f;i+=4,l++){let p;if(o[i+3]===0)p=255;else{const v=o[i],S=o[i+1],A=o[i+2];p=306*v+601*S+117*A+512>>10}d[l]=p}return d}getRow(o,a){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const u=this.getWidth(),d=o*u;return a===null?a=this.buffer.slice(d,d+u):(a.length<u&&(a=new Uint8ClampedArray(u)),a.set(this.buffer.slice(d,d+u))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,a,u,d){return super.crop(o,a,u,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const a=this.getTempCanvasElement(),u=a.getContext("2d"),d=o*J.DEGREE_TO_RADIANS,i=this.canvas.width,l=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(d))*i+Math.abs(Math.sin(d))*l),p=Math.ceil(Math.abs(Math.sin(d))*i+Math.abs(Math.cos(d))*l);return a.width=f,a.height=p,u.translate(f/2,p/2),u.rotate(d),u.drawImage(this.canvas,i/-2,l/-2),this.buffer=J.makeBufferFromCanvasImageData(a),this}invert(){return new Z(this)}}J.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(o,a,u){this.deviceId=o,this.label=a,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||vi||self||window||void 0)&&(globalThis||vi||self||window||void 0).__awaiter||function(k,o,a,u){function d(i){return i instanceof a?i:new a(function(l){l(i)})}return new(a||(a=Promise))(function(i,l){function f(v){try{y(u.next(v))}catch(S){l(S)}}function p(v){try{y(u.throw(v))}catch(S){l(S)}}function y(v){v.done?i(v.value):d(v.value).then(f,p)}y((u=u.apply(k,o||[])).next())})};class ge{constructor(o,a=500,u){this.reader=o,this.timeBetweenScansMillis=a,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const u of o){const d=u.kind==="video"?"videoinput":u.kind;if(d!=="videoinput")continue;const i=u.deviceId||u.id,l=u.label||`Video device ${a.length+1}`,f=u.groupId,p={deviceId:i,label:l,kind:d,groupId:f};a.push(p)}return a})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ne(a.deviceId,a.label))})}findDeviceById(o){return ue(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(u=>u.deviceId===o):null})}decodeFromInputVideoDevice(o,a){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,a)})}decodeOnceFromVideoDevice(o,a){return ue(this,void 0,void 0,function*(){this.reset();let u;o?u={deviceId:{exact:o}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeOnceFromConstraints(d,a)})}decodeOnceFromConstraints(o,a){return ue(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(u,a)})}decodeOnceFromStream(o,a){return ue(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(o,a);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(o,a,u){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,a,u)})}decodeFromVideoDevice(o,a,u){return ue(this,void 0,void 0,function*(){let d;o?d={deviceId:{exact:o}}:d={facingMode:"environment"};const i={video:d};return yield this.decodeFromConstraints(i,a,u)})}decodeFromConstraints(o,a,u){return ue(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(d,a,u)})}decodeFromStream(o,a,u){return ue(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(o,a);return yield this.decodeContinuously(d,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,a){return ue(this,void 0,void 0,function*(){const u=this.prepareVideoElement(a);return this.addVideoSource(u,o),this.videoElement=u,this.stream=o,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(o){return new Promise((a,u)=>this.playVideoOnLoad(o,()=>a()))}playVideoOnLoad(o,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",a),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,a){const u=document.getElementById(o);if(!u)throw new w(`element with id '${o}' not found`);if(u.nodeName.toLowerCase()!==a.toLowerCase())throw new w(`element with id '${o}' must be an ${a} element`);return u}decodeFromImage(o,a){if(!o&&!a)throw new w("either imageElement with a src set or an url must be provided");return a&&!o?this.decodeFromImageUrl(a):this.decodeFromImageElement(o)}decodeFromVideo(o,a){if(!o&&!a)throw new w("Either an element with a src set or an URL must be provided");return a&&!o?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,a,u){if(o===void 0&&a===void 0)throw new w("Either an element with a src set or an URL must be provided");return a&&!o?this.decodeFromVideoUrlContinuously(a,u):this.decodeFromVideoElementContinuously(o,u)}decodeFromImageElement(o){if(!o)throw new w("An image element must be provided.");this.reset();const a=this.prepareImageElement(o);this.imageElement=a;let u;return this.isImageLoaded(a)?u=this.decodeOnce(a,!1,!0):u=this._decodeOnLoadImage(a),u}decodeFromVideoElement(o){const a=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(o,a){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(u,a)}_decodeFromVideoElementSetup(o){if(!o)throw new w("A video element must be provided.");this.reset();const a=this.prepareVideoElement(o);return this.videoElement=a,a}decodeFromImageUrl(o){if(!o)throw new w("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const u=this._decodeOnLoadImage(a);return a.src=o,u}decodeFromVideoUrl(o){if(!o)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),u=this.decodeFromVideoElement(a);return a.src=o,u}decodeFromVideoUrlContinuously(o,a){if(!o)throw new w("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(u,a);return u.src=o,d}_decodeOnLoadImage(o){return new Promise((a,u)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(a,u),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,a){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,a)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let a;return typeof o>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof o=="string"&&(a=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(a=o),a}prepareVideoElement(o){let a;return!o&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof o=="string"&&(a=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(a=o),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(o,a=!0,u=!0){this._stopAsyncDecode=!1;const d=(i,l)=>{if(this._stopAsyncDecode){l(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(o);i(f)}catch(f){const p=a&&f instanceof ee,v=(f instanceof _||f instanceof z)&&u;if(p||v)return setTimeout(d,this._timeBetweenDecodingAttempts,i,l);l(f)}};return new Promise((i,l)=>d(i,l))}decodeContinuously(o,a){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(o);a(d,null),setTimeout(u,this.timeBetweenScansMillis)}catch(d){a(null,d);const i=d instanceof _||d instanceof z,l=d instanceof ee;(i||l)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(o){const a=this.createBinaryBitmap(o);return this.decodeBitmap(a)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,a,u){a||(a={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(o,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(o,a,u=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(o,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const a=this.getCaptureCanvas(o),u=new J(a),d=new ce(u);return new b(d)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const a=this.createCaptureCanvas(o);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let u,d;return typeof o<"u"&&(o instanceof HTMLVideoElement?(u=o.videoWidth,d=o.videoHeight):o instanceof HTMLImageElement&&(u=o.naturalWidth||o.width,d=o.naturalHeight||o.height)),a.style.width=u+"px",a.style.height=d+"px",a.width=u,a.height=d,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,a){try{o.srcObject=a}catch{o.src=URL.createObjectURL(a)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(o,a,u=a==null?0:8*a.length,d,i,l=T.currentTimeMillis()){this.text=o,this.rawBytes=a,this.numBits=u,this.resultPoints=d,this.format=i,this.timestamp=l,this.text=o,this.rawBytes=a,u==null?this.numBits=a==null?0:8*a.length:this.numBits=u,this.resultPoints=d,this.format=i,this.resultMetadata=null,l==null?this.timestamp=T.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,a)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const a=this.resultPoints;if(a===null)this.resultPoints=o;else if(o!==null&&o.length>0){const u=new Array(a.length+o.length);T.arraycopy(a,0,u,0,a.length),T.arraycopy(o,0,u,a.length,o.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var et;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var me=et,Ne;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ne||(Ne={}));var Le=Ne;class Se{constructor(o,a,u,d,i=-1,l=-1){this.rawBytes=o,this.text=a,this.byteSegments=u,this.ecLevel=d,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=l,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ze{exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}static addOrSubtract(o,a){return o^a}}class He{constructor(o,a){if(a.length===0)throw new C;this.field=o;const u=a.length;if(u>1&&a[0]===0){let d=1;for(;d<u&&a[d]===0;)d++;d===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-d),T.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const a=this.coefficients;let u;if(o===1){u=0;for(let l=0,f=a.length;l!==f;l++){const p=a[l];u=Ze.addOrSubtract(u,p)}return u}u=a[0];const d=a.length,i=this.field;for(let l=1;l<d;l++)u=Ze.addOrSubtract(i.multiply(o,u),a[l]);return u}addOrSubtract(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let a=this.coefficients,u=o.coefficients;if(a.length>u.length){const l=a;a=u,u=l}let d=new Int32Array(u.length);const i=u.length-a.length;T.arraycopy(u,0,d,0,i);for(let l=i;l<u.length;l++)d[l]=Ze.addOrSubtract(a[l-i],u[l]);return new He(this.field,d)}multiply(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const a=this.coefficients,u=a.length,d=o.coefficients,i=d.length,l=new Int32Array(u+i-1),f=this.field;for(let p=0;p<u;p++){const y=a[p];for(let v=0;v<i;v++)l[p+v]=Ze.addOrSubtract(l[p+v],f.multiply(y,d[v]))}return new He(f,l)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const a=this.coefficients.length,u=this.field,d=new Int32Array(a),i=this.coefficients;for(let l=0;l<a;l++)d[l]=u.multiply(i[l],o);return new He(u,d)}multiplyByMonomial(o,a){if(o<0)throw new C;if(a===0)return this.field.getZero();const u=this.coefficients,d=u.length,i=new Int32Array(d+o),l=this.field;for(let f=0;f<d;f++)i[f]=l.multiply(u[f],a);return new He(l,i)}divide(o){if(!this.field.equals(o.field))throw new C("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new C("Divide by 0");const a=this.field;let u=a.getZero(),d=this;const i=o.getCoefficient(o.getDegree()),l=a.inverse(i);for(;d.getDegree()>=o.getDegree()&&!d.isZero();){const f=d.getDegree()-o.getDegree(),p=a.multiply(d.getCoefficient(d.getDegree()),l),y=o.multiplyByMonomial(f,p),v=a.buildMonomial(f,p);u=u.addOrSubtract(v),d=d.addOrSubtract(y)}return[u,d]}toString(){let o="";for(let a=this.getDegree();a>=0;a--){let u=this.getCoefficient(a);if(u!==0){if(u<0?(o+=" - ",u=-u):o.length>0&&(o+=" + "),a===0||u!==1){const d=this.field.log(u);d===0?o+="1":d===1?o+="a":(o+="a^",o+=d)}a!==0&&(a===1?o+="x":(o+="x^",o+=a))}}return o}}class Ue extends g{}Ue.kind="ArithmeticException";class $e extends Ze{constructor(o,a,u){super(),this.primitive=o,this.size=a,this.generatorBase=u;const d=new Int32Array(a);let i=1;for(let f=0;f<a;f++)d[f]=i,i*=2,i>=a&&(i^=o,i&=a-1);this.expTable=d;const l=new Int32Array(a);for(let f=0;f<a-1;f++)l[d[f]]=f;this.logTable=l,this.zero=new He(this,Int32Array.from([0])),this.one=new He(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,a){if(o<0)throw new C;if(a===0)return this.zero;const u=new Int32Array(o+1);return u[0]=a,new He(this,u)}inverse(o){if(o===0)throw new Ue;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,a){return o===0||a===0?0:this.expTable[(this.logTable[o]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+D.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}$e.AZTEC_DATA_12=new $e(4201,4096,1),$e.AZTEC_DATA_10=new $e(1033,1024,1),$e.AZTEC_DATA_6=new $e(67,64,1),$e.AZTEC_PARAM=new $e(19,16,1),$e.QR_CODE_FIELD_256=new $e(285,256,0),$e.DATA_MATRIX_FIELD_256=new $e(301,256,1),$e.AZTEC_DATA_8=$e.DATA_MATRIX_FIELD_256,$e.MAXICODE_FIELD_64=$e.AZTEC_DATA_6;class nn extends g{}nn.kind="ReedSolomonException";class Ft extends g{}Ft.kind="IllegalStateException";class gn{constructor(o){this.field=o}decode(o,a){const u=this.field,d=new He(u,o),i=new Int32Array(a);let l=!0;for(let O=0;O<a;O++){const L=d.evaluateAt(u.exp(O+u.getGeneratorBase()));i[i.length-1-O]=L,L!==0&&(l=!1)}if(l)return;const f=new He(u,i),p=this.runEuclideanAlgorithm(u.buildMonomial(a,1),f,a),y=p[0],v=p[1],S=this.findErrorLocations(y),A=this.findErrorMagnitudes(v,S);for(let O=0;O<S.length;O++){const L=o.length-1-u.log(S[O]);if(L<0)throw new nn("Bad error location");o[L]=$e.addOrSubtract(o[L],A[O])}}runEuclideanAlgorithm(o,a,u){if(o.getDegree()<a.getDegree()){const O=o;o=a,a=O}const d=this.field;let i=o,l=a,f=d.getZero(),p=d.getOne();for(;l.getDegree()>=(u/2|0);){let O=i,L=f;if(i=l,f=p,i.isZero())throw new nn("r_{i-1} was zero");l=O;let B=d.getZero();const j=i.getCoefficient(i.getDegree()),U=d.inverse(j);for(;l.getDegree()>=i.getDegree()&&!l.isZero();){const W=l.getDegree()-i.getDegree(),H=d.multiply(l.getCoefficient(l.getDegree()),U);B=B.addOrSubtract(d.buildMonomial(W,H)),l=l.addOrSubtract(i.multiplyByMonomial(W,H))}if(p=B.multiply(f).addOrSubtract(L),l.getDegree()>=i.getDegree())throw new Ft("Division algorithm failed to reduce polynomial?")}const y=p.getCoefficient(0);if(y===0)throw new nn("sigmaTilde(0) was zero");const v=d.inverse(y),S=p.multiplyScalar(v),A=l.multiplyScalar(v);return[S,A]}findErrorLocations(o){const a=o.getDegree();if(a===1)return Int32Array.from([o.getCoefficient(1)]);const u=new Int32Array(a);let d=0;const i=this.field;for(let l=1;l<i.getSize()&&d<a;l++)o.evaluateAt(l)===0&&(u[d]=i.inverse(l),d++);if(d!==a)throw new nn("Error locator degree does not match number of roots");return u}findErrorMagnitudes(o,a){const u=a.length,d=new Int32Array(u),i=this.field;for(let l=0;l<u;l++){const f=i.inverse(a[l]);let p=1;for(let y=0;y<u;y++)if(l!==y){const v=i.multiply(a[y],f),S=v&1?v&-2:v|1;p=i.multiply(p,S)}d[l]=i.multiply(o.evaluateAt(f),i.inverse(p)),i.getGeneratorBase()!==0&&(d[l]=i.multiply(d[l],f))}return d}}var Ut;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(Ut||(Ut={}));class Rt{decode(o){this.ddata=o;let a=o.getBits(),u=this.extractBits(a),d=this.correctBits(u),i=Rt.convertBoolArrayToByteArray(d),l=Rt.getEncodedData(d),f=new Se(i,l,null,null);return f.setNumBits(d.length),f}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let a=o.length,u=Ut.UPPER,d=Ut.UPPER,i="",l=0;for(;l<a;)if(d===Ut.BINARY){if(a-l<5)break;let f=Rt.readCode(o,l,5);if(l+=5,f===0){if(a-l<11)break;f=Rt.readCode(o,l,11)+31,l+=11}for(let p=0;p<f;p++){if(a-l<8){l=a;break}const y=Rt.readCode(o,l,8);i+=re.castAsNonUtf8Char(y),l+=8}d=u}else{let f=d===Ut.DIGIT?4:5;if(a-l<f)break;let p=Rt.readCode(o,l,f);l+=f;let y=Rt.getCharacter(d,p);y.startsWith("CTRL_")?(u=d,d=Rt.getTable(y.charAt(5)),y.charAt(6)==="L"&&(u=d)):(i+=y,d=u)}return i}static getTable(o){switch(o){case"L":return Ut.LOWER;case"P":return Ut.PUNCT;case"M":return Ut.MIXED;case"D":return Ut.DIGIT;case"B":return Ut.BINARY;case"U":default:return Ut.UPPER}}static getCharacter(o,a){switch(o){case Ut.UPPER:return Rt.UPPER_TABLE[a];case Ut.LOWER:return Rt.LOWER_TABLE[a];case Ut.MIXED:return Rt.MIXED_TABLE[a];case Ut.PUNCT:return Rt.PUNCT_TABLE[a];case Ut.DIGIT:return Rt.DIGIT_TABLE[a];default:throw new Ft("Bad table")}}correctBits(o){let a,u;this.ddata.getNbLayers()<=2?(u=6,a=$e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,a=$e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,a=$e.AZTEC_DATA_10):(u=12,a=$e.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),i=o.length/u;if(i<d)throw new z;let l=o.length%u,f=new Int32Array(i);for(let A=0;A<i;A++,l+=u)f[A]=Rt.readCode(o,l,u);try{new gn(a).decode(f,i-d)}catch(A){throw new z(A)}let p=(1<<u)-1,y=0;for(let A=0;A<d;A++){let O=f[A];if(O===0||O===p)throw new z;(O===1||O===p-1)&&y++}let v=new Array(d*u-y),S=0;for(let A=0;A<d;A++){let O=f[A];if(O===1||O===p-1)v.fill(O>1,S,S+u-1),S+=u-1;else for(let L=u-1;L>=0;--L)v[S++]=(O&1<<L)!==0}return v}extractBits(o){let a=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(a?11:14)+u*4,i=new Int32Array(d),l=new Array(this.totalBitsInLayer(u,a));if(a)for(let f=0;f<i.length;f++)i[f]=f;else{let f=d+1+2*D.truncDivision(D.truncDivision(d,2)-1,15),p=d/2,y=D.truncDivision(f,2);for(let v=0;v<p;v++){let S=v+D.truncDivision(v,15);i[p-v-1]=y-S-1,i[p+v]=y+S+1}}for(let f=0,p=0;f<u;f++){let y=(u-f)*4+(a?9:12),v=f*2,S=d-1-v;for(let A=0;A<y;A++){let O=A*2;for(let L=0;L<2;L++)l[p+O+L]=o.get(i[v+L],i[v+A]),l[p+2*y+O+L]=o.get(i[v+A],i[S-L]),l[p+4*y+O+L]=o.get(i[S-L],i[S-A]),l[p+6*y+O+L]=o.get(i[S-A],i[v+L])}p+=y*8}return l}static readCode(o,a,u){let d=0;for(let i=a;i<a+u;i++)d<<=1,o[i]&&(d|=1);return d}static readByte(o,a){let u=o.length-a;return u>=8?Rt.readCode(o,a,8):Rt.readCode(o,a,u)<<8-u}static convertBoolArrayToByteArray(o){let a=new Uint8Array((o.length+7)/8);for(let u=0;u<a.length;u++)a[u]=Rt.readByte(o,8*u);return a}totalBitsInLayer(o,a){return((a?88:112)+16*o)*o}}Rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Rt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ke{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,a,u,d){const i=o-u,l=a-d;return Math.sqrt(i*i+l*l)}static sum(o){let a=0;for(let u=0,d=o.length;u!==d;u++){const i=o[u];a+=i}return a}}class qn{static floatToIntBits(o){return o}}qn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Pe{constructor(o,a){this.x=o,this.y=a}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof Pe){const a=o;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*qn.floatToIntBits(this.x)+qn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const a=this.distance(o[0],o[1]),u=this.distance(o[1],o[2]),d=this.distance(o[0],o[2]);let i,l,f;if(u>=a&&u>=d?(l=o[0],i=o[1],f=o[2]):d>=u&&d>=a?(l=o[1],i=o[0],f=o[2]):(l=o[2],i=o[0],f=o[1]),this.crossProductZ(i,l,f)<0){const p=i;i=f,f=p}o[0]=i,o[1]=l,o[2]=f}static distance(o,a){return Ke.distance(o.x,o.y,a.x,a.y)}static crossProductZ(o,a,u){const d=a.x,i=a.y;return(u.x-d)*(o.y-i)-(u.y-i)*(o.x-d)}}class ii{constructor(o,a){this.bits=o,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Er extends ii{constructor(o,a,u,d,i){super(o,a),this.compact=u,this.nbDatablocks=d,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class pr{constructor(o,a,u,d){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),a==null&&(a=pr.INIT_SIZE),u==null&&(u=o.getWidth()/2|0),d==null&&(d=o.getHeight()/2|0);const i=a/2|0;if(this.leftInit=u-i,this.rightInit=u+i,this.upInit=d-i,this.downInit=d+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let o=this.leftInit,a=this.rightInit,u=this.upInit,d=this.downInit,i=!1,l=!0,f=!1,p=!1,y=!1,v=!1,S=!1;const A=this.width,O=this.height;for(;l;){l=!1;let L=!0;for(;(L||!p)&&a<A;)L=this.containsBlackPoint(u,d,a,!1),L?(a++,l=!0,p=!0):p||a++;if(a>=A){i=!0;break}let B=!0;for(;(B||!y)&&d<O;)B=this.containsBlackPoint(o,a,d,!0),B?(d++,l=!0,y=!0):y||d++;if(d>=O){i=!0;break}let j=!0;for(;(j||!v)&&o>=0;)j=this.containsBlackPoint(u,d,o,!1),j?(o--,l=!0,v=!0):v||o--;if(o<0){i=!0;break}let U=!0;for(;(U||!S)&&u>=0;)U=this.containsBlackPoint(o,a,u,!0),U?(u--,l=!0,S=!0):S||u--;if(u<0){i=!0;break}l&&(f=!0)}if(!i&&f){const L=a-o;let B=null;for(let H=1;B===null&&H<L;H++)B=this.getBlackPointOnSegment(o,d-H,o+H,d);if(B==null)throw new ee;let j=null;for(let H=1;j===null&&H<L;H++)j=this.getBlackPointOnSegment(o,u+H,o+H,u);if(j==null)throw new ee;let U=null;for(let H=1;U===null&&H<L;H++)U=this.getBlackPointOnSegment(a,u+H,a-H,u);if(U==null)throw new ee;let W=null;for(let H=1;W===null&&H<L;H++)W=this.getBlackPointOnSegment(a,d-H,a-H,d);if(W==null)throw new ee;return this.centerEdges(W,B,U,j)}else throw new ee}getBlackPointOnSegment(o,a,u,d){const i=Ke.round(Ke.distance(o,a,u,d)),l=(u-o)/i,f=(d-a)/i,p=this.image;for(let y=0;y<i;y++){const v=Ke.round(o+y*l),S=Ke.round(a+y*f);if(p.get(v,S))return new Pe(v,S)}return null}centerEdges(o,a,u,d){const i=o.getX(),l=o.getY(),f=a.getX(),p=a.getY(),y=u.getX(),v=u.getY(),S=d.getX(),A=d.getY(),O=pr.CORR;return i<this.width/2?[new Pe(S-O,A+O),new Pe(f+O,p+O),new Pe(y-O,v-O),new Pe(i+O,l-O)]:[new Pe(S+O,A+O),new Pe(f+O,p-O),new Pe(y-O,v+O),new Pe(i-O,l-O)]}containsBlackPoint(o,a,u,d){const i=this.image;if(d){for(let l=o;l<=a;l++)if(i.get(l,u))return!0}else for(let l=o;l<=a;l++)if(i.get(u,l))return!0;return!1}}pr.INIT_SIZE=10,pr.CORR=1;class Hr{static checkAndNudgePoints(o,a){const u=o.getWidth(),d=o.getHeight();let i=!0;for(let l=0;l<a.length&&i;l+=2){const f=Math.floor(a[l]),p=Math.floor(a[l+1]);if(f<-1||f>u||p<-1||p>d)throw new ee;i=!1,f===-1?(a[l]=0,i=!0):f===u&&(a[l]=u-1,i=!0),p===-1?(a[l+1]=0,i=!0):p===d&&(a[l+1]=d-1,i=!0)}i=!0;for(let l=a.length-2;l>=0&&i;l-=2){const f=Math.floor(a[l]),p=Math.floor(a[l+1]);if(f<-1||f>u||p<-1||p>d)throw new ee;i=!1,f===-1?(a[l]=0,i=!0):f===u&&(a[l]=u-1,i=!0),p===-1?(a[l+1]=0,i=!0):p===d&&(a[l+1]=d-1,i=!0)}}}class Kt{constructor(o,a,u,d,i,l,f,p,y){this.a11=o,this.a21=a,this.a31=u,this.a12=d,this.a22=i,this.a32=l,this.a13=f,this.a23=p,this.a33=y}static quadrilateralToQuadrilateral(o,a,u,d,i,l,f,p,y,v,S,A,O,L,B,j){const U=Kt.quadrilateralToSquare(o,a,u,d,i,l,f,p);return Kt.squareToQuadrilateral(y,v,S,A,O,L,B,j).times(U)}transformPoints(o){const a=o.length,u=this.a11,d=this.a12,i=this.a13,l=this.a21,f=this.a22,p=this.a23,y=this.a31,v=this.a32,S=this.a33;for(let A=0;A<a;A+=2){const O=o[A],L=o[A+1],B=i*O+p*L+S;o[A]=(u*O+l*L+y)/B,o[A+1]=(d*O+f*L+v)/B}}transformPointsWithValues(o,a){const u=this.a11,d=this.a12,i=this.a13,l=this.a21,f=this.a22,p=this.a23,y=this.a31,v=this.a32,S=this.a33,A=o.length;for(let O=0;O<A;O++){const L=o[O],B=a[O],j=i*L+p*B+S;o[O]=(u*L+l*B+y)/j,a[O]=(d*L+f*B+v)/j}}static squareToQuadrilateral(o,a,u,d,i,l,f,p){const y=o-u+i-f,v=a-d+l-p;if(y===0&&v===0)return new Kt(u-o,i-u,o,d-a,l-d,a,0,0,1);{const S=u-i,A=f-i,O=d-l,L=p-l,B=S*L-A*O,j=(y*L-A*v)/B,U=(S*v-y*O)/B;return new Kt(u-o+j*u,f-o+U*f,o,d-a+j*d,p-a+U*p,a,j,U,1)}}static quadrilateralToSquare(o,a,u,d,i,l,f,p){return Kt.squareToQuadrilateral(o,a,u,d,i,l,f,p).buildAdjoint()}buildAdjoint(){return new Kt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new Kt(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class kn extends Hr{sampleGrid(o,a,u,d,i,l,f,p,y,v,S,A,O,L,B,j,U,W,H){const V=Kt.quadrilateralToQuadrilateral(d,i,l,f,p,y,v,S,A,O,L,B,j,U,W,H);return this.sampleGridWithTransform(o,a,u,V)}sampleGridWithTransform(o,a,u,d){if(a<=0||u<=0)throw new ee;const i=new he(a,u),l=new Float32Array(2*a);for(let f=0;f<u;f++){const p=l.length,y=f+.5;for(let v=0;v<p;v+=2)l[v]=v/2+.5,l[v+1]=y;d.transformPoints(l),Hr.checkAndNudgePoints(o,l);try{for(let v=0;v<p;v+=2)o.get(Math.floor(l[v]),Math.floor(l[v+1]))&&i.set(v/2,f)}catch{throw new ee}}return i}}class Jn{static setGridSampler(o){Jn.gridSampler=o}static getInstance(){return Jn.gridSampler}}Jn.gridSampler=new kn;class Lt{constructor(o,a){this.x=o,this.y=a}toResultPoint(){return new Pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class si{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let a=this.getMatrixCenter(),u=this.getBullsEyeCorners(a);if(o){let l=u[0];u[0]=u[2],u[2]=l}this.extractParameters(u);let d=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),i=this.getMatrixCornerPoints(u);return new Er(d,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new ee;let a=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(o[0],o[1],a),this.sampleLine(o[1],o[2],a),this.sampleLine(o[2],o[3],a),this.sampleLine(o[3],o[0],a)]);this.shift=this.getRotation(u,a);let d=0;for(let l=0;l<4;l++){let f=u[(this.shift+l)%4];this.compact?(d<<=7,d+=f>>1&127):(d<<=10,d+=(f>>2&992)+(f>>1&31))}let i=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(o,a){let u=0;o.forEach((d,i,l)=>{let f=(d>>a-2<<1)+(d&1);u=(u<<3)+f}),u=((u&1)<<11)+(u>>1);for(let d=0;d<4;d++)if(D.bitCount(u^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new ee}getCorrectedParameterData(o,a){let u,d;a?(u=7,d=2):(u=10,d=4);let i=u-d,l=new Int32Array(u);for(let p=u-1;p>=0;--p)l[p]=o&15,o>>=4;try{new gn($e.AZTEC_PARAM).decode(l,i)}catch{throw new ee}let f=0;for(let p=0;p<d;p++)f=(f<<4)+l[p];return f}getBullsEyeCorners(o){let a=o,u=o,d=o,i=o,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(a,l,1,-1),A=this.getFirstDifferent(u,l,1,1),O=this.getFirstDifferent(d,l,-1,1),L=this.getFirstDifferent(i,l,-1,-1);if(this.nbCenterLayers>2){let B=this.distancePoint(L,S)*this.nbCenterLayers/(this.distancePoint(i,a)*(this.nbCenterLayers+2));if(B<.75||B>1.25||!this.isWhiteOrBlackRectangle(S,A,O,L))break}a=S,u=A,d=O,i=L,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let f=new Pe(a.getX()+.5,a.getY()-.5),p=new Pe(u.getX()+.5,u.getY()+.5),y=new Pe(d.getX()-.5,d.getY()+.5),v=new Pe(i.getX()-.5,i.getY()-.5);return this.expandSquare([f,p,y,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,a,u,d;try{let f=new pr(this.image).detect();o=f[0],a=f[1],u=f[2],d=f[3]}catch{let p=this.image.getWidth()/2,y=this.image.getHeight()/2;o=this.getFirstDifferent(new Lt(p+7,y-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Lt(p+7,y+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Lt(p-7,y+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Lt(p-7,y-7),!1,-1,-1).toResultPoint()}let i=Ke.round((o.getX()+d.getX()+a.getX()+u.getX())/4),l=Ke.round((o.getY()+d.getY()+a.getY()+u.getY())/4);try{let f=new pr(this.image,15,i,l).detect();o=f[0],a=f[1],u=f[2],d=f[3]}catch{o=this.getFirstDifferent(new Lt(i+7,l-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Lt(i+7,l+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Lt(i-7,l+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Lt(i-7,l-7),!1,-1,-1).toResultPoint()}return i=Ke.round((o.getX()+d.getX()+a.getX()+u.getX())/4),l=Ke.round((o.getY()+d.getY()+a.getY()+u.getY())/4),new Lt(i,l)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,a,u,d,i){let l=Jn.getInstance(),f=this.getDimension(),p=f/2-this.nbCenterLayers,y=f/2+this.nbCenterLayers;return l.sampleGrid(o,f,f,p,p,y,p,y,y,p,y,a.getX(),a.getY(),u.getX(),u.getY(),d.getX(),d.getY(),i.getX(),i.getY())}sampleLine(o,a,u){let d=0,i=this.distanceResultPoint(o,a),l=i/u,f=o.getX(),p=o.getY(),y=l*(a.getX()-o.getX())/i,v=l*(a.getY()-o.getY())/i;for(let S=0;S<u;S++)this.image.get(Ke.round(f+S*y),Ke.round(p+S*v))&&(d|=1<<u-S-1);return d}isWhiteOrBlackRectangle(o,a,u,d){let i=3;o=new Lt(o.getX()-i,o.getY()+i),a=new Lt(a.getX()-i,a.getY()-i),u=new Lt(u.getX()+i,u.getY()-i),d=new Lt(d.getX()+i,d.getY()+i);let l=this.getColor(d,o);if(l===0)return!1;let f=this.getColor(o,a);return f!==l||(f=this.getColor(a,u),f!==l)?!1:(f=this.getColor(u,d),f===l)}getColor(o,a){let u=this.distancePoint(o,a),d=(a.getX()-o.getX())/u,i=(a.getY()-o.getY())/u,l=0,f=o.getX(),p=o.getY(),y=this.image.get(o.getX(),o.getY()),v=Math.ceil(u);for(let A=0;A<v;A++)f+=d,p+=i,this.image.get(Ke.round(f),Ke.round(p))!==y&&l++;let S=l/u;return S>.1&&S<.9?0:S<=.1===y?1:-1}getFirstDifferent(o,a,u,d){let i=o.getX()+u,l=o.getY()+d;for(;this.isValid(i,l)&&this.image.get(i,l)===a;)i+=u,l+=d;for(i-=u,l-=d;this.isValid(i,l)&&this.image.get(i,l)===a;)i+=u;for(i-=u;this.isValid(i,l)&&this.image.get(i,l)===a;)l+=d;return l-=d,new Lt(i,l)}expandSquare(o,a,u){let d=u/(2*a),i=o[0].getX()-o[2].getX(),l=o[0].getY()-o[2].getY(),f=(o[0].getX()+o[2].getX())/2,p=(o[0].getY()+o[2].getY())/2,y=new Pe(f+d*i,p+d*l),v=new Pe(f-d*i,p-d*l);i=o[1].getX()-o[3].getX(),l=o[1].getY()-o[3].getY(),f=(o[1].getX()+o[3].getX())/2,p=(o[1].getY()+o[3].getY())/2;let S=new Pe(f+d*i,p+d*l),A=new Pe(f-d*i,p-d*l);return[y,S,v,A]}isValid(o,a){return o>=0&&o<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(o){let a=Ke.round(o.getX()),u=Ke.round(o.getY());return this.isValid(a,u)}distancePoint(o,a){return Ke.distance(o.getX(),o.getY(),a.getX(),a.getY())}distanceResultPoint(o,a){return Ke.distance(o.getX(),o.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(D.truncDivision(this.nbLayers-4,8)+1)+15}}class ho{decode(o,a=null){let u=null,d=new si(o.getBlackMatrix()),i=null,l=null;try{let v=d.detectMirror(!1);i=v.getPoints(),this.reportFoundResultPoints(a,i),l=new Rt().decode(v)}catch(v){u=v}if(l==null)try{let v=d.detectMirror(!0);i=v.getPoints(),this.reportFoundResultPoints(a,i),l=new Rt().decode(v)}catch(v){throw u??v}let f=new _e(l.getText(),l.getRawBytes(),l.getNumBits(),i,me.AZTEC,T.currentTimeMillis()),p=l.getByteSegments();p!=null&&f.putMetadata(Le.BYTE_SEGMENTS,p);let y=l.getECLevel();return y!=null&&f.putMetadata(Le.ERROR_CORRECTION_LEVEL,y),f}reportFoundResultPoints(o,a){if(o!=null){let u=o.get(G.NEED_RESULT_POINT_CALLBACK);u!=null&&a.forEach((d,i,l)=>{u.foundPossibleResultPoint(d)})}}reset(){}}class Vr extends ge{constructor(o=500){super(new ho,o)}}class jt{decode(o,a){try{return this.doDecode(o,a)}catch{if(a&&a.get(G.TRY_HARDER)===!0&&o.isRotateSupported()){const i=o.rotateCounterClockwise(),l=this.doDecode(i,a),f=l.getResultMetadata();let p=270;f!==null&&f.get(Le.ORIENTATION)===!0&&(p=p+f.get(Le.ORIENTATION)%360),l.putMetadata(Le.ORIENTATION,p);const y=l.getResultPoints();if(y!==null){const v=i.getHeight();for(let S=0;S<y.length;S++)y[S]=new Pe(v-y[S].getY()-1,y[S].getX())}return l}else throw new ee}}reset(){}doDecode(o,a){const u=o.getWidth(),d=o.getHeight();let i=new F(u);const l=a&&a.get(G.TRY_HARDER)===!0,f=Math.max(1,d>>(l?8:5));let p;l?p=d:p=15;const y=Math.trunc(d/2);for(let v=0;v<p;v++){const S=Math.trunc((v+1)/2),A=(v&1)===0,O=y+f*(A?S:-S);if(O<0||O>=d)break;try{i=o.getBlackRow(O,i)}catch{continue}for(let L=0;L<2;L++){if(L===1&&(i.reverse(),a&&a.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const B=new Map;a.forEach((j,U)=>B.set(U,j)),B.delete(G.NEED_RESULT_POINT_CALLBACK),a=B}try{const B=this.decodeRow(O,i,a);if(L===1){B.putMetadata(Le.ORIENTATION,180);const j=B.getResultPoints();j!==null&&(j[0]=new Pe(u-j[0].getX()-1,j[0].getY()),j[1]=new Pe(u-j[1].getX()-1,j[1].getY()))}return B}catch{}}}throw new ee}static recordPattern(o,a,u){const d=u.length;for(let y=0;y<d;y++)u[y]=0;const i=o.getSize();if(a>=i)throw new ee;let l=!o.get(a),f=0,p=a;for(;p<i;){if(o.get(p)!==l)u[f]++;else{if(++f===d)break;u[f]=1,l=!l}p++}if(!(f===d||f===d-1&&p===i))throw new ee}static recordPatternInReverse(o,a,u){let d=u.length,i=o.get(a);for(;a>0&&d>=0;)o.get(--a)!==i&&(d--,i=!i);if(d>=0)throw new ee;jt.recordPattern(o,a+1,u)}static patternMatchVariance(o,a,u){const d=o.length;let i=0,l=0;for(let y=0;y<d;y++)i+=o[y],l+=a[y];if(i<l)return Number.POSITIVE_INFINITY;const f=i/l;u*=f;let p=0;for(let y=0;y<d;y++){const v=o[y],S=a[y]*f,A=v>S?v-S:S-v;if(A>u)return Number.POSITIVE_INFINITY;p+=A}return p/i}}class Ie extends jt{static findStartPattern(o){const a=o.getSize(),u=o.getNextSet(0);let d=0,i=Int32Array.from([0,0,0,0,0,0]),l=u,f=!1;const p=6;for(let y=u;y<a;y++)if(o.get(y)!==f)i[d]++;else{if(d===p-1){let v=Ie.MAX_AVG_VARIANCE,S=-1;for(let A=Ie.CODE_START_A;A<=Ie.CODE_START_C;A++){const O=jt.patternMatchVariance(i,Ie.CODE_PATTERNS[A],Ie.MAX_INDIVIDUAL_VARIANCE);O<v&&(v=O,S=A)}if(S>=0&&o.isRange(Math.max(0,l-(y-l)/2),l,!1))return Int32Array.from([l,y,S]);l+=i[0]+i[1],i=i.slice(2,i.length-1),i[d-1]=0,i[d]=0,d--}else d++;i[d]=1,f=!f}throw new ee}static decodeCode(o,a,u){jt.recordPattern(o,u,a);let d=Ie.MAX_AVG_VARIANCE,i=-1;for(let l=0;l<Ie.CODE_PATTERNS.length;l++){const f=Ie.CODE_PATTERNS[l],p=this.patternMatchVariance(a,f,Ie.MAX_INDIVIDUAL_VARIANCE);p<d&&(d=p,i=l)}if(i>=0)return i;throw new ee}decodeRow(o,a,u){const d=u&&u.get(G.ASSUME_GS1)===!0,i=Ie.findStartPattern(a),l=i[2];let f=0;const p=new Uint8Array(20);p[f++]=l;let y;switch(l){case Ie.CODE_START_A:y=Ie.CODE_CODE_A;break;case Ie.CODE_START_B:y=Ie.CODE_CODE_B;break;case Ie.CODE_START_C:y=Ie.CODE_CODE_C;break;default:throw new z}let v=!1,S=!1,A="",O=i[0],L=i[1];const B=Int32Array.from([0,0,0,0,0,0]);let j=0,U=0,W=l,H=0,V=!0,K=!1,te=!1;for(;!v;){const Oe=S;switch(S=!1,j=U,U=Ie.decodeCode(a,B,L),p[f++]=U,U!==Ie.CODE_STOP&&(V=!0),U!==Ie.CODE_STOP&&(H++,W+=H*U),O=L,L+=B.reduce((Me,Be)=>Me+Be,0),U){case Ie.CODE_START_A:case Ie.CODE_START_B:case Ie.CODE_START_C:throw new z}switch(y){case Ie.CODE_CODE_A:if(U<64)te===K?A+=String.fromCharCode(32+U):A+=String.fromCharCode(32+U+128),te=!1;else if(U<96)te===K?A+=String.fromCharCode(U-64):A+=String.fromCharCode(U+64),te=!1;else switch(U!==Ie.CODE_STOP&&(V=!1),U){case Ie.CODE_FNC_1:d&&(A.length===0?A+="]C1":A+="");break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_A:!K&&te?(K=!0,te=!1):K&&te?(K=!1,te=!1):te=!0;break;case Ie.CODE_SHIFT:S=!0,y=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_B:y=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_C:y=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:v=!0;break}break;case Ie.CODE_CODE_B:if(U<96)te===K?A+=String.fromCharCode(32+U):A+=String.fromCharCode(32+U+128),te=!1;else switch(U!==Ie.CODE_STOP&&(V=!1),U){case Ie.CODE_FNC_1:d&&(A.length===0?A+="]C1":A+="");break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_B:!K&&te?(K=!0,te=!1):K&&te?(K=!1,te=!1):te=!0;break;case Ie.CODE_SHIFT:S=!0,y=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_A:y=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_C:y=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:v=!0;break}break;case Ie.CODE_CODE_C:if(U<100)U<10&&(A+="0"),A+=U;else switch(U!==Ie.CODE_STOP&&(V=!1),U){case Ie.CODE_FNC_1:d&&(A.length===0?A+="]C1":A+="");break;case Ie.CODE_CODE_A:y=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_B:y=Ie.CODE_CODE_B;break;case Ie.CODE_STOP:v=!0;break}break}Oe&&(y=y===Ie.CODE_CODE_A?Ie.CODE_CODE_B:Ie.CODE_CODE_A)}const se=L-O;if(L=a.getNextUnset(L),!a.isRange(L,Math.min(a.getSize(),L+(L-O)/2),!1))throw new ee;if(W-=H*j,W%103!==j)throw new _;const ae=A.length;if(ae===0)throw new ee;ae>0&&V&&(y===Ie.CODE_CODE_C?A=A.substring(0,ae-2):A=A.substring(0,ae-1));const de=(i[1]+i[0])/2,pe=O+se/2,Re=p.length,Ce=new Uint8Array(Re);for(let Oe=0;Oe<Re;Oe++)Ce[Oe]=p[Oe];const Ae=[new Pe(de,o),new Pe(pe,o)];return new _e(A,Ce,0,Ae,me.CODE_128,new Date().getTime())}}Ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ie.MAX_AVG_VARIANCE=.25,Ie.MAX_INDIVIDUAL_VARIANCE=.7,Ie.CODE_SHIFT=98,Ie.CODE_CODE_C=99,Ie.CODE_CODE_B=100,Ie.CODE_CODE_A=101,Ie.CODE_FNC_1=102,Ie.CODE_FNC_2=97,Ie.CODE_FNC_3=96,Ie.CODE_FNC_4_A=101,Ie.CODE_FNC_4_B=100,Ie.CODE_START_A=103,Ie.CODE_START_B=104,Ie.CODE_START_C=105,Ie.CODE_STOP=106;class Et extends jt{constructor(o=!1,a=!1){super(),this.usingCheckDigit=o,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,a,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let i=Et.findAsteriskPattern(a,d),l=a.getNextSet(i[1]),f=a.getSize(),p,y;do{Et.recordPattern(a,l,d);let B=Et.toNarrowWidePattern(d);if(B<0)throw new ee;p=Et.patternToChar(B),this.decodeRowResult+=p,y=l;for(let j of d)l+=j;l=a.getNextSet(l)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let B of d)v+=B;let S=l-y-v;if(l!==f&&S*2<v)throw new ee;if(this.usingCheckDigit){let B=this.decodeRowResult.length-1,j=0;for(let U=0;U<B;U++)j+=Et.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(U));if(this.decodeRowResult.charAt(B)!==Et.ALPHABET_STRING.charAt(j%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,B)}if(this.decodeRowResult.length===0)throw new ee;let A;this.extendedMode?A=Et.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let O=(i[1]+i[0])/2,L=y+v/2;return new _e(A,null,0,[new Pe(O,o),new Pe(L,o)],me.CODE_39,new Date().getTime())}static findAsteriskPattern(o,a){let u=o.getSize(),d=o.getNextSet(0),i=0,l=d,f=!1,p=a.length;for(let y=d;y<u;y++)if(o.get(y)!==f)a[i]++;else{if(i===p-1){if(this.toNarrowWidePattern(a)===Et.ASTERISK_ENCODING&&o.isRange(Math.max(0,l-Math.floor((y-l)/2)),l,!1))return[l,y];l+=a[0]+a[1],a.copyWithin(0,2,2+i-1),a[i-1]=0,a[i]=0,i--}else i++;a[i]=1,f=!f}throw new ee}static toNarrowWidePattern(o){let a=o.length,u=0,d;do{let i=2147483647;for(let p of o)p<i&&p>u&&(i=p);u=i,d=0;let l=0,f=0;for(let p=0;p<a;p++){let y=o[p];y>u&&(f|=1<<a-1-p,d++,l+=y)}if(d===3){for(let p=0;p<a&&d>0;p++){let y=o[p];if(y>u&&(d--,y*2>=l))return-1}return f}}while(d>3);return-1}static patternToChar(o){for(let a=0;a<Et.CHARACTER_ENCODINGS.length;a++)if(Et.CHARACTER_ENCODINGS[a]===o)return Et.ALPHABET_STRING.charAt(a);if(o===Et.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(o){let a=o.length,u="";for(let d=0;d<a;d++){let i=o.charAt(d);if(i==="+"||i==="$"||i==="%"||i==="/"){let l=o.charAt(d+1),f="\0";switch(i){case"+":if(l>="A"&&l<="Z")f=String.fromCharCode(l.charCodeAt(0)+32);else throw new z;break;case"$":if(l>="A"&&l<="Z")f=String.fromCharCode(l.charCodeAt(0)-64);else throw new z;break;case"%":if(l>="A"&&l<="E")f=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")f=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")f=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")f=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")f="\0";else if(l==="V")f="@";else if(l==="W")f="`";else if(l==="X"||l==="Y"||l==="Z")f="";else throw new z;break;case"/":if(l>="A"&&l<="O")f=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")f=":";else throw new z;break}u+=f,d++}else u+=i}return u}}Et.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Et.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Et.ASTERISK_ENCODING=148;class Ee extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,a,u){let d=this.decodeStart(a),i=this.decodeEnd(a),l=new we;Ee.decodeMiddle(a,d[1],i[0],l);let f=l.toString(),p=null;u!=null&&(p=u.get(G.ALLOWED_LENGTHS)),p==null&&(p=Ee.DEFAULT_ALLOWED_LENGTHS);let y=f.length,v=!1,S=0;for(let L of p){if(y===L){v=!0;break}L>S&&(S=L)}if(!v&&y>S&&(v=!0),!v)throw new z;const A=[new Pe(d[1],o),new Pe(i[0],o)];return new _e(f,null,0,A,me.ITF,new Date().getTime())}static decodeMiddle(o,a,u,d){let i=new Int32Array(10),l=new Int32Array(5),f=new Int32Array(5);for(i.fill(0),l.fill(0),f.fill(0);a<u;){jt.recordPattern(o,a,i);for(let y=0;y<5;y++){let v=2*y;l[y]=i[v],f[y]=i[v+1]}let p=Ee.decodeDigit(l);d.append(p.toString()),p=this.decodeDigit(f),d.append(p.toString()),i.forEach(function(y){a+=y})}}decodeStart(o){let a=Ee.skipWhiteSpace(o),u=Ee.findGuardPattern(o,a,Ee.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(o,u[0]),u}validateQuietZone(o,a){let u=this.narrowLineWidth*10;u=u<a?u:a;for(let d=a-1;u>0&&d>=0&&!o.get(d);d--)u--;if(u!==0)throw new ee}static skipWhiteSpace(o){const a=o.getSize(),u=o.getNextSet(0);if(u===a)throw new ee;return u}decodeEnd(o){o.reverse();try{let a=Ee.skipWhiteSpace(o),u;try{u=Ee.findGuardPattern(o,a,Ee.END_PATTERN_REVERSED[0])}catch(i){i instanceof ee&&(u=Ee.findGuardPattern(o,a,Ee.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,u[0]);let d=u[0];return u[0]=o.getSize()-u[1],u[1]=o.getSize()-d,u}finally{o.reverse()}}static findGuardPattern(o,a,u){let d=u.length,i=new Int32Array(d),l=o.getSize(),f=!1,p=0,y=a;i.fill(0);for(let v=a;v<l;v++)if(o.get(v)!==f)i[p]++;else{if(p===d-1){if(jt.patternMatchVariance(i,u,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE)return[y,v];y+=i[0]+i[1],T.arraycopy(i,2,i,0,p-1),i[p-1]=0,i[p]=0,p--}else p++;i[p]=1,f=!f}throw new ee}static decodeDigit(o){let a=Ee.MAX_AVG_VARIANCE,u=-1,d=Ee.PATTERNS.length;for(let i=0;i<d;i++){let l=Ee.PATTERNS[i],f=jt.patternMatchVariance(o,l,Ee.MAX_INDIVIDUAL_VARIANCE);f<a?(a=f,u=i):f===a&&(u=-1)}if(u>=0)return u%10;throw new ee}}Ee.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ee.MAX_AVG_VARIANCE=.38,Ee.MAX_INDIVIDUAL_VARIANCE=.5,Ee.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ee.START_PATTERN=Int32Array.from([1,1,1,1]),Ee.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ot extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let a=!1,u,d=0,i=Int32Array.from([0,0,0]);for(;!a;){i=Int32Array.from([0,0,0]),u=Ot.findGuardPattern(o,d,!1,this.START_END_PATTERN,i);let l=u[0];d=u[1];let f=l-(d-l);f>=0&&(a=o.isRange(f,l,!1))}return u}static checkChecksum(o){return Ot.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let a=o.length;if(a===0)return!1;let u=parseInt(o.charAt(a-1),10);return Ot.getStandardUPCEANChecksum(o.substring(0,a-1))===u}static getStandardUPCEANChecksum(o){let a=o.length,u=0;for(let d=a-1;d>=0;d-=2){let i=o.charAt(d).charCodeAt(0)-48;if(i<0||i>9)throw new z;u+=i}u*=3;for(let d=a-2;d>=0;d-=2){let i=o.charAt(d).charCodeAt(0)-48;if(i<0||i>9)throw new z;u+=i}return(1e3-u)%10}static decodeEnd(o,a){return Ot.findGuardPattern(o,a,!1,Ot.START_END_PATTERN,new Int32Array(Ot.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,a,u,d){return this.findGuardPattern(o,a,u,d,new Int32Array(d.length))}static findGuardPattern(o,a,u,d,i){let l=o.getSize();a=u?o.getNextUnset(a):o.getNextSet(a);let f=0,p=a,y=d.length,v=u;for(let S=a;S<l;S++)if(o.get(S)!==v)i[f]++;else{if(f===y-1){if(jt.patternMatchVariance(i,d,Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE)return Int32Array.from([p,S]);p+=i[0]+i[1];let A=i.slice(2,i.length-1);for(let O=0;O<f-1;O++)i[O]=A[O];i[f-1]=0,i[f]=0,f--}else f++;i[f]=1,v=!v}throw new ee}static decodeDigit(o,a,u,d){this.recordPattern(o,u,a);let i=this.MAX_AVG_VARIANCE,l=-1,f=d.length;for(let p=0;p<f;p++){let y=d[p],v=jt.patternMatchVariance(a,y,Ot.MAX_INDIVIDUAL_VARIANCE);v<i&&(i=v,l=p)}if(l>=0)return l;throw new ee}}Ot.MAX_AVG_VARIANCE=.48,Ot.MAX_INDIVIDUAL_VARIANCE=.7,Ot.START_END_PATTERN=Int32Array.from([1,1,1]),Ot.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ot.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ot.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ve{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,a,u){let d=this.decodeRowStringBuffer,i=this.decodeMiddle(a,u,d),l=d.toString(),f=Ve.parseExtensionString(l),p=[new Pe((u[0]+u[1])/2,o),new Pe(i,o)],y=new _e(l,null,0,p,me.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&y.putAllMetadata(f),y}decodeMiddle(o,a,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let i=o.getSize(),l=a[1],f=0;for(let y=0;y<5&&l<i;y++){let v=Ot.decodeDigit(o,d,l,Ot.L_AND_G_PATTERNS);u+=String.fromCharCode(48+v%10);for(let S of d)l+=S;v>=10&&(f|=1<<4-y),y!==4&&(l=o.getNextSet(l),l=o.getNextUnset(l))}if(u.length!==5)throw new ee;let p=this.determineCheckDigit(f);if(Ve.extensionChecksum(u.toString())!==p)throw new ee;return l}static extensionChecksum(o){let a=o.length,u=0;for(let d=a-2;d>=0;d-=2)u+=o.charAt(d).charCodeAt(0)-48;u*=3;for(let d=a-1;d>=0;d-=2)u+=o.charAt(d).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(o){for(let a=0;a<10;a++)if(o===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new ee}static parseExtensionString(o){if(o.length!==5)return null;let a=Ve.parseExtension5String(o);return a==null?null:new Map([[Le.SUGGESTED_PRICE,a]])}static parseExtension5String(o){let a;switch(o.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let u=parseInt(o.substring(1)),d=(u/100).toString(),i=u%100,l=i<10?"0"+i:i.toString();return a+d+"."+l}}class xt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,a,u){let d=this.decodeRowStringBuffer,i=this.decodeMiddle(a,u,d),l=d.toString(),f=xt.parseExtensionString(l),p=[new Pe((u[0]+u[1])/2,o),new Pe(i,o)],y=new _e(l,null,0,p,me.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&y.putAllMetadata(f),y}decodeMiddle(o,a,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let i=o.getSize(),l=a[1],f=0;for(let p=0;p<2&&l<i;p++){let y=Ot.decodeDigit(o,d,l,Ot.L_AND_G_PATTERNS);u+=String.fromCharCode(48+y%10);for(let v of d)l+=v;y>=10&&(f|=1<<1-p),p!==1&&(l=o.getNextSet(l),l=o.getNextUnset(l))}if(u.length!==2)throw new ee;if(parseInt(u.toString())%4!==f)throw new ee;return l}static parseExtensionString(o){return o.length!==2?null:new Map([[Le.ISSUE_NUMBER,parseInt(o)]])}}class be{static decodeRow(o,a,u){let d=Ot.findGuardPattern(a,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ve().decodeRow(o,a,d)}catch{return new xt().decodeRow(o,a,d)}}}be.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class tt extends Ot{constructor(){super(),this.decodeRowStringBuffer="",tt.L_AND_G_PATTERNS=tt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let a=tt.L_PATTERNS[o-10],u=new Int32Array(a.length);for(let d=0;d<a.length;d++)u[d]=a[a.length-d-1];tt.L_AND_G_PATTERNS[o]=u}}decodeRow(o,a,u){let d=tt.findStartGuardPattern(a),i=u==null?null:u.get(G.NEED_RESULT_POINT_CALLBACK);if(i!=null){const V=new Pe((d[0]+d[1])/2,o);i.foundPossibleResultPoint(V)}let l=this.decodeMiddle(a,d,this.decodeRowStringBuffer),f=l.rowOffset,p=l.resultString;if(i!=null){const V=new Pe(f,o);i.foundPossibleResultPoint(V)}let y=this.decodeEnd(a,f);if(i!=null){const V=new Pe((y[0]+y[1])/2,o);i.foundPossibleResultPoint(V)}let v=y[1],S=v+(v-y[0]);if(S>=a.getSize()||!a.isRange(v,S,!1))throw new ee;let A=p.toString();if(A.length<8)throw new z;if(!tt.checkChecksum(A))throw new _;let O=(d[1]+d[0])/2,L=(y[1]+y[0])/2,B=this.getBarcodeFormat(),j=[new Pe(O,o),new Pe(L,o)],U=new _e(A,null,0,j,B,new Date().getTime()),W=0;try{let V=be.decodeRow(o,a,y[1]);U.putMetadata(Le.UPC_EAN_EXTENSION,V.getText()),U.putAllMetadata(V.getResultMetadata()),U.addResultPoints(V.getResultPoints()),W=V.getText().length}catch{}let H=u==null?null:u.get(G.ALLOWED_EAN_EXTENSIONS);if(H!=null){let V=!1;for(let K in H)if(W.toString()===K){V=!0;break}if(!V)throw new ee}return U}decodeEnd(o,a){return tt.findGuardPattern(o,a,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return tt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let a=o.length;if(a===0)return!1;let u=parseInt(o.charAt(a-1),10);return tt.getStandardUPCEANChecksum(o.substring(0,a-1))===u}static getStandardUPCEANChecksum(o){let a=o.length,u=0;for(let d=a-1;d>=0;d-=2){let i=o.charAt(d).charCodeAt(0)-48;if(i<0||i>9)throw new z;u+=i}u*=3;for(let d=a-2;d>=0;d-=2){let i=o.charAt(d).charCodeAt(0)-48;if(i<0||i>9)throw new z;u+=i}return(1e3-u)%10}}class dn extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,a,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let i=o.getSize(),l=a[1],f=0;for(let y=0;y<6&&l<i;y++){let v=tt.decodeDigit(o,d,l,tt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+v%10);for(let S of d)l+=S;v>=10&&(f|=1<<5-y)}u=dn.determineFirstDigit(u,f),l=tt.findGuardPattern(o,l,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&l<i;y++){let v=tt.decodeDigit(o,d,l,tt.L_PATTERNS);u+=String.fromCharCode(48+v);for(let S of d)l+=S}return{rowOffset:l,resultString:u}}getBarcodeFormat(){return me.EAN_13}static determineFirstDigit(o,a){for(let u=0;u<10;u++)if(a===this.FIRST_DIGIT_ENCODINGS[u])return o=String.fromCharCode(48+u)+o,o;throw new ee}}dn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class po extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,a,u){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let i=o.getSize(),l=a[1];for(let p=0;p<4&&l<i;p++){let y=tt.decodeDigit(o,d,l,tt.L_PATTERNS);u+=String.fromCharCode(48+y);for(let v of d)l+=v}l=tt.findGuardPattern(o,l,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&l<i;p++){let y=tt.decodeDigit(o,d,l,tt.L_PATTERNS);u+=String.fromCharCode(48+y);for(let v of d)l+=v}return{rowOffset:l,resultString:u}}getBarcodeFormat(){return me.EAN_8}}class _s extends tt{constructor(){super(...arguments),this.ean13Reader=new dn}getBarcodeFormat(){return me.UPC_A}decode(o,a){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,a,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,a,u))}decodeMiddle(o,a,u){return this.ean13Reader.decodeMiddle(o,a,u)}maybeReturnResult(o){let a=o.getText();if(a.charAt(0)==="0"){let u=new _e(a.substring(1),null,null,o.getResultPoints(),me.UPC_A);return o.getResultMetadata()!=null&&u.putAllMetadata(o.getResultMetadata()),u}else throw new ee}reset(){this.ean13Reader.reset()}}class er extends tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,a,u){const d=this.decodeMiddleCounters.map(y=>y);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const i=o.getSize();let l=a[1],f=0;for(let y=0;y<6&&l<i;y++){const v=er.decodeDigit(o,d,l,er.L_AND_G_PATTERNS);u+=String.fromCharCode(48+v%10);for(let S of d)l+=S;v>=10&&(f|=1<<5-y)}let p=er.determineNumSysAndCheckDigit(u,f);return{rowOffset:l,resultString:p}}decodeEnd(o,a){return er.findGuardPatternWithoutCounters(o,a,!0,er.MIDDLE_END_PATTERN)}checkChecksum(o){return tt.checkChecksum(er.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,a){for(let u=0;u<=1;u++)for(let d=0;d<10;d++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][d]){let i=String.fromCharCode(48+u),l=String.fromCharCode(48+d);return i+o+l}throw ee.getNotFoundInstance()}getBarcodeFormat(){return me.UPC_E}static convertUPCEtoUPCA(o){const a=o.slice(1,7).split("").map(i=>i.charCodeAt(0)),u=new we;u.append(o.charAt(0));let d=a[5];switch(d){case 0:case 1:case 2:u.appendChars(a,0,2),u.append(d),u.append("0000"),u.appendChars(a,2,3);break;case 3:u.appendChars(a,0,3),u.append("00000"),u.appendChars(a,3,2);break;case 4:u.appendChars(a,0,4),u.append("00000"),u.append(a[4]);break;default:u.appendChars(a,0,5),u.append("0000"),u.append(d);break}return o.length>=8&&u.append(o.charAt(7)),u.toString()}}er.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),er.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Wl extends jt{constructor(o){super();let a=o==null?null:o.get(G.POSSIBLE_FORMATS),u=[];r(a)?(u.push(new dn),u.push(new _s),u.push(new po),u.push(new er)):(a.indexOf(me.EAN_13)>-1&&u.push(new dn),a.indexOf(me.UPC_A)>-1&&u.push(new _s),a.indexOf(me.EAN_8)>-1&&u.push(new po),a.indexOf(me.UPC_E)>-1&&u.push(new er)),this.readers=u}decodeRow(o,a,u){for(let d of this.readers)try{const i=d.decodeRow(o,a,u),l=i.getBarcodeFormat()===me.EAN_13&&i.getText().charAt(0)==="0",f=u==null?null:u.get(G.POSSIBLE_FORMATS),p=f==null||f.includes(me.UPC_A);if(l&&p){const y=i.getRawBytes(),v=new _e(i.getText().substring(1),y,y?y.length:null,i.getResultPoints(),me.UPC_A);return v.putAllMetadata(i.getResultMetadata()),v}return i}catch{}throw new ee}reset(){for(let o of this.readers)o.reset()}}class Tn extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,a){for(let u=0;u<a.length;u++)if(jt.patternMatchVariance(o,a[u],Tn.MAX_INDIVIDUAL_VARIANCE)<Tn.MAX_AVG_VARIANCE)return u;throw new ee}static count(o){return Ke.sum(new Int32Array(o))}static increment(o,a){let u=0,d=a[0];for(let i=1;i<o.length;i++)a[i]>d&&(d=a[i],u=i);o[u]++}static decrement(o,a){let u=0,d=a[0];for(let i=1;i<o.length;i++)a[i]<d&&(d=a[i],u=i);o[u]--}static isFinderPattern(o){let a=o[0]+o[1],u=a+o[2]+o[3],d=a/u;if(d>=Tn.MIN_FINDER_PATTERN_RATIO&&d<=Tn.MAX_FINDER_PATTERN_RATIO){let i=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let f of o)f>l&&(l=f),f<i&&(i=f);return l<10*i}return!1}}Tn.MAX_AVG_VARIANCE=.2,Tn.MAX_INDIVIDUAL_VARIANCE=.45,Tn.MIN_FINDER_PATTERN_RATIO=9.5/12,Tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ar{constructor(o,a){this.value=o,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Ar))return!1;const a=o;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class mo{constructor(o,a,u,d,i){this.value=o,this.startEnd=a,this.value=o,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Pe(u,i)),this.resultPoints.push(new Pe(d,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof mo))return!1;const a=o;return this.value===a.value}hashCode(){return this.value}}class mr{constructor(){}static getRSSvalue(o,a,u){let d=0;for(let p of o)d+=p;let i=0,l=0,f=o.length;for(let p=0;p<f-1;p++){let y;for(y=1,l|=1<<p;y<o[p];y++,l&=~(1<<p)){let v=mr.combins(d-y-1,f-p-2);if(u&&l===0&&d-y-(f-p-1)>=f-p-1&&(v-=mr.combins(d-y-(f-p),f-p-2)),f-p-1>1){let S=0;for(let A=d-y-(f-p-2);A>a;A--)S+=mr.combins(d-y-A-1,f-p-3);v-=S*(f-1-p)}else d-y>a&&v--;i+=v}d-=y}return i}static combins(o,a){let u,d;o-a>a?(d=a,u=o-a):(d=o-a,u=a);let i=1,l=1;for(let f=o;f>u;f--)i*=f,l<=d&&(i/=l,l++);for(;l<=d;)i/=l,l++;return i}}class ba{static buildBitArray(o){let a=o.length*2-1;o[o.length-1].getRightChar()==null&&(a-=1);let u=12*a,d=new F(u),i=0,f=o[0].getRightChar().getValue();for(let p=11;p>=0;--p)f&1<<p&&d.set(i),i++;for(let p=1;p<o.length;++p){let y=o[p],v=y.getLeftChar().getValue();for(let S=11;S>=0;--S)v&1<<S&&d.set(i),i++;if(y.getRightChar()!=null){let S=y.getRightChar().getValue();for(let A=11;A>=0;--A)S&1<<A&&d.set(i),i++}}return d}}class At{constructor(o,a){a?this.decodedInformation=null:(this.finished=o,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class rn{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class zn extends rn{constructor(o,a){super(o),this.value=a}getValue(){return this.value}isFNC1(){return this.value===zn.FNC1}}zn.FNC1="$";class Qr extends rn{constructor(o,a,u){super(o),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Pn extends rn{constructor(o,a,u){if(super(o),a<0||a>10||u<0||u>10)throw new z;this.firstDigit=a,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Pn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Pn.FNC1}isAnyFNC1(){return this.firstDigit===Pn.FNC1||this.secondDigit===Pn.FNC1}}Pn.FNC1=10;class je{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new ee;let a=o.substring(0,2);for(let i of je.TWO_DIGIT_DATA_LENGTH)if(i[0]===a)return i[1]===je.VARIABLE_LENGTH?je.processVariableAI(2,i[2],o):je.processFixedAI(2,i[1],o);if(o.length<3)throw new ee;let u=o.substring(0,3);for(let i of je.THREE_DIGIT_DATA_LENGTH)if(i[0]===u)return i[1]===je.VARIABLE_LENGTH?je.processVariableAI(3,i[2],o):je.processFixedAI(3,i[1],o);for(let i of je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===u)return i[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,i[2],o):je.processFixedAI(4,i[1],o);if(o.length<4)throw new ee;let d=o.substring(0,4);for(let i of je.FOUR_DIGIT_DATA_LENGTH)if(i[0]===d)return i[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,i[2],o):je.processFixedAI(4,i[1],o);throw new ee}static processFixedAI(o,a,u){if(u.length<o)throw new ee;let d=u.substring(0,o);if(u.length<o+a)throw new ee;let i=u.substring(o,o+a),l=u.substring(o+a),f="("+d+")"+i,p=je.parseFieldsInGeneralPurpose(l);return p==null?f:f+p}static processVariableAI(o,a,u){let d=u.substring(0,o),i;u.length<o+a?i=u.length:i=o+a;let l=u.substring(o,i),f=u.substring(i),p="("+d+")"+l,y=je.parseFieldsInGeneralPurpose(f);return y==null?p:p+y}}je.VARIABLE_LENGTH=[],je.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",je.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",je.VARIABLE_LENGTH,20],["22",je.VARIABLE_LENGTH,29],["30",je.VARIABLE_LENGTH,8],["37",je.VARIABLE_LENGTH,8],["90",je.VARIABLE_LENGTH,30],["91",je.VARIABLE_LENGTH,30],["92",je.VARIABLE_LENGTH,30],["93",je.VARIABLE_LENGTH,30],["94",je.VARIABLE_LENGTH,30],["95",je.VARIABLE_LENGTH,30],["96",je.VARIABLE_LENGTH,30],["97",je.VARIABLE_LENGTH,3],["98",je.VARIABLE_LENGTH,30],["99",je.VARIABLE_LENGTH,30]],je.THREE_DIGIT_DATA_LENGTH=[["240",je.VARIABLE_LENGTH,30],["241",je.VARIABLE_LENGTH,30],["242",je.VARIABLE_LENGTH,6],["250",je.VARIABLE_LENGTH,30],["251",je.VARIABLE_LENGTH,30],["253",je.VARIABLE_LENGTH,17],["254",je.VARIABLE_LENGTH,20],["400",je.VARIABLE_LENGTH,30],["401",je.VARIABLE_LENGTH,30],["402",17],["403",je.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",je.VARIABLE_LENGTH,20],["421",je.VARIABLE_LENGTH,15],["422",3],["423",je.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",je.VARIABLE_LENGTH,15],["391",je.VARIABLE_LENGTH,18],["392",je.VARIABLE_LENGTH,15],["393",je.VARIABLE_LENGTH,18],["703",je.VARIABLE_LENGTH,30]],je.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",je.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",je.VARIABLE_LENGTH,20],["8003",je.VARIABLE_LENGTH,30],["8004",je.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",je.VARIABLE_LENGTH,30],["8008",je.VARIABLE_LENGTH,12],["8018",18],["8020",je.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",je.VARIABLE_LENGTH,70],["8200",je.VARIABLE_LENGTH,70]];class ki{constructor(o){this.buffer=new we,this.information=o}decodeAllCodes(o,a){let u=a,d=null;do{let i=this.decodeGeneralPurposeField(u,d),l=je.parseFieldsInGeneralPurpose(i.getNewString());if(l!=null&&o.append(l),i.isRemaining()?d=""+i.getRemainingValue():d=null,u===i.getNewPosition())break;u=i.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let a=o;a<o+3;++a)if(this.information.get(a))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let i=this.extractNumericValueFromBitArray(o,4);return i===0?new Pn(this.information.getSize(),Pn.FNC1,Pn.FNC1):new Pn(this.information.getSize(),i-1,Pn.FNC1)}let a=this.extractNumericValueFromBitArray(o,7),u=(a-8)/11,d=(a-8)%11;return new Pn(o+7,u,d)}extractNumericValueFromBitArray(o,a){return ki.extractNumericValueFromBitArray(this.information,o,a)}static extractNumericValueFromBitArray(o,a,u){let d=0;for(let i=0;i<u;++i)o.get(a+i)&&(d|=1<<u-i-1);return d}decodeGeneralPurposeField(o,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(o);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Qr(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,a;do{let u=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),o=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),o=a.isFinished()):(a=this.parseNumericBlock(),o=a.isFinished()),!(u!==this.current.getPosition())&&!o)break}while(!o);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let a;return o.isSecondDigitFNC1()?a=new Qr(this.current.getPosition(),this.buffer.toString()):a=new Qr(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new At(!0,a)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new At(!0,a)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new At(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new At(!0,a)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new At(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new At(!0,a)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new At(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,5);if(a>=5&&a<16)return!0;if(o+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,7);if(u>=64&&u<116)return!0;if(o+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,8);return d>=232&&d<253}decodeIsoIec646(o){let a=this.extractNumericValueFromBitArray(o,5);if(a===15)return new zn(o+5,zn.FNC1);if(a>=5&&a<15)return new zn(o+5,"0"+(a-5));let u=this.extractNumericValueFromBitArray(o,7);if(u>=64&&u<90)return new zn(o+7,""+(u+1));if(u>=90&&u<116)return new zn(o+7,""+(u+7));let d=this.extractNumericValueFromBitArray(o,8),i;switch(d){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new z}return new zn(o+8,i)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,5);if(a>=5&&a<16)return!0;if(o+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,6);return u>=16&&u<63}decodeAlphanumeric(o){let a=this.extractNumericValueFromBitArray(o,5);if(a===15)return new zn(o+5,zn.FNC1);if(a>=5&&a<15)return new zn(o+5,"0"+(a-5));let u=this.extractNumericValueFromBitArray(o,6);if(u>=32&&u<58)return new zn(o+6,""+(u+33));let d;switch(u){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new Ft("Decoding invalid alphanumeric value: "+u)}return new zn(o+6,d)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let a=0;a<5&&a+o<this.information.getSize();++a)if(a===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+a))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let a=o;a<o+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let a=0;a<4&&a+o<this.information.getSize();++a)if(this.information.get(o+a))return!1;return!0}}class Gr{constructor(o){this.information=o,this.generalDecoder=new ki(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class fn extends Gr{constructor(o){super(o)}encodeCompressedGtin(o,a){o.append("(01)");let u=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,a,u)}encodeCompressedGtinWithoutAI(o,a,u){for(let d=0;d<4;++d){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*d,10);i/100===0&&o.append("0"),i/10===0&&o.append("0"),o.append(i)}fn.appendCheckDigit(o,u)}static appendCheckDigit(o,a){let u=0;for(let d=0;d<13;d++){let i=o.charAt(d+a).charCodeAt(0)-48;u+=d&1?i:3*i}u=10-u%10,u===10&&(u=0),o.append(u)}}fn.GTIN_SIZE=40;class tr extends fn{constructor(o){super(o)}parseInformation(){let o=new we;o.append("(01)");let a=o.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE,4);return o.append(u),this.encodeCompressedGtinWithoutAI(o,tr.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(o,tr.HEADER_SIZE+44)}}tr.HEADER_SIZE=4;class ai extends Gr{constructor(o){super(o)}parseInformation(){let o=new we;return this.getGeneralDecoder().decodeAllCodes(o,ai.HEADER_SIZE)}}ai.HEADER_SIZE=5;class Sa extends fn{constructor(o){super(o)}encodeCompressedWeight(o,a,u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a,u);this.addWeightCode(o,d);let i=this.checkWeight(d),l=1e5;for(let f=0;f<5;++f)i/l===0&&o.append("0"),l/=10;o.append(i)}}class Cn extends Sa{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=Cn.HEADER_SIZE+Sa.GTIN_SIZE+Cn.WEIGHT_SIZE)throw new ee;let o=new we;return this.encodeCompressedGtin(o,Cn.HEADER_SIZE),this.encodeCompressedWeight(o,Cn.HEADER_SIZE+Sa.GTIN_SIZE,Cn.WEIGHT_SIZE),o.toString()}}Cn.HEADER_SIZE=5,Cn.WEIGHT_SIZE=15;class Nu extends Cn{constructor(o){super(o)}addWeightCode(o,a){o.append("(3103)")}checkWeight(o){return o}}class li extends Cn{constructor(o){super(o)}addWeightCode(o,a){a<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Tr extends fn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Tr.HEADER_SIZE+fn.GTIN_SIZE)throw new ee;let o=new we;this.encodeCompressedGtin(o,Tr.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+fn.GTIN_SIZE,Tr.LAST_DIGIT_SIZE);o.append("(392"),o.append(a),o.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(Tr.HEADER_SIZE+fn.GTIN_SIZE+Tr.LAST_DIGIT_SIZE,null);return o.append(u.getNewString()),o.toString()}}Tr.HEADER_SIZE=8,Tr.LAST_DIGIT_SIZE=2;class bn extends fn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<bn.HEADER_SIZE+fn.GTIN_SIZE)throw new ee;let o=new we;this.encodeCompressedGtin(o,bn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE+fn.GTIN_SIZE,bn.LAST_DIGIT_SIZE);o.append("(393"),o.append(a),o.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(bn.HEADER_SIZE+fn.GTIN_SIZE+bn.LAST_DIGIT_SIZE,bn.FIRST_THREE_DIGITS_SIZE);u/100==0&&o.append("0"),u/10==0&&o.append("0"),o.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(bn.HEADER_SIZE+fn.GTIN_SIZE+bn.LAST_DIGIT_SIZE+bn.FIRST_THREE_DIGITS_SIZE,null);return o.append(d.getNewString()),o.toString()}}bn.HEADER_SIZE=8,bn.LAST_DIGIT_SIZE=2,bn.FIRST_THREE_DIGITS_SIZE=10;class nt extends Sa{constructor(o,a,u){super(o),this.dateCode=u,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=nt.HEADER_SIZE+nt.GTIN_SIZE+nt.WEIGHT_SIZE+nt.DATE_SIZE)throw new ee;let o=new we;return this.encodeCompressedGtin(o,nt.HEADER_SIZE),this.encodeCompressedWeight(o,nt.HEADER_SIZE+nt.GTIN_SIZE,nt.WEIGHT_SIZE),this.encodeCompressedDate(o,nt.HEADER_SIZE+nt.GTIN_SIZE+nt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,a){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,nt.DATE_SIZE);if(u==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let d=u%32;u/=32;let i=u%12+1;u/=12;let l=u;l/10==0&&o.append("0"),o.append(l),i/10==0&&o.append("0"),o.append(i),d/10==0&&o.append("0"),o.append(d)}addWeightCode(o,a){o.append("("),o.append(this.firstAIdigits),o.append(a/1e5),o.append(")")}checkWeight(o){return o%1e5}}nt.HEADER_SIZE=8,nt.WEIGHT_SIZE=20,nt.DATE_SIZE=16;function Po(k){try{if(k.get(1))return new tr(k);if(!k.get(2))return new ai(k);switch(ki.extractNumericValueFromBitArray(k,1,4)){case 4:return new Nu(k);case 5:return new li(k)}switch(ki.extractNumericValueFromBitArray(k,1,5)){case 12:return new Tr(k);case 13:return new bn(k)}switch(ki.extractNumericValueFromBitArray(k,1,7)){case 56:return new nt(k,"310","11");case 57:return new nt(k,"320","11");case 58:return new nt(k,"310","13");case 59:return new nt(k,"320","13");case 60:return new nt(k,"310","15");case 61:return new nt(k,"320","15");case 62:return new nt(k,"310","17");case 63:return new nt(k,"320","17")}}catch(o){throw console.log(o),new Ft("unknown decoder: "+k)}}class _n{constructor(o,a,u,d){this.leftchar=o,this.rightchar=a,this.finderpattern=u,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,a){return o instanceof _n?_n.equalsOrNull(o.leftchar,a.leftchar)&&_n.equalsOrNull(o.rightchar,a.rightchar)&&_n.equalsOrNull(o.finderpattern,a.finderpattern):!1}static equalsOrNull(o,a){return o===null?a===null:_n.equals(o,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ra{constructor(o,a,u){this.pairs=o,this.rowNumber=a,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,a){return o instanceof Ra?this.checkEqualitity(o,a)&&o.wasReversed===a.wasReversed:!1}checkEqualitity(o,a){if(!o||!a)return;let u;return o.forEach((d,i)=>{a.forEach(l=>{d.getLeftChar().getValue()===l.getLeftChar().getValue()&&d.getRightChar().getValue()===l.getRightChar().getValue()&&d.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(u=!0)})}),u}}class ye extends Tn{constructor(o){super(...arguments),this.pairs=new Array(ye.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,a,u){this.pairs.length=0,this.startFromEven=!1;try{return ye.constructResult(this.decodeRow2pairs(o,a))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,ye.constructResult(this.decodeRow2pairs(o,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,a){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,o))}catch(i){if(i instanceof ee){if(!this.pairs.length)throw new ee;u=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(o,!1),d){let i=this.checkRowsBoolean(!1);if(i!=null||(i=this.checkRowsBoolean(!0),i!=null))return i}throw new ee}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return o&&(this.rows=this.rows.reverse()),a}checkRows(o,a){for(let u=a;u<this.rows.length;u++){let d=this.rows[u];this.pairs.length=0;for(let l of o)this.pairs.push(l.getPairs());if(this.pairs.push(d.getPairs()),!ye.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(o);i.push(d);try{return this.checkRows(i,u+1)}catch(l){this.verbose&&console.log(l)}}throw new ee}static isValidSequence(o){for(let a of ye.FINDER_PATTERN_SEQUENCES){if(o.length>a.length)continue;let u=!0;for(let d=0;d<o.length;d++)if(o[d].getFinderPattern().getValue()!=a[d]){u=!1;break}if(u)return!0}return!1}storeRow(o,a){let u=0,d=!1,i=!1;for(;u<this.rows.length;){let l=this.rows[u];if(l.getRowNumber()>o){i=l.isEquivalent(this.pairs);break}d=l.isEquivalent(this.pairs),u++}i||d||ye.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Ra(this.pairs,o,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,a){for(let u of a)if(u.getPairs().length!==o.length){for(let d of u.getPairs())for(let i of o)if(_n.equals(d,i))break}}static isPartialRow(o,a){for(let u of a){let d=!0;for(let i of o){let l=!1;for(let f of u.getPairs())if(i.equals(f)){l=!0;break}if(!l){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(o){let a=ba.buildBitArray(o),d=Po(a).parseInformation(),i=o[0].getFinderPattern().getResultPoints(),l=o[o.length-1].getFinderPattern().getResultPoints(),f=[i[0],i[1],l[0],l[1]];return new _e(d,null,null,f,me.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),a=o.getLeftChar(),u=o.getRightChar();if(u==null)return!1;let d=u.getChecksumPortion(),i=2;for(let f=1;f<this.pairs.size();++f){let p=this.pairs.get(f);d+=p.getLeftChar().getChecksumPortion(),i++;let y=p.getRightChar();y!=null&&(d+=y.getChecksumPortion(),i++)}return d%=211,211*(i-4)+d==a.getValue()}static getNextSecondBar(o,a){let u;return o.get(a)?(u=o.getNextUnset(a),u=o.getNextSet(u)):(u=o.getNextSet(a),u=o.getNextUnset(u)),u}retrieveNextPair(o,a,u){let d=a.length%2==0;this.startFromEven&&(d=!d);let i,l=!0,f=-1;do this.findNextPair(o,a,f),i=this.parseFoundFinderPattern(o,u,d),i==null?f=ye.getNextSecondBar(o,this.startEnd[0]):l=!1;while(l);let p=this.decodeDataCharacter(o,i,d,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new ee;let y;try{y=this.decodeDataCharacter(o,i,d,!1)}catch(v){y=null,this.verbose&&console.log(v)}return new _n(p,y,i,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,a,u){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let i=o.getSize(),l;u>=0?l=u:this.isEmptyPair(a)?l=0:l=a[a.length-1].getFinderPattern().getStartEnd()[1];let f=a.length%2!=0;this.startFromEven&&(f=!f);let p=!1;for(;l<i&&(p=!o.get(l),!!p);)l++;let y=0,v=l;for(let S=l;S<i;S++)if(o.get(S)!=p)d[y]++;else{if(y==3){if(f&&ye.reverseCounters(d),ye.isFinderPattern(d)){this.startEnd[0]=v,this.startEnd[1]=S;return}f&&ye.reverseCounters(d),v+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,y--}else y++;d[y]=1,p=!p}throw new ee}static reverseCounters(o){let a=o.length;for(let u=0;u<a/2;++u){let d=o[u];o[u]=o[a-u-1],o[a-u-1]=d}}parseFoundFinderPattern(o,a,u){let d,i,l;if(u){let y=this.startEnd[0]-1;for(;y>=0&&!o.get(y);)y--;y++,d=this.startEnd[0]-y,i=y,l=this.startEnd[1]}else i=this.startEnd[0],l=o.getNextUnset(this.startEnd[1]+1),d=l-this.startEnd[1];let f=this.getDecodeFinderCounters();T.arraycopy(f,0,f,1,f.length-1),f[0]=d;let p;try{p=this.parseFinderValue(f,ye.FINDER_PATTERNS)}catch{return null}return new mo(p,[i,l],i,l,a)}decodeDataCharacter(o,a,u,d){let i=this.getDataCharacterCounters();for(let pe=0;pe<i.length;pe++)i[pe]=0;if(d)ye.recordPatternInReverse(o,a.getStartEnd()[0],i);else{ye.recordPattern(o,a.getStartEnd()[1],i);for(let pe=0,Re=i.length-1;pe<Re;pe++,Re--){let Ce=i[pe];i[pe]=i[Re],i[Re]=Ce}}let l=17,f=Ke.sum(new Int32Array(i))/l,p=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new ee;let y=this.getOddCounts(),v=this.getEvenCounts(),S=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let pe=0;pe<i.length;pe++){let Re=1*i[pe]/f,Ce=Re+.5;if(Ce<1){if(Re<.3)throw new ee;Ce=1}else if(Ce>8){if(Re>8.7)throw new ee;Ce=8}let Ae=pe/2;pe&1?(v[Ae]=Ce,A[Ae]=Re-Ce):(y[Ae]=Ce,S[Ae]=Re-Ce)}this.adjustOddEvenCounts(l);let O=4*a.getValue()+(u?0:2)+(d?0:1)-1,L=0,B=0;for(let pe=y.length-1;pe>=0;pe--){if(ye.isNotA1left(a,u,d)){let Re=ye.WEIGHTS[O][2*pe];B+=y[pe]*Re}L+=y[pe]}let j=0;for(let pe=v.length-1;pe>=0;pe--)if(ye.isNotA1left(a,u,d)){let Re=ye.WEIGHTS[O][2*pe+1];j+=v[pe]*Re}let U=B+j;if(L&1||L>13||L<4)throw new ee;let W=(13-L)/2,H=ye.SYMBOL_WIDEST[W],V=9-H,K=mr.getRSSvalue(y,H,!0),te=mr.getRSSvalue(v,V,!1),se=ye.EVEN_TOTAL_SUBSET[W],ae=ye.GSUM[W],de=K*se+te+ae;return new Ar(de,U)}static isNotA1left(o,a,u){return!(o.getValue()==0&&a&&u)}adjustOddEvenCounts(o){let a=Ke.sum(new Int32Array(this.getOddCounts())),u=Ke.sum(new Int32Array(this.getEvenCounts())),d=!1,i=!1;a>13?i=!0:a<4&&(d=!0);let l=!1,f=!1;u>13?f=!0:u<4&&(l=!0);let p=a+u-o,y=(a&1)==1,v=(u&1)==0;if(p==1)if(y){if(v)throw new ee;i=!0}else{if(!v)throw new ee;f=!0}else if(p==-1)if(y){if(v)throw new ee;d=!0}else{if(!v)throw new ee;l=!0}else if(p==0){if(y){if(!v)throw new ee;a<u?(d=!0,f=!0):(i=!0,l=!0)}else if(v)throw new ee}else throw new ee;if(d){if(i)throw new ee;ye.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&ye.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(f)throw new ee;ye.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&ye.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ye.SYMBOL_WIDEST=[7,5,4,3,1],ye.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ye.GSUM=[0,348,1388,2948,3988],ye.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ye.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ye.FINDER_PAT_A=0,ye.FINDER_PAT_B=1,ye.FINDER_PAT_C=2,ye.FINDER_PAT_D=3,ye.FINDER_PAT_E=4,ye.FINDER_PAT_F=5,ye.FINDER_PATTERN_SEQUENCES=[[ye.FINDER_PAT_A,ye.FINDER_PAT_A],[ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B],[ye.FINDER_PAT_A,ye.FINDER_PAT_C,ye.FINDER_PAT_B,ye.FINDER_PAT_D],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_C],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_D,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_D],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_E],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F]],ye.MAX_PAIRS=11;class Ea extends Ar{constructor(o,a,u){super(o,a),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Yt extends Tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,a,u){const d=this.decodePair(a,!1,o,u);Yt.addOrTally(this.possibleLeftPairs,d),a.reverse();let i=this.decodePair(a,!0,o,u);Yt.addOrTally(this.possibleRightPairs,i),a.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Yt.checkChecksum(l,f))return Yt.constructResult(l,f)}throw new ee}static addOrTally(o,a){if(a==null)return;let u=!1;for(let d of o)if(d.getValue()===a.getValue()){d.incrementCount(),u=!0;break}u||o.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,a){let u=4537077*o.getValue()+a.getValue(),d=new String(u).toString(),i=new we;for(let y=13-d.length;y>0;y--)i.append("0");i.append(d);let l=0;for(let y=0;y<13;y++){let v=i.charAt(y).charCodeAt(0)-48;l+=y&1?v:3*v}l=10-l%10,l===10&&(l=0),i.append(l.toString());let f=o.getFinderPattern().getResultPoints(),p=a.getFinderPattern().getResultPoints();return new _e(i.toString(),null,0,[f[0],f[1],p[0],p[1]],me.RSS_14,new Date().getTime())}static checkChecksum(o,a){let u=(o.getChecksumPortion()+16*a.getChecksumPortion())%79,d=9*o.getFinderPattern().getValue()+a.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,u===d}decodePair(o,a,u,d){try{let i=this.findFinderPattern(o,a),l=this.parseFoundFinderPattern(o,u,a,i),f=d==null?null:d.get(G.NEED_RESULT_POINT_CALLBACK);if(f!=null){let v=(i[0]+i[1])/2;a&&(v=o.getSize()-1-v),f.foundPossibleResultPoint(new Pe(v,u))}let p=this.decodeDataCharacter(o,l,!0),y=this.decodeDataCharacter(o,l,!1);return new Ea(1597*p.getValue()+y.getValue(),p.getChecksumPortion()+4*y.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(o,a,u){let d=this.getDataCharacterCounters();for(let j=0;j<d.length;j++)d[j]=0;if(u)jt.recordPatternInReverse(o,a.getStartEnd()[0],d);else{jt.recordPattern(o,a.getStartEnd()[1]+1,d);for(let j=0,U=d.length-1;j<U;j++,U--){let W=d[j];d[j]=d[U],d[U]=W}}let i=u?16:15,l=Ke.sum(new Int32Array(d))/i,f=this.getOddCounts(),p=this.getEvenCounts(),y=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let j=0;j<d.length;j++){let U=d[j]/l,W=Math.floor(U+.5);W<1?W=1:W>8&&(W=8);let H=Math.floor(j/2);j&1?(p[H]=W,v[H]=U-W):(f[H]=W,y[H]=U-W)}this.adjustOddEvenCounts(u,i);let S=0,A=0;for(let j=f.length-1;j>=0;j--)A*=9,A+=f[j],S+=f[j];let O=0,L=0;for(let j=p.length-1;j>=0;j--)O*=9,O+=p[j],L+=p[j];let B=A+3*O;if(u){if(S&1||S>12||S<4)throw new ee;let j=(12-S)/2,U=Yt.OUTSIDE_ODD_WIDEST[j],W=9-U,H=mr.getRSSvalue(f,U,!1),V=mr.getRSSvalue(p,W,!0),K=Yt.OUTSIDE_EVEN_TOTAL_SUBSET[j],te=Yt.OUTSIDE_GSUM[j];return new Ar(H*K+V+te,B)}else{if(L&1||L>10||L<4)throw new ee;let j=(10-L)/2,U=Yt.INSIDE_ODD_WIDEST[j],W=9-U,H=mr.getRSSvalue(f,U,!0),V=mr.getRSSvalue(p,W,!1),K=Yt.INSIDE_ODD_TOTAL_SUBSET[j],te=Yt.INSIDE_GSUM[j];return new Ar(V*K+H+te,B)}}findFinderPattern(o,a){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),i=!1,l=0;for(;l<d&&(i=!o.get(l),a!==i);)l++;let f=0,p=l;for(let y=l;y<d;y++)if(o.get(y)!==i)u[f]++;else{if(f===3){if(Tn.isFinderPattern(u))return[p,y];p+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,f--}else f++;u[f]=1,i=!i}throw new ee}parseFoundFinderPattern(o,a,u,d){let i=o.get(d[0]),l=d[0]-1;for(;l>=0&&i!==o.get(l);)l--;l++;const f=d[0]-l,p=this.getDecodeFinderCounters(),y=new Int32Array(p.length);T.arraycopy(p,0,y,1,p.length-1),y[0]=f;const v=this.parseFinderValue(y,Yt.FINDER_PATTERNS);let S=l,A=d[1];return u&&(S=o.getSize()-1-S,A=o.getSize()-1-A),new mo(v,[l,d[1]],S,A,a)}adjustOddEvenCounts(o,a){let u=Ke.sum(new Int32Array(this.getOddCounts())),d=Ke.sum(new Int32Array(this.getEvenCounts())),i=!1,l=!1,f=!1,p=!1;o?(u>12?l=!0:u<4&&(i=!0),d>12?p=!0:d<4&&(f=!0)):(u>11?l=!0:u<5&&(i=!0),d>10?p=!0:d<4&&(f=!0));let y=u+d-a,v=(u&1)===(o?1:0),S=(d&1)===1;if(y===1)if(v){if(S)throw new ee;l=!0}else{if(!S)throw new ee;p=!0}else if(y===-1)if(v){if(S)throw new ee;i=!0}else{if(!S)throw new ee;f=!0}else if(y===0){if(v){if(!S)throw new ee;u<d?(i=!0,p=!0):(l=!0,f=!0)}else if(S)throw new ee}else throw new ee;if(i){if(l)throw new ee;Tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new ee;Tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&Tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Yt.OUTSIDE_GSUM=[0,161,961,2015,2715],Yt.INSIDE_GSUM=[0,336,1036,1516],Yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Yt.INSIDE_ODD_WIDEST=[2,4,6,8],Yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Lo extends jt{constructor(o,a){super(),this.readers=[],this.verbose=a===!0;const u=o?o.get(G.POSSIBLE_FORMATS):null,d=o&&o.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(me.EAN_13)||u.includes(me.UPC_A)||u.includes(me.EAN_8)||u.includes(me.UPC_E))&&this.readers.push(new Wl(o)),u.includes(me.CODE_39)&&this.readers.push(new Et(d)),u.includes(me.CODE_128)&&this.readers.push(new Ie),u.includes(me.ITF)&&this.readers.push(new Ee),u.includes(me.RSS_14)&&this.readers.push(new Yt),u.includes(me.RSS_EXPANDED)&&this.readers.push(new ye(this.verbose))):(this.readers.push(new Wl(o)),this.readers.push(new Et),this.readers.push(new Wl(o)),this.readers.push(new Ie),this.readers.push(new Ee),this.readers.push(new Yt),this.readers.push(new ye(this.verbose)))}decodeRow(o,a,u){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(o,a,u)}catch{}throw new ee}reset(){this.readers.forEach(o=>o.reset())}}class ci extends ge{constructor(o=500,a){super(new Lo(a),o,a)}}class bt{constructor(o,a,u){this.ecCodewords=o,this.ecBlocks=[a],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class yt{constructor(o,a){this.count=o,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dt{constructor(o,a,u,d,i,l){this.versionNumber=o,this.symbolSizeRows=a,this.symbolSizeColumns=u,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=i,this.ecBlocks=l;let f=0;const p=l.getECCodewords(),y=l.getECBlocks();for(let v of y)f+=v.getCount()*(v.getDataCodewords()+p);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,a){if(o&1||a&1)throw new z;for(let u of dt.VERSIONS)if(u.symbolSizeRows===o&&u.symbolSizeColumns===a)return u;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new dt(1,10,10,8,8,new bt(5,new yt(1,3))),new dt(2,12,12,10,10,new bt(7,new yt(1,5))),new dt(3,14,14,12,12,new bt(10,new yt(1,8))),new dt(4,16,16,14,14,new bt(12,new yt(1,12))),new dt(5,18,18,16,16,new bt(14,new yt(1,18))),new dt(6,20,20,18,18,new bt(18,new yt(1,22))),new dt(7,22,22,20,20,new bt(20,new yt(1,30))),new dt(8,24,24,22,22,new bt(24,new yt(1,36))),new dt(9,26,26,24,24,new bt(28,new yt(1,44))),new dt(10,32,32,14,14,new bt(36,new yt(1,62))),new dt(11,36,36,16,16,new bt(42,new yt(1,86))),new dt(12,40,40,18,18,new bt(48,new yt(1,114))),new dt(13,44,44,20,20,new bt(56,new yt(1,144))),new dt(14,48,48,22,22,new bt(68,new yt(1,174))),new dt(15,52,52,24,24,new bt(42,new yt(2,102))),new dt(16,64,64,14,14,new bt(56,new yt(2,140))),new dt(17,72,72,16,16,new bt(36,new yt(4,92))),new dt(18,80,80,18,18,new bt(48,new yt(4,114))),new dt(19,88,88,20,20,new bt(56,new yt(4,144))),new dt(20,96,96,22,22,new bt(68,new yt(4,174))),new dt(21,104,104,24,24,new bt(56,new yt(6,136))),new dt(22,120,120,18,18,new bt(68,new yt(6,175))),new dt(23,132,132,20,20,new bt(62,new yt(8,163))),new dt(24,144,144,22,22,new bt(62,new yt(8,156),new yt(2,155))),new dt(25,8,18,6,16,new bt(7,new yt(1,5))),new dt(26,8,32,6,14,new bt(11,new yt(1,10))),new dt(27,12,26,10,24,new bt(14,new yt(1,16))),new dt(28,12,36,10,16,new bt(18,new yt(1,22))),new dt(29,16,36,14,16,new bt(24,new yt(1,32))),new dt(30,16,48,14,22,new bt(28,new yt(1,49)))]}}dt.VERSIONS=dt.buildVersions();class ct{constructor(o){const a=o.getHeight();if(a<8||a>144||a&1)throw new z;this.version=ct.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new he(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const a=o.getHeight(),u=o.getWidth();return dt.getVersionForDimensions(a,u)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let a=0,u=4,d=0;const i=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let f=!1,p=!1,y=!1,v=!1;do if(u===i&&d===0&&!f)o[a++]=this.readCorner1(i,l)&255,u-=2,d+=2,f=!0;else if(u===i-2&&d===0&&l&3&&!p)o[a++]=this.readCorner2(i,l)&255,u-=2,d+=2,p=!0;else if(u===i+4&&d===2&&!(l&7)&&!y)o[a++]=this.readCorner3(i,l)&255,u-=2,d+=2,y=!0;else if(u===i-2&&d===0&&(l&7)===4&&!v)o[a++]=this.readCorner4(i,l)&255,u-=2,d+=2,v=!0;else{do u<i&&d>=0&&!this.readMappingMatrix.get(d,u)&&(o[a++]=this.readUtah(u,d,i,l)&255),u-=2,d+=2;while(u>=0&&d<l);u+=1,d+=3;do u>=0&&d<l&&!this.readMappingMatrix.get(d,u)&&(o[a++]=this.readUtah(u,d,i,l)&255),u+=2,d-=2;while(u<i&&d>=0);u+=3,d+=1}while(u<i||d<l);if(a!==this.version.getTotalCodewords())throw new z;return o}readModule(o,a,u,d){return o<0&&(o+=u,a+=4-(u+4&7)),a<0&&(a+=d,o+=4-(d+4&7)),this.readMappingMatrix.set(a,o),this.mappingBitMatrix.get(a,o)}readUtah(o,a,u,d){let i=0;return this.readModule(o-2,a-2,u,d)&&(i|=1),i<<=1,this.readModule(o-2,a-1,u,d)&&(i|=1),i<<=1,this.readModule(o-1,a-2,u,d)&&(i|=1),i<<=1,this.readModule(o-1,a-1,u,d)&&(i|=1),i<<=1,this.readModule(o-1,a,u,d)&&(i|=1),i<<=1,this.readModule(o,a-2,u,d)&&(i|=1),i<<=1,this.readModule(o,a-1,u,d)&&(i|=1),i<<=1,this.readModule(o,a,u,d)&&(i|=1),i}readCorner1(o,a){let u=0;return this.readModule(o-1,0,o,a)&&(u|=1),u<<=1,this.readModule(o-1,1,o,a)&&(u|=1),u<<=1,this.readModule(o-1,2,o,a)&&(u|=1),u<<=1,this.readModule(0,a-2,o,a)&&(u|=1),u<<=1,this.readModule(0,a-1,o,a)&&(u|=1),u<<=1,this.readModule(1,a-1,o,a)&&(u|=1),u<<=1,this.readModule(2,a-1,o,a)&&(u|=1),u<<=1,this.readModule(3,a-1,o,a)&&(u|=1),u}readCorner2(o,a){let u=0;return this.readModule(o-3,0,o,a)&&(u|=1),u<<=1,this.readModule(o-2,0,o,a)&&(u|=1),u<<=1,this.readModule(o-1,0,o,a)&&(u|=1),u<<=1,this.readModule(0,a-4,o,a)&&(u|=1),u<<=1,this.readModule(0,a-3,o,a)&&(u|=1),u<<=1,this.readModule(0,a-2,o,a)&&(u|=1),u<<=1,this.readModule(0,a-1,o,a)&&(u|=1),u<<=1,this.readModule(1,a-1,o,a)&&(u|=1),u}readCorner3(o,a){let u=0;return this.readModule(o-1,0,o,a)&&(u|=1),u<<=1,this.readModule(o-1,a-1,o,a)&&(u|=1),u<<=1,this.readModule(0,a-3,o,a)&&(u|=1),u<<=1,this.readModule(0,a-2,o,a)&&(u|=1),u<<=1,this.readModule(0,a-1,o,a)&&(u|=1),u<<=1,this.readModule(1,a-3,o,a)&&(u|=1),u<<=1,this.readModule(1,a-2,o,a)&&(u|=1),u<<=1,this.readModule(1,a-1,o,a)&&(u|=1),u}readCorner4(o,a){let u=0;return this.readModule(o-3,0,o,a)&&(u|=1),u<<=1,this.readModule(o-2,0,o,a)&&(u|=1),u<<=1,this.readModule(o-1,0,o,a)&&(u|=1),u<<=1,this.readModule(0,a-2,o,a)&&(u|=1),u<<=1,this.readModule(0,a-1,o,a)&&(u|=1),u<<=1,this.readModule(1,a-1,o,a)&&(u|=1),u<<=1,this.readModule(2,a-1,o,a)&&(u|=1),u<<=1,this.readModule(3,a-1,o,a)&&(u|=1),u}extractDataRegion(o){const a=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(o.getHeight()!==a)throw new C("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),l=a/d|0,f=u/i|0,p=l*d,y=f*i,v=new he(y,p);for(let S=0;S<l;++S){const A=S*d;for(let O=0;O<f;++O){const L=O*i;for(let B=0;B<d;++B){const j=S*(d+2)+1+B,U=A+B;for(let W=0;W<i;++W){const H=O*(i+2)+1+W;if(o.get(H,j)){const V=L+W;v.set(V,U)}}}}}return v}}class Aa{constructor(o,a){this.numDataCodewords=o,this.codewords=a}static getDataBlocks(o,a){const u=a.getECBlocks();let d=0;const i=u.getECBlocks();for(let B of i)d+=B.getCount();const l=new Array(d);let f=0;for(let B of i)for(let j=0;j<B.getCount();j++){const U=B.getDataCodewords(),W=u.getECCodewords()+U;l[f++]=new Aa(U,new Uint8Array(W))}const y=l[0].codewords.length-u.getECCodewords(),v=y-1;let S=0;for(let B=0;B<v;B++)for(let j=0;j<f;j++)l[j].codewords[B]=o[S++];const A=a.getVersionNumber()===24,O=A?8:f;for(let B=0;B<O;B++)l[B].codewords[y-1]=o[S++];const L=l[0].codewords.length;for(let B=y;B<L;B++)for(let j=0;j<f;j++){const U=A?(j+8)%f:j,W=A&&U>7?B-1:B;l[U].codewords[W]=o[S++]}if(S!==o.length)throw new C;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ta{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new C(""+o);let a=0,u=this.bitOffset,d=this.byteOffset;const i=this.bytes;if(u>0){const l=8-u,f=o<l?o:l,p=l-f,y=255>>8-f<<p;a=(i[d]&y)>>p,o-=f,u+=f,u===8&&(u=0,d++)}if(o>0){for(;o>=8;)a=a<<8|i[d]&255,d++,o-=8;if(o>0){const l=8-o,f=255>>l<<l;a=a<<o|(i[d]&f)>>l,u+=o}}return this.bitOffset=u,this.byteOffset=d,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var on;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(on||(on={}));class vt{static decode(o){const a=new Ta(o),u=new we,d=new we,i=new Array;let l=on.ASCII_ENCODE;do if(l===on.ASCII_ENCODE)l=this.decodeAsciiSegment(a,u,d);else{switch(l){case on.C40_ENCODE:this.decodeC40Segment(a,u);break;case on.TEXT_ENCODE:this.decodeTextSegment(a,u);break;case on.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,u);break;case on.EDIFACT_ENCODE:this.decodeEdifactSegment(a,u);break;case on.BASE256_ENCODE:this.decodeBase256Segment(a,u,i);break;default:throw new z}l=on.ASCII_ENCODE}while(l!==on.PAD_ENCODE&&a.available()>0);return d.length()>0&&u.append(d.toString()),new Se(o,u.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(o,a,u){let d=!1;do{let i=o.readBits(8);if(i===0)throw new z;if(i<=128)return d&&(i+=128),a.append(String.fromCharCode(i-1)),on.ASCII_ENCODE;if(i===129)return on.PAD_ENCODE;if(i<=229){const l=i-130;l<10&&a.append("0"),a.append(""+l)}else switch(i){case 230:return on.C40_ENCODE;case 231:return on.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:a.append("[)>05"),u.insert(0,"");break;case 237:a.append("[)>06"),u.insert(0,"");break;case 238:return on.ANSIX12_ENCODE;case 239:return on.TEXT_ENCODE;case 240:return on.EDIFACT_ENCODE;case 241:break;default:if(i!==254||o.available()!==0)throw new z;break}}while(o.available()>0);return on.ASCII_ENCODE}static decodeC40Segment(o,a){let u=!1;const d=[];let i=0;do{if(o.available()===8)return;const l=o.readBits(8);if(l===254)return;this.parseTwoBytes(l,o.readBits(8),d);for(let f=0;f<3;f++){const p=d[f];switch(i){case 0:if(p<3)i=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[p];u?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),u=!1):a.append(y)}else throw new z;break;case 1:u?(a.append(String.fromCharCode(p+128)),u=!1):a.append(String.fromCharCode(p)),i=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[p];u?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),u=!1):a.append(y)}else switch(p){case 27:a.append("");break;case 30:u=!0;break;default:throw new z}i=0;break;case 3:u?(a.append(String.fromCharCode(p+224)),u=!1):a.append(String.fromCharCode(p+96)),i=0;break;default:throw new z}}}while(o.available()>0)}static decodeTextSegment(o,a){let u=!1,d=[],i=0;do{if(o.available()===8)return;const l=o.readBits(8);if(l===254)return;this.parseTwoBytes(l,o.readBits(8),d);for(let f=0;f<3;f++){const p=d[f];switch(i){case 0:if(p<3)i=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[p];u?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),u=!1):a.append(y)}else throw new z;break;case 1:u?(a.append(String.fromCharCode(p+128)),u=!1):a.append(String.fromCharCode(p)),i=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[p];u?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),u=!1):a.append(y)}else switch(p){case 27:a.append("");break;case 30:u=!0;break;default:throw new z}i=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[p];u?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),u=!1):a.append(y),i=0}else throw new z;break;default:throw new z}}}while(o.available()>0)}static decodeAnsiX12Segment(o,a){const u=[];do{if(o.available()===8)return;const d=o.readBits(8);if(d===254)return;this.parseTwoBytes(d,o.readBits(8),u);for(let i=0;i<3;i++){const l=u[i];switch(l){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(l<14)a.append(String.fromCharCode(l+44));else if(l<40)a.append(String.fromCharCode(l+51));else throw new z;break}}}while(o.available()>0)}static parseTwoBytes(o,a,u){let d=(o<<8)+a-1,i=Math.floor(d/1600);u[0]=i,d-=i*1600,i=Math.floor(d/40),u[1]=i,u[2]=d-i*40}static decodeEdifactSegment(o,a){do{if(o.available()<=16)return;for(let u=0;u<4;u++){let d=o.readBits(6);if(d===31){const i=8-o.getBitOffset();i!==8&&o.readBits(i);return}d&32||(d|=64),a.append(String.fromCharCode(d))}}while(o.available()>0)}static decodeBase256Segment(o,a,u){let d=1+o.getByteOffset();const i=this.unrandomize255State(o.readBits(8),d++);let l;if(i===0?l=o.available()/8|0:i<250?l=i:l=250*(i-249)+this.unrandomize255State(o.readBits(8),d++),l<0)throw new z;const f=new Uint8Array(l);for(let p=0;p<l;p++){if(o.available()<8)throw new z;f[p]=this.unrandomize255State(o.readBits(8),d++)}u.push(f);try{a.append(fe.decode(f,re.ISO88591))}catch(p){throw new Ft("Platform does not support required encoding: "+p.message)}}static unrandomize255State(o,a){const u=149*a%255+1,d=o-u;return d>=0?d:d+256}}vt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],vt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],vt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],vt.TEXT_SHIFT2_SET_CHARS=vt.C40_SHIFT2_SET_CHARS,vt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Is{constructor(){this.rsDecoder=new gn($e.DATA_MATRIX_FIELD_256)}decode(o){const a=new ct(o),u=a.getVersion(),d=a.readCodewords(),i=Aa.getDataBlocks(d,u);let l=0;for(let y of i)l+=y.getNumDataCodewords();const f=new Uint8Array(l),p=i.length;for(let y=0;y<p;y++){const v=i[y],S=v.getCodewords(),A=v.getNumDataCodewords();this.correctErrors(S,A);for(let O=0;O<A;O++)f[O*p+y]=S[O]}return vt.decode(f)}correctErrors(o,a){const u=new Int32Array(o);try{this.rsDecoder.decode(u,o.length-a)}catch{throw new _}for(let d=0;d<a;d++)o[d]=u[d]}}class zt{constructor(o){this.image=o,this.rectangleDetector=new pr(this.image)}detect(){const o=this.rectangleDetector.detect();let a=this.detectSolid1(o);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new ee;a=this.shiftToModuleCenter(a);const u=a[0],d=a[1],i=a[2],l=a[3];let f=this.transitionsBetween(u,l)+1,p=this.transitionsBetween(i,l)+1;(f&1)===1&&(f+=1),(p&1)===1&&(p+=1),4*f<7*p&&4*p<7*f&&(f=p=Math.max(f,p));let y=zt.sampleGrid(this.image,u,d,i,l,f,p);return new ii(y,[u,d,i,l])}static shiftPoint(o,a,u){let d=(a.getX()-o.getX())/(u+1),i=(a.getY()-o.getY())/(u+1);return new Pe(o.getX()+d,o.getY()+i)}static moveAway(o,a,u){let d=o.getX(),i=o.getY();return d<a?d-=1:d+=1,i<u?i-=1:i+=1,new Pe(d,i)}detectSolid1(o){let a=o[0],u=o[1],d=o[3],i=o[2],l=this.transitionsBetween(a,u),f=this.transitionsBetween(u,d),p=this.transitionsBetween(d,i),y=this.transitionsBetween(i,a),v=l,S=[i,a,u,d];return v>f&&(v=f,S[0]=a,S[1]=u,S[2]=d,S[3]=i),v>p&&(v=p,S[0]=u,S[1]=d,S[2]=i,S[3]=a),v>y&&(S[0]=d,S[1]=i,S[2]=a,S[3]=u),S}detectSolid2(o){let a=o[0],u=o[1],d=o[2],i=o[3],l=this.transitionsBetween(a,i),f=zt.shiftPoint(u,d,(l+1)*4),p=zt.shiftPoint(d,u,(l+1)*4),y=this.transitionsBetween(f,a),v=this.transitionsBetween(p,i);return y<v?(o[0]=a,o[1]=u,o[2]=d,o[3]=i):(o[0]=u,o[1]=d,o[2]=i,o[3]=a),o}correctTopRight(o){let a=o[0],u=o[1],d=o[2],i=o[3],l=this.transitionsBetween(a,i),f=this.transitionsBetween(u,i),p=zt.shiftPoint(a,u,(f+1)*4),y=zt.shiftPoint(d,u,(l+1)*4);l=this.transitionsBetween(p,i),f=this.transitionsBetween(y,i);let v=new Pe(i.getX()+(d.getX()-u.getX())/(l+1),i.getY()+(d.getY()-u.getY())/(l+1)),S=new Pe(i.getX()+(a.getX()-u.getX())/(f+1),i.getY()+(a.getY()-u.getY())/(f+1));if(!this.isValid(v))return this.isValid(S)?S:null;if(!this.isValid(S))return v;let A=this.transitionsBetween(p,v)+this.transitionsBetween(y,v),O=this.transitionsBetween(p,S)+this.transitionsBetween(y,S);return A>O?v:S}shiftToModuleCenter(o){let a=o[0],u=o[1],d=o[2],i=o[3],l=this.transitionsBetween(a,i)+1,f=this.transitionsBetween(d,i)+1,p=zt.shiftPoint(a,u,f*4),y=zt.shiftPoint(d,u,l*4);l=this.transitionsBetween(p,i)+1,f=this.transitionsBetween(y,i)+1,(l&1)===1&&(l+=1),(f&1)===1&&(f+=1);let v=(a.getX()+u.getX()+d.getX()+i.getX())/4,S=(a.getY()+u.getY()+d.getY()+i.getY())/4;a=zt.moveAway(a,v,S),u=zt.moveAway(u,v,S),d=zt.moveAway(d,v,S),i=zt.moveAway(i,v,S);let A,O;return p=zt.shiftPoint(a,u,f*4),p=zt.shiftPoint(p,i,l*4),A=zt.shiftPoint(u,a,f*4),A=zt.shiftPoint(A,d,l*4),y=zt.shiftPoint(d,i,f*4),y=zt.shiftPoint(y,u,l*4),O=zt.shiftPoint(i,d,f*4),O=zt.shiftPoint(O,a,l*4),[p,A,y,O]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,a,u,d,i,l,f){return Jn.getInstance().sampleGrid(o,l,f,.5,.5,l-.5,.5,l-.5,f-.5,.5,f-.5,a.getX(),a.getY(),i.getX(),i.getY(),d.getX(),d.getY(),u.getX(),u.getY())}transitionsBetween(o,a){let u=Math.trunc(o.getX()),d=Math.trunc(o.getY()),i=Math.trunc(a.getX()),l=Math.trunc(a.getY()),f=Math.abs(l-d)>Math.abs(i-u);if(f){let B=u;u=d,d=B,B=i,i=l,l=B}let p=Math.abs(i-u),y=Math.abs(l-d),v=-p/2,S=d<l?1:-1,A=u<i?1:-1,O=0,L=this.image.get(f?d:u,f?u:d);for(let B=u,j=d;B!==i;B+=A){let U=this.image.get(f?j:B,f?B:j);if(U!==L&&(O++,L=U),v+=y,v>0){if(j===l)break;j+=S,v-=p}}return O}}class nr{constructor(){this.decoder=new Is}decode(o,a=null){let u,d;if(a!=null&&a.has(G.PURE_BARCODE)){const y=nr.extractPureBits(o.getBlackMatrix());u=this.decoder.decode(y),d=nr.NO_POINTS}else{const y=new zt(o.getBlackMatrix()).detect();u=this.decoder.decode(y.getBits()),d=y.getPoints()}const i=u.getRawBytes(),l=new _e(u.getText(),i,8*i.length,d,me.DATA_MATRIX,T.currentTimeMillis()),f=u.getByteSegments();f!=null&&l.putMetadata(Le.BYTE_SEGMENTS,f);const p=u.getECLevel();return p!=null&&l.putMetadata(Le.ERROR_CORRECTION_LEVEL,p),l}reset(){}static extractPureBits(o){const a=o.getTopLeftOnBit(),u=o.getBottomRightOnBit();if(a==null||u==null)throw new ee;const d=this.moduleSize(a,o);let i=a[1];const l=u[1];let f=a[0];const y=(u[0]-f+1)/d,v=(l-i+1)/d;if(y<=0||v<=0)throw new ee;const S=d/2;i+=S,f+=S;const A=new he(y,v);for(let O=0;O<v;O++){const L=i+O*d;for(let B=0;B<y;B++)o.get(f+B*d,L)&&A.set(B,O)}return A}static moduleSize(o,a){const u=a.getWidth();let d=o[0];const i=o[1];for(;d<u&&a.get(d,i);)d++;if(d===u)throw new ee;const l=d-o[0];if(l===0)throw new ee;return l}}nr.NO_POINTS=[];class Hl extends ge{constructor(o=500){super(new nr,o)}}var jo;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(jo||(jo={}));class _t{constructor(o,a,u){this.value=o,this.stringValue=a,this.bits=u,_t.FOR_BITS.set(u,this),_t.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return _t.L;case"M":return _t.M;case"Q":return _t.Q;case"H":return _t.H;default:throw new w(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof _t))return!1;const a=o;return this.value===a.value}static forBits(o){if(o<0||o>=_t.FOR_BITS.size)throw new C;return _t.FOR_BITS.get(o)}}_t.FOR_BITS=new Map,_t.FOR_VALUE=new Map,_t.L=new _t(jo.L,"L",1),_t.M=new _t(jo.M,"M",0),_t.Q=new _t(jo.Q,"Q",3),_t.H=new _t(jo.H,"H",2);class Sn{constructor(o){this.errorCorrectionLevel=_t.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,a){return D.bitCount(o^a)}static decodeFormatInformation(o,a){const u=Sn.doDecodeFormatInformation(o,a);return u!==null?u:Sn.doDecodeFormatInformation(o^Sn.FORMAT_INFO_MASK_QR,a^Sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,a){let u=Number.MAX_SAFE_INTEGER,d=0;for(const i of Sn.FORMAT_INFO_DECODE_LOOKUP){const l=i[0];if(l===o||l===a)return new Sn(i[1]);let f=Sn.numBitsDiffering(o,l);f<u&&(d=i[1],u=f),o!==a&&(f=Sn.numBitsDiffering(a,l),f<u&&(d=i[1],u=f))}return u<=3?new Sn(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof Sn))return!1;const a=o;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Sn.FORMAT_INFO_MASK_QR=21522,Sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class oe{constructor(o,...a){this.ecCodewordsPerBlock=o,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const a=this.ecBlocks;for(const u of a)o+=u.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class X{constructor(o,a){this.count=o,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xe{constructor(o,a,...u){this.versionNumber=o,this.alignmentPatternCenters=a,this.ecBlocks=u;let d=0;const i=u[0].getECCodewordsPerBlock(),l=u[0].getECBlocks();for(const f of l)d+=f.getCount()*(f.getDataCodewords()+i);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new z;try{return this.getVersionForNumber((o-17)/4)}catch{throw new z}}static getVersionForNumber(o){if(o<1||o>40)throw new C;return Xe.VERSIONS[o-1]}static decodeVersionInformation(o){let a=Number.MAX_SAFE_INTEGER,u=0;for(let d=0;d<Xe.VERSION_DECODE_INFO.length;d++){const i=Xe.VERSION_DECODE_INFO[d];if(i===o)return Xe.getVersionForNumber(d+7);const l=Sn.numBitsDiffering(o,i);l<a&&(u=d+7,a=l)}return a<=3?Xe.getVersionForNumber(u):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),a=new he(o);a.setRegion(0,0,9,9),a.setRegion(o-8,0,8,9),a.setRegion(0,o-8,9,8);const u=this.alignmentPatternCenters.length;for(let d=0;d<u;d++){const i=this.alignmentPatternCenters[d]-2;for(let l=0;l<u;l++)d===0&&(l===0||l===u-1)||d===u-1&&l===0||a.setRegion(this.alignmentPatternCenters[l]-2,i,5,5)}return a.setRegion(6,9,1,o-17),a.setRegion(9,6,o-17,1),this.versionNumber>6&&(a.setRegion(o-11,0,3,6),a.setRegion(0,o-11,6,3)),a}toString(){return""+this.versionNumber}}Xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Xe.VERSIONS=[new Xe(1,new Int32Array(0),new oe(7,new X(1,19)),new oe(10,new X(1,16)),new oe(13,new X(1,13)),new oe(17,new X(1,9))),new Xe(2,Int32Array.from([6,18]),new oe(10,new X(1,34)),new oe(16,new X(1,28)),new oe(22,new X(1,22)),new oe(28,new X(1,16))),new Xe(3,Int32Array.from([6,22]),new oe(15,new X(1,55)),new oe(26,new X(1,44)),new oe(18,new X(2,17)),new oe(22,new X(2,13))),new Xe(4,Int32Array.from([6,26]),new oe(20,new X(1,80)),new oe(18,new X(2,32)),new oe(26,new X(2,24)),new oe(16,new X(4,9))),new Xe(5,Int32Array.from([6,30]),new oe(26,new X(1,108)),new oe(24,new X(2,43)),new oe(18,new X(2,15),new X(2,16)),new oe(22,new X(2,11),new X(2,12))),new Xe(6,Int32Array.from([6,34]),new oe(18,new X(2,68)),new oe(16,new X(4,27)),new oe(24,new X(4,19)),new oe(28,new X(4,15))),new Xe(7,Int32Array.from([6,22,38]),new oe(20,new X(2,78)),new oe(18,new X(4,31)),new oe(18,new X(2,14),new X(4,15)),new oe(26,new X(4,13),new X(1,14))),new Xe(8,Int32Array.from([6,24,42]),new oe(24,new X(2,97)),new oe(22,new X(2,38),new X(2,39)),new oe(22,new X(4,18),new X(2,19)),new oe(26,new X(4,14),new X(2,15))),new Xe(9,Int32Array.from([6,26,46]),new oe(30,new X(2,116)),new oe(22,new X(3,36),new X(2,37)),new oe(20,new X(4,16),new X(4,17)),new oe(24,new X(4,12),new X(4,13))),new Xe(10,Int32Array.from([6,28,50]),new oe(18,new X(2,68),new X(2,69)),new oe(26,new X(4,43),new X(1,44)),new oe(24,new X(6,19),new X(2,20)),new oe(28,new X(6,15),new X(2,16))),new Xe(11,Int32Array.from([6,30,54]),new oe(20,new X(4,81)),new oe(30,new X(1,50),new X(4,51)),new oe(28,new X(4,22),new X(4,23)),new oe(24,new X(3,12),new X(8,13))),new Xe(12,Int32Array.from([6,32,58]),new oe(24,new X(2,92),new X(2,93)),new oe(22,new X(6,36),new X(2,37)),new oe(26,new X(4,20),new X(6,21)),new oe(28,new X(7,14),new X(4,15))),new Xe(13,Int32Array.from([6,34,62]),new oe(26,new X(4,107)),new oe(22,new X(8,37),new X(1,38)),new oe(24,new X(8,20),new X(4,21)),new oe(22,new X(12,11),new X(4,12))),new Xe(14,Int32Array.from([6,26,46,66]),new oe(30,new X(3,115),new X(1,116)),new oe(24,new X(4,40),new X(5,41)),new oe(20,new X(11,16),new X(5,17)),new oe(24,new X(11,12),new X(5,13))),new Xe(15,Int32Array.from([6,26,48,70]),new oe(22,new X(5,87),new X(1,88)),new oe(24,new X(5,41),new X(5,42)),new oe(30,new X(5,24),new X(7,25)),new oe(24,new X(11,12),new X(7,13))),new Xe(16,Int32Array.from([6,26,50,74]),new oe(24,new X(5,98),new X(1,99)),new oe(28,new X(7,45),new X(3,46)),new oe(24,new X(15,19),new X(2,20)),new oe(30,new X(3,15),new X(13,16))),new Xe(17,Int32Array.from([6,30,54,78]),new oe(28,new X(1,107),new X(5,108)),new oe(28,new X(10,46),new X(1,47)),new oe(28,new X(1,22),new X(15,23)),new oe(28,new X(2,14),new X(17,15))),new Xe(18,Int32Array.from([6,30,56,82]),new oe(30,new X(5,120),new X(1,121)),new oe(26,new X(9,43),new X(4,44)),new oe(28,new X(17,22),new X(1,23)),new oe(28,new X(2,14),new X(19,15))),new Xe(19,Int32Array.from([6,30,58,86]),new oe(28,new X(3,113),new X(4,114)),new oe(26,new X(3,44),new X(11,45)),new oe(26,new X(17,21),new X(4,22)),new oe(26,new X(9,13),new X(16,14))),new Xe(20,Int32Array.from([6,34,62,90]),new oe(28,new X(3,107),new X(5,108)),new oe(26,new X(3,41),new X(13,42)),new oe(30,new X(15,24),new X(5,25)),new oe(28,new X(15,15),new X(10,16))),new Xe(21,Int32Array.from([6,28,50,72,94]),new oe(28,new X(4,116),new X(4,117)),new oe(26,new X(17,42)),new oe(28,new X(17,22),new X(6,23)),new oe(30,new X(19,16),new X(6,17))),new Xe(22,Int32Array.from([6,26,50,74,98]),new oe(28,new X(2,111),new X(7,112)),new oe(28,new X(17,46)),new oe(30,new X(7,24),new X(16,25)),new oe(24,new X(34,13))),new Xe(23,Int32Array.from([6,30,54,78,102]),new oe(30,new X(4,121),new X(5,122)),new oe(28,new X(4,47),new X(14,48)),new oe(30,new X(11,24),new X(14,25)),new oe(30,new X(16,15),new X(14,16))),new Xe(24,Int32Array.from([6,28,54,80,106]),new oe(30,new X(6,117),new X(4,118)),new oe(28,new X(6,45),new X(14,46)),new oe(30,new X(11,24),new X(16,25)),new oe(30,new X(30,16),new X(2,17))),new Xe(25,Int32Array.from([6,32,58,84,110]),new oe(26,new X(8,106),new X(4,107)),new oe(28,new X(8,47),new X(13,48)),new oe(30,new X(7,24),new X(22,25)),new oe(30,new X(22,15),new X(13,16))),new Xe(26,Int32Array.from([6,30,58,86,114]),new oe(28,new X(10,114),new X(2,115)),new oe(28,new X(19,46),new X(4,47)),new oe(28,new X(28,22),new X(6,23)),new oe(30,new X(33,16),new X(4,17))),new Xe(27,Int32Array.from([6,34,62,90,118]),new oe(30,new X(8,122),new X(4,123)),new oe(28,new X(22,45),new X(3,46)),new oe(30,new X(8,23),new X(26,24)),new oe(30,new X(12,15),new X(28,16))),new Xe(28,Int32Array.from([6,26,50,74,98,122]),new oe(30,new X(3,117),new X(10,118)),new oe(28,new X(3,45),new X(23,46)),new oe(30,new X(4,24),new X(31,25)),new oe(30,new X(11,15),new X(31,16))),new Xe(29,Int32Array.from([6,30,54,78,102,126]),new oe(30,new X(7,116),new X(7,117)),new oe(28,new X(21,45),new X(7,46)),new oe(30,new X(1,23),new X(37,24)),new oe(30,new X(19,15),new X(26,16))),new Xe(30,Int32Array.from([6,26,52,78,104,130]),new oe(30,new X(5,115),new X(10,116)),new oe(28,new X(19,47),new X(10,48)),new oe(30,new X(15,24),new X(25,25)),new oe(30,new X(23,15),new X(25,16))),new Xe(31,Int32Array.from([6,30,56,82,108,134]),new oe(30,new X(13,115),new X(3,116)),new oe(28,new X(2,46),new X(29,47)),new oe(30,new X(42,24),new X(1,25)),new oe(30,new X(23,15),new X(28,16))),new Xe(32,Int32Array.from([6,34,60,86,112,138]),new oe(30,new X(17,115)),new oe(28,new X(10,46),new X(23,47)),new oe(30,new X(10,24),new X(35,25)),new oe(30,new X(19,15),new X(35,16))),new Xe(33,Int32Array.from([6,30,58,86,114,142]),new oe(30,new X(17,115),new X(1,116)),new oe(28,new X(14,46),new X(21,47)),new oe(30,new X(29,24),new X(19,25)),new oe(30,new X(11,15),new X(46,16))),new Xe(34,Int32Array.from([6,34,62,90,118,146]),new oe(30,new X(13,115),new X(6,116)),new oe(28,new X(14,46),new X(23,47)),new oe(30,new X(44,24),new X(7,25)),new oe(30,new X(59,16),new X(1,17))),new Xe(35,Int32Array.from([6,30,54,78,102,126,150]),new oe(30,new X(12,121),new X(7,122)),new oe(28,new X(12,47),new X(26,48)),new oe(30,new X(39,24),new X(14,25)),new oe(30,new X(22,15),new X(41,16))),new Xe(36,Int32Array.from([6,24,50,76,102,128,154]),new oe(30,new X(6,121),new X(14,122)),new oe(28,new X(6,47),new X(34,48)),new oe(30,new X(46,24),new X(10,25)),new oe(30,new X(2,15),new X(64,16))),new Xe(37,Int32Array.from([6,28,54,80,106,132,158]),new oe(30,new X(17,122),new X(4,123)),new oe(28,new X(29,46),new X(14,47)),new oe(30,new X(49,24),new X(10,25)),new oe(30,new X(24,15),new X(46,16))),new Xe(38,Int32Array.from([6,32,58,84,110,136,162]),new oe(30,new X(4,122),new X(18,123)),new oe(28,new X(13,46),new X(32,47)),new oe(30,new X(48,24),new X(14,25)),new oe(30,new X(42,15),new X(32,16))),new Xe(39,Int32Array.from([6,26,54,82,110,138,166]),new oe(30,new X(20,117),new X(4,118)),new oe(28,new X(40,47),new X(7,48)),new oe(30,new X(43,24),new X(22,25)),new oe(30,new X(10,15),new X(67,16))),new Xe(40,Int32Array.from([6,30,58,86,114,142,170]),new oe(30,new X(19,118),new X(6,119)),new oe(28,new X(18,47),new X(31,48)),new oe(30,new X(34,24),new X(34,25)),new oe(30,new X(20,15),new X(61,16)))];var hn;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(hn||(hn={}));class gr{constructor(o,a){this.value=o,this.isMasked=a}unmaskBitMatrix(o,a){for(let u=0;u<a;u++)for(let d=0;d<a;d++)this.isMasked(u,d)&&o.flip(d,u)}}gr.values=new Map([[hn.DATA_MASK_000,new gr(hn.DATA_MASK_000,(k,o)=>(k+o&1)===0)],[hn.DATA_MASK_001,new gr(hn.DATA_MASK_001,(k,o)=>(k&1)===0)],[hn.DATA_MASK_010,new gr(hn.DATA_MASK_010,(k,o)=>o%3===0)],[hn.DATA_MASK_011,new gr(hn.DATA_MASK_011,(k,o)=>(k+o)%3===0)],[hn.DATA_MASK_100,new gr(hn.DATA_MASK_100,(k,o)=>(Math.floor(k/2)+Math.floor(o/3)&1)===0)],[hn.DATA_MASK_101,new gr(hn.DATA_MASK_101,(k,o)=>k*o%6===0)],[hn.DATA_MASK_110,new gr(hn.DATA_MASK_110,(k,o)=>k*o%6<3)],[hn.DATA_MASK_111,new gr(hn.DATA_MASK_111,(k,o)=>(k+o+k*o%3&1)===0)]]);class wt{constructor(o){const a=o.getHeight();if(a<21||(a&3)!==1)throw new z;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let i=0;i<6;i++)o=this.copyBit(i,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let i=5;i>=0;i--)o=this.copyBit(8,i,o);const a=this.bitMatrix.getHeight();let u=0;const d=a-7;for(let i=a-1;i>=d;i--)u=this.copyBit(8,i,u);for(let i=a-8;i<a;i++)u=this.copyBit(i,8,u);if(this.parsedFormatInfo=Sn.decodeFormatInformation(o,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),a=Math.floor((o-17)/4);if(a<=6)return Xe.getVersionForNumber(a);let u=0;const d=o-11;for(let l=5;l>=0;l--)for(let f=o-9;f>=d;f--)u=this.copyBit(f,l,u);let i=Xe.decodeVersionInformation(u);if(i!==null&&i.getDimensionForVersion()===o)return this.parsedVersion=i,i;u=0;for(let l=5;l>=0;l--)for(let f=o-9;f>=d;f--)u=this.copyBit(l,f,u);if(i=Xe.decodeVersionInformation(u),i!==null&&i.getDimensionForVersion()===o)return this.parsedVersion=i,i;throw new z}copyBit(o,a,u){return(this.isMirror?this.bitMatrix.get(a,o):this.bitMatrix.get(o,a))?u<<1|1:u<<1}readCodewords(){const o=this.readFormatInformation(),a=this.readVersion(),u=gr.values.get(o.getDataMask()),d=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,d);const i=a.buildFunctionPattern();let l=!0;const f=new Uint8Array(a.getTotalCodewords());let p=0,y=0,v=0;for(let S=d-1;S>0;S-=2){S===6&&S--;for(let A=0;A<d;A++){const O=l?d-1-A:A;for(let L=0;L<2;L++)i.get(S-L,O)||(v++,y<<=1,this.bitMatrix.get(S-L,O)&&(y|=1),v===8&&(f[p++]=y,v=0,y=0))}l=!l}if(p!==a.getTotalCodewords())throw new z;return f}remask(){if(this.parsedFormatInfo===null)return;const o=gr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let a=0,u=o.getWidth();a<u;a++)for(let d=a+1,i=o.getHeight();d<i;d++)o.get(a,d)!==o.get(d,a)&&(o.flip(d,a),o.flip(a,d))}}class Ns{constructor(o,a){this.numDataCodewords=o,this.codewords=a}static getDataBlocks(o,a,u){if(o.length!==a.getTotalCodewords())throw new C;const d=a.getECBlocksForLevel(u);let i=0;const l=d.getECBlocks();for(const L of l)i+=L.getCount();const f=new Array(i);let p=0;for(const L of l)for(let B=0;B<L.getCount();B++){const j=L.getDataCodewords(),U=d.getECCodewordsPerBlock()+j;f[p++]=new Ns(j,new Uint8Array(U))}const y=f[0].codewords.length;let v=f.length-1;for(;v>=0&&f[v].codewords.length!==y;)v--;v++;const S=y-d.getECCodewordsPerBlock();let A=0;for(let L=0;L<S;L++)for(let B=0;B<p;B++)f[B].codewords[L]=o[A++];for(let L=v;L<p;L++)f[L].codewords[S]=o[A++];const O=f[0].codewords.length;for(let L=S;L<O;L++)for(let B=0;B<p;B++){const j=B<v?L:L+1;f[B].codewords[j]=o[A++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var yr;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(yr||(yr={}));class Qe{constructor(o,a,u,d){this.value=o,this.stringValue=a,this.characterCountBitsForVersions=u,this.bits=d,Qe.FOR_BITS.set(d,this),Qe.FOR_VALUE.set(o,this)}static forBits(o){const a=Qe.FOR_BITS.get(o);if(a===void 0)throw new C;return a}getCharacterCountBits(o){const a=o.getVersionNumber();let u;return a<=9?u=0:a<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Qe))return!1;const a=o;return this.value===a.value}toString(){return this.stringValue}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.TERMINATOR=new Qe(yr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qe.NUMERIC=new Qe(yr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qe.ALPHANUMERIC=new Qe(yr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qe.STRUCTURED_APPEND=new Qe(yr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qe.BYTE=new Qe(yr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qe.ECI=new Qe(yr.ECI,"ECI",Int32Array.from([0,0,0]),7),Qe.KANJI=new Qe(yr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qe.FNC1_FIRST_POSITION=new Qe(yr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qe.FNC1_SECOND_POSITION=new Qe(yr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qe.HANZI=new Qe(yr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class pt{static decode(o,a,u,d){const i=new Ta(o);let l=new we;const f=new Array;let p=-1,y=-1;try{let v=null,S=!1,A;do{if(i.available()<4)A=Qe.TERMINATOR;else{const O=i.readBits(4);A=Qe.forBits(O)}switch(A){case Qe.TERMINATOR:break;case Qe.FNC1_FIRST_POSITION:case Qe.FNC1_SECOND_POSITION:S=!0;break;case Qe.STRUCTURED_APPEND:if(i.available()<16)throw new z;p=i.readBits(8),y=i.readBits(8);break;case Qe.ECI:const O=pt.parseECIValue(i);if(v=Q.getCharacterSetECIByValue(O),v===null)throw new z;break;case Qe.HANZI:const L=i.readBits(4),B=i.readBits(A.getCharacterCountBits(a));L===pt.GB2312_SUBSET&&pt.decodeHanziSegment(i,l,B);break;default:const j=i.readBits(A.getCharacterCountBits(a));switch(A){case Qe.NUMERIC:pt.decodeNumericSegment(i,l,j);break;case Qe.ALPHANUMERIC:pt.decodeAlphanumericSegment(i,l,j,S);break;case Qe.BYTE:pt.decodeByteSegment(i,l,j,v,f,d);break;case Qe.KANJI:pt.decodeKanjiSegment(i,l,j);break;default:throw new z}break}}while(A!==Qe.TERMINATOR)}catch{throw new z}return new Se(o,l.toString(),f.length===0?null:f,u===null?null:u.toString(),p,y)}static decodeHanziSegment(o,a,u){if(u*13>o.available())throw new z;const d=new Uint8Array(2*u);let i=0;for(;u>0;){const l=o.readBits(13);let f=l/96<<8&4294967295|l%96;f<959?f+=41377:f+=42657,d[i]=f>>8&255,d[i+1]=f&255,i+=2,u--}try{a.append(fe.decode(d,re.GB2312))}catch(l){throw new z(l)}}static decodeKanjiSegment(o,a,u){if(u*13>o.available())throw new z;const d=new Uint8Array(2*u);let i=0;for(;u>0;){const l=o.readBits(13);let f=l/192<<8&4294967295|l%192;f<7936?f+=33088:f+=49472,d[i]=f>>8,d[i+1]=f,i+=2,u--}try{a.append(fe.decode(d,re.SHIFT_JIS))}catch(l){throw new z(l)}}static decodeByteSegment(o,a,u,d,i,l){if(8*u>o.available())throw new z;const f=new Uint8Array(u);for(let y=0;y<u;y++)f[y]=o.readBits(8);let p;d===null?p=re.guessEncoding(f,l):p=d.getName();try{a.append(fe.decode(f,p))}catch(y){throw new z(y)}i.push(f)}static toAlphaNumericChar(o){if(o>=pt.ALPHANUMERIC_CHARS.length)throw new z;return pt.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,a,u,d){const i=a.length();for(;u>1;){if(o.available()<11)throw new z;const l=o.readBits(11);a.append(pt.toAlphaNumericChar(Math.floor(l/45))),a.append(pt.toAlphaNumericChar(l%45)),u-=2}if(u===1){if(o.available()<6)throw new z;a.append(pt.toAlphaNumericChar(o.readBits(6)))}if(d)for(let l=i;l<a.length();l++)a.charAt(l)==="%"&&(l<a.length()-1&&a.charAt(l+1)==="%"?a.deleteCharAt(l+1):a.setCharAt(l,""))}static decodeNumericSegment(o,a,u){for(;u>=3;){if(o.available()<10)throw new z;const d=o.readBits(10);if(d>=1e3)throw new z;a.append(pt.toAlphaNumericChar(Math.floor(d/100))),a.append(pt.toAlphaNumericChar(Math.floor(d/10)%10)),a.append(pt.toAlphaNumericChar(d%10)),u-=3}if(u===2){if(o.available()<7)throw new z;const d=o.readBits(7);if(d>=100)throw new z;a.append(pt.toAlphaNumericChar(Math.floor(d/10))),a.append(pt.toAlphaNumericChar(d%10))}else if(u===1){if(o.available()<4)throw new z;const d=o.readBits(4);if(d>=10)throw new z;a.append(pt.toAlphaNumericChar(d))}}static parseECIValue(o){const a=o.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const u=o.readBits(8);return(a&63)<<8&4294967295|u}if((a&224)===192){const u=o.readBits(16);return(a&31)<<16&4294967295|u}throw new z}}pt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",pt.GB2312_SUBSET=1;class ui{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const a=o[0];o[0]=o[2],o[2]=a}}class _a{constructor(){this.rsDecoder=new gn($e.QR_CODE_FIELD_256)}decodeBooleanArray(o,a){return this.decodeBitMatrix(he.parseFromBooleanArray(o),a)}decodeBitMatrix(o,a){const u=new wt(o);let d=null;try{return this.decodeBitMatrixParser(u,a)}catch(i){d=i}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const i=this.decodeBitMatrixParser(u,a);return i.setOther(new ui(!0)),i}catch(i){throw d!==null?d:i}}decodeBitMatrixParser(o,a){const u=o.readVersion(),d=o.readFormatInformation().getErrorCorrectionLevel(),i=o.readCodewords(),l=Ns.getDataBlocks(i,u,d);let f=0;for(const v of l)f+=v.getNumDataCodewords();const p=new Uint8Array(f);let y=0;for(const v of l){const S=v.getCodewords(),A=v.getNumDataCodewords();this.correctErrors(S,A);for(let O=0;O<A;O++)p[y++]=S[O]}return pt.decode(p,u,d,a)}correctErrors(o,a){const u=new Int32Array(o);try{this.rsDecoder.decode(u,o.length-a)}catch{throw new _}for(let d=0;d<a;d++)o[d]=u[d]}}class Zr extends Pe{constructor(o,a,u){super(o,a),this.estimatedModuleSize=u}aboutEquals(o,a,u){if(Math.abs(a-this.getY())<=o&&Math.abs(u-this.getX())<=o){const d=Math.abs(o-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(o,a,u){const d=(this.getX()+a)/2,i=(this.getY()+o)/2,l=(this.estimatedModuleSize+u)/2;return new Zr(d,i,l)}}class Os{constructor(o,a,u,d,i,l,f){this.image=o,this.startX=a,this.startY=u,this.width=d,this.height=i,this.moduleSize=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,a=this.height,u=this.width,d=o+u,i=this.startY+a/2,l=new Int32Array(3),f=this.image;for(let p=0;p<a;p++){const y=i+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));l[0]=0,l[1]=0,l[2]=0;let v=o;for(;v<d&&!f.get(v,y);)v++;let S=0;for(;v<d;){if(f.get(v,y))if(S===1)l[1]++;else if(S===2){if(this.foundPatternCross(l)){const A=this.handlePossibleCenter(l,y,v);if(A!==null)return A}l[0]=l[2],l[1]=1,l[2]=0,S=1}else l[++S]++;else S===1&&S++,l[S]++;v++}if(this.foundPatternCross(l)){const A=this.handlePossibleCenter(l,y,d);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(o,a){return a-o[2]-o[1]/2}foundPatternCross(o){const a=this.moduleSize,u=a/2;for(let d=0;d<3;d++)if(Math.abs(a-o[d])>=u)return!1;return!0}crossCheckVertical(o,a,u,d){const i=this.image,l=i.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let p=o;for(;p>=0&&i.get(a,p)&&f[1]<=u;)f[1]++,p--;if(p<0||f[1]>u)return NaN;for(;p>=0&&!i.get(a,p)&&f[0]<=u;)f[0]++,p--;if(f[0]>u)return NaN;for(p=o+1;p<l&&i.get(a,p)&&f[1]<=u;)f[1]++,p++;if(p===l||f[1]>u)return NaN;for(;p<l&&!i.get(a,p)&&f[2]<=u;)f[2]++,p++;if(f[2]>u)return NaN;const y=f[0]+f[1]+f[2];return 5*Math.abs(y-d)>=2*d?NaN:this.foundPatternCross(f)?Os.centerFromEnd(f,p):NaN}handlePossibleCenter(o,a,u){const d=o[0]+o[1]+o[2],i=Os.centerFromEnd(o,u),l=this.crossCheckVertical(a,i,2*o[1],d);if(!isNaN(l)){const f=(o[0]+o[1]+o[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(f,l,i))return y.combineEstimate(l,i,f);const p=new Zr(i,l,f);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class Ia extends Pe{constructor(o,a,u,d){super(o,a),this.estimatedModuleSize=u,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,a,u){if(Math.abs(a-this.getY())<=o&&Math.abs(u-this.getX())<=o){const d=Math.abs(o-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(o,a,u){const d=this.count+1,i=(this.count*this.getX()+a)/d,l=(this.count*this.getY()+o)/d,f=(this.count*this.estimatedModuleSize+u)/d;return new Ia(i,l,f,d)}}class yn{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Mt{constructor(o,a){this.image=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const a=o!=null&&o.get(G.TRY_HARDER)!==void 0,u=o!=null&&o.get(G.PURE_BARCODE)!==void 0,d=this.image,i=d.getHeight(),l=d.getWidth();let f=Math.floor(3*i/(4*Mt.MAX_MODULES));(f<Mt.MIN_SKIP||a)&&(f=Mt.MIN_SKIP);let p=!1;const y=new Int32Array(5);for(let S=f-1;S<i&&!p;S+=f){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let A=0;for(let O=0;O<l;O++)if(d.get(O,S))(A&1)===1&&A++,y[A]++;else if(A&1)y[A]++;else if(A===4)if(Mt.foundPatternCross(y)){if(this.handlePossibleCenter(y,S,O,u)===!0)if(f=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const B=this.findRowSkip();B>y[2]&&(S+=B-y[2]-f,O=l-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,A=3;continue}A=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,A=3;else y[++A]++;Mt.foundPatternCross(y)&&this.handlePossibleCenter(y,S,l,u)===!0&&(f=y[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const v=this.selectBestPatterns();return Pe.orderBestPatterns(v),new yn(v)}static centerFromEnd(o,a){return a-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let a=0;for(let i=0;i<5;i++){const l=o[i];if(l===0)return!1;a+=l}if(a<7)return!1;const u=a/7,d=u/2;return Math.abs(u-o[0])<d&&Math.abs(u-o[1])<d&&Math.abs(3*u-o[2])<3*d&&Math.abs(u-o[3])<d&&Math.abs(u-o[4])<d}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,a,u,d){const i=this.getCrossCheckStateCount();let l=0;const f=this.image;for(;o>=l&&a>=l&&f.get(a-l,o-l);)i[2]++,l++;if(o<l||a<l)return!1;for(;o>=l&&a>=l&&!f.get(a-l,o-l)&&i[1]<=u;)i[1]++,l++;if(o<l||a<l||i[1]>u)return!1;for(;o>=l&&a>=l&&f.get(a-l,o-l)&&i[0]<=u;)i[0]++,l++;if(i[0]>u)return!1;const p=f.getHeight(),y=f.getWidth();for(l=1;o+l<p&&a+l<y&&f.get(a+l,o+l);)i[2]++,l++;if(o+l>=p||a+l>=y)return!1;for(;o+l<p&&a+l<y&&!f.get(a+l,o+l)&&i[3]<u;)i[3]++,l++;if(o+l>=p||a+l>=y||i[3]>=u)return!1;for(;o+l<p&&a+l<y&&f.get(a+l,o+l)&&i[4]<u;)i[4]++,l++;if(i[4]>=u)return!1;const v=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(v-d)<2*d&&Mt.foundPatternCross(i)}crossCheckVertical(o,a,u,d){const i=this.image,l=i.getHeight(),f=this.getCrossCheckStateCount();let p=o;for(;p>=0&&i.get(a,p);)f[2]++,p--;if(p<0)return NaN;for(;p>=0&&!i.get(a,p)&&f[1]<=u;)f[1]++,p--;if(p<0||f[1]>u)return NaN;for(;p>=0&&i.get(a,p)&&f[0]<=u;)f[0]++,p--;if(f[0]>u)return NaN;for(p=o+1;p<l&&i.get(a,p);)f[2]++,p++;if(p===l)return NaN;for(;p<l&&!i.get(a,p)&&f[3]<u;)f[3]++,p++;if(p===l||f[3]>=u)return NaN;for(;p<l&&i.get(a,p)&&f[4]<u;)f[4]++,p++;if(f[4]>=u)return NaN;const y=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(y-d)>=2*d?NaN:Mt.foundPatternCross(f)?Mt.centerFromEnd(f,p):NaN}crossCheckHorizontal(o,a,u,d){const i=this.image,l=i.getWidth(),f=this.getCrossCheckStateCount();let p=o;for(;p>=0&&i.get(p,a);)f[2]++,p--;if(p<0)return NaN;for(;p>=0&&!i.get(p,a)&&f[1]<=u;)f[1]++,p--;if(p<0||f[1]>u)return NaN;for(;p>=0&&i.get(p,a)&&f[0]<=u;)f[0]++,p--;if(f[0]>u)return NaN;for(p=o+1;p<l&&i.get(p,a);)f[2]++,p++;if(p===l)return NaN;for(;p<l&&!i.get(p,a)&&f[3]<u;)f[3]++,p++;if(p===l||f[3]>=u)return NaN;for(;p<l&&i.get(p,a)&&f[4]<u;)f[4]++,p++;if(f[4]>=u)return NaN;const y=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(y-d)>=d?NaN:Mt.foundPatternCross(f)?Mt.centerFromEnd(f,p):NaN}handlePossibleCenter(o,a,u,d){const i=o[0]+o[1]+o[2]+o[3]+o[4];let l=Mt.centerFromEnd(o,u),f=this.crossCheckVertical(a,Math.floor(l),o[2],i);if(!isNaN(f)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(f),o[2],i),!isNaN(l)&&(!d||this.crossCheckDiagonal(Math.floor(f),Math.floor(l),o[2],i)))){const p=i/7;let y=!1;const v=this.possibleCenters;for(let S=0,A=v.length;S<A;S++){const O=v[S];if(O.aboutEquals(p,f,l)){v[S]=O.combineEstimate(f,l,p),y=!0;break}}if(!y){const S=new Ia(l,f,p);v.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const u of this.possibleCenters)if(u.getCount()>=Mt.CENTER_QUORUM)if(a==null)a=u;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-u.getX())-Math.abs(a.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,a=0;const u=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=Mt.CENTER_QUORUM&&(o++,a+=l.getEstimatedModuleSize());if(o<3)return!1;const d=a/u;let i=0;for(const l of this.possibleCenters)i+=Math.abs(l.getEstimatedModuleSize()-d);return i<=.05*a}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new ee;const a=this.possibleCenters;let u;if(o>3){let d=0,i=0;for(const p of this.possibleCenters){const y=p.getEstimatedModuleSize();d+=y,i+=y*y}u=d/o;let l=Math.sqrt(i/o-u*u);a.sort((p,y)=>{const v=Math.abs(y.getEstimatedModuleSize()-u),S=Math.abs(p.getEstimatedModuleSize()-u);return v<S?-1:v>S?1:0});const f=Math.max(.2*u,l);for(let p=0;p<a.length&&a.length>3;p++){const y=a[p];Math.abs(y.getEstimatedModuleSize()-u)>f&&(a.splice(p,1),p--)}}if(a.length>3){let d=0;for(const i of a)d+=i.getEstimatedModuleSize();u=d/a.length,a.sort((i,l)=>{if(l.getCount()===i.getCount()){const f=Math.abs(l.getEstimatedModuleSize()-u),p=Math.abs(i.getEstimatedModuleSize()-u);return f<p?1:f>p?-1:0}else return l.getCount()-i.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Mt.CENTER_QUORUM=2,Mt.MIN_SKIP=3,Mt.MAX_MODULES=57;class go{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(G.NEED_RESULT_POINT_CALLBACK);const u=new Mt(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(u)}processFinderPatternInfo(o){const a=o.getTopLeft(),u=o.getTopRight(),d=o.getBottomLeft(),i=this.calculateModuleSize(a,u,d);if(i<1)throw new ee("No pattern found in proccess finder.");const l=go.computeDimension(a,u,d,i),f=Xe.getProvisionalVersionForDimension(l),p=f.getDimensionForVersion()-7;let y=null;if(f.getAlignmentPatternCenters().length>0){const O=u.getX()-a.getX()+d.getX(),L=u.getY()-a.getY()+d.getY(),B=1-3/p,j=Math.floor(a.getX()+B*(O-a.getX())),U=Math.floor(a.getY()+B*(L-a.getY()));for(let W=4;W<=16;W<<=1)try{y=this.findAlignmentInRegion(i,j,U,W);break}catch(H){if(!(H instanceof ee))throw H}}const v=go.createTransform(a,u,d,y,l),S=go.sampleGrid(this.image,v,l);let A;return y===null?A=[d,a,u]:A=[d,a,u,y],new ii(S,A)}static createTransform(o,a,u,d,i){const l=i-3.5;let f,p,y,v;return d!==null?(f=d.getX(),p=d.getY(),y=l-3,v=y):(f=a.getX()-o.getX()+u.getX(),p=a.getY()-o.getY()+u.getY(),y=l,v=l),Kt.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,y,v,3.5,l,o.getX(),o.getY(),a.getX(),a.getY(),f,p,u.getX(),u.getY())}static sampleGrid(o,a,u){return Jn.getInstance().sampleGridWithTransform(o,u,u,a)}static computeDimension(o,a,u,d){const i=Ke.round(Pe.distance(o,a)/d),l=Ke.round(Pe.distance(o,u)/d);let f=Math.floor((i+l)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new ee("Dimensions could be not found.")}return f}calculateModuleSize(o,a,u){return(this.calculateModuleSizeOneWay(o,a)+this.calculateModuleSizeOneWay(o,u))/2}calculateModuleSizeOneWay(o,a){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(a.getX()),Math.floor(a.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(u)?d/7:isNaN(d)?u/7:(u+d)/14}sizeOfBlackWhiteBlackRunBothWays(o,a,u,d){let i=this.sizeOfBlackWhiteBlackRun(o,a,u,d),l=1,f=o-(u-o);f<0?(l=o/(o-f),f=0):f>=this.image.getWidth()&&(l=(this.image.getWidth()-1-o)/(f-o),f=this.image.getWidth()-1);let p=Math.floor(a-(d-a)*l);return l=1,p<0?(l=a/(a-p),p=0):p>=this.image.getHeight()&&(l=(this.image.getHeight()-1-a)/(p-a),p=this.image.getHeight()-1),f=Math.floor(o+(f-o)*l),i+=this.sizeOfBlackWhiteBlackRun(o,a,f,p),i-1}sizeOfBlackWhiteBlackRun(o,a,u,d){const i=Math.abs(d-a)>Math.abs(u-o);if(i){let O=o;o=a,a=O,O=u,u=d,d=O}const l=Math.abs(u-o),f=Math.abs(d-a);let p=-l/2;const y=o<u?1:-1,v=a<d?1:-1;let S=0;const A=u+y;for(let O=o,L=a;O!==A;O+=y){const B=i?L:O,j=i?O:L;if(S===1===this.image.get(B,j)){if(S===2)return Ke.distance(O,L,o,a);S++}if(p+=f,p>0){if(L===d)break;L+=v,p-=l}}return S===2?Ke.distance(u+y,d,o,a):NaN}findAlignmentInRegion(o,a,u,d){const i=Math.floor(d*o),l=Math.max(0,a-i),f=Math.min(this.image.getWidth()-1,a+i);if(f-l<o*3)throw new ee("Alignment top exceeds estimated module size.");const p=Math.max(0,u-i),y=Math.min(this.image.getHeight()-1,u+i);if(y-p<o*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Os(this.image,l,p,f-l,y-p,o,this.resultPointCallback).find()}}class xr{constructor(){this.decoder=new _a}getDecoder(){return this.decoder}decode(o,a){let u,d;if(a!=null&&a.get(G.PURE_BARCODE)!==void 0){const p=xr.extractPureBits(o.getBlackMatrix());u=this.decoder.decodeBitMatrix(p,a),d=xr.NO_POINTS}else{const p=new go(o.getBlackMatrix()).detect(a);u=this.decoder.decodeBitMatrix(p.getBits(),a),d=p.getPoints()}u.getOther()instanceof ui&&u.getOther().applyMirroredCorrection(d);const i=new _e(u.getText(),u.getRawBytes(),void 0,d,me.QR_CODE,void 0),l=u.getByteSegments();l!==null&&i.putMetadata(Le.BYTE_SEGMENTS,l);const f=u.getECLevel();return f!==null&&i.putMetadata(Le.ERROR_CORRECTION_LEVEL,f),u.hasStructuredAppend()&&(i.putMetadata(Le.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),i.putMetadata(Le.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),i}reset(){}static extractPureBits(o){const a=o.getTopLeftOnBit(),u=o.getBottomRightOnBit();if(a===null||u===null)throw new ee;const d=this.moduleSize(a,o);let i=a[1],l=u[1],f=a[0],p=u[0];if(f>=p||i>=l)throw new ee;if(l-i!==p-f&&(p=f+(l-i),p>=o.getWidth()))throw new ee;const y=Math.round((p-f+1)/d),v=Math.round((l-i+1)/d);if(y<=0||v<=0)throw new ee;if(v!==y)throw new ee;const S=Math.floor(d/2);i+=S,f+=S;const A=f+Math.floor((y-1)*d)-p;if(A>0){if(A>S)throw new ee;f-=A}const O=i+Math.floor((v-1)*d)-l;if(O>0){if(O>S)throw new ee;i-=O}const L=new he(y,v);for(let B=0;B<v;B++){const j=i+Math.floor(B*d);for(let U=0;U<y;U++)o.get(f+Math.floor(U*d),j)&&L.set(U,B)}return L}static moduleSize(o,a){const u=a.getHeight(),d=a.getWidth();let i=o[0],l=o[1],f=!0,p=0;for(;i<d&&l<u;){if(f!==a.get(i,l)){if(++p===5)break;f=!f}i++,l++}if(i===d||l===u)throw new ee;return(i-o[0])/7}}xr.NO_POINTS=new Array;class qe{PDF417Common(){}static getBitCountSum(o){return Ke.sum(o)}static toIntArray(o){if(o==null||!o.length)return qe.EMPTY_INT_ARRAY;const a=new Int32Array(o.length);let u=0;for(const d of o)a[u++]=d;return a}static getCodeword(o){const a=I.binarySearch(qe.SYMBOL_TABLE,o&262143);return a<0?-1:(qe.CODEWORD_TABLE[a]-1)%qe.NUMBER_OF_CODEWORDS}}qe.NUMBER_OF_CODEWORDS=929,qe.MAX_CODEWORDS_IN_BARCODE=qe.NUMBER_OF_CODEWORDS-1,qe.MIN_ROWS_IN_BARCODE=3,qe.MAX_ROWS_IN_BARCODE=90,qe.MODULES_IN_CODEWORD=17,qe.MODULES_IN_STOP_PATTERN=18,qe.BARS_IN_MODULE=8,qe.EMPTY_INT_ARRAY=new Int32Array([]),qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Bo{constructor(o,a){this.bits=o,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class it{static detectMultiple(o,a,u){let d=o.getBlackMatrix(),i=it.detect(u,d);return i.length||(d=d.clone(),d.rotate180(),i=it.detect(u,d)),new Bo(d,i)}static detect(o,a){const u=new Array;let d=0,i=0,l=!1;for(;d<a.getHeight();){const f=it.findVertices(a,d,i);if(f[0]==null&&f[3]==null){if(!l)break;l=!1,i=0;for(const p of u)p[1]!=null&&(d=Math.trunc(Math.max(d,p[1].getY()))),p[3]!=null&&(d=Math.max(d,Math.trunc(p[3].getY())));d+=it.ROW_STEP;continue}if(l=!0,u.push(f),!o)break;f[2]!=null?(i=Math.trunc(f[2].getX()),d=Math.trunc(f[2].getY())):(i=Math.trunc(f[4].getX()),d=Math.trunc(f[4].getY()))}return u}static findVertices(o,a,u){const d=o.getHeight(),i=o.getWidth(),l=new Array(8);return it.copyToResult(l,it.findRowsWithPattern(o,d,i,a,u,it.START_PATTERN),it.INDEXES_START_PATTERN),l[4]!=null&&(u=Math.trunc(l[4].getX()),a=Math.trunc(l[4].getY())),it.copyToResult(l,it.findRowsWithPattern(o,d,i,a,u,it.STOP_PATTERN),it.INDEXES_STOP_PATTERN),l}static copyToResult(o,a,u){for(let d=0;d<u.length;d++)o[u[d]]=a[d]}static findRowsWithPattern(o,a,u,d,i,l){const f=new Array(4);let p=!1;const y=new Int32Array(l.length);for(;d<a;d+=it.ROW_STEP){let S=it.findGuardPattern(o,i,d,u,!1,l,y);if(S!=null){for(;d>0;){const A=it.findGuardPattern(o,i,--d,u,!1,l,y);if(A!=null)S=A;else{d++;break}}f[0]=new Pe(S[0],d),f[1]=new Pe(S[1],d),p=!0;break}}let v=d+1;if(p){let S=0,A=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;v<a;v++){const O=it.findGuardPattern(o,A[0],v,u,!1,l,y);if(O!=null&&Math.abs(A[0]-O[0])<it.MAX_PATTERN_DRIFT&&Math.abs(A[1]-O[1])<it.MAX_PATTERN_DRIFT)A=O,S=0;else{if(S>it.SKIPPED_ROW_COUNT_MAX)break;S++}}v-=S+1,f[2]=new Pe(A[0],v),f[3]=new Pe(A[1],v)}return v-d<it.BARCODE_MIN_HEIGHT&&I.fill(f,null),f}static findGuardPattern(o,a,u,d,i,l,f){I.fillWithin(f,0,f.length,0);let p=a,y=0;for(;o.get(p,u)&&p>0&&y++<it.MAX_PIXEL_DRIFT;)p--;let v=p,S=0,A=l.length;for(let O=i;v<d;v++)if(o.get(v,u)!==O)f[S]++;else{if(S===A-1){if(it.patternMatchVariance(f,l,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return new Int32Array([p,v]);p+=f[0]+f[1],T.arraycopy(f,2,f,0,S-1),f[S-1]=0,f[S]=0,S--}else S++;f[S]=1,O=!O}return S===A-1&&it.patternMatchVariance(f,l,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE?new Int32Array([p,v-1]):null}static patternMatchVariance(o,a,u){let d=o.length,i=0,l=0;for(let y=0;y<d;y++)i+=o[y],l+=a[y];if(i<l)return 1/0;let f=i/l;u*=f;let p=0;for(let y=0;y<d;y++){let v=o[y],S=a[y]*f,A=v>S?v-S:S-v;if(A>u)return 1/0;p+=A}return p/i}}it.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),it.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),it.MAX_AVG_VARIANCE=.42,it.MAX_INDIVIDUAL_VARIANCE=.8,it.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),it.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),it.MAX_PIXEL_DRIFT=3,it.MAX_PATTERN_DRIFT=5,it.SKIPPED_ROW_COUNT_MAX=25,it.ROW_STEP=5,it.BARCODE_MIN_HEIGHT=10;class Bt{constructor(o,a){if(a.length===0)throw new C;this.field=o;let u=a.length;if(u>1&&a[0]===0){let d=1;for(;d<u&&a[d]===0;)d++;d===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-d),T.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let d=0;for(let i of this.coefficients)d=this.field.add(d,i);return d}let a=this.coefficients[0],u=this.coefficients.length;for(let d=1;d<u;d++)a=this.field.add(this.field.multiply(o,a),this.coefficients[d]);return a}add(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let a=this.coefficients,u=o.coefficients;if(a.length>u.length){let l=a;a=u,u=l}let d=new Int32Array(u.length),i=u.length-a.length;T.arraycopy(u,0,d,0,i);for(let l=i;l<u.length;l++)d[l]=this.field.add(a[l-i],u[l]);return new Bt(this.field,d)}subtract(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Bt?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Bt(this.field,new Int32Array([0]));let a=this.coefficients,u=a.length,d=o.coefficients,i=d.length,l=new Int32Array(u+i-1);for(let f=0;f<u;f++){let p=a[f];for(let y=0;y<i;y++)l[f+y]=this.field.add(l[f+y],this.field.multiply(p,d[y]))}return new Bt(this.field,l)}negative(){let o=this.coefficients.length,a=new Int32Array(o);for(let u=0;u<o;u++)a[u]=this.field.subtract(0,this.coefficients[u]);return new Bt(this.field,a)}multiplyScalar(o){if(o===0)return new Bt(this.field,new Int32Array([0]));if(o===1)return this;let a=this.coefficients.length,u=new Int32Array(a);for(let d=0;d<a;d++)u[d]=this.field.multiply(this.coefficients[d],o);return new Bt(this.field,u)}multiplyByMonomial(o,a){if(o<0)throw new C;if(a===0)return new Bt(this.field,new Int32Array([0]));let u=this.coefficients.length,d=new Int32Array(u+o);for(let i=0;i<u;i++)d[i]=this.field.multiply(this.coefficients[i],a);return new Bt(this.field,d)}toString(){let o=new we;for(let a=this.getDegree();a>=0;a--){let u=this.getCoefficient(a);u!==0&&(u<0?(o.append(" - "),u=-u):o.length()>0&&o.append(" + "),(a===0||u!==1)&&o.append(u),a!==0&&(a===1?o.append("x"):(o.append("x^"),o.append(a))))}return o.toString()}}class Vl{add(o,a){return(o+a)%this.modulus}subtract(o,a){return(this.modulus+o-a)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new C;return this.logTable[o]}inverse(o){if(o===0)throw new Ue;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,a){return o===0||a===0?0:this.expTable[(this.logTable[o]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Na extends Vl{constructor(o,a){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let u=1;for(let d=0;d<o;d++)this.expTable[d]=u,u=u*a%o;for(let d=0;d<o-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new Bt(this,new Int32Array([0])),this.one=new Bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,a){if(o<0)throw new C;if(a===0)return this.zero;let u=new Int32Array(o+1);return u[0]=a,new Bt(this,u)}}Na.PDF417_GF=new Na(qe.NUMBER_OF_CODEWORDS,3);class Oa{constructor(){this.field=Na.PDF417_GF}decode(o,a,u){let d=new Bt(this.field,o),i=new Int32Array(a),l=!1;for(let L=a;L>0;L--){let B=d.evaluateAt(this.field.exp(L));i[a-L]=B,B!==0&&(l=!0)}if(!l)return 0;let f=this.field.getOne();if(u!=null)for(const L of u){let B=this.field.exp(o.length-1-L),j=new Bt(this.field,new Int32Array([this.field.subtract(0,B),1]));f=f.multiply(j)}let p=new Bt(this.field,i),y=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),p,a),v=y[0],S=y[1],A=this.findErrorLocations(v),O=this.findErrorMagnitudes(S,v,A);for(let L=0;L<A.length;L++){let B=o.length-1-this.field.log(A[L]);if(B<0)throw _.getChecksumInstance();o[B]=this.field.subtract(o[B],O[L])}return A.length}runEuclideanAlgorithm(o,a,u){if(o.getDegree()<a.getDegree()){let A=o;o=a,a=A}let d=o,i=a,l=this.field.getZero(),f=this.field.getOne();for(;i.getDegree()>=Math.round(u/2);){let A=d,O=l;if(d=i,l=f,d.isZero())throw _.getChecksumInstance();i=A;let L=this.field.getZero(),B=d.getCoefficient(d.getDegree()),j=this.field.inverse(B);for(;i.getDegree()>=d.getDegree()&&!i.isZero();){let U=i.getDegree()-d.getDegree(),W=this.field.multiply(i.getCoefficient(i.getDegree()),j);L=L.add(this.field.buildMonomial(U,W)),i=i.subtract(d.multiplyByMonomial(U,W))}f=L.multiply(l).subtract(O).negative()}let p=f.getCoefficient(0);if(p===0)throw _.getChecksumInstance();let y=this.field.inverse(p),v=f.multiply(y),S=i.multiply(y);return[v,S]}findErrorLocations(o){let a=o.getDegree(),u=new Int32Array(a),d=0;for(let i=1;i<this.field.getSize()&&d<a;i++)o.evaluateAt(i)===0&&(u[d]=this.field.inverse(i),d++);if(d!==a)throw _.getChecksumInstance();return u}findErrorMagnitudes(o,a,u){let d=a.getDegree(),i=new Int32Array(d);for(let y=1;y<=d;y++)i[d-y]=this.field.multiply(y,a.getCoefficient(y));let l=new Bt(this.field,i),f=u.length,p=new Int32Array(f);for(let y=0;y<f;y++){let v=this.field.inverse(u[y]),S=this.field.subtract(0,o.evaluateAt(v)),A=this.field.inverse(l.evaluateAt(v));p[y]=this.field.multiply(S,A)}return p}}class _r{constructor(o,a,u,d,i){o instanceof _r?this.constructor_2(o):this.constructor_1(o,a,u,d,i)}constructor_1(o,a,u,d,i){const l=a==null||u==null,f=d==null||i==null;if(l&&f)throw new ee;l?(a=new Pe(0,d.getY()),u=new Pe(0,i.getY())):f&&(d=new Pe(o.getWidth()-1,a.getY()),i=new Pe(o.getWidth()-1,u.getY())),this.image=o,this.topLeft=a,this.bottomLeft=u,this.topRight=d,this.bottomRight=i,this.minX=Math.trunc(Math.min(a.getX(),u.getX())),this.maxX=Math.trunc(Math.max(d.getX(),i.getX())),this.minY=Math.trunc(Math.min(a.getY(),d.getY())),this.maxY=Math.trunc(Math.max(u.getY(),i.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,a){return o==null?a:a==null?o:new _r(o.image,o.topLeft,o.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(o,a,u){let d=this.topLeft,i=this.bottomLeft,l=this.topRight,f=this.bottomRight;if(o>0){let p=u?this.topLeft:this.topRight,y=Math.trunc(p.getY()-o);y<0&&(y=0);let v=new Pe(p.getX(),y);u?d=v:l=v}if(a>0){let p=u?this.bottomLeft:this.bottomRight,y=Math.trunc(p.getY()+a);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let v=new Pe(p.getX(),y);u?i=v:f=v}return new _r(this.image,d,i,l,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ql{constructor(o,a,u,d){this.columnCount=o,this.errorCorrectionLevel=d,this.rowCountUpperPart=a,this.rowCountLowerPart=u,this.rowCount=a+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Pi{constructor(){this.buffer=""}static form(o,a){let u=-1;function d(l,f,p,y,v,S){if(l==="%%")return"%";if(a[++u]===void 0)return;l=y?parseInt(y.substr(1)):void 0;let A=v?parseInt(v.substr(1)):void 0,O;switch(S){case"s":O=a[u];break;case"c":O=a[u][0];break;case"f":O=parseFloat(a[u]).toFixed(l);break;case"p":O=parseFloat(a[u]).toPrecision(l);break;case"e":O=parseFloat(a[u]).toExponential(l);break;case"x":O=parseInt(a[u]).toString(A||16);break;case"d":O=parseFloat(parseInt(a[u],A||10).toPrecision(l)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(A);let L=parseInt(p),B=p&&p[0]+""=="0"?"0":" ";for(;O.length<L;)O=f!==void 0?O+B:B+O;return O}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(i,d)}format(o,...a){this.buffer+=Pi.form(o,a)}toString(){return this.buffer}}class Ms{constructor(o){this.boundingBox=new _r(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let a=this.getCodeword(o);if(a!=null)return a;for(let u=1;u<Ms.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(o)-u;if(d>=0&&(a=this.codewords[d],a!=null)||(d=this.imageRowToCodewordIndex(o)+u,d<this.codewords.length&&(a=this.codewords[d],a!=null)))return a}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,a){this.codewords[this.imageRowToCodewordIndex(o)]=a}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Pi;let a=0;for(const u of this.codewords){if(u==null){o.format("%3d:    |   %n",a++);continue}o.format("%3d: %3d|%3d%n",a++,u.getRowNumber(),u.getValue())}return o.toString()}}Ms.MAX_NEARBY_DISTANCE=5;class yo{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let a=this.values.get(o);a==null&&(a=0),a++,this.values.set(o,a)}getValue(){let o=-1,a=new Array;for(const[u,d]of this.values.entries()){const i={getKey:()=>u,getValue:()=>d};i.getValue()>o?(o=i.getValue(),a=[],a.push(i.getKey())):i.getValue()===o&&a.push(i.getKey())}return qe.toIntArray(a)}getConfidence(o){return this.values.get(o)}}class Ou extends Ms{constructor(o,a){super(o),this._isLeft=a}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,o);let u=this.getBoundingBox(),d=this._isLeft?u.getTopLeft():u.getTopRight(),i=this._isLeft?u.getBottomLeft():u.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(d.getY())),f=this.imageRowToCodewordIndex(Math.trunc(i.getY())),p=-1,y=1,v=0;for(let S=l;S<f;S++){if(a[S]==null)continue;let A=a[S],O=A.getRowNumber()-p;if(O===0)v++;else if(O===1)y=Math.max(y,v),v=1,p=A.getRowNumber();else if(O<0||A.getRowNumber()>=o.getRowCount()||O>S)a[S]=null;else{let L;y>2?L=(y-2)*O:L=O;let B=L>=S;for(let j=1;j<=L&&!B;j++)B=a[S-j]!=null;B?a[S]=null:(p=A.getRowNumber(),v=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let a=new Int32Array(o.getRowCount());for(let u of this.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=a.length)continue;a[d]++}return a}adjustIncompleteIndicatorColumnRowNumbers(o){let a=this.getBoundingBox(),u=this._isLeft?a.getTopLeft():a.getTopRight(),d=this._isLeft?a.getBottomLeft():a.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(u.getY())),l=this.imageRowToCodewordIndex(Math.trunc(d.getY())),f=this.getCodewords(),p=-1;for(let y=i;y<l;y++){if(f[y]==null)continue;let v=f[y];v.setRowNumberAsRowIndicatorColumn();let S=v.getRowNumber()-p;S===0||(S===1?p=v.getRowNumber():v.getRowNumber()>=o.getRowCount()?f[y]=null:p=v.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),a=new yo,u=new yo,d=new yo,i=new yo;for(let f of o){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let p=f.getValue()%30,y=f.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:u.setValue(p*3+1);break;case 1:i.setValue(p/3),d.setValue(p%3);break;case 2:a.setValue(p+1);break}}if(a.getValue().length===0||u.getValue().length===0||d.getValue().length===0||i.getValue().length===0||a.getValue()[0]<1||u.getValue()[0]+d.getValue()[0]<qe.MIN_ROWS_IN_BARCODE||u.getValue()[0]+d.getValue()[0]>qe.MAX_ROWS_IN_BARCODE)return null;let l=new Ql(a.getValue()[0],u.getValue()[0],d.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(o,l),l}removeIncorrectCodewords(o,a){for(let u=0;u<o.length;u++){let d=o[u];if(o[u]==null)continue;let i=d.getValue()%30,l=d.getRowNumber();if(l>a.getRowCount()){o[u]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:i*3+1!==a.getRowCountUpperPart()&&(o[u]=null);break;case 1:(Math.trunc(i/3)!==a.getErrorCorrectionLevel()||i%3!==a.getRowCountLowerPart())&&(o[u]=null);break;case 2:i+1!==a.getColumnCount()&&(o[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ds{constructor(o,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=qe.MAX_CODEWORDS_IN_BARCODE,a;do a=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let u=this.detectionResultColumns[a].getCodewords();for(let d=0;d<u.length;d++)u[d]!=null&&(u[d].hasValidRowNumber()||this.adjustRowNumbers(a,d,u))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<o.length;u++)if(o[u]!=null&&a[u]!=null&&o[u].getRowNumber()===a[u].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let i=this.detectionResultColumns[d].getCodewords()[u];i!=null&&(i.setRowNumber(o[u].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++){if(a[u]==null)continue;let d=a[u].getRowNumber(),i=0;for(let l=this.barcodeColumnCount+1;l>0&&i<this.ADJUST_ROW_NUMBER_SKIP;l--){let f=this.detectionResultColumns[l].getCodewords()[u];f!=null&&(i=Ds.adjustRowNumberIfValid(d,i,f),f.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,a=this.detectionResultColumns[0].getCodewords();for(let u=0;u<a.length;u++){if(a[u]==null)continue;let d=a[u].getRowNumber(),i=0;for(let l=1;l<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;l++){let f=this.detectionResultColumns[l].getCodewords()[u];f!=null&&(i=Ds.adjustRowNumberIfValid(d,i,f),f.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,a,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(o)?(u.setRowNumber(o),a=0):++a),a}adjustRowNumbers(o,a,u){if(!this.detectionResultColumns[o-1])return;let d=u[a],i=this.detectionResultColumns[o-1].getCodewords(),l=i;this.detectionResultColumns[o+1]!=null&&(l=this.detectionResultColumns[o+1].getCodewords());let f=new Array(14);f[2]=i[a],f[3]=l[a],a>0&&(f[0]=u[a-1],f[4]=i[a-1],f[5]=l[a-1]),a>1&&(f[8]=u[a-2],f[10]=i[a-2],f[11]=l[a-2]),a<u.length-1&&(f[1]=u[a+1],f[6]=i[a+1],f[7]=l[a+1]),a<u.length-2&&(f[9]=u[a+2],f[12]=i[a+2],f[13]=l[a+2]);for(let p of f)if(Ds.adjustRowNumber(d,p))return}static adjustRowNumber(o,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===o.getBucket()?(o.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,a){this.detectionResultColumns[o]=a}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Pi;for(let u=0;u<o.getCodewords().length;u++){a.format("CW %3d:",u);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){a.format("    |   ");continue}let i=this.detectionResultColumns[d].getCodewords()[u];if(i==null){a.format("    |   ");continue}a.format(" %3d|%3d",i.getRowNumber(),i.getValue())}a.format("%n")}return a.toString()}}class Fo{constructor(o,a,u,d){this.rowNumber=Fo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(a),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Fo.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Fo.BARCODE_ROW_UNKNOWN=-1;class Rn{static initialize(){for(let o=0;o<qe.SYMBOL_TABLE.length;o++){let a=qe.SYMBOL_TABLE[o],u=a&1;for(let d=0;d<qe.BARS_IN_MODULE;d++){let i=0;for(;(a&1)===u;)i+=1,a>>=1;u=a&1,Rn.RATIOS_TABLE[o]||(Rn.RATIOS_TABLE[o]=new Array(qe.BARS_IN_MODULE)),Rn.RATIOS_TABLE[o][qe.BARS_IN_MODULE-d-1]=Math.fround(i/qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let a=Rn.getDecodedCodewordValue(Rn.sampleBitCounts(o));return a!==-1?a:Rn.getClosestDecodedValue(o)}static sampleBitCounts(o){let a=Ke.sum(o),u=new Int32Array(qe.BARS_IN_MODULE),d=0,i=0;for(let l=0;l<qe.MODULES_IN_CODEWORD;l++){let f=a/(2*qe.MODULES_IN_CODEWORD)+l*a/qe.MODULES_IN_CODEWORD;i+o[d]<=f&&(i+=o[d],d++),u[d]++}return u}static getDecodedCodewordValue(o){let a=Rn.getBitValue(o);return qe.getCodeword(a)===-1?-1:a}static getBitValue(o){let a=0;for(let u=0;u<o.length;u++)for(let d=0;d<o[u];d++)a=a<<1|(u%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(o){let a=Ke.sum(o),u=new Array(qe.BARS_IN_MODULE);if(a>1)for(let l=0;l<u.length;l++)u[l]=Math.fround(o[l]/a);let d=qn.MAX_VALUE,i=-1;this.bSymbolTableReady||Rn.initialize();for(let l=0;l<Rn.RATIOS_TABLE.length;l++){let f=0,p=Rn.RATIOS_TABLE[l];for(let y=0;y<qe.BARS_IN_MODULE;y++){let v=Math.fround(p[y]-u[y]);if(f+=Math.fround(v*v),f>=d)break}f<d&&(d=f,i=qe.SYMBOL_TABLE[l])}return i}}Rn.bSymbolTableReady=!1,Rn.RATIOS_TABLE=new Array(qe.SYMBOL_TABLE.length).map(k=>new Array(qe.BARS_IN_MODULE));class Ma{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Mu{static parseLong(o,a=void 0){return parseInt(o,a)}}class Du extends g{}Du.kind="NullPointerException";class _0{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,a,u){if(o==null)throw new Du;if(a<0||a>o.length||u<0||a+u>o.length||a+u<0)throw new P;if(u===0)return;for(let d=0;d<u;d++)this.write(o[a+d])}flush(){}close(){}}class Gl extends g{}class Zl extends _0{constructor(o=32){if(super(),this.count=0,o<0)throw new C("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let u=this.buf.length<<1;if(u-o<0&&(u=o),u<0){if(o<0)throw new Gl;u=D.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,u)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,a,u){if(a<0||a>o.length||u<0||a+u-o.length>0)throw new P;this.ensureCapacity(this.count+u),T.arraycopy(o,a,this.buf,this.count,u),this.count+=u}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var It;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(It||(It={}));function ks(){if(typeof window<"u")return window.BigInt||null;if(typeof vi<"u")return vi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let di;function Ir(k){if(typeof di>"u"&&(di=ks()),di===null)throw new Error("BigInt is not supported!");return di(k)}function ku(){let k=[];k[0]=Ir(1);let o=Ir(900);k[1]=o;for(let a=2;a<16;a++)k[a]=k[a-1]*o;return k}class le{static decode(o,a){let u=new we(""),d=Q.ISO8859_1;u.enableDecoding(d);let i=1,l=o[i++],f=new Ma;for(;i<o[0];){switch(l){case le.TEXT_COMPACTION_MODE_LATCH:i=le.textCompaction(o,i,u);break;case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:i=le.byteCompaction(l,o,d,i,u);break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[i++]);break;case le.NUMERIC_COMPACTION_MODE_LATCH:i=le.numericCompaction(o,i,u);break;case le.ECI_CHARSET:Q.getCharacterSetECIByValue(o[i++]);break;case le.ECI_GENERAL_PURPOSE:i+=2;break;case le.ECI_USER_DEFINED:i++;break;case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=le.decodeMacroBlock(o,i,f);break;case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:throw new z;default:i--,i=le.textCompaction(o,i,u);break}if(i<o.length)l=o[i++];else throw z.getFormatInstance()}if(u.length()===0)throw z.getFormatInstance();let p=new Se(null,u.toString(),null,a);return p.setOther(f),p}static decodeMacroBlock(o,a,u){if(a+le.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw z.getFormatInstance();let d=new Int32Array(le.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<le.NUMBER_OF_SEQUENCE_CODEWORDS;f++,a++)d[f]=o[a];u.setSegmentIndex(D.parseInt(le.decodeBase900toBase10(d,le.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new we;a=le.textCompaction(o,a,i),u.setFileId(i.toString());let l=-1;for(o[a]===le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=a+1);a<o[0];)switch(o[a]){case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,o[a]){case le.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new we;a=le.textCompaction(o,a+1,f),u.setFileName(f.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new we;a=le.textCompaction(o,a+1,p),u.setSender(p.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new we;a=le.textCompaction(o,a+1,y),u.setAddressee(y.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let v=new we;a=le.numericCompaction(o,a+1,v),u.setSegmentCount(D.parseInt(v.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new we;a=le.numericCompaction(o,a+1,S),u.setTimestamp(Mu.parseLong(S.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new we;a=le.numericCompaction(o,a+1,A),u.setChecksum(D.parseInt(A.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new we;a=le.numericCompaction(o,a+1,O),u.setFileSize(Mu.parseLong(O.toString()));break;default:throw z.getFormatInstance()}break;case le.MACRO_PDF417_TERMINATOR:a++,u.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(l!==-1){let f=a-l;u.isLastSegment()&&f--,u.setOptionalData(I.copyOfRange(o,l,l+f))}return a}static textCompaction(o,a,u){let d=new Int32Array((o[0]-a)*2),i=new Int32Array((o[0]-a)*2),l=0,f=!1;for(;a<o[0]&&!f;){let p=o[a++];if(p<le.TEXT_COMPACTION_MODE_LATCH)d[l]=p/30,d[l+1]=p%30,l+=2;else switch(p){case le.TEXT_COMPACTION_MODE_LATCH:d[l++]=le.TEXT_COMPACTION_MODE_LATCH;break;case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:a--,f=!0;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[l]=le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=o[a++],i[l]=p,l++;break}}return le.decodeTextCompaction(d,i,l,u),a}static decodeTextCompaction(o,a,u,d){let i=It.ALPHA,l=It.ALPHA,f=0;for(;f<u;){let p=o[f],y="";switch(i){case It.ALPHA:if(p<26)y=String.fromCharCode(65+p);else switch(p){case 26:y=" ";break;case le.LL:i=It.LOWER;break;case le.ML:i=It.MIXED;break;case le.PS:l=i,i=It.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case le.TEXT_COMPACTION_MODE_LATCH:i=It.ALPHA;break}break;case It.LOWER:if(p<26)y=String.fromCharCode(97+p);else switch(p){case 26:y=" ";break;case le.AS:l=i,i=It.ALPHA_SHIFT;break;case le.ML:i=It.MIXED;break;case le.PS:l=i,i=It.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case le.TEXT_COMPACTION_MODE_LATCH:i=It.ALPHA;break}break;case It.MIXED:if(p<le.PL)y=le.MIXED_CHARS[p];else switch(p){case le.PL:i=It.PUNCT;break;case 26:y=" ";break;case le.LL:i=It.LOWER;break;case le.AL:i=It.ALPHA;break;case le.PS:l=i,i=It.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case le.TEXT_COMPACTION_MODE_LATCH:i=It.ALPHA;break}break;case It.PUNCT:if(p<le.PAL)y=le.PUNCT_CHARS[p];else switch(p){case le.PAL:i=It.ALPHA;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case le.TEXT_COMPACTION_MODE_LATCH:i=It.ALPHA;break}break;case It.ALPHA_SHIFT:if(i=l,p<26)y=String.fromCharCode(65+p);else switch(p){case 26:y=" ";break;case le.TEXT_COMPACTION_MODE_LATCH:i=It.ALPHA;break}break;case It.PUNCT_SHIFT:if(i=l,p<le.PAL)y=le.PUNCT_CHARS[p];else switch(p){case le.PAL:i=It.ALPHA;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case le.TEXT_COMPACTION_MODE_LATCH:i=It.ALPHA;break}break}y!==""&&d.append(y),f++}}static byteCompaction(o,a,u,d,i){let l=new Zl,f=0,p=0,y=!1;switch(o){case le.BYTE_COMPACTION_MODE_LATCH:let v=new Int32Array(6),S=a[d++];for(;d<a[0]&&!y;)switch(v[f++]=S,p=900*p+S,S=a[d++],S){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:d--,y=!0;break;default:if(f%5===0&&f>0){for(let A=0;A<6;++A)l.write(Number(Ir(p)>>Ir(8*(5-A))));p=0,f=0}break}d===a[0]&&S<le.TEXT_COMPACTION_MODE_LATCH&&(v[f++]=S);for(let A=0;A<f;A++)l.write(v[A]);break;case le.BYTE_COMPACTION_MODE_LATCH_6:for(;d<a[0]&&!y;){let A=a[d++];if(A<le.TEXT_COMPACTION_MODE_LATCH)f++,p=900*p+A;else switch(A){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:d--,y=!0;break}if(f%5===0&&f>0){for(let O=0;O<6;++O)l.write(Number(Ir(p)>>Ir(8*(5-O))));p=0,f=0}}break}return i.append(fe.decode(l.toByteArray(),u)),d}static numericCompaction(o,a,u){let d=0,i=!1,l=new Int32Array(le.MAX_NUMERIC_CODEWORDS);for(;a<o[0]&&!i;){let f=o[a++];if(a===o[0]&&(i=!0),f<le.TEXT_COMPACTION_MODE_LATCH)l[d]=f,d++;else switch(f){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:a--,i=!0;break}(d%le.MAX_NUMERIC_CODEWORDS===0||f===le.NUMERIC_COMPACTION_MODE_LATCH||i)&&d>0&&(u.append(le.decodeBase900toBase10(l,d)),d=0)}return a}static decodeBase900toBase10(o,a){let u=Ir(0);for(let i=0;i<a;i++)u+=le.EXP900[a-i-1]*Ir(o[i]);let d=u.toString();if(d.charAt(0)!=="1")throw new z;return d.substring(1)}}le.TEXT_COMPACTION_MODE_LATCH=900,le.BYTE_COMPACTION_MODE_LATCH=901,le.NUMERIC_COMPACTION_MODE_LATCH=902,le.BYTE_COMPACTION_MODE_LATCH_6=924,le.ECI_USER_DEFINED=925,le.ECI_GENERAL_PURPOSE=926,le.ECI_CHARSET=927,le.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,le.MACRO_PDF417_TERMINATOR=922,le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,le.MAX_NUMERIC_CODEWORDS=15,le.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,le.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,le.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,le.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,le.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,le.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,le.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,le.PL=25,le.LL=27,le.AS=27,le.ML=28,le.AL=28,le.PS=29,le.PAL=29,le.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,le.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",le.EXP900=ks()?ku():[],le.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rt{constructor(){}static decode(o,a,u,d,i,l,f){let p=new _r(o,a,u,d,i),y=null,v=null,S;for(let L=!0;;L=!1){if(a!=null&&(y=rt.getRowIndicatorColumn(o,p,a,!0,l,f)),d!=null&&(v=rt.getRowIndicatorColumn(o,p,d,!1,l,f)),S=rt.merge(y,v),S==null)throw ee.getNotFoundInstance();let B=S.getBoundingBox();if(L&&B!=null&&(B.getMinY()<p.getMinY()||B.getMaxY()>p.getMaxY()))p=B;else break}S.setBoundingBox(p);let A=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,y),S.setDetectionResultColumn(A,v);let O=y!=null;for(let L=1;L<=A;L++){let B=O?L:A-L;if(S.getDetectionResultColumn(B)!==void 0)continue;let j;B===0||B===A?j=new Ou(p,B===0):j=new Ms(p),S.setDetectionResultColumn(B,j);let U=-1,W=U;for(let H=p.getMinY();H<=p.getMaxY();H++){if(U=rt.getStartColumn(S,B,H,O),U<0||U>p.getMaxX()){if(W===-1)continue;U=W}let V=rt.detectCodeword(o,p.getMinX(),p.getMaxX(),O,U,H,l,f);V!=null&&(j.setCodeword(H,V),W=U,l=Math.min(l,V.getWidth()),f=Math.max(f,V.getWidth()))}}return rt.createDecoderResult(S)}static merge(o,a){if(o==null&&a==null)return null;let u=rt.getBarcodeMetadata(o,a);if(u==null)return null;let d=_r.merge(rt.adjustBoundingBox(o),rt.adjustBoundingBox(a));return new Ds(u,d)}static adjustBoundingBox(o){if(o==null)return null;let a=o.getRowHeights();if(a==null)return null;let u=rt.getMax(a),d=0;for(let f of a)if(d+=u-f,f>0)break;let i=o.getCodewords();for(let f=0;d>0&&i[f]==null;f++)d--;let l=0;for(let f=a.length-1;f>=0&&(l+=u-a[f],!(a[f]>0));f--);for(let f=i.length-1;l>0&&i[f]==null;f--)l--;return o.getBoundingBox().addMissingRows(d,l,o.isLeft())}static getMax(o){let a=-1;for(let u of o)a=Math.max(a,u);return a}static getBarcodeMetadata(o,a){let u;if(o==null||(u=o.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let d;return a==null||(d=a.getBarcodeMetadata())==null?u:u.getColumnCount()!==d.getColumnCount()&&u.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&u.getRowCount()!==d.getRowCount()?null:u}static getRowIndicatorColumn(o,a,u,d,i,l){let f=new Ou(a,d);for(let p=0;p<2;p++){let y=p===0?1:-1,v=Math.trunc(Math.trunc(u.getX()));for(let S=Math.trunc(Math.trunc(u.getY()));S<=a.getMaxY()&&S>=a.getMinY();S+=y){let A=rt.detectCodeword(o,0,o.getWidth(),d,v,S,i,l);A!=null&&(f.setCodeword(S,A),d?v=A.getStartX():v=A.getEndX())}}return f}static adjustCodewordCount(o,a){let u=a[0][1],d=u.getValue(),i=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-rt.getNumberOfECCodeWords(o.getBarcodeECLevel());if(d.length===0){if(i<1||i>qe.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();u.setValue(i)}else d[0]!==i&&u.setValue(i)}static createDecoderResult(o){let a=rt.createBarcodeMatrix(o);rt.adjustCodewordCount(o,a);let u=new Array,d=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),i=[],l=new Array;for(let p=0;p<o.getBarcodeRowCount();p++)for(let y=0;y<o.getBarcodeColumnCount();y++){let v=a[p][y+1].getValue(),S=p*o.getBarcodeColumnCount()+y;v.length===0?u.push(S):v.length===1?d[S]=v[0]:(l.push(S),i.push(v))}let f=new Array(i.length);for(let p=0;p<f.length;p++)f[p]=i[p];return rt.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),d,qe.toIntArray(u),qe.toIntArray(l),f)}static createDecoderResultFromAmbiguousValues(o,a,u,d,i){let l=new Int32Array(d.length),f=100;for(;f-- >0;){for(let p=0;p<l.length;p++)a[d[p]]=i[p][l[p]];try{return rt.decodeCodewords(a,o,u)}catch(p){if(!(p instanceof _))throw p}if(l.length===0)throw _.getChecksumInstance();for(let p=0;p<l.length;p++)if(l[p]<i[p].length-1){l[p]++;break}else if(l[p]=0,p===l.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(o){let a=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let d=0;d<a.length;d++)for(let i=0;i<a[d].length;i++)a[d][i]=new yo;let u=0;for(let d of o.getDetectionResultColumns()){if(d!=null){for(let i of d.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=0){if(l>=a.length)continue;a[l][u].setValue(i.getValue())}}}u++}return a}static isValidBarcodeColumn(o,a){return a>=0&&a<=o.getBarcodeColumnCount()+1}static getStartColumn(o,a,u,d){let i=d?1:-1,l=null;if(rt.isValidBarcodeColumn(o,a-i)&&(l=o.getDetectionResultColumn(a-i).getCodeword(u)),l!=null)return d?l.getEndX():l.getStartX();if(l=o.getDetectionResultColumn(a).getCodewordNearby(u),l!=null)return d?l.getStartX():l.getEndX();if(rt.isValidBarcodeColumn(o,a-i)&&(l=o.getDetectionResultColumn(a-i).getCodewordNearby(u)),l!=null)return d?l.getEndX():l.getStartX();let f=0;for(;rt.isValidBarcodeColumn(o,a-i);){a-=i;for(let p of o.getDetectionResultColumn(a).getCodewords())if(p!=null)return(d?p.getEndX():p.getStartX())+i*f*(p.getEndX()-p.getStartX());f++}return d?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,a,u,d,i,l,f,p){i=rt.adjustCodewordStartColumn(o,a,u,d,i,l);let y=rt.getModuleBitCount(o,a,u,d,i,l);if(y==null)return null;let v,S=Ke.sum(y);if(d)v=i+S;else{for(let L=0;L<y.length/2;L++){let B=y[L];y[L]=y[y.length-1-L],y[y.length-1-L]=B}v=i,i=v-S}if(!rt.checkCodewordSkew(S,f,p))return null;let A=Rn.getDecodedValue(y),O=qe.getCodeword(A);return O===-1?null:new Fo(i,v,rt.getCodewordBucketNumber(A),O)}static getModuleBitCount(o,a,u,d,i,l){let f=i,p=new Int32Array(8),y=0,v=d?1:-1,S=d;for(;(d?f<u:f>=a)&&y<p.length;)o.get(f,l)===S?(p[y]++,f+=v):(y++,S=!S);return y===p.length||f===(d?u:a)&&y===p.length-1?p:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,a,u,d,i,l){let f=i,p=d?-1:1;for(let y=0;y<2;y++){for(;(d?f>=a:f<u)&&d===o.get(f,l);){if(Math.abs(i-f)>rt.CODEWORD_SKEW_SIZE)return i;f+=p}p=-p,d=!d}return f}static checkCodewordSkew(o,a,u){return a-rt.CODEWORD_SKEW_SIZE<=o&&o<=u+rt.CODEWORD_SKEW_SIZE}static decodeCodewords(o,a,u){if(o.length===0)throw z.getFormatInstance();let d=1<<a+1,i=rt.correctErrors(o,u,d);rt.verifyCodewordCount(o,d);let l=le.decode(o,""+a);return l.setErrorsCorrected(i),l.setErasures(u.length),l}static correctErrors(o,a,u){if(a!=null&&a.length>u/2+rt.MAX_ERRORS||u<0||u>rt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return rt.errorCorrection.decode(o,u,a)}static verifyCodewordCount(o,a){if(o.length<4)throw z.getFormatInstance();let u=o[0];if(u>o.length)throw z.getFormatInstance();if(u===0)if(a<o.length)o[0]=o.length-a;else throw z.getFormatInstance()}static getBitCountForCodeword(o){let a=new Int32Array(8),u=0,d=a.length-1;for(;!((o&1)!==u&&(u=o&1,d--,d<0));)a[d]++,o>>=1;return a}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return rt.getCodewordBucketNumber(rt.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let a=new Pi;for(let u=0;u<o.length;u++){a.format("Row %2d: ",u);for(let d=0;d<o[u].length;d++){let i=o[u][d];i.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}a.format("%n")}return a.toString()}}rt.CODEWORD_SKEW_SIZE=2,rt.MAX_ERRORS=3,rt.MAX_EC_CODEWORDS=512,rt.errorCorrection=new Oa;class pn{decode(o,a=null){let u=pn.decode(o,a,!1);if(u==null||u.length===0||u[0]==null)throw ee.getNotFoundInstance();return u[0]}decodeMultiple(o,a=null){try{return pn.decode(o,a,!0)}catch(u){throw u instanceof z||u instanceof _?ee.getNotFoundInstance():u}}static decode(o,a,u){const d=new Array,i=it.detectMultiple(o,a,u);for(const l of i.getPoints()){const f=rt.decode(i.getBits(),l[4],l[5],l[6],l[7],pn.getMinCodewordWidth(l),pn.getMaxCodewordWidth(l)),p=new _e(f.getText(),f.getRawBytes(),void 0,l,me.PDF_417);p.putMetadata(Le.ERROR_CORRECTION_LEVEL,f.getECLevel());const y=f.getOther();y!=null&&p.putMetadata(Le.PDF417_EXTRA_METADATA,y),d.push(p)}return d.map(l=>l)}static getMaxWidth(o,a){return o==null||a==null?0:Math.trunc(Math.abs(o.getX()-a.getX()))}static getMinWidth(o,a){return o==null||a==null?D.MAX_VALUE:Math.trunc(Math.abs(o.getX()-a.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(pn.getMaxWidth(o[0],o[4]),pn.getMaxWidth(o[6],o[2])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(o[1],o[5]),pn.getMaxWidth(o[7],o[3])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(pn.getMinWidth(o[0],o[4]),pn.getMinWidth(o[6],o[2])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(o[1],o[5]),pn.getMinWidth(o[7],o[3])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Li extends g{}Li.kind="ReaderException";class Da{constructor(o,a){this.verbose=o===!0,a&&this.setHints(a)}decode(o,a){return a&&this.setHints(a),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const a=!r(o)&&o.get(G.TRY_HARDER)===!0,u=r(o)?null:o.get(G.POSSIBLE_FORMATS),d=new Array;if(!r(u)){const i=u.some(l=>l===me.UPC_A||l===me.UPC_E||l===me.EAN_13||l===me.EAN_8||l===me.CODABAR||l===me.CODE_39||l===me.CODE_93||l===me.CODE_128||l===me.ITF||l===me.RSS_14||l===me.RSS_EXPANDED);i&&!a&&d.push(new Lo(o,this.verbose)),u.includes(me.QR_CODE)&&d.push(new xr),u.includes(me.DATA_MATRIX)&&d.push(new nr),u.includes(me.AZTEC)&&d.push(new ho),u.includes(me.PDF_417)&&d.push(new pn),i&&a&&d.push(new Lo(o,this.verbose))}d.length===0&&(a||d.push(new Lo(o,this.verbose)),d.push(new xr),d.push(new nr),d.push(new ho),d.push(new pn),a&&d.push(new Lo(o,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new Li("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(o,this.hints)}catch(u){if(u instanceof Li)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class $l extends ge{constructor(o=null,a=500){const u=new Da;u.setHints(o),super(u,a)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class In extends ge{constructor(o=500){super(new pn,o)}}class Ps extends ge{constructor(o=500){super(new xr,o)}}var fi;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(fi||(fi={}));var sn=fi;class ji{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new He(o,Int32Array.from([1])))}buildGenerator(o){const a=this.cachedGenerators;if(o>=a.length){let u=a[a.length-1];const d=this.field;for(let i=a.length;i<=o;i++){const l=u.multiply(new He(d,Int32Array.from([1,d.exp(i-1+d.getGeneratorBase())])));a.push(l),u=l}}return a[o]}encode(o,a){if(a===0)throw new C("No error correction bytes");const u=o.length-a;if(u<=0)throw new C("No data bytes provided");const d=this.buildGenerator(a),i=new Int32Array(u);T.arraycopy(o,0,i,0,u);let l=new He(this.field,i);l=l.multiplyByMonomial(a,1);const p=l.divide(d)[1].getCoefficients(),y=a-p.length;for(let v=0;v<y;v++)o[u+v]=0;T.arraycopy(p,0,o,u+y,p.length)}}class Wt{constructor(){}static applyMaskPenaltyRule1(o){return Wt.applyMaskPenaltyRule1Internal(o,!0)+Wt.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let a=0;const u=o.getArray(),d=o.getWidth(),i=o.getHeight();for(let l=0;l<i-1;l++){const f=u[l];for(let p=0;p<d-1;p++){const y=f[p];y===f[p+1]&&y===u[l+1][p]&&y===u[l+1][p+1]&&a++}}return Wt.N2*a}static applyMaskPenaltyRule3(o){let a=0;const u=o.getArray(),d=o.getWidth(),i=o.getHeight();for(let l=0;l<i;l++)for(let f=0;f<d;f++){const p=u[l];f+6<d&&p[f]===1&&p[f+1]===0&&p[f+2]===1&&p[f+3]===1&&p[f+4]===1&&p[f+5]===0&&p[f+6]===1&&(Wt.isWhiteHorizontal(p,f-4,f)||Wt.isWhiteHorizontal(p,f+7,f+11))&&a++,l+6<i&&u[l][f]===1&&u[l+1][f]===0&&u[l+2][f]===1&&u[l+3][f]===1&&u[l+4][f]===1&&u[l+5][f]===0&&u[l+6][f]===1&&(Wt.isWhiteVertical(u,f,l-4,l)||Wt.isWhiteVertical(u,f,l+7,l+11))&&a++}return a*Wt.N3}static isWhiteHorizontal(o,a,u){a=Math.max(a,0),u=Math.min(u,o.length);for(let d=a;d<u;d++)if(o[d]===1)return!1;return!0}static isWhiteVertical(o,a,u,d){u=Math.max(u,0),d=Math.min(d,o.length);for(let i=u;i<d;i++)if(o[i][a]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let a=0;const u=o.getArray(),d=o.getWidth(),i=o.getHeight();for(let p=0;p<i;p++){const y=u[p];for(let v=0;v<d;v++)y[v]===1&&a++}const l=o.getHeight()*o.getWidth();return Math.floor(Math.abs(a*2-l)*10/l)*Wt.N4}static getDataMaskBit(o,a,u){let d,i;switch(o){case 0:d=u+a&1;break;case 1:d=u&1;break;case 2:d=a%3;break;case 3:d=(u+a)%3;break;case 4:d=Math.floor(u/2)+Math.floor(a/3)&1;break;case 5:i=u*a,d=(i&1)+i%3;break;case 6:i=u*a,d=(i&1)+i%3&1;break;case 7:i=u*a,d=i%3+(u+a&1)&1;break;default:throw new C("Invalid mask pattern: "+o)}return d===0}static applyMaskPenaltyRule1Internal(o,a){let u=0;const d=a?o.getHeight():o.getWidth(),i=a?o.getWidth():o.getHeight(),l=o.getArray();for(let f=0;f<d;f++){let p=0,y=-1;for(let v=0;v<i;v++){const S=a?l[f][v]:l[v][f];S===y?p++:(p>=5&&(u+=Wt.N1+(p-5)),p=1,y=S)}p>=5&&(u+=Wt.N1+(p-5))}return u}}Wt.N1=3,Wt.N2=3,Wt.N3=40,Wt.N4=10;class Ls{constructor(o,a){this.width=o,this.height=a;const u=new Array(a);for(let d=0;d!==a;d++)u[d]=new Uint8Array(o);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(o,a){return this.bytes[a][o]}getArray(){return this.bytes}setNumber(o,a,u){this.bytes[a][o]=u}setBoolean(o,a,u){this.bytes[a][o]=u?1:0}clear(o){for(const a of this.bytes)I.fill(a,o)}equals(o){if(!(o instanceof Ls))return!1;const a=o;if(this.width!==a.width||this.height!==a.height)return!1;for(let u=0,d=this.height;u<d;++u){const i=this.bytes[u],l=a.bytes[u];for(let f=0,p=this.width;f<p;++f)if(i[f]!==l[f])return!1}return!0}toString(){const o=new we;for(let a=0,u=this.height;a<u;++a){const d=this.bytes[a];for(let i=0,l=this.width;i<l;++i)switch(d[i]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class $r{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new we;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<$r.NUM_MASK_PATTERNS}}$r.NUM_MASK_PATTERNS=8;class Nt extends g{}Nt.kind="WriterException";class We{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,a,u,d,i){We.clearMatrix(i),We.embedBasicPatterns(u,i),We.embedTypeInfo(a,d,i),We.maybeEmbedVersionInfo(u,i),We.embedDataBits(o,d,i)}static embedBasicPatterns(o,a){We.embedPositionDetectionPatternsAndSeparators(a),We.embedDarkDotAtLeftBottomCorner(a),We.maybeEmbedPositionAdjustmentPatterns(o,a),We.embedTimingPatterns(a)}static embedTypeInfo(o,a,u){const d=new F;We.makeTypeInfoBits(o,a,d);for(let i=0,l=d.getSize();i<l;++i){const f=d.get(d.getSize()-1-i),p=We.TYPE_INFO_COORDINATES[i],y=p[0],v=p[1];if(u.setBoolean(y,v,f),i<8){const S=u.getWidth()-i-1;u.setBoolean(S,8,f)}else{const A=u.getHeight()-7+(i-8);u.setBoolean(8,A,f)}}}static maybeEmbedVersionInfo(o,a){if(o.getVersionNumber()<7)return;const u=new F;We.makeVersionInfoBits(o,u);let d=6*3-1;for(let i=0;i<6;++i)for(let l=0;l<3;++l){const f=u.get(d);d--,a.setBoolean(i,a.getHeight()-11+l,f),a.setBoolean(a.getHeight()-11+l,i,f)}}static embedDataBits(o,a,u){let d=0,i=-1,l=u.getWidth()-1,f=u.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);f>=0&&f<u.getHeight();){for(let p=0;p<2;++p){const y=l-p;if(!We.isEmpty(u.get(y,f)))continue;let v;d<o.getSize()?(v=o.get(d),++d):v=!1,a!==255&&Wt.getDataMaskBit(a,y,f)&&(v=!v),u.setBoolean(y,f,v)}f+=i}i=-i,f+=i,l-=2}if(d!==o.getSize())throw new Nt("Not all bits consumed: "+d+"/"+o.getSize())}static findMSBSet(o){return 32-D.numberOfLeadingZeros(o)}static calculateBCHCode(o,a){if(a===0)throw new C("0 polynomial");const u=We.findMSBSet(a);for(o<<=u-1;We.findMSBSet(o)>=u;)o^=a<<We.findMSBSet(o)-u;return o}static makeTypeInfoBits(o,a,u){if(!$r.isValidMaskPattern(a))throw new Nt("Invalid mask pattern");const d=o.getBits()<<3|a;u.appendBits(d,5);const i=We.calculateBCHCode(d,We.TYPE_INFO_POLY);u.appendBits(i,10);const l=new F;if(l.appendBits(We.TYPE_INFO_MASK_PATTERN,15),u.xor(l),u.getSize()!==15)throw new Nt("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(o,a){a.appendBits(o.getVersionNumber(),6);const u=We.calculateBCHCode(o.getVersionNumber(),We.VERSION_INFO_POLY);if(a.appendBits(u,12),a.getSize()!==18)throw new Nt("should not happen but we got: "+a.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let a=8;a<o.getWidth()-8;++a){const u=(a+1)%2;We.isEmpty(o.get(a,6))&&o.setNumber(a,6,u),We.isEmpty(o.get(6,a))&&o.setNumber(6,a,u)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new Nt;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,a,u){for(let d=0;d<8;++d){if(!We.isEmpty(u.get(o+d,a)))throw new Nt;u.setNumber(o+d,a,0)}}static embedVerticalSeparationPattern(o,a,u){for(let d=0;d<7;++d){if(!We.isEmpty(u.get(o,a+d)))throw new Nt;u.setNumber(o,a+d,0)}}static embedPositionAdjustmentPattern(o,a,u){for(let d=0;d<5;++d){const i=We.POSITION_ADJUSTMENT_PATTERN[d];for(let l=0;l<5;++l)u.setNumber(o+l,a+d,i[l])}}static embedPositionDetectionPattern(o,a,u){for(let d=0;d<7;++d){const i=We.POSITION_DETECTION_PATTERN[d];for(let l=0;l<7;++l)u.setNumber(o+l,a+d,i[l])}}static embedPositionDetectionPatternsAndSeparators(o){const a=We.POSITION_DETECTION_PATTERN[0].length;We.embedPositionDetectionPattern(0,0,o),We.embedPositionDetectionPattern(o.getWidth()-a,0,o),We.embedPositionDetectionPattern(0,o.getWidth()-a,o);const u=8;We.embedHorizontalSeparationPattern(0,u-1,o),We.embedHorizontalSeparationPattern(o.getWidth()-u,u-1,o),We.embedHorizontalSeparationPattern(0,o.getWidth()-u,o);const d=7;We.embedVerticalSeparationPattern(d,0,o),We.embedVerticalSeparationPattern(o.getHeight()-d-1,0,o),We.embedVerticalSeparationPattern(d,o.getHeight()-d,o)}static maybeEmbedPositionAdjustmentPatterns(o,a){if(o.getVersionNumber()<2)return;const u=o.getVersionNumber()-1,d=We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let i=0,l=d.length;i!==l;i++){const f=d[i];if(f>=0)for(let p=0;p!==l;p++){const y=d[p];y>=0&&We.isEmpty(a.get(y,f))&&We.embedPositionAdjustmentPattern(y-2,f-2,a)}}}}We.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),We.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),We.VERSION_INFO_POLY=7973,We.TYPE_INFO_POLY=1335,We.TYPE_INFO_MASK_PATTERN=21522;class Kl{constructor(o,a){this.dataBytes=o,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(o){return Wt.applyMaskPenaltyRule1(o)+Wt.applyMaskPenaltyRule2(o)+Wt.applyMaskPenaltyRule3(o)+Wt.applyMaskPenaltyRule4(o)}static encode(o,a,u=null){let d=Dt.DEFAULT_BYTE_MODE_ENCODING;const i=u!==null&&u.get(sn.CHARACTER_SET)!==void 0;i&&(d=u.get(sn.CHARACTER_SET).toString());const l=this.chooseMode(o,d),f=new F;if(l===Qe.BYTE&&(i||Dt.DEFAULT_BYTE_MODE_ENCODING!==d)){const H=Q.getCharacterSetECIByName(d);H!==void 0&&this.appendECI(H,f)}this.appendModeInfo(l,f);const p=new F;this.appendBytes(o,l,p,d);let y;if(u!==null&&u.get(sn.QR_VERSION)!==void 0){const H=Number.parseInt(u.get(sn.QR_VERSION).toString(),10);y=Xe.getVersionForNumber(H);const V=this.calculateBitsNeeded(l,f,p,y);if(!this.willFit(V,y,a))throw new Nt("Data too big for requested version")}else y=this.recommendVersion(a,l,f,p);const v=new F;v.appendBitArray(f);const S=l===Qe.BYTE?p.getSizeInBytes():o.length;this.appendLengthInfo(S,y,l,v),v.appendBitArray(p);const A=y.getECBlocksForLevel(a),O=y.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(O,v);const L=this.interleaveWithECBytes(v,y.getTotalCodewords(),O,A.getNumBlocks()),B=new $r;B.setECLevel(a),B.setMode(l),B.setVersion(y);const j=y.getDimensionForVersion(),U=new Ls(j,j),W=this.chooseMaskPattern(L,a,y,U);return B.setMaskPattern(W),We.buildMatrix(L,a,y,W,U),B.setMatrix(U),B}static recommendVersion(o,a,u,d){const i=this.calculateBitsNeeded(a,u,d,Xe.getVersionForNumber(1)),l=this.chooseVersion(i,o),f=this.calculateBitsNeeded(a,u,d,l);return this.chooseVersion(f,o)}static calculateBitsNeeded(o,a,u,d){return a.getSize()+o.getCharacterCountBits(d)+u.getSize()}static getAlphanumericCode(o){return o<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,a=null){if(Q.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(o))return Qe.KANJI;let u=!1,d=!1;for(let i=0,l=o.length;i<l;++i){const f=o.charAt(i);if(Dt.isDigit(f))u=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)d=!0;else return Qe.BYTE}return d?Qe.ALPHANUMERIC:u?Qe.NUMERIC:Qe.BYTE}static isOnlyDoubleByteKanji(o){let a;try{a=fe.encode(o,Q.SJIS)}catch{return!1}const u=a.length;if(u%2!==0)return!1;for(let d=0;d<u;d+=2){const i=a[d]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(o,a,u,d){let i=Number.MAX_SAFE_INTEGER,l=-1;for(let f=0;f<$r.NUM_MASK_PATTERNS;f++){We.buildMatrix(o,a,u,f,d);let p=this.calculateMaskPenalty(d);p<i&&(i=p,l=f)}return l}static chooseVersion(o,a){for(let u=1;u<=40;u++){const d=Xe.getVersionForNumber(u);if(Dt.willFit(o,d,a))return d}throw new Nt("Data too big")}static willFit(o,a,u){const d=a.getTotalCodewords(),l=a.getECBlocksForLevel(u).getTotalECCodewords(),f=d-l,p=(o+7)/8;return f>=p}static terminateBits(o,a){const u=o*8;if(a.getSize()>u)throw new Nt("data bits cannot fit in the QR Code"+a.getSize()+" > "+u);for(let l=0;l<4&&a.getSize()<u;++l)a.appendBit(!1);const d=a.getSize()&7;if(d>0)for(let l=d;l<8;l++)a.appendBit(!1);const i=o-a.getSizeInBytes();for(let l=0;l<i;++l)a.appendBits(l&1?17:236,8);if(a.getSize()!==u)throw new Nt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,a,u,d,i,l){if(d>=u)throw new Nt("Block ID too large");const f=o%u,p=u-f,y=Math.floor(o/u),v=y+1,S=Math.floor(a/u),A=S+1,O=y-S,L=v-A;if(O!==L)throw new Nt("EC bytes mismatch");if(u!==p+f)throw new Nt("RS blocks mismatch");if(o!==(S+O)*p+(A+L)*f)throw new Nt("Total bytes mismatch");d<p?(i[0]=S,l[0]=O):(i[0]=A,l[0]=L)}static interleaveWithECBytes(o,a,u,d){if(o.getSizeInBytes()!==u)throw new Nt("Number of bits and data bytes does not match");let i=0,l=0,f=0;const p=new Array;for(let v=0;v<d;++v){const S=new Int32Array(1),A=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(a,u,d,v,S,A);const O=S[0],L=new Uint8Array(O);o.toBytes(8*i,L,0,O);const B=Dt.generateECBytes(L,A[0]);p.push(new Kl(L,B)),l=Math.max(l,O),f=Math.max(f,B.length),i+=S[0]}if(u!==i)throw new Nt("Data bytes does not match offset");const y=new F;for(let v=0;v<l;++v)for(const S of p){const A=S.getDataBytes();v<A.length&&y.appendBits(A[v],8)}for(let v=0;v<f;++v)for(const S of p){const A=S.getErrorCorrectionBytes();v<A.length&&y.appendBits(A[v],8)}if(a!==y.getSizeInBytes())throw new Nt("Interleaving error: "+a+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(o,a){const u=o.length,d=new Int32Array(u+a);for(let l=0;l<u;l++)d[l]=o[l]&255;new ji($e.QR_CODE_FIELD_256).encode(d,a);const i=new Uint8Array(a);for(let l=0;l<a;l++)i[l]=d[u+l];return i}static appendModeInfo(o,a){a.appendBits(o.getBits(),4)}static appendLengthInfo(o,a,u,d){const i=u.getCharacterCountBits(a);if(o>=1<<i)throw new Nt(o+" is bigger than "+((1<<i)-1));d.appendBits(o,i)}static appendBytes(o,a,u,d){switch(a){case Qe.NUMERIC:Dt.appendNumericBytes(o,u);break;case Qe.ALPHANUMERIC:Dt.appendAlphanumericBytes(o,u);break;case Qe.BYTE:Dt.append8BitBytes(o,u,d);break;case Qe.KANJI:Dt.appendKanjiBytes(o,u);break;default:throw new Nt("Invalid mode: "+a)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const a=Dt.getDigit(o);return a>=0&&a<=9}static appendNumericBytes(o,a){const u=o.length;let d=0;for(;d<u;){const i=Dt.getDigit(o.charAt(d));if(d+2<u){const l=Dt.getDigit(o.charAt(d+1)),f=Dt.getDigit(o.charAt(d+2));a.appendBits(i*100+l*10+f,10),d+=3}else if(d+1<u){const l=Dt.getDigit(o.charAt(d+1));a.appendBits(i*10+l,7),d+=2}else a.appendBits(i,4),d++}}static appendAlphanumericBytes(o,a){const u=o.length;let d=0;for(;d<u;){const i=Dt.getAlphanumericCode(o.charCodeAt(d));if(i===-1)throw new Nt;if(d+1<u){const l=Dt.getAlphanumericCode(o.charCodeAt(d+1));if(l===-1)throw new Nt;a.appendBits(i*45+l,11),d+=2}else a.appendBits(i,6),d++}}static append8BitBytes(o,a,u){let d;try{d=fe.encode(o,u)}catch(i){throw new Nt(i)}for(let i=0,l=d.length;i!==l;i++){const f=d[i];a.appendBits(f,8)}}static appendKanjiBytes(o,a){let u;try{u=fe.encode(o,Q.SJIS)}catch(i){throw new Nt(i)}const d=u.length;for(let i=0;i<d;i+=2){const l=u[i]&255,f=u[i+1]&255,p=l<<8&4294967295|f;let y=-1;if(p>=33088&&p<=40956?y=p-33088:p>=57408&&p<=60351&&(y=p-49472),y===-1)throw new Nt("Invalid byte sequence");const v=(y>>8)*192+(y&255);a.appendBits(v,13)}}static appendECI(o,a){a.appendBits(Qe.ECI.getBits(),4),a.appendBits(o.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=Q.UTF8.getName();class Kr{write(o,a,u,d=null){if(o.length===0)throw new C("Found empty contents");if(a<0||u<0)throw new C("Requested dimensions are too small: "+a+"x"+u);let i=_t.L,l=Kr.QUIET_ZONE_SIZE;d!==null&&(d.get(sn.ERROR_CORRECTION)!==void 0&&(i=_t.fromString(d.get(sn.ERROR_CORRECTION).toString())),d.get(sn.MARGIN)!==void 0&&(l=Number.parseInt(d.get(sn.MARGIN).toString(),10)));const f=Dt.encode(o,i,d);return this.renderResult(f,a,u,l)}writeToDom(o,a,u,d,i=null){typeof o=="string"&&(o=document.querySelector(o));const l=this.write(a,u,d,i);o&&o.appendChild(l)}renderResult(o,a,u,d){const i=o.getMatrix();if(i===null)throw new Ft;const l=i.getWidth(),f=i.getHeight(),p=l+d*2,y=f+d*2,v=Math.max(a,p),S=Math.max(u,y),A=Math.min(Math.floor(v/p),Math.floor(S/y)),O=Math.floor((v-l*A)/2),L=Math.floor((S-f*A)/2),B=this.createSVGElement(v,S);for(let j=0,U=L;j<f;j++,U+=A)for(let W=0,H=O;W<l;W++,H+=A)if(i.get(W,j)===1){const V=this.createSvgRectElement(H,U,A,A);B.appendChild(V)}return B}createSVGElement(o,a){const u=document.createElementNS(Kr.SVG_NS,"svg");return u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",a.toString()),u}createSvgRectElement(o,a,u,d){const i=document.createElementNS(Kr.SVG_NS,"rect");return i.setAttributeNS(null,"x",o.toString()),i.setAttributeNS(null,"y",a.toString()),i.setAttributeNS(null,"height",u.toString()),i.setAttributeNS(null,"width",d.toString()),i.setAttributeNS(null,"fill","#000000"),i}}Kr.QUIET_ZONE_SIZE=4,Kr.SVG_NS="http://www.w3.org/2000/svg";class Uo{encode(o,a,u,d,i){if(o.length===0)throw new C("Found empty contents");if(a!==me.QR_CODE)throw new C("Can only encode QR_CODE, but got "+a);if(u<0||d<0)throw new C(`Requested dimensions are too small: ${u}x${d}`);let l=_t.L,f=Uo.QUIET_ZONE_SIZE;i!==null&&(i.get(sn.ERROR_CORRECTION)!==void 0&&(l=_t.fromString(i.get(sn.ERROR_CORRECTION).toString())),i.get(sn.MARGIN)!==void 0&&(f=Number.parseInt(i.get(sn.MARGIN).toString(),10)));const p=Dt.encode(o,l,i);return Uo.renderResult(p,u,d,f)}static renderResult(o,a,u,d){const i=o.getMatrix();if(i===null)throw new Ft;const l=i.getWidth(),f=i.getHeight(),p=l+d*2,y=f+d*2,v=Math.max(a,p),S=Math.max(u,y),A=Math.min(Math.floor(v/p),Math.floor(S/y)),O=Math.floor((v-l*A)/2),L=Math.floor((S-f*A)/2),B=new he(v,S);for(let j=0,U=L;j<f;j++,U+=A)for(let W=0,H=O;W<l;W++,H+=A)i.get(W,j)===1&&B.setRegion(H,U,A,A);return B}}Uo.QUIET_ZONE_SIZE=4;class Pu{encode(o,a,u,d,i){let l;switch(a){case me.QR_CODE:l=new Uo;break;default:throw new C("No encoder available for format "+a)}return l.encode(o,a,u,d,i)}}class qr extends q{constructor(o,a,u,d,i,l,f,p){if(super(l,f),this.yuvData=o,this.dataWidth=a,this.dataHeight=u,this.left=d,this.top=i,d+l>a||i+f>u)throw new C("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(l,f)}getRow(o,a){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const u=this.getWidth();(a==null||a.length<u)&&(a=new Uint8ClampedArray(u));const d=(o+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,d,a,0,u),a}getMatrix(){const o=this.getWidth(),a=this.getHeight();if(o===this.dataWidth&&a===this.dataHeight)return this.yuvData;const u=o*a,d=new Uint8ClampedArray(u);let i=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return T.arraycopy(this.yuvData,i,d,0,u),d;for(let l=0;l<a;l++){const f=l*o;T.arraycopy(this.yuvData,i,d,f,o),i+=this.dataWidth}return d}isCropSupported(){return!0}crop(o,a,u,d){return new qr(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+a,u,d,!1)}renderThumbnail(){const o=this.getWidth()/qr.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/qr.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(o*a),d=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let l=0;l<a;l++){const f=l*o;for(let p=0;p<o;p++){const y=d[i+p*qr.THUMBNAIL_SCALE_FACTOR]&255;u[f+p]=4278190080|y*65793}i+=this.dataWidth*qr.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/qr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,a){const u=this.yuvData;for(let d=0,i=this.top*this.dataWidth+this.left;d<a;d++,i+=this.dataWidth){const l=i+o/2;for(let f=i,p=i+o-1;f<l;f++,p--){const y=u[f];u[f]=u[p],u[p]=y}}}invert(){return new Z(this)}}qr.THUMBNAIL_SCALE_FACTOR=2;class js extends q{constructor(o,a,u,d,i,l,f){if(super(a,u),this.dataWidth=d,this.dataHeight=i,this.left=l,this.top=f,o.BYTES_PER_ELEMENT===4){const p=a*u,y=new Uint8ClampedArray(p);for(let v=0;v<p;v++){const S=o[v],A=S>>16&255,O=S>>7&510,L=S&255;y[v]=(A+O+L)/4&255}this.luminances=y}else this.luminances=o;if(d===void 0&&(this.dataWidth=a),i===void 0&&(this.dataHeight=u),l===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+u>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(o,a){if(o<0||o>=this.getHeight())throw new C("Requested row is outside the image: "+o);const u=this.getWidth();(a==null||a.length<u)&&(a=new Uint8ClampedArray(u));const d=(o+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,d,a,0,u),a}getMatrix(){const o=this.getWidth(),a=this.getHeight();if(o===this.dataWidth&&a===this.dataHeight)return this.luminances;const u=o*a,d=new Uint8ClampedArray(u);let i=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return T.arraycopy(this.luminances,i,d,0,u),d;for(let l=0;l<a;l++){const f=l*o;T.arraycopy(this.luminances,i,d,f,o),i+=this.dataWidth}return d}isCropSupported(){return!0}crop(o,a,u,d){return new js(this.luminances,u,d,this.dataWidth,this.dataHeight,this.left+o,this.top+a)}invert(){return new Z(this)}}class Bs extends Q{static forName(o){return this.getCharacterSetECIByName(o)}}class ql{}ql.ISO_8859_1=Q.ISO8859_1;class ka{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class Pa{static singletonList(o){return[o]}static min(o,a){return o.sort(a)[0]}}class I0{constructor(o){this.previous=o}getPrevious(){return this.previous}}class hi extends I0{constructor(o,a,u){super(o),this.value=a,this.bitCount=u}appendTo(o,a){o.appendBits(this.value,this.bitCount)}add(o,a){return new hi(this,o,a)}addBinaryShift(o,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hi(this,o,a)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+D.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Jl extends hi{constructor(o,a,u){super(o,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=u}appendTo(o,a){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):u===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(a[this.binaryShiftStart+u],8)}addBinaryShift(o,a){return new Jl(this,o,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Lu(k,o,a){return new Jl(k,o,a)}function Bi(k,o,a){return new hi(k,o,a)}const N0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xo=0,Fi=1,rr=2,ec=3,Jr=4,O0=new hi(null,0,0),tc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function La(k){for(let o of k)I.fill(o,-1);return k[xo][Jr]=0,k[Fi][Jr]=0,k[Fi][xo]=28,k[ec][Jr]=0,k[rr][Jr]=0,k[rr][xo]=15,k}const eo=La(I.createInt32Array(6,6));class Tt{constructor(o,a,u,d){this.token=o,this.mode=a,this.binaryShiftByteCount=u,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,a){let u=this.bitCount,d=this.token;if(o!==this.mode){let l=tc[this.mode][o];d=Bi(d,l&65535,l>>16),u+=l>>16}let i=o===rr?4:5;return d=Bi(d,a,i),new Tt(d,o,0,u+i)}shiftAndAppend(o,a){let u=this.token,d=this.mode===rr?4:5;return u=Bi(u,eo[this.mode][o],d),u=Bi(u,a,5),new Tt(u,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(o){let a=this.token,u=this.mode,d=this.bitCount;if(this.mode===Jr||this.mode===rr){let f=tc[u][xo];a=Bi(a,f&65535,f>>16),d+=f>>16,u=xo}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new Tt(a,u,this.binaryShiftByteCount+1,d+i);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(o+1)),l}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Lu(a,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new Tt(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let a=this.bitCount+(tc[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?a+=Tt.calculateBinaryShiftCost(o)-Tt.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(a+=10),a<=o.bitCount}toBitArray(o){let a=[];for(let d=this.endBinaryShift(o.length).token;d!==null;d=d.getPrevious())a.unshift(d);let u=new F;for(const d of a)d.appendTo(u,o);return u}toString(){return re.format("%s bits=%d bytes=%d",N0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}Tt.INITIAL_STATE=new Tt(O0,xo,0,0);function ja(k){const o=re.getCharCode(" "),a=re.getCharCode("."),u=re.getCharCode(",");k[xo][o]=1;const d=re.getCharCode("Z"),i=re.getCharCode("A");for(let A=i;A<=d;A++)k[xo][A]=A-i+2;k[Fi][o]=1;const l=re.getCharCode("z"),f=re.getCharCode("a");for(let A=f;A<=l;A++)k[Fi][A]=A-f+2;k[rr][o]=1;const p=re.getCharCode("9"),y=re.getCharCode("0");for(let A=y;A<=p;A++)k[rr][A]=A-y+2;k[rr][u]=12,k[rr][a]=13;const v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<v.length;A++)k[ec][re.getCharCode(v[A])]=A;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<S.length;A++)re.getCharCode(S[A])>0&&(k[Jr][re.getCharCode(S[A])]=A);return k}const Yn=ja(I.createInt32Array(5,256));class Fs{constructor(o){this.text=o}encode(){const o=re.getCharCode(" "),a=re.getCharCode(`
`);let u=Pa.singletonList(Tt.INITIAL_STATE);for(let i=0;i<this.text.length;i++){let l,f=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case re.getCharCode("\r"):l=f===a?2:0;break;case re.getCharCode("."):l=f===o?3:0;break;case re.getCharCode(","):l=f===o?4:0;break;case re.getCharCode(":"):l=f===o?5:0;break;default:l=0}l>0?(u=Fs.updateStateListForPair(u,i,l),i++):u=this.updateStateListForChar(u,i)}return Pa.min(u,(i,l)=>i.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,a){const u=[];for(let d of o)this.updateStateForChar(d,a,u);return Fs.simplifyStates(u)}updateStateForChar(o,a,u){let d=this.text[a]&255,i=Yn[o.getMode()][d]>0,l=null;for(let f=0;f<=Jr;f++){let p=Yn[f][d];if(p>0){if(l==null&&(l=o.endBinaryShift(a)),!i||f===o.getMode()||f===rr){const y=l.latchAndAppend(f,p);u.push(y)}if(!i&&eo[o.getMode()][f]>=0){const y=l.shiftAndAppend(f,p);u.push(y)}}}if(o.getBinaryShiftByteCount()>0||Yn[o.getMode()][d]===0){let f=o.addBinaryShiftChar(a);u.push(f)}}static updateStateListForPair(o,a,u){const d=[];for(let i of o)this.updateStateForPair(i,a,u,d);return this.simplifyStates(d)}static updateStateForPair(o,a,u,d){let i=o.endBinaryShift(a);if(d.push(i.latchAndAppend(Jr,u)),o.getMode()!==Jr&&d.push(i.shiftAndAppend(Jr,u)),u===3||u===4){let l=i.latchAndAppend(rr,16-u).latchAndAppend(rr,1);d.push(l)}if(o.getBinaryShiftByteCount()>0){let l=o.addBinaryShiftChar(a).addBinaryShiftChar(a+1);d.push(l)}}static simplifyStates(o){let a=[];for(const u of o){let d=!0;for(const i of a){if(i.isBetterThanOrEqualTo(u)){d=!1;break}u.isBetterThanOrEqualTo(i)&&(a=a.filter(l=>l!==i))}d&&a.push(u)}return a}}class mt{constructor(){}static encodeBytes(o){return mt.encode(o,mt.DEFAULT_EC_PERCENT,mt.DEFAULT_AZTEC_LAYERS)}static encode(o,a,u){let d=new Fs(o).encode(),i=D.truncDivision(d.getSize()*a,100)+11,l=d.getSize()+i,f,p,y,v,S;if(u!==mt.DEFAULT_AZTEC_LAYERS){if(f=u<0,p=Math.abs(u),p>(f?mt.MAX_NB_BITS_COMPACT:mt.MAX_NB_BITS))throw new C(re.format("Illegal value %s for layers",u));y=mt.totalBitsInLayer(p,f),v=mt.WORD_SIZE[p];let V=y-y%v;if(S=mt.stuffBits(d,v),S.getSize()+i>V)throw new C("Data to large for user specified layer");if(f&&S.getSize()>v*64)throw new C("Data to large for user specified layer")}else{v=0,S=null;for(let V=0;;V++){if(V>mt.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(f=V<=3,p=f?V+1:V,y=mt.totalBitsInLayer(p,f),l>y)continue;(S==null||v!==mt.WORD_SIZE[p])&&(v=mt.WORD_SIZE[p],S=mt.stuffBits(d,v));let K=y-y%v;if(!(f&&S.getSize()>v*64)&&S.getSize()+i<=K)break}}let A=mt.generateCheckWords(S,y,v),O=S.getSize()/v,L=mt.generateModeMessage(f,p,O),B=(f?11:14)+p*4,j=new Int32Array(B),U;if(f){U=B;for(let V=0;V<j.length;V++)j[V]=V}else{U=B+1+2*D.truncDivision(D.truncDivision(B,2)-1,15);let V=D.truncDivision(B,2),K=D.truncDivision(U,2);for(let te=0;te<V;te++){let se=te+D.truncDivision(te,15);j[V-te-1]=K-se-1,j[V+te]=K+se+1}}let W=new he(U);for(let V=0,K=0;V<p;V++){let te=(p-V)*4+(f?9:12);for(let se=0;se<te;se++){let ae=se*2;for(let de=0;de<2;de++)A.get(K+ae+de)&&W.set(j[V*2+de],j[V*2+se]),A.get(K+te*2+ae+de)&&W.set(j[V*2+se],j[B-1-V*2-de]),A.get(K+te*4+ae+de)&&W.set(j[B-1-V*2-de],j[B-1-V*2-se]),A.get(K+te*6+ae+de)&&W.set(j[B-1-V*2-se],j[V*2+de])}K+=te*8}if(mt.drawModeMessage(W,f,U,L),f)mt.drawBullsEye(W,D.truncDivision(U,2),5);else{mt.drawBullsEye(W,D.truncDivision(U,2),7);for(let V=0,K=0;V<D.truncDivision(B,2)-1;V+=15,K+=16)for(let te=D.truncDivision(U,2)&1;te<U;te+=2)W.set(D.truncDivision(U,2)-K,te),W.set(D.truncDivision(U,2)+K,te),W.set(te,D.truncDivision(U,2)-K),W.set(te,D.truncDivision(U,2)+K)}let H=new ka;return H.setCompact(f),H.setSize(U),H.setLayers(p),H.setCodeWords(O),H.setMatrix(W),H}static drawBullsEye(o,a,u){for(let d=0;d<u;d+=2)for(let i=a-d;i<=a+d;i++)o.set(i,a-d),o.set(i,a+d),o.set(a-d,i),o.set(a+d,i);o.set(a-u,a-u),o.set(a-u+1,a-u),o.set(a-u,a-u+1),o.set(a+u,a-u),o.set(a+u,a-u+1),o.set(a+u,a+u-1)}static generateModeMessage(o,a,u){let d=new F;return o?(d.appendBits(a-1,2),d.appendBits(u-1,6),d=mt.generateCheckWords(d,28,4)):(d.appendBits(a-1,5),d.appendBits(u-1,11),d=mt.generateCheckWords(d,40,4)),d}static drawModeMessage(o,a,u,d){let i=D.truncDivision(u,2);if(a)for(let l=0;l<7;l++){let f=i-3+l;d.get(l)&&o.set(f,i-5),d.get(l+7)&&o.set(i+5,f),d.get(20-l)&&o.set(f,i+5),d.get(27-l)&&o.set(i-5,f)}else for(let l=0;l<10;l++){let f=i-5+l+D.truncDivision(l,5);d.get(l)&&o.set(f,i-7),d.get(l+10)&&o.set(i+7,f),d.get(29-l)&&o.set(f,i+7),d.get(39-l)&&o.set(i-7,f)}}static generateCheckWords(o,a,u){let d=o.getSize()/u,i=new ji(mt.getGF(u)),l=D.truncDivision(a,u),f=mt.bitsToWords(o,u,l);i.encode(f,l-d);let p=a%u,y=new F;y.appendBits(0,p);for(const v of Array.from(f))y.appendBits(v,u);return y}static bitsToWords(o,a,u){let d=new Int32Array(u),i,l;for(i=0,l=o.getSize()/a;i<l;i++){let f=0;for(let p=0;p<a;p++)f|=o.get(i*a+p)?1<<a-p-1:0;d[i]=f}return d}static getGF(o){switch(o){case 4:return $e.AZTEC_PARAM;case 6:return $e.AZTEC_DATA_6;case 8:return $e.AZTEC_DATA_8;case 10:return $e.AZTEC_DATA_10;case 12:return $e.AZTEC_DATA_12;default:throw new C("Unsupported word size "+o)}}static stuffBits(o,a){let u=new F,d=o.getSize(),i=(1<<a)-2;for(let l=0;l<d;l+=a){let f=0;for(let p=0;p<a;p++)(l+p>=d||o.get(l+p))&&(f|=1<<a-1-p);(f&i)===i?(u.appendBits(f&i,a),l--):f&i?u.appendBits(f,a):(u.appendBits(f|1,a),l--)}return u}static totalBitsInLayer(o,a){return((a?88:112)+16*o)*o}}mt.DEFAULT_EC_PERCENT=33,mt.DEFAULT_AZTEC_LAYERS=0,mt.MAX_NB_BITS=32,mt.MAX_NB_BITS_COMPACT=4,mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Us{encode(o,a,u,d){return this.encodeWithHints(o,a,u,d,null)}encodeWithHints(o,a,u,d,i){let l=ql.ISO_8859_1,f=mt.DEFAULT_EC_PERCENT,p=mt.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(sn.CHARACTER_SET)&&(l=Bs.forName(i.get(sn.CHARACTER_SET).toString())),i.has(sn.ERROR_CORRECTION)&&(f=D.parseInt(i.get(sn.ERROR_CORRECTION).toString())),i.has(sn.AZTEC_LAYERS)&&(p=D.parseInt(i.get(sn.AZTEC_LAYERS).toString()))),Us.encodeLayers(o,a,u,d,l,f,p)}static encodeLayers(o,a,u,d,i,l,f){if(a!==me.AZTEC)throw new C("Can only encode AZTEC, but got "+a);let p=mt.encode(re.getBytes(o,i),l,f);return Us.renderResult(p,u,d)}static renderResult(o,a,u){let d=o.getMatrix();if(d==null)throw new Ft;let i=d.getWidth(),l=d.getHeight(),f=Math.max(a,i),p=Math.max(u,l),y=Math.min(f/i,p/l),v=(f-i*y)/2,S=(p-l*y)/2,A=new he(f,p);for(let O=0,L=S;O<l;O++,L+=y)for(let B=0,j=v;B<i;B++,j+=y)d.get(B,O)&&A.setRegion(j,L,y,y);return A}}n.AbstractExpandedDecoder=Gr,n.ArgumentException=w,n.ArithmeticException=Ue,n.AztecCode=ka,n.AztecCodeReader=ho,n.AztecCodeWriter=Us,n.AztecDecoder=Rt,n.AztecDetector=si,n.AztecDetectorResult=Er,n.AztecEncoder=mt,n.AztecHighLevelEncoder=Fs,n.AztecPoint=Lt,n.BarcodeFormat=me,n.Binarizer=N,n.BinaryBitmap=b,n.BitArray=F,n.BitMatrix=he,n.BitSource=Ta,n.BrowserAztecCodeReader=Vr,n.BrowserBarcodeReader=ci,n.BrowserCodeReader=ge,n.BrowserDatamatrixCodeReader=Hl,n.BrowserMultiFormatReader=$l,n.BrowserPDF417Reader=In,n.BrowserQRCodeReader=Ps,n.BrowserQRCodeSvgWriter=Kr,n.CharacterSetECI=Q,n.ChecksumException=_,n.Code128Reader=Ie,n.Code39Reader=Et,n.DataMatrixDecodedBitStreamParser=vt,n.DataMatrixReader=nr,n.DecodeHintType=G,n.DecoderResult=Se,n.DefaultGridSampler=kn,n.DetectorResult=ii,n.EAN13Reader=dn,n.EncodeHintType=sn,n.Exception=g,n.FormatException=z,n.GenericGF=$e,n.GenericGFPoly=He,n.GlobalHistogramBinarizer=ve,n.GridSampler=Hr,n.GridSamplerInstance=Jn,n.HTMLCanvasElementLuminanceSource=J,n.HybridBinarizer=ce,n.ITFReader=Ee,n.IllegalArgumentException=C,n.IllegalStateException=Ft,n.InvertedLuminanceSource=Z,n.LuminanceSource=q,n.MathUtils=Ke,n.MultiFormatOneDReader=Lo,n.MultiFormatReader=Da,n.MultiFormatWriter=Pu,n.NotFoundException=ee,n.OneDReader=jt,n.PDF417DecodedBitStreamParser=le,n.PDF417DecoderErrorCorrection=Oa,n.PDF417Reader=pn,n.PDF417ResultMetadata=Ma,n.PerspectiveTransform=Kt,n.PlanarYUVLuminanceSource=qr,n.QRCodeByteMatrix=Ls,n.QRCodeDataMask=gr,n.QRCodeDecodedBitStreamParser=pt,n.QRCodeDecoderErrorCorrectionLevel=_t,n.QRCodeDecoderFormatInformation=Sn,n.QRCodeEncoder=Dt,n.QRCodeEncoderQRCode=$r,n.QRCodeMaskUtil=Wt,n.QRCodeMatrixUtil=We,n.QRCodeMode=Qe,n.QRCodeReader=xr,n.QRCodeVersion=Xe,n.QRCodeWriter=Uo,n.RGBLuminanceSource=js,n.RSS14Reader=Yt,n.RSSExpandedReader=ye,n.ReaderException=Li,n.ReedSolomonDecoder=gn,n.ReedSolomonEncoder=ji,n.ReedSolomonException=nn,n.Result=_e,n.ResultMetadataType=Le,n.ResultPoint=Pe,n.StringUtils=re,n.UnsupportedOperationException=ie,n.VideoInputDevice=ne,n.WhiteRectangleDetector=pr,n.WriterException=Nt,n.ZXingArrays=I,n.ZXingCharset=Bs,n.ZXingInteger=D,n.ZXingStandardCharsets=ql,n.ZXingStringBuilder=we,n.ZXingStringEncoding=fe,n.ZXingSystem=T,n.createAbstractExpandedDecoder=Po,Object.defineProperty(n,"__esModule",{value:!0})})})(ap,ap.exports);var Qt=ap.exports;const jP=da(Qt),BP=fp({__proto__:null,default:jP},[Qt]);var z2=function(){function e(t,n,r){if(this.formatMap=new Map([[Fe.QR_CODE,Qt.BarcodeFormat.QR_CODE],[Fe.AZTEC,Qt.BarcodeFormat.AZTEC],[Fe.CODABAR,Qt.BarcodeFormat.CODABAR],[Fe.CODE_39,Qt.BarcodeFormat.CODE_39],[Fe.CODE_93,Qt.BarcodeFormat.CODE_93],[Fe.CODE_128,Qt.BarcodeFormat.CODE_128],[Fe.DATA_MATRIX,Qt.BarcodeFormat.DATA_MATRIX],[Fe.MAXICODE,Qt.BarcodeFormat.MAXICODE],[Fe.ITF,Qt.BarcodeFormat.ITF],[Fe.EAN_13,Qt.BarcodeFormat.EAN_13],[Fe.EAN_8,Qt.BarcodeFormat.EAN_8],[Fe.PDF_417,Qt.BarcodeFormat.PDF_417],[Fe.RSS_14,Qt.BarcodeFormat.RSS_14],[Fe.RSS_EXPANDED,Qt.BarcodeFormat.RSS_EXPANDED],[Fe.UPC_A,Qt.BarcodeFormat.UPC_A],[Fe.UPC_E,Qt.BarcodeFormat.UPC_E],[Fe.UPC_EAN_EXTENSION,Qt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!BP)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),c=new Map;c.set(Qt.DecodeHintType.POSSIBLE_FORMATS,s),c.set(Qt.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(c){s(c)}})},e.prototype.decode=function(t){var n=new Qt.MultiFormatReader(this.verbose,this.hints),r=new Qt.HTMLCanvasElementLuminanceSource(t),s=new Qt.BinaryBitmap(new Qt.HybridBinarizer(r)),c=n.decode(s);return{text:c.text,format:dE.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var c=s[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),FP=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function m(w){try{g(r.next(w))}catch(C){h(C)}}function x(w){try{g(r.throw(w))}catch(C){h(C)}}function g(w){w.done?c(w.value):s(w.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},UP=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(w){return x([g,w])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(c=g[0]&2?s.return:g[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,g[1])).done)return c;switch(s=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],s=0}finally{r=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Y2=function(){function e(t,n,r){if(this.formatMap=new Map([[Fe.QR_CODE,"qr_code"],[Fe.AZTEC,"aztec"],[Fe.CODABAR,"codabar"],[Fe.CODE_39,"code_39"],[Fe.CODE_93,"code_93"],[Fe.CODE_128,"code_128"],[Fe.DATA_MATRIX,"data_matrix"],[Fe.ITF,"itf"],[Fe.EAN_13,"ean_13"],[Fe.EAN_8,"ean_8"],[Fe.PDF_417,"pdf417"],[Fe.UPC_A,"upc_a"],[Fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return FP(this,void 0,void 0,function(){var n,r;return UP(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:dE.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,c=t;s<c.length;s++){var h=c[s],m=h.boundingBox.width*h.boundingBox.height;m>r&&(r=m,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var c=s[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),X2=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function m(w){try{g(r.next(w))}catch(C){h(C)}}function x(w){try{g(r.throw(w))}catch(C){h(C)}}function g(w){w.done?c(w.value):s(w.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},W2=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(w){return x([g,w])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(c=g[0]&2?s.return:g[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,g[1])).done)return c;switch(s=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],s=0}finally{r=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},zP=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Y2.isSupported()?(this.primaryDecoder=new Y2(t,r,s),this.secondaryDecoder=new z2(t,r,s)):this.primaryDecoder=new z2(t,r,s)}return e.prototype.decodeAsync=function(t){return X2(this,void 0,void 0,function(){var n;return W2(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return X2(this,void 0,void 0,function(){var n,r;return W2(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),dg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kf=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function m(w){try{g(r.next(w))}catch(C){h(C)}}function x(w){try{g(r.throw(w))}catch(C){h(C)}}function g(w){w.done?c(w.value):s(w.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},Pf=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(w){return x([g,w])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(c=g[0]&2?s.return:g[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,g[1])).done)return c;switch(s=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],s=0}finally{r=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},mE=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),YP=function(e){dg(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(mE),XP=function(e){dg(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(YP),WP=function(e){dg(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(mE),HP=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new XP(this.track)},e.prototype.torchFeature=function(){return new WP(this.track)},e}(),VP=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return kf(this,void 0,void 0,function(){var c,h;return Pf(this,function(m){switch(m.label){case 0:return c=new e(t,n,s),r.aspectRatio?(h={aspectRatio:r.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:m.sent(),m.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return kf(this,void 0,void 0,function(){return Pf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),c=s.length,h=0;t.mediaStream.getVideoTracks().forEach(function(m){t.mediaStream.removeTrack(m),m.stop(),++h,h>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new HP(this.getFirstTrackOrFail())},e}(),QP=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return kf(this,void 0,void 0,function(){return Pf(this,function(s){return[2,VP.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return kf(this,void 0,void 0,function(){var n,r;return Pf(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),H2=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function m(w){try{g(r.next(w))}catch(C){h(C)}}function x(w){try{g(r.throw(w))}catch(C){h(C)}}function g(w){w.done?c(w.value):s(w.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},V2=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(w){return x([g,w])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(c=g[0]&2?s.return:g[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,g[1])).done)return c;switch(s=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],s=0}finally{r=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},GP=function(){function e(){}return e.failIfNotSupported=function(){return H2(this,void 0,void 0,function(){return V2(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return H2(this,void 0,void 0,function(){return V2(this,function(n){return[2,QP.create(t)]})})},e}(),ZP=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function m(w){try{g(r.next(w))}catch(C){h(C)}}function x(w){try{g(r.throw(w))}catch(C){h(C)}}function g(w){w.done?c(w.value):s(w.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},$P=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(w){return x([g,w])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(c=g[0]&2?s.return:g[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,g[1])).done)return c;switch(s=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],s=0}finally{r=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},KP=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=tl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=tl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return ZP(this,void 0,void 0,function(){var t,n,r,s,c,h,m;return $P(this,function(x){switch(x.label){case 0:return t=function(g){for(var w=g.getVideoTracks(),C=0,b=w;C<b.length;C++){var _=b[C];_.enabled=!1,_.stop(),g.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),s=[],c=0,h=r;c<h.length;c++)m=h[c],m.kind==="videoinput"&&s.push({id:m.deviceId,label:m.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(c){for(var h=[],m=0,x=c;m<x.length;m++){var g=x[m];g.kind==="video"&&h.push({id:g.id,label:g.label})}t(h)},s=MediaStreamTrack;s.getSources(r)})},e}(),cn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(cn||(cn={}));var qP=function(){function e(){this.state=cn.NOT_STARTED,this.onGoingTransactionNewState=cn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===cn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=cn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===cn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=cn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==cn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case cn.UNKNOWN:throw"Transition from unknown is not allowed";case cn.NOT_STARTED:this.failIfNewStateIs(t,[cn.PAUSED]);break;case cn.SCANNING:break;case cn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var c=s[r];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),JP=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===cn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==cn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===cn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===cn.PAUSED},e}(),e7=function(){function e(){}return e.create=function(){return new JP(new qP)},e}(),t7=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Or=function(e){t7(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Eo),n7=function(){function e(t,n){this.logger=n,this.fps=Or.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Or.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Wo(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Q2=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new hE(this.verbose),this.qrcode=new zP(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=e7.create()}return e.prototype.start=function(t,n,r,s){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;s?h=s:h=this.verbose?this.logger.log:function(){};var m=n7.create(n,this.logger);this.clearElement();var x=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=x,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Or.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var C=this,b=this.stateManagerProxy.startTransition(cn.SCANNING);return new Promise(function(_,N){var T=g?m.videoConstraints:C.createVideoConstraints(t);if(!T){b.cancel(),N("videoConstraints should be defined");return}var P={};(!g||m.aspectRatio)&&(P.aspectRatio=m.aspectRatio);var M={onRenderSurfaceReady:function(I,D){C.setupUi(I,D,m),C.isScanning=!0,C.foreverScan(m,r,h)}};GP.failIfNotSupported().then(function(I){I.create(T).then(function(D){return D.render(c.element,P,M).then(function(F){C.renderedCamera=F,b.execute(),_(null)}).catch(function(F){b.cancel(),N(F)})}).catch(function(D){b.cancel(),N(tl.errorGettingUserMedia(D))})}).catch(function(I){b.cancel(),N(tl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(cn.PAUSED),this.showPausedState(),(Wo(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(cn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(cn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var c=document.getElementById(Or.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Wo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,c){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var m=h.width,x=h.height,g=document.getElementById(r.elementId),w=g.clientWidth?g.clientWidth:Or.DEFAULT_WIDTH,C=Math.max(g.clientHeight?g.clientHeight:x,Or.FILE_SCAN_MIN_HEIGHT),b=r.computeCanvasDrawConfig(m,x,w,C);if(n){var _=r.createCanvasElement(w,C,"qr-canvas-visible");_.style.display="inline-block",g.appendChild(_);var N=_.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=w,N.canvas.height=C,N.drawImage(h,0,0,m,x,b.x,b.y,b.width,b.height)}var T=Or.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(h.width,b.width),M=Math.max(h.height,b.height),I=P+2*T,D=M+2*T,F=r.createCanvasElement(I,D);g.appendChild(F);var Y=F.getContext("2d");if(!Y)throw"Unable to get 2d context from canvas";Y.canvas.width=I,Y.canvas.height=D,Y.drawImage(h,0,0,m,x,T,T,P,M);try{r.qrcode.decodeRobustlyAsync(F).then(function(G){s(F2.createFromQrcodeResult(G))}).catch(c)}catch(G){c("QR code parse error, error = ".concat(G))}},h.onerror=c,h.onabort=c,h.onstalled=c,h.onsuspend=c,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return KP.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!pE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Fe.QR_CODE,Fe.AZTEC,Fe.CODABAR,Fe.CODE_39,Fe.CODE_93,Fe.CODE_128,Fe.DATA_MATRIX,Fe.MAXICODE,Fe.ITF,Fe.EAN_13,Fe.EAN_8,Fe.PDF_417,Fe.RSS_14,Fe.RSS_EXPANDED,Fe.UPC_A,Fe.UPC_E,Fe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,c=t.formatsToSupport;s<c.length;s++){var h=c[s];PP(h)?r.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Wo(t))return!0;if(!Wo(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Wo(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Wo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,c=r.qrbox;this.validateQrboxConfig(c);var h=this.toQrdimensions(t,n,c),m=function(g){if(g<Or.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Or.MIN_QR_BOX_SIZE,"px.")},x=function(g){return g>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};m(h.width),m(h.height),h.width=x(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=Wo(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,n,s);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=r.isShadedBoxEnabled()&&c.height<=n,m={x:0,y:0,width:t,height:n},x=h?this.getShadedRegionBounds(t,n,c):m,g=this.createCanvasElement(x.width,x.height),w={willReadFrequently:!0},C=g.getContext("2d",w);C.canvas.width=x.width,C.canvas.height=x.height,this.element.append(g),h&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=C,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=tl.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,F2.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var c=tl.codeParseError(s);return n(c,fE.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),h=c.videoWidth/c.clientWidth,m=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*h,g=this.qrRegion.height*m,w=this.qrRegion.x*h,C=this.qrRegion.y*m;this.context.drawImage(c,w,C,x,g,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(_){!_&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){b()})):b()}).catch(function(_){s.logger.logError("Error happend while scanning context",_),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},c="exact",h=function(N){if(N in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},m=Object.keys(t);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var g=t.facingMode;if(typeof g=="string"){if(h(g))return{facingMode:g}}else if(typeof g=="object")if(c in g){if(h(g["".concat(c)]))return{facingMode:{exact:g["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var w=typeof g;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(c in C)return{deviceId:{exact:C["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var b=typeof C;throw"Invalid type of 'deviceId' = ".concat(b)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var c=(r-t)/2,h=(s-n)/2;return{x:c,y:h,width:t,height:n}}else{var m=t,x=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Or.BORDER_SHADER_MATCH_COLOR:Or.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,c=n,h=document.createElement("canvas");return h.style.width="".concat(s,"px"),h.style.height="".concat(c,"px"),h.style.display="none",h.id=Wo(r)?"qr-canvas":r,h},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var c=document.createElement("div");c.style.position="absolute";var h=(n-s.width)/2,m=(r-s.height)/2;if(c.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(Or.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var x=5,g=40;this.insertShaderBorders(c,g,x,-x,null,0,!0),this.insertShaderBorders(c,g,x,-x,null,0,!1),this.insertShaderBorders(c,g,x,null,-x,0,!0),this.insertShaderBorders(c,g,x,null,-x,0,!1),this.insertShaderBorders(c,x,g+x,-x,null,-x,!0),this.insertShaderBorders(c,x,g+x,null,-x,-x,!0),this.insertShaderBorders(c,x,g+x,-x,null,-x,!1),this.insertShaderBorders(c,x,g+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,r,s,c,h,m){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Or.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),s!==null&&(x.style.top="".concat(s,"px")),c!==null&&(x.style.bottom="".concat(c,"px")),m?x.style.left="".concat(h,"px"):x.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),fg="data:image/svg+xml;base64,",r7=fg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",o7=fg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",G2=fg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",i7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Z2=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),s7=function(){function e(){this.data=Z2.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Z2.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),a7=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=U2.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var c=document.createElement("a");c.innerText=U2.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),l7=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=G2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=i7,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=G2,this.infoIcon.style.opacity="0.6")},e}(),c7=function(){function e(){var t=this;this.infoDiv=new a7,this.infoIcon=new l7(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),u7=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function m(w){try{g(r.next(w))}catch(C){h(C)}}function x(w){try{g(r.throw(w))}catch(C){h(C)}}function g(w){w.done?c(w.value):s(w.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},d7=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(w){return x([g,w])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(c=g[0]&2?s.return:g[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,g[1])).done)return c;switch(s=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],s=0}finally{r=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},$2=function(){function e(){}return e.hasPermissions=function(){return u7(this,void 0,void 0,function(){var t,n,r,s;return d7(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),Wi=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Cs.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Cs.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Eo.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Eo.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var c=s[r];if(!Eo.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e}(),jr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Si=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(jr.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),gE=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function m(w){try{g(r.next(w))}catch(C){h(C)}}function x(w){try{g(r.throw(w))}catch(C){h(C)}}function g(w){w.done?c(w.value):s(w.value).then(m,x)}g((r=r.apply(e,t||[])).next())})},yE=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(w){return x([g,w])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(c=g[0]&2?s.return:g[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,g[1])).done)return c;switch(s=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){n.label=g[1];break}if(g[0]===6&&n.label<c[1]){n.label=c[1],c=g;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(g);break}c[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],s=0}finally{r=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},K2=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return gE(this,void 0,void 0,function(){var t,n;return yE(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?kt.torchOffButton():kt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?kt.torchOnFailedMessage():kt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),f7=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Si.createElement("button",jr.TORCH_BUTTON_ID),this.torchController=new K2(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=kt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(c){return gE(r,void 0,void 0,function(){return yE(this,function(h){switch(h.label){case 0:return[4,s.torchController.flipState()];case 1:return h.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(jr.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(jr.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(jr.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(jr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new K2(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=kt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var c=new e(n,s);return c.render(t,r),c},e}(),h7=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Si.createElement("button",jr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(m){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Si.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(m){if(!(m==null||m.target==null)){var x=m.target;if(!(x.files&&x.files.length===0)){var g=x.files,w=g[0],C=w.name;c.setImageNameToButton(C),r(w)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(m){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),m.stopPropagation(),m.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(m){m.stopPropagation(),m.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var x=m.dataTransfer;if(x){var g=x.files;if(!g||g.length===0)return;for(var w=!1,C=0;C<g.length;++C){var b=g.item(C);if(b){var _=/image.*/;if(b.type.match(_)){w=!0;var N=b.name;c.setImageNameToButton(N),r(b),h.innerText=kt.dragAndDropMessage();break}}}w||(h.innerText=kt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=kt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,c=t.substring(s-8,s);t="".concat(r,"....").concat(c)}var h=kt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=kt.fileSelectionChooseImage()+" - "+kt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),p7=function(){function e(t){this.selectElement=Si.createElement("select",jr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=kt.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var c=1,h=0,m=this.cameras;h<m.length;h++){var x=m[h],g=x.id,w=x.label==null?g:x.label;(!w||w==="")&&(w=[kt.anonymousCameraPrefix(),c++].join(" "));var C=document.createElement("option");C.value=g,C.innerText=w,this.options.push(C),this.selectElement.appendChild(C)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),m7=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Si.createElement("input",jr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=kt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),Mr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Mr||(Mr={}));function g7(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function y7(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var x7=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Wi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new hE(this.verbose),this.persistedDataManager=new s7,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,h){if(t)t(c,h);else{if(r.lastMatchFound===c)return;r.lastMatchFound=c,r.setHeaderMessage(kt.lastMatch(c),Mr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,h){n&&n(c,h)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Q2(this.getScanRegionId(),y7(this.config,this.verbose))},e.prototype.pause=function(t){(Wo(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),s(c)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Eo.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Eo.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Eo.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Eo.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Eo.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Eo.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Eo.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Wi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),c=this.getDashboardId();s.id=c,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new c7;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(kt.cameraPermissionRequesting());var c=function(){r||s.createPermissionButton(t,n)};Q2.getCameras().then(function(h){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),h&&h.length>0?(t.removeChild(n),s.renderCameraSelection(h)):(s.setHeaderMessage(kt.noCameraFound(),Mr.STATUS_WARNING),c())}).catch(function(h){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:c(),s.setHeaderMessage(h,Mr.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Si.createElement("button",this.getCameraPermissionButtonId());s.innerText=kt.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Wi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){$2.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Wi.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Wi.isFileScanType(this.currentScanType),r=this,s=function(c){if(!r.html5Qrcode)throw"html5Qrcode not defined";Wi.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(kt.loadingImage()),r.html5Qrcode.scanFileV2(c,!0).then(function(h){r.resetHeaderMessage(),r.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){r.setHeaderMessage(h,Mr.STATUS_WARNING),r.qrCodeErrorCallback(h,fE.createFrom(h))}))};this.fileSelectionUi=h7.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var c=m7.create(s,!1),h=function(T){var P=T.zoomFeature();if(P.isSupported()){c.setOnCameraZoomValueChangeCallback(function(I){P.apply(I)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=LP(M,P.min(),P.max()),c.setValues(P.min(),P.max(),M,P.step()),c.show()}},m=p7.create(s,t),x=document.createElement("span"),g=Si.createElement("button",jr.CAMERA_START_BUTTON_ID);g.innerText=kt.scanButtonStartScanningText(),x.appendChild(g);var w=Si.createElement("button",jr.CAMERA_STOP_BUTTON_ID);w.innerText=kt.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,x.appendChild(w);var C,b=function(T){if(!T.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(T.torchFeature()):C=f7.create(x,T.torchFeature(),{display:"none",marginLeft:"5px"},function(P){r.setHeaderMessage(P,Mr.STATUS_WARNING)}),C.show()};s.appendChild(x);var _=function(T){T||(g.style.display="none"),g.innerText=kt.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,T&&(g.style.display="inline-block")};if(g.addEventListener("click",function(T){g.innerText=kt.scanButtonScanningStarting(),m.disable(),g.disabled=!0,g.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var P=m.getValue();r.persistedDataManager.setLastUsedCameraId(P),r.html5Qrcode.start(P,g7(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){w.disabled=!1,w.style.display="inline-block",_(!1);var I=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&b(I),n.config.showZoomSliderIfSupported===!0&&h(I)}).catch(function(M){r.showHideScanTypeSwapLink(!0),m.enable(),_(!0),r.setHeaderMessage(M,Mr.STATUS_WARNING)})}),m.hasSingleItem()&&g.click(),w.addEventListener("click",function(T){if(!r.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,r.html5Qrcode.stop().then(function(P){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),m.enable(),g.disabled=!1,w.style.display="none",g.style.display="inline-block",C&&(C.reset(),C.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(P){w.disabled=!1,r.setHeaderMessage(P,Mr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var N=r.persistedDataManager.getLastUsedCameraId();m.hasValue(N)?(m.setValue(N),g.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=kt.textIfCameraScanSelected(),r=kt.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var h=Si.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=Wi.isCameraScanType(this.currentScanType)?n:r,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Wi.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=r,t.currentScanType=Cs.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=n,t.currentScanType=Cs.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(h),s.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){$2.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Mr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Mr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Mr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Mr.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=r7,this.cameraScanImage.alt=kt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=o7,this.fileScanImage.alt=kt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return jr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return jr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const v7=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(null),[s,c]=E.useState(!1),[h,m]=E.useState([]),[x,g]=E.useState({}),w=E.useRef(null),[C,b]=E.useState(""),[_,N]=E.useState(!1),[T,P]=E.useState(!1),M=E.useRef(null),I="qr-reader-region",D=()=>{P(!0)},F=Q=>{P(Q)};De.useEffect(()=>{T?setTimeout(()=>{!M.current&&document.getElementById(I)&&(M.current=new x7(I,{fps:10,qrbox:{width:250,height:250}},!1),M.current.render(Q=>{t(ie=>Q),P(!1),setTimeout(()=>{G(Q)},0)},Q=>{}))},0):M.current&&M.current.clear().then(()=>{M.current=null})},[T]);const Y=(Q,ie)=>{n&&(n.close(),r(null),c(!1));const fe=Q.connect(ie,{reliable:!0});r(fe),fe.on("open",()=>{c(!0),b(""),N(!1)}),fe.on("data",re=>{console.log("data",re),re.type==="records"&&(m(re.records),g(re.debugImages||{})),re.type==="error"&&b(re.message)}),fe.on("close",()=>{c(!1),N(!1)})},G=(Q=void 0)=>{const ie=Q||e;console.log("handleConnect",ie),ie&&(N(!0),!w.current||w.current.disconnected?(w.current=new Df,w.current.on("open",()=>{Y(w.current,ie)}),w.current.on("disconnected",()=>{c(!1),N(!1)}),w.current.on("error",fe=>{b(fe.message),N(!1)}),w.current.on("close",()=>{c(!1),N(!1)})):Y(w.current,ie))},z=()=>{n&&s&&(console.log("Sending capture request"),n.send({type:"capture-request"}))},$=Q=>{m(ie=>Q),n&&s&&n.send({type:"records-update",records:Q})};return R.jsxs("div",{className:"max-w-2xl mx-auto py-8 space-y-8",children:[R.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Remote Session"}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(bi,{value:e,onChange:Q=>t(Q.target.value),placeholder:"Enter session ID",className:"bg-space-medium border-neon-blue/20"}),R.jsx(Gt,{onClick:()=>G(),className:"bg-neon-blue text-space-dark hover:bg-neon-blue/90",disabled:_||s,children:_?R.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[R.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),R.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):"Connect"}),R.jsxs(E0,{open:T,onOpenChange:F,children:[R.jsx(qm,{asChild:!0,children:R.jsxs(Gt,{variant:"outline",className:"border-neon-blue/50",onClick:D,children:[R.jsx(qw,{className:"h-4 w-4 mr-2"}),"Scan QR"]})}),R.jsxs(Au,{className:"flex flex-col items-center gap-4 bg-white !text-gray-900 shadow-lg rounded-xl max-w-md w-full",children:[R.jsx(Tu,{children:R.jsx(_u,{children:"Scan Session QR Code"})}),R.jsx("div",{id:I,className:"w-full flex justify-center items-center min-h-[320px]"}),R.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Point your camera at a session QR code"})]})]})]}),R.jsxs(Gt,{onClick:z,disabled:!s,className:s?"bg-green-600 hover:bg-green-700 w-full":"bg-gray-600 hover:bg-gray-700 w-full",children:[R.jsx(dm,{className:"h-4 w-4 mr-2"}),"Capture"]}),R.jsx("div",{id:"error-message",className:"text-red-500",children:C}),R.jsx(J3,{records:h,debugImages:x,onUpdate:$})]})},w7=new e6,C7=()=>R.jsx(n6,{client:w7,children:R.jsx(AM,{children:R.jsxs(M8,{delayDuration:0,children:[R.jsx(dC,{}),R.jsx(oI,{}),R.jsx(q6,{basename:"/sc-cargo-link/",children:R.jsxs(H6,{children:[R.jsx(Vs,{path:"/",element:R.jsx(hc,{children:R.jsx(GO,{})})}),R.jsx(Vs,{path:"/contracts",element:R.jsx(hc,{children:R.jsx(EM,{})})}),R.jsx(Vs,{path:"/contracts/record",element:R.jsx(hc,{children:R.jsx(OP,{})})}),R.jsx(Vs,{path:"/contracts/remote",element:R.jsx(hc,{children:R.jsx(v7,{})})}),R.jsx(Vs,{path:"/routes",element:R.jsx(hc,{children:R.jsx(DP,{})})}),R.jsx(Vs,{path:"*",element:R.jsx(kP,{})})]})})]})})});ww(document.getElementById("root")).render(R.jsx(C7,{}));
