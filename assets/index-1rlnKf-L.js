var h3=Object.defineProperty;var lm=e=>{throw TypeError(e)};var p3=(e,t,n)=>t in e?h3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var cm=(e,t,n)=>p3(e,typeof t!="symbol"?t+"":t,n),_h=(e,t,n)=>t.has(e)||lm("Cannot "+n);var ve=(e,t,n)=>(_h(e,t,"read from private field"),n?n.call(e):t.get(e)),Nt=(e,t,n)=>t.has(e)?lm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ht=(e,t,n,r)=>(_h(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),er=(e,t,n)=>(_h(e,t,"access private method"),n);var Lu=(e,t,n,r)=>({set _(s){ht(e,t,s,n)},get _(){return ve(e,t,r)}});function dp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(r,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();var vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zx={exports:{}},Mf={},Jx={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),g3=Symbol.for("react.portal"),m3=Symbol.for("react.fragment"),y3=Symbol.for("react.strict_mode"),x3=Symbol.for("react.profiler"),v3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),C3=Symbol.for("react.forward_ref"),b3=Symbol.for("react.suspense"),E3=Symbol.for("react.memo"),S3=Symbol.for("react.lazy"),um=Symbol.iterator;function A3(e){return e===null||typeof e!="object"?null:(e=um&&e[um]||e["@@iterator"],typeof e=="function"?e:null)}var ev={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tv=Object.assign,nv={};function Ol(e,t,n){this.props=e,this.context=t,this.refs=nv,this.updater=n||ev}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ol.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rv(){}rv.prototype=Ol.prototype;function fp(e,t,n){this.props=e,this.context=t,this.refs=nv,this.updater=n||ev}var hp=fp.prototype=new rv;hp.constructor=fp;tv(hp,Ol.prototype);hp.isPureReactComponent=!0;var dm=Array.isArray,iv=Object.prototype.hasOwnProperty,pp={current:null},ov={key:!0,ref:!0,__self:!0,__source:!0};function sv(e,t,n){var r,s={},c=null,h=null;if(t!=null)for(r in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(c=""+t.key),t)iv.call(t,r)&&!ov.hasOwnProperty(r)&&(s[r]=t[r]);var g=arguments.length-2;if(g===1)s.children=n;else if(1<g){for(var x=Array(g),y=0;y<g;y++)x[y]=arguments[y+2];s.children=x}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)s[r]===void 0&&(s[r]=g[r]);return{$$typeof:gu,type:e,key:c,ref:h,props:s,_owner:pp.current}}function T3(e,t){return{$$typeof:gu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gp(e){return typeof e=="object"&&e!==null&&e.$$typeof===gu}function _3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fm=/\/+/g;function Ih(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_3(""+e.key):t.toString(36)}function hd(e,t,n,r,s){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(c){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case gu:case g3:h=!0}}if(h)return h=e,s=s(h),e=r===""?"."+Ih(h,0):r,dm(s)?(n="",e!=null&&(n=e.replace(fm,"$&/")+"/"),hd(s,t,n,"",function(y){return y})):s!=null&&(gp(s)&&(s=T3(s,n+(!s.key||h&&h.key===s.key?"":(""+s.key).replace(fm,"$&/")+"/")+e)),t.push(s)),1;if(h=0,r=r===""?".":r+":",dm(e))for(var g=0;g<e.length;g++){c=e[g];var x=r+Ih(c,g);h+=hd(c,t,n,x,s)}else if(x=A3(e),typeof x=="function")for(e=x.call(e),g=0;!(c=e.next()).done;)c=c.value,x=r+Ih(c,g++),h+=hd(c,t,n,x,s);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Bu(e,t,n){if(e==null)return e;var r=[],s=0;return hd(e,r,"","",function(c){return t.call(n,c,s++)}),r}function I3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yr={current:null},pd={transition:null},R3={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:pd,ReactCurrentOwner:pp};function av(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:Bu,forEach:function(e,t,n){Bu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bu(e,function(){t++}),t},toArray:function(e){return Bu(e,function(t){return t})||[]},only:function(e){if(!gp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Et.Component=Ol;Et.Fragment=m3;Et.Profiler=x3;Et.PureComponent=fp;Et.StrictMode=y3;Et.Suspense=b3;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R3;Et.act=av;Et.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=tv({},e.props),s=e.key,c=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,h=pp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(x in t)iv.call(t,x)&&!ov.hasOwnProperty(x)&&(r[x]=t[x]===void 0&&g!==void 0?g[x]:t[x])}var x=arguments.length-2;if(x===1)r.children=n;else if(1<x){g=Array(x);for(var y=0;y<x;y++)g[y]=arguments[y+2];r.children=g}return{$$typeof:gu,type:e.type,key:s,ref:c,props:r,_owner:h}};Et.createContext=function(e){return e={$$typeof:w3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:v3,_context:e},e.Consumer=e};Et.createElement=sv;Et.createFactory=function(e){var t=sv.bind(null,e);return t.type=e,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(e){return{$$typeof:C3,render:e}};Et.isValidElement=gp;Et.lazy=function(e){return{$$typeof:S3,_payload:{_status:-1,_result:e},_init:I3}};Et.memo=function(e,t){return{$$typeof:E3,type:e,compare:t===void 0?null:t}};Et.startTransition=function(e){var t=pd.transition;pd.transition={};try{e()}finally{pd.transition=t}};Et.unstable_act=av;Et.useCallback=function(e,t){return yr.current.useCallback(e,t)};Et.useContext=function(e){return yr.current.useContext(e)};Et.useDebugValue=function(){};Et.useDeferredValue=function(e){return yr.current.useDeferredValue(e)};Et.useEffect=function(e,t){return yr.current.useEffect(e,t)};Et.useId=function(){return yr.current.useId()};Et.useImperativeHandle=function(e,t,n){return yr.current.useImperativeHandle(e,t,n)};Et.useInsertionEffect=function(e,t){return yr.current.useInsertionEffect(e,t)};Et.useLayoutEffect=function(e,t){return yr.current.useLayoutEffect(e,t)};Et.useMemo=function(e,t){return yr.current.useMemo(e,t)};Et.useReducer=function(e,t,n){return yr.current.useReducer(e,t,n)};Et.useRef=function(e){return yr.current.useRef(e)};Et.useState=function(e){return yr.current.useState(e)};Et.useSyncExternalStore=function(e,t,n){return yr.current.useSyncExternalStore(e,t,n)};Et.useTransition=function(){return yr.current.useTransition()};Et.version="18.3.1";Jx.exports=Et;var A=Jx.exports;const Pe=ua(A),lv=dp({__proto__:null,default:Pe},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3=A,M3=Symbol.for("react.element"),O3=Symbol.for("react.fragment"),D3=Object.prototype.hasOwnProperty,k3=N3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P3={key:!0,ref:!0,__self:!0,__source:!0};function cv(e,t,n){var r,s={},c=null,h=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(h=t.ref);for(r in t)D3.call(t,r)&&!P3.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:M3,type:e,key:c,ref:h,props:s,_owner:k3.current}}Mf.Fragment=O3;Mf.jsx=cv;Mf.jsxs=cv;Zx.exports=Mf;var S=Zx.exports,uv={exports:{}},$r={},dv={exports:{}},fv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,G){var Q=q.length;q.push(G);e:for(;0<Q;){var ne=Q-1>>>1,ce=q[ne];if(0<s(ce,G))q[ne]=G,q[Q]=ce,Q=ne;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],Q=q.pop();if(Q!==G){q[0]=Q;e:for(var ne=0,ce=q.length,ge=ce>>>1;ne<ge;){var Ne=2*(ne+1)-1,ot=q[Ne],he=Ne+1,Oe=q[he];if(0>s(ot,Q))he<ce&&0>s(Oe,ot)?(q[ne]=Oe,q[he]=Q,ne=he):(q[ne]=ot,q[Ne]=Q,ne=Ne);else if(he<ce&&0>s(Oe,Q))q[ne]=Oe,q[he]=Q,ne=he;else break e}}return G}function s(q,G){var Q=q.sortIndex-G.sortIndex;return Q!==0?Q:q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();e.unstable_now=function(){return h.now()-g}}var x=[],y=[],w=1,C=null,b=3,R=!1,O=!1,_=!1,B=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var G=n(y);G!==null;){if(G.callback===null)r(y);else if(G.startTime<=q)r(y),G.sortIndex=G.expirationTime,t(x,G);else break;G=n(y)}}function U(q){if(_=!1,k(q),!O)if(n(x)!==null)O=!0,we($);else{var G=n(y);G!==null&&le(U,G.startTime-q)}}function $(q,G){O=!1,_&&(_=!1,M(Z),Z=-1),R=!0;var Q=b;try{for(k(G),C=n(x);C!==null&&(!(C.expirationTime>G)||q&&!xe());){var ne=C.callback;if(typeof ne=="function"){C.callback=null,b=C.priorityLevel;var ce=ne(C.expirationTime<=G);G=e.unstable_now(),typeof ce=="function"?C.callback=ce:C===n(x)&&r(x),k(G)}else r(x);C=n(x)}if(C!==null)var ge=!0;else{var Ne=n(y);Ne!==null&&le(U,Ne.startTime-G),ge=!1}return ge}finally{C=null,b=Q,R=!1}}var J=!1,Y=null,Z=-1,X=5,de=-1;function xe(){return!(e.unstable_now()-de<X)}function ae(){if(Y!==null){var q=e.unstable_now();de=q;var G=!0;try{G=Y(!0,q)}finally{G?ye():(J=!1,Y=null)}}else J=!1}var ye;if(typeof I=="function")ye=function(){I(ae)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,te=pe.port2;pe.port1.onmessage=ae,ye=function(){te.postMessage(null)}}else ye=function(){B(ae,0)};function we(q){Y=q,J||(J=!0,ye())}function le(q,G){Z=B(function(){q(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){O||R||(O=!0,we($))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(q){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var Q=b;b=G;try{return q()}finally{b=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=b;b=q;try{return G()}finally{b=Q}},e.unstable_scheduleCallback=function(q,G,Q){var ne=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,q){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Q+ce,q={id:w++,callback:G,priorityLevel:q,startTime:Q,expirationTime:ce,sortIndex:-1},Q>ne?(q.sortIndex=Q,t(y,q),n(x)===null&&q===n(y)&&(_?(M(Z),Z=-1):_=!0,le(U,Q-ne))):(q.sortIndex=ce,t(x,q),O||R||(O=!0,we($))),q},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(q){var G=b;return function(){var Q=b;b=G;try{return q.apply(this,arguments)}finally{b=Q}}}})(fv);dv.exports=fv;var L3=dv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B3=A,Yr=L3;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hv=new Set,Bc={};function da(e,t){wl(e,t),wl(e+"Capture",t)}function wl(e,t){for(Bc[e]=t,e=0;e<t.length;e++)hv.add(t[e])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w0=Object.prototype.hasOwnProperty,j3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hm={},pm={};function F3(e){return w0.call(pm,e)?!0:w0.call(hm,e)?!1:j3.test(e)?pm[e]=!0:(hm[e]=!0,!1)}function U3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z3(e,t,n,r){if(t===null||typeof t>"u"||U3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,n,r,s,c,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=h}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var mp=/[\-:]([a-z])/g;function yp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mp,yp);Xn[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mp,yp);Xn[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mp,yp);Xn[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function xp(e,t,n,r){var s=Xn.hasOwnProperty(t)?Xn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z3(t,n,s,r)&&(n=null),r||s===null?F3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mo=B3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ju=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),pv=Symbol.for("react.provider"),gv=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),E0=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),Yo=Symbol.for("react.lazy"),mv=Symbol.for("react.offscreen"),gm=Symbol.iterator;function nc(e){return e===null||typeof e!="object"?null:(e=gm&&e[gm]||e["@@iterator"],typeof e=="function"?e:null)}var an=Object.assign,Rh;function mc(e){if(Rh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rh=t&&t[1]||""}return`
`+Rh+e}var Nh=!1;function Mh(e,t){if(!e||Nh)return"";Nh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var r=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){r=y}e.call(t.prototype)}else{try{throw Error()}catch(y){r=y}e()}}catch(y){if(y&&r&&typeof y.stack=="string"){for(var s=y.stack.split(`
`),c=r.stack.split(`
`),h=s.length-1,g=c.length-1;1<=h&&0<=g&&s[h]!==c[g];)g--;for(;1<=h&&0<=g;h--,g--)if(s[h]!==c[g]){if(h!==1||g!==1)do if(h--,g--,0>g||s[h]!==c[g]){var x=`
`+s[h].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=h&&0<=g);break}}}finally{Nh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mc(e):""}function H3(e){switch(e.tag){case 5:return mc(e.type);case 16:return mc("Lazy");case 13:return mc("Suspense");case 19:return mc("SuspenseList");case 0:case 2:case 15:return e=Mh(e.type,!1),e;case 11:return e=Mh(e.type.render,!1),e;case 1:return e=Mh(e.type,!0),e;default:return""}}function S0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Va:return"Fragment";case Ha:return"Portal";case C0:return"Profiler";case vp:return"StrictMode";case b0:return"Suspense";case E0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gv:return(e.displayName||"Context")+".Consumer";case pv:return(e._context.displayName||"Context")+".Provider";case wp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cp:return t=e.displayName||null,t!==null?t:S0(e.type)||"Memo";case Yo:t=e._payload,e=e._init;try{return S0(e(t))}catch{}}return null}function V3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S0(t);case 8:return t===vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W3(e){var t=yv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(h){r=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fu(e){e._valueTracker||(e._valueTracker=W3(e))}function xv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function A0(e,t){var n=t.checked;return an({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vv(e,t){t=t.checked,t!=null&&xp(e,"checked",t,!1)}function T0(e,t){vv(e,t);var n=hs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_0(e,t.type,n):t.hasOwnProperty("defaultValue")&&_0(e,t.type,hs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ym(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _0(e,t,n){(t!=="number"||jd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yc=Array.isArray;function tl(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function I0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return an({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Re(92));if(yc(n)){if(1<n.length)throw Error(Re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hs(n)}}function wv(e,t){var n=hs(t.value),r=hs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uu,bv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G3=["Webkit","ms","Moz","O"];Object.keys(Sc).forEach(function(e){G3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sc[t]=Sc[e]})});function Ev(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sc.hasOwnProperty(e)&&Sc[e]?(""+t).trim():t+"px"}function Sv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ev(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Y3=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N0(e,t){if(t){if(Y3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function M0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O0=null;function bp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var D0=null,nl=null,rl=null;function wm(e){if(e=xu(e)){if(typeof D0!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=Lf(t),D0(e.stateNode,e.type,t))}}function Av(e){nl?rl?rl.push(e):rl=[e]:nl=e}function Tv(){if(nl){var e=nl,t=rl;if(rl=nl=null,wm(e),t)for(e=0;e<t.length;e++)wm(t[e])}}function _v(e,t){return e(t)}function Iv(){}var Oh=!1;function Rv(e,t,n){if(Oh)return e(t,n);Oh=!0;try{return _v(e,t,n)}finally{Oh=!1,(nl!==null||rl!==null)&&(Iv(),Tv())}}function Fc(e,t){var n=e.stateNode;if(n===null)return null;var r=Lf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Re(231,t,typeof n));return n}var k0=!1;if(So)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){k0=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{k0=!1}function $3(e,t,n,r,s,c,h,g,x){var y=Array.prototype.slice.call(arguments,3);try{t.apply(n,y)}catch(w){this.onError(w)}}var Ac=!1,Fd=null,Ud=!1,P0=null,K3={onError:function(e){Ac=!0,Fd=e}};function X3(e,t,n,r,s,c,h,g,x){Ac=!1,Fd=null,$3.apply(K3,arguments)}function Q3(e,t,n,r,s,c,h,g,x){if(X3.apply(this,arguments),Ac){if(Ac){var y=Fd;Ac=!1,Fd=null}else throw Error(Re(198));Ud||(Ud=!0,P0=y)}}function fa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cm(e){if(fa(e)!==e)throw Error(Re(188))}function q3(e){var t=e.alternate;if(!t){if(t=fa(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var c=s.alternate;if(c===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===n)return Cm(s),e;if(c===r)return Cm(s),t;c=c.sibling}throw Error(Re(188))}if(n.return!==r.return)n=s,r=c;else{for(var h=!1,g=s.child;g;){if(g===n){h=!0,n=s,r=c;break}if(g===r){h=!0,r=s,n=c;break}g=g.sibling}if(!h){for(g=c.child;g;){if(g===n){h=!0,n=c,r=s;break}if(g===r){h=!0,r=c,n=s;break}g=g.sibling}if(!h)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?e:t}function Mv(e){return e=q3(e),e!==null?Ov(e):null}function Ov(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ov(e);if(t!==null)return t;e=e.sibling}return null}var Dv=Yr.unstable_scheduleCallback,bm=Yr.unstable_cancelCallback,Z3=Yr.unstable_shouldYield,J3=Yr.unstable_requestPaint,wn=Yr.unstable_now,eT=Yr.unstable_getCurrentPriorityLevel,Ep=Yr.unstable_ImmediatePriority,kv=Yr.unstable_UserBlockingPriority,zd=Yr.unstable_NormalPriority,tT=Yr.unstable_LowPriority,Pv=Yr.unstable_IdlePriority,Of=null,eo=null;function nT(e){if(eo&&typeof eo.onCommitFiberRoot=="function")try{eo.onCommitFiberRoot(Of,e,void 0,(e.current.flags&128)===128)}catch{}}var Ri=Math.clz32?Math.clz32:oT,rT=Math.log,iT=Math.LN2;function oT(e){return e>>>=0,e===0?32:31-(rT(e)/iT|0)|0}var zu=64,Hu=4194304;function xc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,c=e.pingedLanes,h=n&268435455;if(h!==0){var g=h&~s;g!==0?r=xc(g):(c&=h,c!==0&&(r=xc(c)))}else h=n&~s,h!==0?r=xc(h):c!==0&&(r=xc(c));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ri(t),s=1<<n,r|=e[n],t&=~s;return r}function sT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var h=31-Ri(c),g=1<<h,x=s[h];x===-1?(!(g&n)||g&r)&&(s[h]=sT(g,t)):x<=t&&(e.expiredLanes|=g),c&=~g}}function L0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lv(){var e=zu;return zu<<=1,!(zu&4194240)&&(zu=64),e}function Dh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ri(t),e[t]=n}function lT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ri(n),c=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~c}}function Sp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ri(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ht=0;function Bv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jv,Ap,Fv,Uv,zv,B0=!1,Vu=[],is=null,os=null,ss=null,Uc=new Map,zc=new Map,Ko=[],cT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Em(e,t){switch(e){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(t.pointerId)}}function ic(e,t,n,r,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[s]},t!==null&&(t=xu(t),t!==null&&Ap(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uT(e,t,n,r,s){switch(t){case"focusin":return is=ic(is,e,t,n,r,s),!0;case"dragenter":return os=ic(os,e,t,n,r,s),!0;case"mouseover":return ss=ic(ss,e,t,n,r,s),!0;case"pointerover":var c=s.pointerId;return Uc.set(c,ic(Uc.get(c)||null,e,t,n,r,s)),!0;case"gotpointercapture":return c=s.pointerId,zc.set(c,ic(zc.get(c)||null,e,t,n,r,s)),!0}return!1}function Hv(e){var t=$s(e.target);if(t!==null){var n=fa(t);if(n!==null){if(t=n.tag,t===13){if(t=Nv(n),t!==null){e.blockedOn=t,zv(e.priority,function(){Fv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=j0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);O0=r,n.target.dispatchEvent(r),O0=null}else return t=xu(n),t!==null&&Ap(t),e.blockedOn=n,!1;t.shift()}return!0}function Sm(e,t,n){gd(e)&&n.delete(t)}function dT(){B0=!1,is!==null&&gd(is)&&(is=null),os!==null&&gd(os)&&(os=null),ss!==null&&gd(ss)&&(ss=null),Uc.forEach(Sm),zc.forEach(Sm)}function oc(e,t){e.blockedOn===t&&(e.blockedOn=null,B0||(B0=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,dT)))}function Hc(e){function t(s){return oc(s,e)}if(0<Vu.length){oc(Vu[0],e);for(var n=1;n<Vu.length;n++){var r=Vu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(is!==null&&oc(is,e),os!==null&&oc(os,e),ss!==null&&oc(ss,e),Uc.forEach(t),zc.forEach(t),n=0;n<Ko.length;n++)r=Ko[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ko.length&&(n=Ko[0],n.blockedOn===null);)Hv(n),n.blockedOn===null&&Ko.shift()}var il=Mo.ReactCurrentBatchConfig,Vd=!0;function fT(e,t,n,r){var s=Ht,c=il.transition;il.transition=null;try{Ht=1,Tp(e,t,n,r)}finally{Ht=s,il.transition=c}}function hT(e,t,n,r){var s=Ht,c=il.transition;il.transition=null;try{Ht=4,Tp(e,t,n,r)}finally{Ht=s,il.transition=c}}function Tp(e,t,n,r){if(Vd){var s=j0(e,t,n,r);if(s===null)Vh(e,t,r,Wd,n),Em(e,r);else if(uT(s,e,t,n,r))r.stopPropagation();else if(Em(e,r),t&4&&-1<cT.indexOf(e)){for(;s!==null;){var c=xu(s);if(c!==null&&jv(c),c=j0(e,t,n,r),c===null&&Vh(e,t,r,Wd,n),c===s)break;s=c}s!==null&&r.stopPropagation()}else Vh(e,t,r,null,n)}}var Wd=null;function j0(e,t,n,r){if(Wd=null,e=bp(r),e=$s(e),e!==null)if(t=fa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wd=e,null}function Vv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eT()){case Ep:return 1;case kv:return 4;case zd:case tT:return 16;case Pv:return 536870912;default:return 16}default:return 16}}var ts=null,_p=null,md=null;function Wv(){if(md)return md;var e,t=_p,n=t.length,r,s="value"in ts?ts.value:ts.textContent,c=s.length;for(e=0;e<n&&t[e]===s[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===s[c-r];r++);return md=s.slice(e,1<r?1-r:void 0)}function yd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wu(){return!0}function Am(){return!1}function Kr(e){function t(n,r,s,c,h){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Wu:Am,this.isPropagationStopped=Am,this}return an(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),t}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=Kr(Dl),yu=an({},Dl,{view:0,detail:0}),pT=Kr(yu),kh,Ph,sc,Df=an({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sc&&(sc&&e.type==="mousemove"?(kh=e.screenX-sc.screenX,Ph=e.screenY-sc.screenY):Ph=kh=0,sc=e),kh)},movementY:function(e){return"movementY"in e?e.movementY:Ph}}),Tm=Kr(Df),gT=an({},Df,{dataTransfer:0}),mT=Kr(gT),yT=an({},yu,{relatedTarget:0}),Lh=Kr(yT),xT=an({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),vT=Kr(xT),wT=an({},Dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CT=Kr(wT),bT=an({},Dl,{data:0}),_m=Kr(bT),ET={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ST={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AT[e])?!!t[e]:!1}function Rp(){return TT}var _T=an({},yu,{key:function(e){if(e.key){var t=ET[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ST[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(e){return e.type==="keypress"?yd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IT=Kr(_T),RT=an({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Im=Kr(RT),NT=an({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),MT=Kr(NT),OT=an({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),DT=Kr(OT),kT=an({},Df,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PT=Kr(kT),LT=[9,13,27,32],Np=So&&"CompositionEvent"in window,Tc=null;So&&"documentMode"in document&&(Tc=document.documentMode);var BT=So&&"TextEvent"in window&&!Tc,Gv=So&&(!Np||Tc&&8<Tc&&11>=Tc),Rm=" ",Nm=!1;function Yv(e,t){switch(e){case"keyup":return LT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $v(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function jT(e,t){switch(e){case"compositionend":return $v(t);case"keypress":return t.which!==32?null:(Nm=!0,Rm);case"textInput":return e=t.data,e===Rm&&Nm?null:e;default:return null}}function FT(e,t){if(Wa)return e==="compositionend"||!Np&&Yv(e,t)?(e=Wv(),md=_p=ts=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gv&&t.locale!=="ko"?null:t.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UT[e.type]:t==="textarea"}function Kv(e,t,n,r){Av(r),t=Gd(t,"onChange"),0<t.length&&(n=new Ip("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _c=null,Vc=null;function zT(e){o2(e,0)}function kf(e){var t=$a(e);if(xv(t))return e}function HT(e,t){if(e==="change")return t}var Xv=!1;if(So){var Bh;if(So){var jh="oninput"in document;if(!jh){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),jh=typeof Om.oninput=="function"}Bh=jh}else Bh=!1;Xv=Bh&&(!document.documentMode||9<document.documentMode)}function Dm(){_c&&(_c.detachEvent("onpropertychange",Qv),Vc=_c=null)}function Qv(e){if(e.propertyName==="value"&&kf(Vc)){var t=[];Kv(t,Vc,e,bp(e)),Rv(zT,t)}}function VT(e,t,n){e==="focusin"?(Dm(),_c=t,Vc=n,_c.attachEvent("onpropertychange",Qv)):e==="focusout"&&Dm()}function WT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kf(Vc)}function GT(e,t){if(e==="click")return kf(t)}function YT(e,t){if(e==="input"||e==="change")return kf(t)}function $T(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oi=typeof Object.is=="function"?Object.is:$T;function Wc(e,t){if(Oi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!w0.call(t,s)||!Oi(e[s],t[s]))return!1}return!0}function km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pm(e,t){var n=km(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=km(n)}}function qv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zv(){for(var e=window,t=jd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jd(e.document)}return t}function Mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KT(e){var t=Zv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qv(n.ownerDocument.documentElement,n)){if(r!==null&&Mp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,c=Math.min(r.start,s);r=r.end===void 0?c:Math.min(r.end,s),!e.extend&&c>r&&(s=r,r=c,c=s),s=Pm(n,c);var h=Pm(n,r);s&&h&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>r?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XT=So&&"documentMode"in document&&11>=document.documentMode,Ga=null,F0=null,Ic=null,U0=!1;function Lm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;U0||Ga==null||Ga!==jd(r)||(r=Ga,"selectionStart"in r&&Mp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ic&&Wc(Ic,r)||(Ic=r,r=Gd(F0,"onSelect"),0<r.length&&(t=new Ip("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ga)))}function Gu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ya={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},Fh={},Jv={};So&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Pf(e){if(Fh[e])return Fh[e];if(!Ya[e])return e;var t=Ya[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jv)return Fh[e]=t[n];return e}var e2=Pf("animationend"),t2=Pf("animationiteration"),n2=Pf("animationstart"),r2=Pf("transitionend"),i2=new Map,Bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(e,t){i2.set(e,t),da(t,[e])}for(var Uh=0;Uh<Bm.length;Uh++){var zh=Bm[Uh],QT=zh.toLowerCase(),qT=zh[0].toUpperCase()+zh.slice(1);Cs(QT,"on"+qT)}Cs(e2,"onAnimationEnd");Cs(t2,"onAnimationIteration");Cs(n2,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(r2,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function jm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q3(r,t,void 0,e),e.currentTarget=null}function o2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var h=r.length-1;0<=h;h--){var g=r[h],x=g.instance,y=g.currentTarget;if(g=g.listener,x!==c&&s.isPropagationStopped())break e;jm(s,g,y),c=x}else for(h=0;h<r.length;h++){if(g=r[h],x=g.instance,y=g.currentTarget,g=g.listener,x!==c&&s.isPropagationStopped())break e;jm(s,g,y),c=x}}}if(Ud)throw e=P0,Ud=!1,P0=null,e}function Jt(e,t){var n=t[G0];n===void 0&&(n=t[G0]=new Set);var r=e+"__bubble";n.has(r)||(s2(t,e,2,!1),n.add(r))}function Hh(e,t,n){var r=0;t&&(r|=4),s2(n,e,r,t)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[Yu]){e[Yu]=!0,hv.forEach(function(n){n!=="selectionchange"&&(ZT.has(n)||Hh(n,!1,e),Hh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yu]||(t[Yu]=!0,Hh("selectionchange",!1,t))}}function s2(e,t,n,r){switch(Vv(t)){case 1:var s=fT;break;case 4:s=hT;break;default:s=Tp}n=s.bind(null,t,n,e),s=void 0,!k0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vh(e,t,n,r,s){var c=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var g=r.stateNode.containerInfo;if(g===s||g.nodeType===8&&g.parentNode===s)break;if(h===4)for(h=r.return;h!==null;){var x=h.tag;if((x===3||x===4)&&(x=h.stateNode.containerInfo,x===s||x.nodeType===8&&x.parentNode===s))return;h=h.return}for(;g!==null;){if(h=$s(g),h===null)return;if(x=h.tag,x===5||x===6){r=c=h;continue e}g=g.parentNode}}r=r.return}Rv(function(){var y=c,w=bp(n),C=[];e:{var b=i2.get(e);if(b!==void 0){var R=Ip,O=e;switch(e){case"keypress":if(yd(n)===0)break e;case"keydown":case"keyup":R=IT;break;case"focusin":O="focus",R=Lh;break;case"focusout":O="blur",R=Lh;break;case"beforeblur":case"afterblur":R=Lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=mT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=MT;break;case e2:case t2:case n2:R=vT;break;case r2:R=DT;break;case"scroll":R=pT;break;case"wheel":R=PT;break;case"copy":case"cut":case"paste":R=CT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Im}var _=(t&4)!==0,B=!_&&e==="scroll",M=_?b!==null?b+"Capture":null:b;_=[];for(var I=y,k;I!==null;){k=I;var U=k.stateNode;if(k.tag===5&&U!==null&&(k=U,M!==null&&(U=Fc(I,M),U!=null&&_.push(Yc(I,U,k)))),B)break;I=I.return}0<_.length&&(b=new R(b,O,null,n,w),C.push({event:b,listeners:_}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",b&&n!==O0&&(O=n.relatedTarget||n.fromElement)&&($s(O)||O[Ao]))break e;if((R||b)&&(b=w.window===w?w:(b=w.ownerDocument)?b.defaultView||b.parentWindow:window,R?(O=n.relatedTarget||n.toElement,R=y,O=O?$s(O):null,O!==null&&(B=fa(O),O!==B||O.tag!==5&&O.tag!==6)&&(O=null)):(R=null,O=y),R!==O)){if(_=Tm,U="onMouseLeave",M="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(_=Im,U="onPointerLeave",M="onPointerEnter",I="pointer"),B=R==null?b:$a(R),k=O==null?b:$a(O),b=new _(U,I+"leave",R,n,w),b.target=B,b.relatedTarget=k,U=null,$s(w)===y&&(_=new _(M,I+"enter",O,n,w),_.target=k,_.relatedTarget=B,U=_),B=U,R&&O)t:{for(_=R,M=O,I=0,k=_;k;k=Ba(k))I++;for(k=0,U=M;U;U=Ba(U))k++;for(;0<I-k;)_=Ba(_),I--;for(;0<k-I;)M=Ba(M),k--;for(;I--;){if(_===M||M!==null&&_===M.alternate)break t;_=Ba(_),M=Ba(M)}_=null}else _=null;R!==null&&Fm(C,b,R,_,!1),O!==null&&B!==null&&Fm(C,B,O,_,!0)}}e:{if(b=y?$a(y):window,R=b.nodeName&&b.nodeName.toLowerCase(),R==="select"||R==="input"&&b.type==="file")var $=HT;else if(Mm(b))if(Xv)$=YT;else{$=WT;var J=VT}else(R=b.nodeName)&&R.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&($=GT);if($&&($=$(e,y))){Kv(C,$,n,w);break e}J&&J(e,b,y),e==="focusout"&&(J=b._wrapperState)&&J.controlled&&b.type==="number"&&_0(b,"number",b.value)}switch(J=y?$a(y):window,e){case"focusin":(Mm(J)||J.contentEditable==="true")&&(Ga=J,F0=y,Ic=null);break;case"focusout":Ic=F0=Ga=null;break;case"mousedown":U0=!0;break;case"contextmenu":case"mouseup":case"dragend":U0=!1,Lm(C,n,w);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Lm(C,n,w)}var Y;if(Np)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Wa?Yv(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(Gv&&n.locale!=="ko"&&(Wa||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Wa&&(Y=Wv()):(ts=w,_p="value"in ts?ts.value:ts.textContent,Wa=!0)),J=Gd(y,Z),0<J.length&&(Z=new _m(Z,e,null,n,w),C.push({event:Z,listeners:J}),Y?Z.data=Y:(Y=$v(n),Y!==null&&(Z.data=Y)))),(Y=BT?jT(e,n):FT(e,n))&&(y=Gd(y,"onBeforeInput"),0<y.length&&(w=new _m("onBeforeInput","beforeinput",null,n,w),C.push({event:w,listeners:y}),w.data=Y))}o2(C,t)})}function Yc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=Fc(e,n),c!=null&&r.unshift(Yc(e,c,s)),c=Fc(e,t),c!=null&&r.push(Yc(e,c,s))),e=e.return}return r}function Ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fm(e,t,n,r,s){for(var c=t._reactName,h=[];n!==null&&n!==r;){var g=n,x=g.alternate,y=g.stateNode;if(x!==null&&x===r)break;g.tag===5&&y!==null&&(g=y,s?(x=Fc(n,c),x!=null&&h.unshift(Yc(n,x,g))):s||(x=Fc(n,c),x!=null&&h.push(Yc(n,x,g)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var JT=/\r\n?/g,e_=/\u0000|\uFFFD/g;function Um(e){return(typeof e=="string"?e:""+e).replace(JT,`
`).replace(e_,"")}function $u(e,t,n){if(t=Um(t),Um(e)!==t&&n)throw Error(Re(425))}function Yd(){}var z0=null,H0=null;function V0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,t_=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(e){return zm.resolve(null).then(e).catch(r_)}:W0;function r_(e){setTimeout(function(){throw e})}function Wh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hc(t)}function as(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kl=Math.random().toString(36).slice(2),Xi="__reactFiber$"+kl,$c="__reactProps$"+kl,Ao="__reactContainer$"+kl,G0="__reactEvents$"+kl,i_="__reactListeners$"+kl,o_="__reactHandles$"+kl;function $s(e){var t=e[Xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ao]||n[Xi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hm(e);e!==null;){if(n=e[Xi])return n;e=Hm(e)}return t}e=n,n=e.parentNode}return null}function xu(e){return e=e[Xi]||e[Ao],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $a(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function Lf(e){return e[$c]||null}var Y0=[],Ka=-1;function bs(e){return{current:e}}function tn(e){0>Ka||(e.current=Y0[Ka],Y0[Ka]=null,Ka--)}function Xt(e,t){Ka++,Y0[Ka]=e.current,e.current=t}var ps={},or=bs(ps),Ir=bs(!1),na=ps;function Cl(e,t){var n=e.type.contextTypes;if(!n)return ps;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in n)s[c]=t[c];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rr(e){return e=e.childContextTypes,e!=null}function $d(){tn(Ir),tn(or)}function Vm(e,t,n){if(or.current!==ps)throw Error(Re(168));Xt(or,t),Xt(Ir,n)}function a2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Re(108,V3(e)||"Unknown",s));return an({},n,r)}function Kd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ps,na=or.current,Xt(or,e),Xt(Ir,Ir.current),!0}function Wm(e,t,n){var r=e.stateNode;if(!r)throw Error(Re(169));n?(e=a2(e,t,na),r.__reactInternalMemoizedMergedChildContext=e,tn(Ir),tn(or),Xt(or,e)):tn(Ir),Xt(Ir,n)}var xo=null,Bf=!1,Gh=!1;function l2(e){xo===null?xo=[e]:xo.push(e)}function s_(e){Bf=!0,l2(e)}function Es(){if(!Gh&&xo!==null){Gh=!0;var e=0,t=Ht;try{var n=xo;for(Ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xo=null,Bf=!1}catch(s){throw xo!==null&&(xo=xo.slice(e+1)),Dv(Ep,Es),s}finally{Ht=t,Gh=!1}}return null}var Xa=[],Qa=0,Xd=null,Qd=0,ai=[],li=0,ra=null,wo=1,Co="";function Vs(e,t){Xa[Qa++]=Qd,Xa[Qa++]=Xd,Xd=e,Qd=t}function c2(e,t,n){ai[li++]=wo,ai[li++]=Co,ai[li++]=ra,ra=e;var r=wo;e=Co;var s=32-Ri(r)-1;r&=~(1<<s),n+=1;var c=32-Ri(t)+s;if(30<c){var h=s-s%5;c=(r&(1<<h)-1).toString(32),r>>=h,s-=h,wo=1<<32-Ri(t)+s|n<<s|r,Co=c+e}else wo=1<<c|n<<s|r,Co=e}function Op(e){e.return!==null&&(Vs(e,1),c2(e,1,0))}function Dp(e){for(;e===Xd;)Xd=Xa[--Qa],Xa[Qa]=null,Qd=Xa[--Qa],Xa[Qa]=null;for(;e===ra;)ra=ai[--li],ai[li]=null,Co=ai[--li],ai[li]=null,wo=ai[--li],ai[li]=null}var Wr=null,Vr=null,nn=!1,_i=null;function u2(e,t){var n=ci(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wr=e,Vr=as(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wr=e,Vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ra!==null?{id:wo,overflow:Co}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ci(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Wr=e,Vr=null,!0):!1;default:return!1}}function $0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function K0(e){if(nn){var t=Vr;if(t){var n=t;if(!Gm(e,t)){if($0(e))throw Error(Re(418));t=as(n.nextSibling);var r=Wr;t&&Gm(e,t)?u2(r,n):(e.flags=e.flags&-4097|2,nn=!1,Wr=e)}}else{if($0(e))throw Error(Re(418));e.flags=e.flags&-4097|2,nn=!1,Wr=e}}}function Ym(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wr=e}function Ku(e){if(e!==Wr)return!1;if(!nn)return Ym(e),nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!V0(e.type,e.memoizedProps)),t&&(t=Vr)){if($0(e))throw d2(),Error(Re(418));for(;t;)u2(e,t),t=as(t.nextSibling)}if(Ym(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vr=as(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vr=null}}else Vr=Wr?as(e.stateNode.nextSibling):null;return!0}function d2(){for(var e=Vr;e;)e=as(e.nextSibling)}function bl(){Vr=Wr=null,nn=!1}function kp(e){_i===null?_i=[e]:_i.push(e)}var a_=Mo.ReactCurrentBatchConfig;function ac(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,e));var s=r,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(h){var g=s.refs;h===null?delete g[c]:g[c]=h},t._stringRef=c,t)}if(typeof e!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,e))}return e}function Xu(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $m(e){var t=e._init;return t(e._payload)}function f2(e){function t(M,I){if(e){var k=M.deletions;k===null?(M.deletions=[I],M.flags|=16):k.push(I)}}function n(M,I){if(!e)return null;for(;I!==null;)t(M,I),I=I.sibling;return null}function r(M,I){for(M=new Map;I!==null;)I.key!==null?M.set(I.key,I):M.set(I.index,I),I=I.sibling;return M}function s(M,I){return M=ds(M,I),M.index=0,M.sibling=null,M}function c(M,I,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<I?(M.flags|=2,I):k):(M.flags|=2,I)):(M.flags|=1048576,I)}function h(M){return e&&M.alternate===null&&(M.flags|=2),M}function g(M,I,k,U){return I===null||I.tag!==6?(I=Zh(k,M.mode,U),I.return=M,I):(I=s(I,k),I.return=M,I)}function x(M,I,k,U){var $=k.type;return $===Va?w(M,I,k.props.children,U,k.key):I!==null&&(I.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Yo&&$m($)===I.type)?(U=s(I,k.props),U.ref=ac(M,I,k),U.return=M,U):(U=Sd(k.type,k.key,k.props,null,M.mode,U),U.ref=ac(M,I,k),U.return=M,U)}function y(M,I,k,U){return I===null||I.tag!==4||I.stateNode.containerInfo!==k.containerInfo||I.stateNode.implementation!==k.implementation?(I=Jh(k,M.mode,U),I.return=M,I):(I=s(I,k.children||[]),I.return=M,I)}function w(M,I,k,U,$){return I===null||I.tag!==7?(I=ta(k,M.mode,U,$),I.return=M,I):(I=s(I,k),I.return=M,I)}function C(M,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Zh(""+I,M.mode,k),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ju:return k=Sd(I.type,I.key,I.props,null,M.mode,k),k.ref=ac(M,null,I),k.return=M,k;case Ha:return I=Jh(I,M.mode,k),I.return=M,I;case Yo:var U=I._init;return C(M,U(I._payload),k)}if(yc(I)||nc(I))return I=ta(I,M.mode,k,null),I.return=M,I;Xu(M,I)}return null}function b(M,I,k,U){var $=I!==null?I.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return $!==null?null:g(M,I,""+k,U);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ju:return k.key===$?x(M,I,k,U):null;case Ha:return k.key===$?y(M,I,k,U):null;case Yo:return $=k._init,b(M,I,$(k._payload),U)}if(yc(k)||nc(k))return $!==null?null:w(M,I,k,U,null);Xu(M,k)}return null}function R(M,I,k,U,$){if(typeof U=="string"&&U!==""||typeof U=="number")return M=M.get(k)||null,g(I,M,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ju:return M=M.get(U.key===null?k:U.key)||null,x(I,M,U,$);case Ha:return M=M.get(U.key===null?k:U.key)||null,y(I,M,U,$);case Yo:var J=U._init;return R(M,I,k,J(U._payload),$)}if(yc(U)||nc(U))return M=M.get(k)||null,w(I,M,U,$,null);Xu(I,U)}return null}function O(M,I,k,U){for(var $=null,J=null,Y=I,Z=I=0,X=null;Y!==null&&Z<k.length;Z++){Y.index>Z?(X=Y,Y=null):X=Y.sibling;var de=b(M,Y,k[Z],U);if(de===null){Y===null&&(Y=X);break}e&&Y&&de.alternate===null&&t(M,Y),I=c(de,I,Z),J===null?$=de:J.sibling=de,J=de,Y=X}if(Z===k.length)return n(M,Y),nn&&Vs(M,Z),$;if(Y===null){for(;Z<k.length;Z++)Y=C(M,k[Z],U),Y!==null&&(I=c(Y,I,Z),J===null?$=Y:J.sibling=Y,J=Y);return nn&&Vs(M,Z),$}for(Y=r(M,Y);Z<k.length;Z++)X=R(Y,M,Z,k[Z],U),X!==null&&(e&&X.alternate!==null&&Y.delete(X.key===null?Z:X.key),I=c(X,I,Z),J===null?$=X:J.sibling=X,J=X);return e&&Y.forEach(function(xe){return t(M,xe)}),nn&&Vs(M,Z),$}function _(M,I,k,U){var $=nc(k);if(typeof $!="function")throw Error(Re(150));if(k=$.call(k),k==null)throw Error(Re(151));for(var J=$=null,Y=I,Z=I=0,X=null,de=k.next();Y!==null&&!de.done;Z++,de=k.next()){Y.index>Z?(X=Y,Y=null):X=Y.sibling;var xe=b(M,Y,de.value,U);if(xe===null){Y===null&&(Y=X);break}e&&Y&&xe.alternate===null&&t(M,Y),I=c(xe,I,Z),J===null?$=xe:J.sibling=xe,J=xe,Y=X}if(de.done)return n(M,Y),nn&&Vs(M,Z),$;if(Y===null){for(;!de.done;Z++,de=k.next())de=C(M,de.value,U),de!==null&&(I=c(de,I,Z),J===null?$=de:J.sibling=de,J=de);return nn&&Vs(M,Z),$}for(Y=r(M,Y);!de.done;Z++,de=k.next())de=R(Y,M,Z,de.value,U),de!==null&&(e&&de.alternate!==null&&Y.delete(de.key===null?Z:de.key),I=c(de,I,Z),J===null?$=de:J.sibling=de,J=de);return e&&Y.forEach(function(ae){return t(M,ae)}),nn&&Vs(M,Z),$}function B(M,I,k,U){if(typeof k=="object"&&k!==null&&k.type===Va&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ju:e:{for(var $=k.key,J=I;J!==null;){if(J.key===$){if($=k.type,$===Va){if(J.tag===7){n(M,J.sibling),I=s(J,k.props.children),I.return=M,M=I;break e}}else if(J.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Yo&&$m($)===J.type){n(M,J.sibling),I=s(J,k.props),I.ref=ac(M,J,k),I.return=M,M=I;break e}n(M,J);break}else t(M,J);J=J.sibling}k.type===Va?(I=ta(k.props.children,M.mode,U,k.key),I.return=M,M=I):(U=Sd(k.type,k.key,k.props,null,M.mode,U),U.ref=ac(M,I,k),U.return=M,M=U)}return h(M);case Ha:e:{for(J=k.key;I!==null;){if(I.key===J)if(I.tag===4&&I.stateNode.containerInfo===k.containerInfo&&I.stateNode.implementation===k.implementation){n(M,I.sibling),I=s(I,k.children||[]),I.return=M,M=I;break e}else{n(M,I);break}else t(M,I);I=I.sibling}I=Jh(k,M.mode,U),I.return=M,M=I}return h(M);case Yo:return J=k._init,B(M,I,J(k._payload),U)}if(yc(k))return O(M,I,k,U);if(nc(k))return _(M,I,k,U);Xu(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,I!==null&&I.tag===6?(n(M,I.sibling),I=s(I,k),I.return=M,M=I):(n(M,I),I=Zh(k,M.mode,U),I.return=M,M=I),h(M)):n(M,I)}return B}var El=f2(!0),h2=f2(!1),qd=bs(null),Zd=null,qa=null,Pp=null;function Lp(){Pp=qa=Zd=null}function Bp(e){var t=qd.current;tn(qd),e._currentValue=t}function X0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ol(e,t){Zd=e,Pp=qa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_r=!0),e.firstContext=null)}function fi(e){var t=e._currentValue;if(Pp!==e)if(e={context:e,memoizedValue:t,next:null},qa===null){if(Zd===null)throw Error(Re(308));qa=e,Zd.dependencies={lanes:0,firstContext:e}}else qa=qa.next=e;return t}var Ks=null;function jp(e){Ks===null?Ks=[e]:Ks.push(e)}function p2(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,jp(t)):(n.next=s.next,s.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $o=!1;function Fp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Eo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ls(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ot&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,To(e,n)}return s=r.interleaved,s===null?(t.next=t,jp(r)):(t.next=s.next,s.next=t),r.interleaved=t,To(e,n)}function xd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sp(e,n)}}function Km(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?s=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?s=c=t:c=c.next=t}else s=c=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jd(e,t,n,r){var s=e.updateQueue;$o=!1;var c=s.firstBaseUpdate,h=s.lastBaseUpdate,g=s.shared.pending;if(g!==null){s.shared.pending=null;var x=g,y=x.next;x.next=null,h===null?c=y:h.next=y,h=x;var w=e.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==h&&(g===null?w.firstBaseUpdate=y:g.next=y,w.lastBaseUpdate=x))}if(c!==null){var C=s.baseState;h=0,w=y=x=null,g=c;do{var b=g.lane,R=g.eventTime;if((r&b)===b){w!==null&&(w=w.next={eventTime:R,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var O=e,_=g;switch(b=t,R=n,_.tag){case 1:if(O=_.payload,typeof O=="function"){C=O.call(R,C,b);break e}C=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=_.payload,b=typeof O=="function"?O.call(R,C,b):O,b==null)break e;C=an({},C,b);break e;case 2:$o=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,b=s.effects,b===null?s.effects=[g]:b.push(g))}else R={eventTime:R,lane:b,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(y=w=R,x=C):w=w.next=R,h|=b;if(g=g.next,g===null){if(g=s.shared.pending,g===null)break;b=g,g=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);if(w===null&&(x=C),s.baseState=x,s.firstBaseUpdate=y,s.lastBaseUpdate=w,t=s.shared.interleaved,t!==null){s=t;do h|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);oa|=h,e.lanes=h,e.memoizedState=C}}function Xm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Re(191,s));s.call(r)}}}var vu={},to=bs(vu),Kc=bs(vu),Xc=bs(vu);function Xs(e){if(e===vu)throw Error(Re(174));return e}function Up(e,t){switch(Xt(Xc,t),Xt(Kc,e),Xt(to,vu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:R0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=R0(t,e)}tn(to),Xt(to,t)}function Sl(){tn(to),tn(Kc),tn(Xc)}function m2(e){Xs(Xc.current);var t=Xs(to.current),n=R0(t,e.type);t!==n&&(Xt(Kc,e),Xt(to,n))}function zp(e){Kc.current===e&&(tn(to),tn(Kc))}var rn=bs(0);function ef(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yh=[];function Hp(){for(var e=0;e<Yh.length;e++)Yh[e]._workInProgressVersionPrimary=null;Yh.length=0}var vd=Mo.ReactCurrentDispatcher,$h=Mo.ReactCurrentBatchConfig,ia=0,sn=null,Mn=null,jn=null,tf=!1,Rc=!1,Qc=0,l_=0;function tr(){throw Error(Re(321))}function Vp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Oi(e[n],t[n]))return!1;return!0}function Wp(e,t,n,r,s,c){if(ia=c,sn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vd.current=e===null||e.memoizedState===null?f_:h_,e=n(r,s),Rc){c=0;do{if(Rc=!1,Qc=0,25<=c)throw Error(Re(301));c+=1,jn=Mn=null,t.updateQueue=null,vd.current=p_,e=n(r,s)}while(Rc)}if(vd.current=nf,t=Mn!==null&&Mn.next!==null,ia=0,jn=Mn=sn=null,tf=!1,t)throw Error(Re(300));return e}function Gp(){var e=Qc!==0;return Qc=0,e}function Wi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?sn.memoizedState=jn=e:jn=jn.next=e,jn}function hi(){if(Mn===null){var e=sn.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var t=jn===null?sn.memoizedState:jn.next;if(t!==null)jn=t,Mn=e;else{if(e===null)throw Error(Re(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},jn===null?sn.memoizedState=jn=e:jn=jn.next=e}return jn}function qc(e,t){return typeof t=="function"?t(e):t}function Kh(e){var t=hi(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=Mn,s=r.baseQueue,c=n.pending;if(c!==null){if(s!==null){var h=s.next;s.next=c.next,c.next=h}r.baseQueue=s=c,n.pending=null}if(s!==null){c=s.next,r=r.baseState;var g=h=null,x=null,y=c;do{var w=y.lane;if((ia&w)===w)x!==null&&(x=x.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),r=y.hasEagerState?y.eagerState:e(r,y.action);else{var C={lane:w,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};x===null?(g=x=C,h=r):x=x.next=C,sn.lanes|=w,oa|=w}y=y.next}while(y!==null&&y!==c);x===null?h=r:x.next=g,Oi(r,t.memoizedState)||(_r=!0),t.memoizedState=r,t.baseState=h,t.baseQueue=x,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do c=s.lane,sn.lanes|=c,oa|=c,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xh(e){var t=hi(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,c=t.memoizedState;if(s!==null){n.pending=null;var h=s=s.next;do c=e(c,h.action),h=h.next;while(h!==s);Oi(c,t.memoizedState)||(_r=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,r]}function y2(){}function x2(e,t){var n=sn,r=hi(),s=t(),c=!Oi(r.memoizedState,s);if(c&&(r.memoizedState=s,_r=!0),r=r.queue,Yp(C2.bind(null,n,r,e),[e]),r.getSnapshot!==t||c||jn!==null&&jn.memoizedState.tag&1){if(n.flags|=2048,Zc(9,w2.bind(null,n,r,s,t),void 0,null),Un===null)throw Error(Re(349));ia&30||v2(n,t,s)}return s}function v2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function w2(e,t,n,r){t.value=n,t.getSnapshot=r,b2(t)&&E2(e)}function C2(e,t,n){return n(function(){b2(t)&&E2(e)})}function b2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Oi(e,n)}catch{return!0}}function E2(e){var t=To(e,1);t!==null&&Ni(t,e,1,-1)}function Qm(e){var t=Wi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:e},t.queue=e,e=e.dispatch=d_.bind(null,sn,e),[t.memoizedState,e]}function Zc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=sn.updateQueue,t===null?(t={lastEffect:null,stores:null},sn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function S2(){return hi().memoizedState}function wd(e,t,n,r){var s=Wi();sn.flags|=e,s.memoizedState=Zc(1|t,n,void 0,r===void 0?null:r)}function jf(e,t,n,r){var s=hi();r=r===void 0?null:r;var c=void 0;if(Mn!==null){var h=Mn.memoizedState;if(c=h.destroy,r!==null&&Vp(r,h.deps)){s.memoizedState=Zc(t,n,c,r);return}}sn.flags|=e,s.memoizedState=Zc(1|t,n,c,r)}function qm(e,t){return wd(8390656,8,e,t)}function Yp(e,t){return jf(2048,8,e,t)}function A2(e,t){return jf(4,2,e,t)}function T2(e,t){return jf(4,4,e,t)}function _2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I2(e,t,n){return n=n!=null?n.concat([e]):null,jf(4,4,_2.bind(null,t,e),n)}function $p(){}function R2(e,t){var n=hi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function N2(e,t){var n=hi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function M2(e,t,n){return ia&21?(Oi(n,t)||(n=Lv(),sn.lanes|=n,oa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_r=!0),e.memoizedState=n)}function c_(e,t){var n=Ht;Ht=n!==0&&4>n?n:4,e(!0);var r=$h.transition;$h.transition={};try{e(!1),t()}finally{Ht=n,$h.transition=r}}function O2(){return hi().memoizedState}function u_(e,t,n){var r=us(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D2(e))k2(t,n);else if(n=p2(e,t,n,r),n!==null){var s=gr();Ni(n,e,r,s),P2(n,t,r)}}function d_(e,t,n){var r=us(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D2(e))k2(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,g=c(h,n);if(s.hasEagerState=!0,s.eagerState=g,Oi(g,h)){var x=t.interleaved;x===null?(s.next=s,jp(t)):(s.next=x.next,x.next=s),t.interleaved=s;return}}catch{}finally{}n=p2(e,t,s,r),n!==null&&(s=gr(),Ni(n,e,r,s),P2(n,t,r))}}function D2(e){var t=e.alternate;return e===sn||t!==null&&t===sn}function k2(e,t){Rc=tf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function P2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sp(e,n)}}var nf={readContext:fi,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},f_={readContext:fi,useCallback:function(e,t){return Wi().memoizedState=[e,t===void 0?null:t],e},useContext:fi,useEffect:qm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wd(4194308,4,_2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return wd(4,2,e,t)},useMemo:function(e,t){var n=Wi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u_.bind(null,sn,e),[r.memoizedState,e]},useRef:function(e){var t=Wi();return e={current:e},t.memoizedState=e},useState:Qm,useDebugValue:$p,useDeferredValue:function(e){return Wi().memoizedState=e},useTransition:function(){var e=Qm(!1),t=e[0];return e=c_.bind(null,e[1]),Wi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sn,s=Wi();if(nn){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=t(),Un===null)throw Error(Re(349));ia&30||v2(r,t,n)}s.memoizedState=n;var c={value:n,getSnapshot:t};return s.queue=c,qm(C2.bind(null,r,c,e),[e]),r.flags|=2048,Zc(9,w2.bind(null,r,c,n,t),void 0,null),n},useId:function(){var e=Wi(),t=Un.identifierPrefix;if(nn){var n=Co,r=wo;n=(r&~(1<<32-Ri(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Qc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h_={readContext:fi,useCallback:R2,useContext:fi,useEffect:Yp,useImperativeHandle:I2,useInsertionEffect:A2,useLayoutEffect:T2,useMemo:N2,useReducer:Kh,useRef:S2,useState:function(){return Kh(qc)},useDebugValue:$p,useDeferredValue:function(e){var t=hi();return M2(t,Mn.memoizedState,e)},useTransition:function(){var e=Kh(qc)[0],t=hi().memoizedState;return[e,t]},useMutableSource:y2,useSyncExternalStore:x2,useId:O2,unstable_isNewReconciler:!1},p_={readContext:fi,useCallback:R2,useContext:fi,useEffect:Yp,useImperativeHandle:I2,useInsertionEffect:A2,useLayoutEffect:T2,useMemo:N2,useReducer:Xh,useRef:S2,useState:function(){return Xh(qc)},useDebugValue:$p,useDeferredValue:function(e){var t=hi();return Mn===null?t.memoizedState=e:M2(t,Mn.memoizedState,e)},useTransition:function(){var e=Xh(qc)[0],t=hi().memoizedState;return[e,t]},useMutableSource:y2,useSyncExternalStore:x2,useId:O2,unstable_isNewReconciler:!1};function bi(e,t){if(e&&e.defaultProps){t=an({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Q0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:an({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ff={isMounted:function(e){return(e=e._reactInternals)?fa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gr(),s=us(e),c=Eo(r,s);c.payload=t,n!=null&&(c.callback=n),t=ls(e,c,s),t!==null&&(Ni(t,e,s,r),xd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gr(),s=us(e),c=Eo(r,s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=ls(e,c,s),t!==null&&(Ni(t,e,s,r),xd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gr(),r=us(e),s=Eo(n,r);s.tag=2,t!=null&&(s.callback=t),t=ls(e,s,r),t!==null&&(Ni(t,e,r,n),xd(t,e,r))}};function Zm(e,t,n,r,s,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,h):t.prototype&&t.prototype.isPureReactComponent?!Wc(n,r)||!Wc(s,c):!0}function L2(e,t,n){var r=!1,s=ps,c=t.contextType;return typeof c=="object"&&c!==null?c=fi(c):(s=Rr(t)?na:or.current,r=t.contextTypes,c=(r=r!=null)?Cl(e,s):ps),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ff,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function Jm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ff.enqueueReplaceState(t,t.state,null)}function q0(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fp(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=fi(c):(c=Rr(t)?na:or.current,s.context=Cl(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Q0(e,t,c,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ff.enqueueReplaceState(s,s.state,null),Jd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Al(e,t){try{var n="",r=t;do n+=H3(r),r=r.return;while(r);var s=n}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function Qh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Z0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g_=typeof WeakMap=="function"?WeakMap:Map;function B2(e,t,n){n=Eo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){of||(of=!0,l1=r),Z0(e,t)},n}function j2(e,t,n){n=Eo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Z0(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Z0(e,t),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function ey(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=R_.bind(null,e,t,n),t.then(e,e))}function ty(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ny(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Eo(-1,1),t.tag=2,ls(n,t,1))),n.lanes|=1),e)}var m_=Mo.ReactCurrentOwner,_r=!1;function hr(e,t,n,r){t.child=e===null?h2(t,null,n,r):El(t,e.child,n,r)}function ry(e,t,n,r,s){n=n.render;var c=t.ref;return ol(t,s),r=Wp(e,t,n,r,c,s),n=Gp(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_o(e,t,s)):(nn&&n&&Op(t),t.flags|=1,hr(e,t,r,s),t.child)}function iy(e,t,n,r,s){if(e===null){var c=n.type;return typeof c=="function"&&!tg(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,F2(e,t,c,r,s)):(e=Sd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&s)){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:Wc,n(h,r)&&e.ref===t.ref)return _o(e,t,s)}return t.flags|=1,e=ds(c,r),e.ref=t.ref,e.return=t,t.child=e}function F2(e,t,n,r,s){if(e!==null){var c=e.memoizedProps;if(Wc(c,r)&&e.ref===t.ref)if(_r=!1,t.pendingProps=r=c,(e.lanes&s)!==0)e.flags&131072&&(_r=!0);else return t.lanes=e.lanes,_o(e,t,s)}return J0(e,t,n,r,s)}function U2(e,t,n){var r=t.pendingProps,s=r.children,c=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Ja,Ur),Ur|=n;else{if(!(n&1073741824))return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(Ja,Ur),Ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=c!==null?c.baseLanes:n,Xt(Ja,Ur),Ur|=r}else c!==null?(r=c.baseLanes|n,t.memoizedState=null):r=n,Xt(Ja,Ur),Ur|=r;return hr(e,t,s,n),t.child}function z2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function J0(e,t,n,r,s){var c=Rr(n)?na:or.current;return c=Cl(t,c),ol(t,s),n=Wp(e,t,n,r,c,s),r=Gp(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_o(e,t,s)):(nn&&r&&Op(t),t.flags|=1,hr(e,t,n,s),t.child)}function oy(e,t,n,r,s){if(Rr(n)){var c=!0;Kd(t)}else c=!1;if(ol(t,s),t.stateNode===null)Cd(e,t),L2(t,n,r),q0(t,n,r,s),r=!0;else if(e===null){var h=t.stateNode,g=t.memoizedProps;h.props=g;var x=h.context,y=n.contextType;typeof y=="object"&&y!==null?y=fi(y):(y=Rr(n)?na:or.current,y=Cl(t,y));var w=n.getDerivedStateFromProps,C=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function";C||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==r||x!==y)&&Jm(t,h,r,y),$o=!1;var b=t.memoizedState;h.state=b,Jd(t,r,h,s),x=t.memoizedState,g!==r||b!==x||Ir.current||$o?(typeof w=="function"&&(Q0(t,n,w,r),x=t.memoizedState),(g=$o||Zm(t,n,g,r,b,x,y))?(C||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=x),h.props=r,h.state=x,h.context=y,r=g):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,g2(e,t),g=t.memoizedProps,y=t.type===t.elementType?g:bi(t.type,g),h.props=y,C=t.pendingProps,b=h.context,x=n.contextType,typeof x=="object"&&x!==null?x=fi(x):(x=Rr(n)?na:or.current,x=Cl(t,x));var R=n.getDerivedStateFromProps;(w=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==C||b!==x)&&Jm(t,h,r,x),$o=!1,b=t.memoizedState,h.state=b,Jd(t,r,h,s);var O=t.memoizedState;g!==C||b!==O||Ir.current||$o?(typeof R=="function"&&(Q0(t,n,R,r),O=t.memoizedState),(y=$o||Zm(t,n,y,r,b,O,x)||!1)?(w||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,O,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,O,x)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),h.props=r,h.state=O,h.context=x,r=y):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return e1(e,t,n,r,c,s)}function e1(e,t,n,r,s,c){z2(e,t);var h=(t.flags&128)!==0;if(!r&&!h)return s&&Wm(t,n,!1),_o(e,t,c);r=t.stateNode,m_.current=t;var g=h&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&h?(t.child=El(t,e.child,null,c),t.child=El(t,null,g,c)):hr(e,t,g,c),t.memoizedState=r.state,s&&Wm(t,n,!0),t.child}function H2(e){var t=e.stateNode;t.pendingContext?Vm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vm(e,t.context,!1),Up(e,t.containerInfo)}function sy(e,t,n,r,s){return bl(),kp(s),t.flags|=256,hr(e,t,n,r),t.child}var t1={dehydrated:null,treeContext:null,retryLane:0};function n1(e){return{baseLanes:e,cachePool:null,transitions:null}}function V2(e,t,n){var r=t.pendingProps,s=rn.current,c=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(s&2)!==0),g?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xt(rn,s&1),e===null)return K0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=r.children,e=r.fallback,c?(r=t.mode,c=t.child,h={mode:"hidden",children:h},!(r&1)&&c!==null?(c.childLanes=0,c.pendingProps=h):c=Hf(h,r,0,null),e=ta(e,r,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=n1(n),t.memoizedState=t1,e):Kp(t,h));if(s=e.memoizedState,s!==null&&(g=s.dehydrated,g!==null))return y_(e,t,h,r,g,s,n);if(c){c=r.fallback,h=t.mode,s=e.child,g=s.sibling;var x={mode:"hidden",children:r.children};return!(h&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=x,t.deletions=null):(r=ds(s,x),r.subtreeFlags=s.subtreeFlags&14680064),g!==null?c=ds(g,c):(c=ta(c,h,n,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,h=e.child.memoizedState,h=h===null?n1(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=e.childLanes&~n,t.memoizedState=t1,r}return c=e.child,e=c.sibling,r=ds(c,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Kp(e,t){return t=Hf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qu(e,t,n,r){return r!==null&&kp(r),El(t,e.child,null,n),e=Kp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y_(e,t,n,r,s,c,h){if(n)return t.flags&256?(t.flags&=-257,r=Qh(Error(Re(422))),Qu(e,t,h,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=r.fallback,s=t.mode,r=Hf({mode:"visible",children:r.children},s,0,null),c=ta(c,s,h,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,t.mode&1&&El(t,e.child,null,h),t.child.memoizedState=n1(h),t.memoizedState=t1,c);if(!(t.mode&1))return Qu(e,t,h,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var g=r.dgst;return r=g,c=Error(Re(419)),r=Qh(c,r,void 0),Qu(e,t,h,r)}if(g=(h&e.childLanes)!==0,_r||g){if(r=Un,r!==null){switch(h&-h){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|h)?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,To(e,s),Ni(r,e,s,-1))}return eg(),r=Qh(Error(Re(421))),Qu(e,t,h,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=N_.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,Vr=as(s.nextSibling),Wr=t,nn=!0,_i=null,e!==null&&(ai[li++]=wo,ai[li++]=Co,ai[li++]=ra,wo=e.id,Co=e.overflow,ra=t),t=Kp(t,r.children),t.flags|=4096,t)}function ay(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),X0(e.return,t,n)}function qh(e,t,n,r,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=s)}function W2(e,t,n){var r=t.pendingProps,s=r.revealOrder,c=r.tail;if(hr(e,t,r.children,n),r=rn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,n,t);else if(e.tag===19)ay(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xt(rn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ef(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),qh(t,!1,s,n,c);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ef(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}qh(t,!0,n,null,c);break;case"together":qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _o(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,n=ds(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ds(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x_(e,t,n){switch(t.tag){case 3:H2(t),bl();break;case 5:m2(t);break;case 1:Rr(t.type)&&Kd(t);break;case 4:Up(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Xt(qd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xt(rn,rn.current&1),t.flags|=128,null):n&t.child.childLanes?V2(e,t,n):(Xt(rn,rn.current&1),e=_o(e,t,n),e!==null?e.sibling:null);Xt(rn,rn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return W2(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xt(rn,rn.current),r)break;return null;case 22:case 23:return t.lanes=0,U2(e,t,n)}return _o(e,t,n)}var G2,r1,Y2,$2;G2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};r1=function(){};Y2=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xs(to.current);var c=null;switch(n){case"input":s=A0(e,s),r=A0(e,r),c=[];break;case"select":s=an({},s,{value:void 0}),r=an({},r,{value:void 0}),c=[];break;case"textarea":s=I0(e,s),r=I0(e,r),c=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yd)}N0(n,r);var h;n=null;for(y in s)if(!r.hasOwnProperty(y)&&s.hasOwnProperty(y)&&s[y]!=null)if(y==="style"){var g=s[y];for(h in g)g.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Bc.hasOwnProperty(y)?c||(c=[]):(c=c||[]).push(y,null));for(y in r){var x=r[y];if(g=s!=null?s[y]:void 0,r.hasOwnProperty(y)&&x!==g&&(x!=null||g!=null))if(y==="style")if(g){for(h in g)!g.hasOwnProperty(h)||x&&x.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in x)x.hasOwnProperty(h)&&g[h]!==x[h]&&(n||(n={}),n[h]=x[h])}else n||(c||(c=[]),c.push(y,n)),n=x;else y==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,g=g?g.__html:void 0,x!=null&&g!==x&&(c=c||[]).push(y,x)):y==="children"?typeof x!="string"&&typeof x!="number"||(c=c||[]).push(y,""+x):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Bc.hasOwnProperty(y)?(x!=null&&y==="onScroll"&&Jt("scroll",e),c||g===x||(c=[])):(c=c||[]).push(y,x))}n&&(c=c||[]).push("style",n);var y=c;(t.updateQueue=y)&&(t.flags|=4)}};$2=function(e,t,n,r){n!==r&&(t.flags|=4)};function lc(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v_(e,t,n){var r=t.pendingProps;switch(Dp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return Rr(t.type)&&$d(),nr(t),null;case 3:return r=t.stateNode,Sl(),tn(Ir),tn(or),Hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ku(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_i!==null&&(d1(_i),_i=null))),r1(e,t),nr(t),null;case 5:zp(t);var s=Xs(Xc.current);if(n=t.type,e!==null&&t.stateNode!=null)Y2(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Re(166));return nr(t),null}if(e=Xs(to.current),Ku(t)){r=t.stateNode,n=t.type;var c=t.memoizedProps;switch(r[Xi]=t,r[$c]=c,e=(t.mode&1)!==0,n){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(s=0;s<vc.length;s++)Jt(vc[s],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":mm(r,c),Jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Jt("invalid",r);break;case"textarea":xm(r,c),Jt("invalid",r)}N0(n,c),s=null;for(var h in c)if(c.hasOwnProperty(h)){var g=c[h];h==="children"?typeof g=="string"?r.textContent!==g&&(c.suppressHydrationWarning!==!0&&$u(r.textContent,g,e),s=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(c.suppressHydrationWarning!==!0&&$u(r.textContent,g,e),s=["children",""+g]):Bc.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&Jt("scroll",r)}switch(n){case"input":Fu(r),ym(r,c,!0);break;case"textarea":Fu(r),vm(r);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(r.onclick=Yd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{h=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(n,{is:r.is}):(e=h.createElement(n),n==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,n),e[Xi]=t,e[$c]=r,G2(e,t,!1,!1),t.stateNode=e;e:{switch(h=M0(n,r),n){case"dialog":Jt("cancel",e),Jt("close",e),s=r;break;case"iframe":case"object":case"embed":Jt("load",e),s=r;break;case"video":case"audio":for(s=0;s<vc.length;s++)Jt(vc[s],e);s=r;break;case"source":Jt("error",e),s=r;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),s=r;break;case"details":Jt("toggle",e),s=r;break;case"input":mm(e,r),s=A0(e,r),Jt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=an({},r,{value:void 0}),Jt("invalid",e);break;case"textarea":xm(e,r),s=I0(e,r),Jt("invalid",e);break;default:s=r}N0(n,s),g=s;for(c in g)if(g.hasOwnProperty(c)){var x=g[c];c==="style"?Sv(e,x):c==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&bv(e,x)):c==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&jc(e,x):typeof x=="number"&&jc(e,""+x):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bc.hasOwnProperty(c)?x!=null&&c==="onScroll"&&Jt("scroll",e):x!=null&&xp(e,c,x,h))}switch(n){case"input":Fu(e),ym(e,r,!1);break;case"textarea":Fu(e),vm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hs(r.value));break;case"select":e.multiple=!!r.multiple,c=r.value,c!=null?tl(e,!!r.multiple,c,!1):r.defaultValue!=null&&tl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)$2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Re(166));if(n=Xs(Xc.current),Xs(to.current),Ku(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xi]=t,(c=r.nodeValue!==n)&&(e=Wr,e!==null))switch(e.tag){case 3:$u(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$u(r.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xi]=t,t.stateNode=r}return nr(t),null;case 13:if(tn(rn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nn&&Vr!==null&&t.mode&1&&!(t.flags&128))d2(),bl(),t.flags|=98560,c=!1;else if(c=Ku(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(Re(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(Re(317));c[Xi]=t}else bl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),c=!1}else _i!==null&&(d1(_i),_i=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rn.current&1?On===0&&(On=3):eg())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return Sl(),r1(e,t),e===null&&Gc(t.stateNode.containerInfo),nr(t),null;case 10:return Bp(t.type._context),nr(t),null;case 17:return Rr(t.type)&&$d(),nr(t),null;case 19:if(tn(rn),c=t.memoizedState,c===null)return nr(t),null;if(r=(t.flags&128)!==0,h=c.rendering,h===null)if(r)lc(c,!1);else{if(On!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=ef(e),h!==null){for(t.flags|=128,lc(c,!1),r=h.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)c=n,e=r,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,e=h.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xt(rn,rn.current&1|2),t.child}e=e.sibling}c.tail!==null&&wn()>Tl&&(t.flags|=128,r=!0,lc(c,!1),t.lanes=4194304)}else{if(!r)if(e=ef(h),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!nn)return nr(t),null}else 2*wn()-c.renderingStartTime>Tl&&n!==1073741824&&(t.flags|=128,r=!0,lc(c,!1),t.lanes=4194304);c.isBackwards?(h.sibling=t.child,t.child=h):(n=c.last,n!==null?n.sibling=h:t.child=h,c.last=h)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=wn(),t.sibling=null,n=rn.current,Xt(rn,r?n&1|2:n&1),t):(nr(t),null);case 22:case 23:return Jp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ur&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function w_(e,t){switch(Dp(t),t.tag){case 1:return Rr(t.type)&&$d(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sl(),tn(Ir),tn(or),Hp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zp(t),null;case 13:if(tn(rn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));bl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tn(rn),null;case 4:return Sl(),null;case 10:return Bp(t.type._context),null;case 22:case 23:return Jp(),null;case 24:return null;default:return null}}var qu=!1,ir=!1,C_=typeof WeakSet=="function"?WeakSet:Set,We=null;function Za(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pn(e,t,r)}else n.current=null}function i1(e,t,n){try{n()}catch(r){pn(e,t,r)}}var ly=!1;function b_(e,t){if(z0=Vd,e=Zv(),Mp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,g=-1,x=-1,y=0,w=0,C=e,b=null;t:for(;;){for(var R;C!==n||s!==0&&C.nodeType!==3||(g=h+s),C!==c||r!==0&&C.nodeType!==3||(x=h+r),C.nodeType===3&&(h+=C.nodeValue.length),(R=C.firstChild)!==null;)b=C,C=R;for(;;){if(C===e)break t;if(b===n&&++y===s&&(g=h),b===c&&++w===r&&(x=h),(R=C.nextSibling)!==null)break;C=b,b=C.parentNode}C=R}n=g===-1||x===-1?null:{start:g,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(H0={focusedElem:e,selectionRange:n},Vd=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var _=O.memoizedProps,B=O.memoizedState,M=t.stateNode,I=M.getSnapshotBeforeUpdate(t.elementType===t.type?_:bi(t.type,_),B);M.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(U){pn(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return O=ly,ly=!1,O}function Nc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&i1(t,n,c)}s=s.next}while(s!==r)}}function Uf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function o1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function K2(e){var t=e.alternate;t!==null&&(e.alternate=null,K2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xi],delete t[$c],delete t[G0],delete t[i_],delete t[o_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X2(e){return e.tag===5||e.tag===3||e.tag===4}function cy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function s1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yd));else if(r!==4&&(e=e.child,e!==null))for(s1(e,t,n),e=e.sibling;e!==null;)s1(e,t,n),e=e.sibling}function a1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(a1(e,t,n),e=e.sibling;e!==null;)a1(e,t,n),e=e.sibling}var Yn=null,Ai=!1;function Fo(e,t,n){for(n=n.child;n!==null;)Q2(e,t,n),n=n.sibling}function Q2(e,t,n){if(eo&&typeof eo.onCommitFiberUnmount=="function")try{eo.onCommitFiberUnmount(Of,n)}catch{}switch(n.tag){case 5:ir||Za(n,t);case 6:var r=Yn,s=Ai;Yn=null,Fo(e,t,n),Yn=r,Ai=s,Yn!==null&&(Ai?(e=Yn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yn.removeChild(n.stateNode));break;case 18:Yn!==null&&(Ai?(e=Yn,n=n.stateNode,e.nodeType===8?Wh(e.parentNode,n):e.nodeType===1&&Wh(e,n),Hc(e)):Wh(Yn,n.stateNode));break;case 4:r=Yn,s=Ai,Yn=n.stateNode.containerInfo,Ai=!0,Fo(e,t,n),Yn=r,Ai=s;break;case 0:case 11:case 14:case 15:if(!ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var c=s,h=c.destroy;c=c.tag,h!==void 0&&(c&2||c&4)&&i1(n,t,h),s=s.next}while(s!==r)}Fo(e,t,n);break;case 1:if(!ir&&(Za(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){pn(n,t,g)}Fo(e,t,n);break;case 21:Fo(e,t,n);break;case 22:n.mode&1?(ir=(r=ir)||n.memoizedState!==null,Fo(e,t,n),ir=r):Fo(e,t,n);break;default:Fo(e,t,n)}}function uy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new C_),t.forEach(function(r){var s=M_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var c=e,h=t,g=h;e:for(;g!==null;){switch(g.tag){case 5:Yn=g.stateNode,Ai=!1;break e;case 3:Yn=g.stateNode.containerInfo,Ai=!0;break e;case 4:Yn=g.stateNode.containerInfo,Ai=!0;break e}g=g.return}if(Yn===null)throw Error(Re(160));Q2(c,h,s),Yn=null,Ai=!1;var x=s.alternate;x!==null&&(x.return=null),s.return=null}catch(y){pn(s,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q2(t,e),t=t.sibling}function q2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wi(t,e),Hi(e),r&4){try{Nc(3,e,e.return),Uf(3,e)}catch(_){pn(e,e.return,_)}try{Nc(5,e,e.return)}catch(_){pn(e,e.return,_)}}break;case 1:wi(t,e),Hi(e),r&512&&n!==null&&Za(n,n.return);break;case 5:if(wi(t,e),Hi(e),r&512&&n!==null&&Za(n,n.return),e.flags&32){var s=e.stateNode;try{jc(s,"")}catch(_){pn(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,h=n!==null?n.memoizedProps:c,g=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{g==="input"&&c.type==="radio"&&c.name!=null&&vv(s,c),M0(g,h);var y=M0(g,c);for(h=0;h<x.length;h+=2){var w=x[h],C=x[h+1];w==="style"?Sv(s,C):w==="dangerouslySetInnerHTML"?bv(s,C):w==="children"?jc(s,C):xp(s,w,C,y)}switch(g){case"input":T0(s,c);break;case"textarea":wv(s,c);break;case"select":var b=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var R=c.value;R!=null?tl(s,!!c.multiple,R,!1):b!==!!c.multiple&&(c.defaultValue!=null?tl(s,!!c.multiple,c.defaultValue,!0):tl(s,!!c.multiple,c.multiple?[]:"",!1))}s[$c]=c}catch(_){pn(e,e.return,_)}}break;case 6:if(wi(t,e),Hi(e),r&4){if(e.stateNode===null)throw Error(Re(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(_){pn(e,e.return,_)}}break;case 3:if(wi(t,e),Hi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hc(t.containerInfo)}catch(_){pn(e,e.return,_)}break;case 4:wi(t,e),Hi(e);break;case 13:wi(t,e),Hi(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(qp=wn())),r&4&&uy(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(ir=(y=ir)||w,wi(t,e),ir=y):wi(t,e),Hi(e),r&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!w&&e.mode&1)for(We=e,w=e.child;w!==null;){for(C=We=w;We!==null;){switch(b=We,R=b.child,b.tag){case 0:case 11:case 14:case 15:Nc(4,b,b.return);break;case 1:Za(b,b.return);var O=b.stateNode;if(typeof O.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(_){pn(r,n,_)}}break;case 5:Za(b,b.return);break;case 22:if(b.memoizedState!==null){fy(C);continue}}R!==null?(R.return=b,We=R):fy(C)}w=w.sibling}e:for(w=null,C=e;;){if(C.tag===5){if(w===null){w=C;try{s=C.stateNode,y?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(g=C.stateNode,x=C.memoizedProps.style,h=x!=null&&x.hasOwnProperty("display")?x.display:null,g.style.display=Ev("display",h))}catch(_){pn(e,e.return,_)}}}else if(C.tag===6){if(w===null)try{C.stateNode.nodeValue=y?"":C.memoizedProps}catch(_){pn(e,e.return,_)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;w===C&&(w=null),C=C.return}w===C&&(w=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:wi(t,e),Hi(e),r&4&&uy(e);break;case 21:break;default:wi(t,e),Hi(e)}}function Hi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(X2(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(jc(s,""),r.flags&=-33);var c=cy(e);a1(e,c,s);break;case 3:case 4:var h=r.stateNode.containerInfo,g=cy(e);s1(e,g,h);break;default:throw Error(Re(161))}}catch(x){pn(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E_(e,t,n){We=e,Z2(e)}function Z2(e,t,n){for(var r=(e.mode&1)!==0;We!==null;){var s=We,c=s.child;if(s.tag===22&&r){var h=s.memoizedState!==null||qu;if(!h){var g=s.alternate,x=g!==null&&g.memoizedState!==null||ir;g=qu;var y=ir;if(qu=h,(ir=x)&&!y)for(We=s;We!==null;)h=We,x=h.child,h.tag===22&&h.memoizedState!==null?hy(s):x!==null?(x.return=h,We=x):hy(s);for(;c!==null;)We=c,Z2(c),c=c.sibling;We=s,qu=g,ir=y}dy(e)}else s.subtreeFlags&8772&&c!==null?(c.return=s,We=c):dy(e)}}function dy(e){for(;We!==null;){var t=We;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ir||Uf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ir)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:bi(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Xm(t,c,r);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xm(t,h,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var w=y.memoizedState;if(w!==null){var C=w.dehydrated;C!==null&&Hc(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}ir||t.flags&512&&o1(t)}catch(b){pn(t,t.return,b)}}if(t===e){We=null;break}if(n=t.sibling,n!==null){n.return=t.return,We=n;break}We=t.return}}function fy(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var n=t.sibling;if(n!==null){n.return=t.return,We=n;break}We=t.return}}function hy(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uf(4,t)}catch(x){pn(t,n,x)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(x){pn(t,s,x)}}var c=t.return;try{o1(t)}catch(x){pn(t,c,x)}break;case 5:var h=t.return;try{o1(t)}catch(x){pn(t,h,x)}}}catch(x){pn(t,t.return,x)}if(t===e){We=null;break}var g=t.sibling;if(g!==null){g.return=t.return,We=g;break}We=t.return}}var S_=Math.ceil,rf=Mo.ReactCurrentDispatcher,Xp=Mo.ReactCurrentOwner,ui=Mo.ReactCurrentBatchConfig,Ot=0,Un=null,An=null,Kn=0,Ur=0,Ja=bs(0),On=0,Jc=null,oa=0,zf=0,Qp=0,Mc=null,Tr=null,qp=0,Tl=1/0,yo=null,of=!1,l1=null,cs=null,Zu=!1,ns=null,sf=0,Oc=0,c1=null,bd=-1,Ed=0;function gr(){return Ot&6?wn():bd!==-1?bd:bd=wn()}function us(e){return e.mode&1?Ot&2&&Kn!==0?Kn&-Kn:a_.transition!==null?(Ed===0&&(Ed=Lv()),Ed):(e=Ht,e!==0||(e=window.event,e=e===void 0?16:Vv(e.type)),e):1}function Ni(e,t,n,r){if(50<Oc)throw Oc=0,c1=null,Error(Re(185));mu(e,n,r),(!(Ot&2)||e!==Un)&&(e===Un&&(!(Ot&2)&&(zf|=n),On===4&&Xo(e,Kn)),Nr(e,r),n===1&&Ot===0&&!(t.mode&1)&&(Tl=wn()+500,Bf&&Es()))}function Nr(e,t){var n=e.callbackNode;aT(e,t);var r=Hd(e,e===Un?Kn:0);if(r===0)n!==null&&bm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bm(n),t===1)e.tag===0?s_(py.bind(null,e)):l2(py.bind(null,e)),n_(function(){!(Ot&6)&&Es()}),n=null;else{switch(Bv(r)){case 1:n=Ep;break;case 4:n=kv;break;case 16:n=zd;break;case 536870912:n=Pv;break;default:n=zd}n=sw(n,J2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function J2(e,t){if(bd=-1,Ed=0,Ot&6)throw Error(Re(327));var n=e.callbackNode;if(sl()&&e.callbackNode!==n)return null;var r=Hd(e,e===Un?Kn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=af(e,r);else{t=r;var s=Ot;Ot|=2;var c=tw();(Un!==e||Kn!==t)&&(yo=null,Tl=wn()+500,ea(e,t));do try{__();break}catch(g){ew(e,g)}while(!0);Lp(),rf.current=c,Ot=s,An!==null?t=0:(Un=null,Kn=0,t=On)}if(t!==0){if(t===2&&(s=L0(e),s!==0&&(r=s,t=u1(e,s))),t===1)throw n=Jc,ea(e,0),Xo(e,r),Nr(e,wn()),n;if(t===6)Xo(e,r);else{if(s=e.current.alternate,!(r&30)&&!A_(s)&&(t=af(e,r),t===2&&(c=L0(e),c!==0&&(r=c,t=u1(e,c))),t===1))throw n=Jc,ea(e,0),Xo(e,r),Nr(e,wn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Re(345));case 2:Ws(e,Tr,yo);break;case 3:if(Xo(e,r),(r&130023424)===r&&(t=qp+500-wn(),10<t)){if(Hd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){gr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=W0(Ws.bind(null,e,Tr,yo),t);break}Ws(e,Tr,yo);break;case 4:if(Xo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var h=31-Ri(r);c=1<<h,h=t[h],h>s&&(s=h),r&=~c}if(r=s,r=wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S_(r/1960))-r,10<r){e.timeoutHandle=W0(Ws.bind(null,e,Tr,yo),r);break}Ws(e,Tr,yo);break;case 5:Ws(e,Tr,yo);break;default:throw Error(Re(329))}}}return Nr(e,wn()),e.callbackNode===n?J2.bind(null,e):null}function u1(e,t){var n=Mc;return e.current.memoizedState.isDehydrated&&(ea(e,t).flags|=256),e=af(e,t),e!==2&&(t=Tr,Tr=n,t!==null&&d1(t)),e}function d1(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function A_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],c=s.getSnapshot;s=s.value;try{if(!Oi(c(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xo(e,t){for(t&=~Qp,t&=~zf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ri(t),r=1<<n;e[n]=-1,t&=~r}}function py(e){if(Ot&6)throw Error(Re(327));sl();var t=Hd(e,0);if(!(t&1))return Nr(e,wn()),null;var n=af(e,t);if(e.tag!==0&&n===2){var r=L0(e);r!==0&&(t=r,n=u1(e,r))}if(n===1)throw n=Jc,ea(e,0),Xo(e,t),Nr(e,wn()),n;if(n===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ws(e,Tr,yo),Nr(e,wn()),null}function Zp(e,t){var n=Ot;Ot|=1;try{return e(t)}finally{Ot=n,Ot===0&&(Tl=wn()+500,Bf&&Es())}}function sa(e){ns!==null&&ns.tag===0&&!(Ot&6)&&sl();var t=Ot;Ot|=1;var n=ui.transition,r=Ht;try{if(ui.transition=null,Ht=1,e)return e()}finally{Ht=r,ui.transition=n,Ot=t,!(Ot&6)&&Es()}}function Jp(){Ur=Ja.current,tn(Ja)}function ea(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,t_(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(Dp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$d();break;case 3:Sl(),tn(Ir),tn(or),Hp();break;case 5:zp(r);break;case 4:Sl();break;case 13:tn(rn);break;case 19:tn(rn);break;case 10:Bp(r.type._context);break;case 22:case 23:Jp()}n=n.return}if(Un=e,An=e=ds(e.current,null),Kn=Ur=t,On=0,Jc=null,Qp=zf=oa=0,Tr=Mc=null,Ks!==null){for(t=0;t<Ks.length;t++)if(n=Ks[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,c=n.pending;if(c!==null){var h=c.next;c.next=s,r.next=h}n.pending=r}Ks=null}return e}function ew(e,t){do{var n=An;try{if(Lp(),vd.current=nf,tf){for(var r=sn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tf=!1}if(ia=0,jn=Mn=sn=null,Rc=!1,Qc=0,Xp.current=null,n===null||n.return===null){On=1,Jc=t,An=null;break}e:{var c=e,h=n.return,g=n,x=t;if(t=Kn,g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var y=x,w=g,C=w.tag;if(!(w.mode&1)&&(C===0||C===11||C===15)){var b=w.alternate;b?(w.updateQueue=b.updateQueue,w.memoizedState=b.memoizedState,w.lanes=b.lanes):(w.updateQueue=null,w.memoizedState=null)}var R=ty(h);if(R!==null){R.flags&=-257,ny(R,h,g,c,t),R.mode&1&&ey(c,y,t),t=R,x=y;var O=t.updateQueue;if(O===null){var _=new Set;_.add(x),t.updateQueue=_}else O.add(x);break e}else{if(!(t&1)){ey(c,y,t),eg();break e}x=Error(Re(426))}}else if(nn&&g.mode&1){var B=ty(h);if(B!==null){!(B.flags&65536)&&(B.flags|=256),ny(B,h,g,c,t),kp(Al(x,g));break e}}c=x=Al(x,g),On!==4&&(On=2),Mc===null?Mc=[c]:Mc.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var M=B2(c,x,t);Km(c,M);break e;case 1:g=x;var I=c.type,k=c.stateNode;if(!(c.flags&128)&&(typeof I.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(cs===null||!cs.has(k)))){c.flags|=65536,t&=-t,c.lanes|=t;var U=j2(c,g,t);Km(c,U);break e}}c=c.return}while(c!==null)}rw(n)}catch($){t=$,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function tw(){var e=rf.current;return rf.current=nf,e===null?nf:e}function eg(){(On===0||On===3||On===2)&&(On=4),Un===null||!(oa&268435455)&&!(zf&268435455)||Xo(Un,Kn)}function af(e,t){var n=Ot;Ot|=2;var r=tw();(Un!==e||Kn!==t)&&(yo=null,ea(e,t));do try{T_();break}catch(s){ew(e,s)}while(!0);if(Lp(),Ot=n,rf.current=r,An!==null)throw Error(Re(261));return Un=null,Kn=0,On}function T_(){for(;An!==null;)nw(An)}function __(){for(;An!==null&&!Z3();)nw(An)}function nw(e){var t=ow(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?rw(e):An=t,Xp.current=null}function rw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=w_(n,t),n!==null){n.flags&=32767,An=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{On=6,An=null;return}}else if(n=v_(n,t,Ur),n!==null){An=n;return}if(t=t.sibling,t!==null){An=t;return}An=t=e}while(t!==null);On===0&&(On=5)}function Ws(e,t,n){var r=Ht,s=ui.transition;try{ui.transition=null,Ht=1,I_(e,t,n,r)}finally{ui.transition=s,Ht=r}return null}function I_(e,t,n,r){do sl();while(ns!==null);if(Ot&6)throw Error(Re(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(lT(e,c),e===Un&&(An=Un=null,Kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zu||(Zu=!0,sw(zd,function(){return sl(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=ui.transition,ui.transition=null;var h=Ht;Ht=1;var g=Ot;Ot|=4,Xp.current=null,b_(e,n),q2(n,e),KT(H0),Vd=!!z0,H0=z0=null,e.current=n,E_(n),J3(),Ot=g,Ht=h,ui.transition=c}else e.current=n;if(Zu&&(Zu=!1,ns=e,sf=s),c=e.pendingLanes,c===0&&(cs=null),nT(n.stateNode),Nr(e,wn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(of)throw of=!1,e=l1,l1=null,e;return sf&1&&e.tag!==0&&sl(),c=e.pendingLanes,c&1?e===c1?Oc++:(Oc=0,c1=e):Oc=0,Es(),null}function sl(){if(ns!==null){var e=Bv(sf),t=ui.transition,n=Ht;try{if(ui.transition=null,Ht=16>e?16:e,ns===null)var r=!1;else{if(e=ns,ns=null,sf=0,Ot&6)throw Error(Re(331));var s=Ot;for(Ot|=4,We=e.current;We!==null;){var c=We,h=c.child;if(We.flags&16){var g=c.deletions;if(g!==null){for(var x=0;x<g.length;x++){var y=g[x];for(We=y;We!==null;){var w=We;switch(w.tag){case 0:case 11:case 15:Nc(8,w,c)}var C=w.child;if(C!==null)C.return=w,We=C;else for(;We!==null;){w=We;var b=w.sibling,R=w.return;if(K2(w),w===y){We=null;break}if(b!==null){b.return=R,We=b;break}We=R}}}var O=c.alternate;if(O!==null){var _=O.child;if(_!==null){O.child=null;do{var B=_.sibling;_.sibling=null,_=B}while(_!==null)}}We=c}}if(c.subtreeFlags&2064&&h!==null)h.return=c,We=h;else e:for(;We!==null;){if(c=We,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Nc(9,c,c.return)}var M=c.sibling;if(M!==null){M.return=c.return,We=M;break e}We=c.return}}var I=e.current;for(We=I;We!==null;){h=We;var k=h.child;if(h.subtreeFlags&2064&&k!==null)k.return=h,We=k;else e:for(h=I;We!==null;){if(g=We,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Uf(9,g)}}catch($){pn(g,g.return,$)}if(g===h){We=null;break e}var U=g.sibling;if(U!==null){U.return=g.return,We=U;break e}We=g.return}}if(Ot=s,Es(),eo&&typeof eo.onPostCommitFiberRoot=="function")try{eo.onPostCommitFiberRoot(Of,e)}catch{}r=!0}return r}finally{Ht=n,ui.transition=t}}return!1}function gy(e,t,n){t=Al(n,t),t=B2(e,t,1),e=ls(e,t,1),t=gr(),e!==null&&(mu(e,1,t),Nr(e,t))}function pn(e,t,n){if(e.tag===3)gy(e,e,n);else for(;t!==null;){if(t.tag===3){gy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){e=Al(n,e),e=j2(t,e,1),t=ls(t,e,1),e=gr(),t!==null&&(mu(t,1,e),Nr(t,e));break}}t=t.return}}function R_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&n,Un===e&&(Kn&n)===n&&(On===4||On===3&&(Kn&130023424)===Kn&&500>wn()-qp?ea(e,0):Qp|=n),Nr(e,t)}function iw(e,t){t===0&&(e.mode&1?(t=Hu,Hu<<=1,!(Hu&130023424)&&(Hu=4194304)):t=1);var n=gr();e=To(e,t),e!==null&&(mu(e,t,n),Nr(e,n))}function N_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),iw(e,n)}function M_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(t),iw(e,n)}var ow;ow=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)_r=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _r=!1,x_(e,t,n);_r=!!(e.flags&131072)}else _r=!1,nn&&t.flags&1048576&&c2(t,Qd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cd(e,t),e=t.pendingProps;var s=Cl(t,or.current);ol(t,n),s=Wp(null,t,r,e,s,n);var c=Gp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(r)?(c=!0,Kd(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fp(t),s.updater=Ff,t.stateNode=s,s._reactInternals=t,q0(t,r,e,n),t=e1(null,t,r,!0,c,n)):(t.tag=0,nn&&c&&Op(t),hr(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=D_(r),e=bi(r,e),s){case 0:t=J0(null,t,r,e,n);break e;case 1:t=oy(null,t,r,e,n);break e;case 11:t=ry(null,t,r,e,n);break e;case 14:t=iy(null,t,r,bi(r.type,e),n);break e}throw Error(Re(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bi(r,s),J0(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bi(r,s),oy(e,t,r,s,n);case 3:e:{if(H2(t),e===null)throw Error(Re(387));r=t.pendingProps,c=t.memoizedState,s=c.element,g2(e,t),Jd(t,r,null,n);var h=t.memoizedState;if(r=h.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=Al(Error(Re(423)),t),t=sy(e,t,r,n,s);break e}else if(r!==s){s=Al(Error(Re(424)),t),t=sy(e,t,r,n,s);break e}else for(Vr=as(t.stateNode.containerInfo.firstChild),Wr=t,nn=!0,_i=null,n=h2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bl(),r===s){t=_o(e,t,n);break e}hr(e,t,r,n)}t=t.child}return t;case 5:return m2(t),e===null&&K0(t),r=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,h=s.children,V0(r,s)?h=null:c!==null&&V0(r,c)&&(t.flags|=32),z2(e,t),hr(e,t,h,n),t.child;case 6:return e===null&&K0(t),null;case 13:return V2(e,t,n);case 4:return Up(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=El(t,null,r,n):hr(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bi(r,s),ry(e,t,r,s,n);case 7:return hr(e,t,t.pendingProps,n),t.child;case 8:return hr(e,t,t.pendingProps.children,n),t.child;case 12:return hr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,c=t.memoizedProps,h=s.value,Xt(qd,r._currentValue),r._currentValue=h,c!==null)if(Oi(c.value,h)){if(c.children===s.children&&!Ir.current){t=_o(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var g=c.dependencies;if(g!==null){h=c.child;for(var x=g.firstContext;x!==null;){if(x.context===r){if(c.tag===1){x=Eo(-1,n&-n),x.tag=2;var y=c.updateQueue;if(y!==null){y=y.shared;var w=y.pending;w===null?x.next=x:(x.next=w.next,w.next=x),y.pending=x}}c.lanes|=n,x=c.alternate,x!==null&&(x.lanes|=n),X0(c.return,n,t),g.lanes|=n;break}x=x.next}}else if(c.tag===10)h=c.type===t.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(Re(341));h.lanes|=n,g=h.alternate,g!==null&&(g.lanes|=n),X0(h,n,t),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}hr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ol(t,n),s=fi(s),r=r(s),t.flags|=1,hr(e,t,r,n),t.child;case 14:return r=t.type,s=bi(r,t.pendingProps),s=bi(r.type,s),iy(e,t,r,s,n);case 15:return F2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bi(r,s),Cd(e,t),t.tag=1,Rr(r)?(e=!0,Kd(t)):e=!1,ol(t,n),L2(t,r,s),q0(t,r,s,n),e1(null,t,r,!0,e,n);case 19:return W2(e,t,n);case 22:return U2(e,t,n)}throw Error(Re(156,t.tag))};function sw(e,t){return Dv(e,t)}function O_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(e,t,n,r){return new O_(e,t,n,r)}function tg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D_(e){if(typeof e=="function")return tg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wp)return 11;if(e===Cp)return 14}return 2}function ds(e,t){var n=e.alternate;return n===null?(n=ci(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sd(e,t,n,r,s,c){var h=2;if(r=e,typeof e=="function")tg(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Va:return ta(n.children,s,c,t);case vp:h=8,s|=8;break;case C0:return e=ci(12,n,t,s|2),e.elementType=C0,e.lanes=c,e;case b0:return e=ci(13,n,t,s),e.elementType=b0,e.lanes=c,e;case E0:return e=ci(19,n,t,s),e.elementType=E0,e.lanes=c,e;case mv:return Hf(n,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pv:h=10;break e;case gv:h=9;break e;case wp:h=11;break e;case Cp:h=14;break e;case Yo:h=16,r=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=ci(h,n,t,s),t.elementType=e,t.type=r,t.lanes=c,t}function ta(e,t,n,r){return e=ci(7,e,r,t),e.lanes=n,e}function Hf(e,t,n,r){return e=ci(22,e,r,t),e.elementType=mv,e.lanes=n,e.stateNode={isHidden:!1},e}function Zh(e,t,n){return e=ci(6,e,null,t),e.lanes=n,e}function Jh(e,t,n){return t=ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function k_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ng(e,t,n,r,s,c,h,g,x){return e=new k_(e,t,n,g,x),t===1?(t=1,c===!0&&(t|=8)):t=0,c=ci(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(c),e}function P_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function aw(e){if(!e)return ps;e=e._reactInternals;e:{if(fa(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var n=e.type;if(Rr(n))return a2(e,n,t)}return t}function lw(e,t,n,r,s,c,h,g,x){return e=ng(n,r,!0,e,s,c,h,g,x),e.context=aw(null),n=e.current,r=gr(),s=us(n),c=Eo(r,s),c.callback=t??null,ls(n,c,s),e.current.lanes=s,mu(e,s,r),Nr(e,r),e}function Vf(e,t,n,r){var s=t.current,c=gr(),h=us(s);return n=aw(n),t.context===null?t.context=n:t.pendingContext=n,t=Eo(c,h),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ls(s,t,h),e!==null&&(Ni(e,s,h,c),xd(e,s,h)),h}function lf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function my(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rg(e,t){my(e,t),(e=e.alternate)&&my(e,t)}function L_(){return null}var cw=typeof reportError=="function"?reportError:function(e){console.error(e)};function ig(e){this._internalRoot=e}Wf.prototype.render=ig.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));Vf(e,t,null,null)};Wf.prototype.unmount=ig.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sa(function(){Vf(null,e,null,null)}),t[Ao]=null}};function Wf(e){this._internalRoot=e}Wf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ko.length&&t!==0&&t<Ko[n].priority;n++);Ko.splice(n,0,e),n===0&&Hv(e)}};function og(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yy(){}function B_(e,t,n,r,s){if(s){if(typeof r=="function"){var c=r;r=function(){var y=lf(h);c.call(y)}}var h=lw(t,r,e,0,null,!1,!1,"",yy);return e._reactRootContainer=h,e[Ao]=h.current,Gc(e.nodeType===8?e.parentNode:e),sa(),h}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var g=r;r=function(){var y=lf(x);g.call(y)}}var x=ng(e,0,!1,null,null,!1,!1,"",yy);return e._reactRootContainer=x,e[Ao]=x.current,Gc(e.nodeType===8?e.parentNode:e),sa(function(){Vf(t,x,n,r)}),x}function Yf(e,t,n,r,s){var c=n._reactRootContainer;if(c){var h=c;if(typeof s=="function"){var g=s;s=function(){var x=lf(h);g.call(x)}}Vf(t,h,e,s)}else h=B_(n,t,e,s,r);return lf(h)}jv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xc(t.pendingLanes);n!==0&&(Sp(t,n|1),Nr(t,wn()),!(Ot&6)&&(Tl=wn()+500,Es()))}break;case 13:sa(function(){var r=To(e,1);if(r!==null){var s=gr();Ni(r,e,1,s)}}),rg(e,1)}};Ap=function(e){if(e.tag===13){var t=To(e,134217728);if(t!==null){var n=gr();Ni(t,e,134217728,n)}rg(e,134217728)}};Fv=function(e){if(e.tag===13){var t=us(e),n=To(e,t);if(n!==null){var r=gr();Ni(n,e,t,r)}rg(e,t)}};Uv=function(){return Ht};zv=function(e,t){var n=Ht;try{return Ht=e,t()}finally{Ht=n}};D0=function(e,t,n){switch(t){case"input":if(T0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Lf(r);if(!s)throw Error(Re(90));xv(r),T0(r,s)}}}break;case"textarea":wv(e,n);break;case"select":t=n.value,t!=null&&tl(e,!!n.multiple,t,!1)}};_v=Zp;Iv=sa;var j_={usingClientEntryPoint:!1,Events:[xu,$a,Lf,Av,Tv,Zp]},cc={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F_={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mv(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||L_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Of=Ju.inject(F_),eo=Ju}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j_;$r.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(t))throw Error(Re(200));return P_(e,t,null,n)};$r.createRoot=function(e,t){if(!og(e))throw Error(Re(299));var n=!1,r="",s=cw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ng(e,1,!1,null,null,n,!1,r,s),e[Ao]=t.current,Gc(e.nodeType===8?e.parentNode:e),new ig(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=Mv(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return sa(e)};$r.hydrate=function(e,t,n){if(!Gf(t))throw Error(Re(200));return Yf(null,e,t,!0,n)};$r.hydrateRoot=function(e,t,n){if(!og(e))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,s=!1,c="",h=cw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=lw(t,null,e,1,n??null,s,!1,c,h),e[Ao]=t.current,Gc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Wf(t)};$r.render=function(e,t,n){if(!Gf(t))throw Error(Re(200));return Yf(null,e,t,!1,n)};$r.unmountComponentAtNode=function(e){if(!Gf(e))throw Error(Re(40));return e._reactRootContainer?(sa(function(){Yf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ao]=null})}),!0):!1};$r.unstable_batchedUpdates=Zp;$r.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gf(n))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return Yf(e,t,n,!1,r)};$r.version="18.3.1-next-f1338f8080-20240426";function uw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uw)}catch(e){console.error(e)}}uw(),uv.exports=$r;var ha=uv.exports;const dw=ua(ha);var fw,xy=ha;fw=xy.createRoot,xy.hydrateRoot;const U_=1,z_=1e6;let e0=0;function H_(){return e0=(e0+1)%Number.MAX_SAFE_INTEGER,e0.toString()}const t0=new Map,vy=e=>{if(t0.has(e))return;const t=setTimeout(()=>{t0.delete(e),Dc({type:"REMOVE_TOAST",toastId:e})},z_);t0.set(e,t)},V_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,U_)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?vy(n):e.toasts.forEach(r=>{vy(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ad=[];let Td={toasts:[]};function Dc(e){Td=V_(Td,e),Ad.forEach(t=>{t(Td)})}function wc({...e}){const t=H_(),n=s=>Dc({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Dc({type:"DISMISS_TOAST",toastId:t});return Dc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function W_(){const[e,t]=A.useState(Td);return A.useEffect(()=>(Ad.push(t),()=>{const n=Ad.indexOf(t);n>-1&&Ad.splice(n,1)}),[e]),{...e,toast:wc,dismiss:n=>Dc({type:"DISMISS_TOAST",toastId:n})}}function Le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function G_(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function $f(...e){return t=>e.forEach(n=>G_(n,t))}function gt(...e){return A.useCallback($f(...e),e)}function Y_(e,t=[]){let n=[];function r(c,h){const g=A.createContext(h),x=n.length;n=[...n,h];function y(C){const{scope:b,children:R,...O}=C,_=(b==null?void 0:b[e][x])||g,B=A.useMemo(()=>O,Object.values(O));return S.jsx(_.Provider,{value:B,children:R})}function w(C,b){const R=(b==null?void 0:b[e][x])||g,O=A.useContext(R);if(O)return O;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${c}\``)}return y.displayName=c+"Provider",[y,w]}const s=()=>{const c=n.map(h=>A.createContext(h));return function(g){const x=(g==null?void 0:g[e])||c;return A.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return s.scopeName=e,[r,$_(s,...t)]}function $_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const h=r.reduce((g,{useScope:x,scopeName:y})=>{const C=x(c)[`__scope${y}`];return{...g,...C}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var gs=A.forwardRef((e,t)=>{const{children:n,...r}=e,s=A.Children.toArray(n),c=s.find(K_);if(c){const h=c.props.children,g=s.map(x=>x===c?A.Children.count(h)>1?A.Children.only(null):A.isValidElement(h)?h.props.children:null:x);return S.jsx(f1,{...r,ref:t,children:A.isValidElement(h)?A.cloneElement(h,void 0,g):null})}return S.jsx(f1,{...r,ref:t,children:n})});gs.displayName="Slot";var f1=A.forwardRef((e,t)=>{const{children:n,...r}=e;if(A.isValidElement(n)){const s=Q_(n);return A.cloneElement(n,{...X_(r,n.props),ref:t?$f(t,s):s})}return A.Children.count(n)>1?A.Children.only(null):null});f1.displayName="SlotClone";var hw=({children:e})=>S.jsx(S.Fragment,{children:e});function K_(e){return A.isValidElement(e)&&e.type===hw}function X_(e,t){const n={...t};for(const r in t){const s=e[r],c=t[r];/^on[A-Z]/.test(r)?s&&c?n[r]=(...g)=>{c(...g),s(...g)}:s&&(n[r]=s):r==="style"?n[r]={...s,...c}:r==="className"&&(n[r]=[s,c].filter(Boolean).join(" "))}return{...e,...n}}function Q_(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Kf(e){const t=e+"CollectionProvider",[n,r]=Y_(t),[s,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),h=R=>{const{scope:O,children:_}=R,B=Pe.useRef(null),M=Pe.useRef(new Map).current;return S.jsx(s,{scope:O,itemMap:M,collectionRef:B,children:_})};h.displayName=t;const g=e+"CollectionSlot",x=Pe.forwardRef((R,O)=>{const{scope:_,children:B}=R,M=c(g,_),I=gt(O,M.collectionRef);return S.jsx(gs,{ref:I,children:B})});x.displayName=g;const y=e+"CollectionItemSlot",w="data-radix-collection-item",C=Pe.forwardRef((R,O)=>{const{scope:_,children:B,...M}=R,I=Pe.useRef(null),k=gt(O,I),U=c(y,_);return Pe.useEffect(()=>(U.itemMap.set(I,{ref:I,...M}),()=>void U.itemMap.delete(I))),S.jsx(gs,{[w]:"",ref:k,children:B})});C.displayName=y;function b(R){const O=c(e+"CollectionConsumer",R);return Pe.useCallback(()=>{const B=O.collectionRef.current;if(!B)return[];const M=Array.from(B.querySelectorAll(`[${w}]`));return Array.from(O.itemMap.values()).sort((U,$)=>M.indexOf(U.ref.current)-M.indexOf($.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:h,Slot:x,ItemSlot:C},b,r]}function q_(e,t){const n=A.createContext(t),r=c=>{const{children:h,...g}=c,x=A.useMemo(()=>g,Object.values(g));return S.jsx(n.Provider,{value:x,children:h})};r.displayName=e+"Provider";function s(c){const h=A.useContext(n);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[r,s]}function Oo(e,t=[]){let n=[];function r(c,h){const g=A.createContext(h),x=n.length;n=[...n,h];const y=C=>{var M;const{scope:b,children:R,...O}=C,_=((M=b==null?void 0:b[e])==null?void 0:M[x])||g,B=A.useMemo(()=>O,Object.values(O));return S.jsx(_.Provider,{value:B,children:R})};y.displayName=c+"Provider";function w(C,b){var _;const R=((_=b==null?void 0:b[e])==null?void 0:_[x])||g,O=A.useContext(R);if(O)return O;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${c}\``)}return[y,w]}const s=()=>{const c=n.map(h=>A.createContext(h));return function(g){const x=(g==null?void 0:g[e])||c;return A.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return s.scopeName=e,[r,Z_(s,...t)]}function Z_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const h=r.reduce((g,{useScope:x,scopeName:y})=>{const C=x(c)[`__scope${y}`];return{...g,...C}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var J_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rt=J_.reduce((e,t)=>{const n=A.forwardRef((r,s)=>{const{asChild:c,...h}=r,g=c?gs:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(g,{...h,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sg(e,t){e&&ha.flushSync(()=>e.dispatchEvent(t))}function on(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function e4(e,t=globalThis==null?void 0:globalThis.document){const n=on(e);A.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var t4="DismissableLayer",h1="dismissableLayer.update",n4="dismissableLayer.pointerDownOutside",r4="dismissableLayer.focusOutside",wy,pw=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pl=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:h,onDismiss:g,...x}=e,y=A.useContext(pw),[w,C]=A.useState(null),b=(w==null?void 0:w.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=A.useState({}),O=gt(t,Y=>C(Y)),_=Array.from(y.layers),[B]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),M=_.indexOf(B),I=w?_.indexOf(w):-1,k=y.layersWithOutsidePointerEventsDisabled.size>0,U=I>=M,$=o4(Y=>{const Z=Y.target,X=[...y.branches].some(de=>de.contains(Z));!U||X||(s==null||s(Y),h==null||h(Y),Y.defaultPrevented||g==null||g())},b),J=s4(Y=>{const Z=Y.target;[...y.branches].some(de=>de.contains(Z))||(c==null||c(Y),h==null||h(Y),Y.defaultPrevented||g==null||g())},b);return e4(Y=>{I===y.layers.size-1&&(r==null||r(Y),!Y.defaultPrevented&&g&&(Y.preventDefault(),g()))},b),A.useEffect(()=>{if(w)return n&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(wy=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(w)),y.layers.add(w),Cy(),()=>{n&&y.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=wy)}},[w,b,n,y]),A.useEffect(()=>()=>{w&&(y.layers.delete(w),y.layersWithOutsidePointerEventsDisabled.delete(w),Cy())},[w,y]),A.useEffect(()=>{const Y=()=>R({});return document.addEventListener(h1,Y),()=>document.removeEventListener(h1,Y)},[]),S.jsx(rt.div,{...x,ref:O,style:{pointerEvents:k?U?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,J.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,$.onPointerDownCapture)})});Pl.displayName=t4;var i4="DismissableLayerBranch",gw=A.forwardRef((e,t)=>{const n=A.useContext(pw),r=A.useRef(null),s=gt(t,r);return A.useEffect(()=>{const c=r.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),S.jsx(rt.div,{...e,ref:s})});gw.displayName=i4;function o4(e,t=globalThis==null?void 0:globalThis.document){const n=on(e),r=A.useRef(!1),s=A.useRef(()=>{});return A.useEffect(()=>{const c=g=>{if(g.target&&!r.current){let x=function(){mw(n4,n,y,{discrete:!0})};const y={originalEvent:g};g.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=x,t.addEventListener("click",s.current,{once:!0})):x()}else t.removeEventListener("click",s.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",c),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function s4(e,t=globalThis==null?void 0:globalThis.document){const n=on(e),r=A.useRef(!1);return A.useEffect(()=>{const s=c=>{c.target&&!r.current&&mw(r4,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cy(){const e=new CustomEvent(h1);document.dispatchEvent(e)}function mw(e,t,n,{discrete:r}){const s=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?sg(s,c):s.dispatchEvent(c)}var a4=Pl,l4=gw,zn=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},c4="Portal",wu=A.forwardRef((e,t)=>{var g;const{container:n,...r}=e,[s,c]=A.useState(!1);zn(()=>c(!0),[]);const h=n||s&&((g=globalThis==null?void 0:globalThis.document)==null?void 0:g.body);return h?dw.createPortal(S.jsx(rt.div,{...r,ref:t}),h):null});wu.displayName=c4;function u4(e,t){return A.useReducer((n,r)=>t[n][r]??n,e)}var vr=e=>{const{present:t,children:n}=e,r=d4(t),s=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),c=gt(r.ref,f4(s));return typeof n=="function"||r.isPresent?A.cloneElement(s,{ref:c}):null};vr.displayName="Presence";function d4(e){const[t,n]=A.useState(),r=A.useRef({}),s=A.useRef(e),c=A.useRef("none"),h=e?"mounted":"unmounted",[g,x]=u4(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const y=ed(r.current);c.current=g==="mounted"?y:"none"},[g]),zn(()=>{const y=r.current,w=s.current;if(w!==e){const b=c.current,R=ed(y);e?x("MOUNT"):R==="none"||(y==null?void 0:y.display)==="none"?x("UNMOUNT"):x(w&&b!==R?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,x]),zn(()=>{if(t){let y;const w=t.ownerDocument.defaultView??window,C=R=>{const _=ed(r.current).includes(R.animationName);if(R.target===t&&_&&(x("ANIMATION_END"),!s.current)){const B=t.style.animationFillMode;t.style.animationFillMode="forwards",y=w.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=B)})}},b=R=>{R.target===t&&(c.current=ed(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",C),t.addEventListener("animationend",C),()=>{w.clearTimeout(y),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",C),t.removeEventListener("animationend",C)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:A.useCallback(y=>{y&&(r.current=getComputedStyle(y)),n(y)},[])}}function ed(e){return(e==null?void 0:e.animationName)||"none"}function f4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Io({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=h4({defaultProp:t,onChange:n}),c=e!==void 0,h=c?e:r,g=on(n),x=A.useCallback(y=>{if(c){const C=typeof y=="function"?y(e):y;C!==e&&g(C)}else s(y)},[c,e,s,g]);return[h,x]}function h4({defaultProp:e,onChange:t}){const n=A.useState(e),[r]=n,s=A.useRef(r),c=on(t);return A.useEffect(()=>{s.current!==r&&(c(r),s.current=r)},[r,s,c]),n}var p4="VisuallyHidden",Cu=A.forwardRef((e,t)=>S.jsx(rt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Cu.displayName=p4;var g4=Cu,ag="ToastProvider",[lg,m4,y4]=Kf("Toast"),[yw,i7]=Oo("Toast",[y4]),[x4,Xf]=yw(ag),xw=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:c=50,children:h}=e,[g,x]=A.useState(null),[y,w]=A.useState(0),C=A.useRef(!1),b=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ag}\`. Expected non-empty \`string\`.`),S.jsx(lg.Provider,{scope:t,children:S.jsx(x4,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:c,toastCount:y,viewport:g,onViewportChange:x,onToastAdd:A.useCallback(()=>w(R=>R+1),[]),onToastRemove:A.useCallback(()=>w(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:C,isClosePausedRef:b,children:h})})};xw.displayName=ag;var vw="ToastViewport",v4=["F8"],p1="toast.viewportPause",g1="toast.viewportResume",ww=A.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=v4,label:s="Notifications ({hotkey})",...c}=e,h=Xf(vw,n),g=m4(n),x=A.useRef(null),y=A.useRef(null),w=A.useRef(null),C=A.useRef(null),b=gt(t,C,h.onViewportChange),R=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=h.toastCount>0;A.useEffect(()=>{const B=M=>{var k;r.length!==0&&r.every(U=>M[U]||M.code===U)&&((k=C.current)==null||k.focus())};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[r]),A.useEffect(()=>{const B=x.current,M=C.current;if(O&&B&&M){const I=()=>{if(!h.isClosePausedRef.current){const J=new CustomEvent(p1);M.dispatchEvent(J),h.isClosePausedRef.current=!0}},k=()=>{if(h.isClosePausedRef.current){const J=new CustomEvent(g1);M.dispatchEvent(J),h.isClosePausedRef.current=!1}},U=J=>{!B.contains(J.relatedTarget)&&k()},$=()=>{B.contains(document.activeElement)||k()};return B.addEventListener("focusin",I),B.addEventListener("focusout",U),B.addEventListener("pointermove",I),B.addEventListener("pointerleave",$),window.addEventListener("blur",I),window.addEventListener("focus",k),()=>{B.removeEventListener("focusin",I),B.removeEventListener("focusout",U),B.removeEventListener("pointermove",I),B.removeEventListener("pointerleave",$),window.removeEventListener("blur",I),window.removeEventListener("focus",k)}}},[O,h.isClosePausedRef]);const _=A.useCallback(({tabbingDirection:B})=>{const I=g().map(k=>{const U=k.ref.current,$=[U,...O4(U)];return B==="forwards"?$:$.reverse()});return(B==="forwards"?I.reverse():I).flat()},[g]);return A.useEffect(()=>{const B=C.current;if(B){const M=I=>{var $,J,Y;const k=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!k){const Z=document.activeElement,X=I.shiftKey;if(I.target===B&&X){($=y.current)==null||$.focus();return}const ae=_({tabbingDirection:X?"backwards":"forwards"}),ye=ae.findIndex(pe=>pe===Z);n0(ae.slice(ye+1))?I.preventDefault():X?(J=y.current)==null||J.focus():(Y=w.current)==null||Y.focus()}};return B.addEventListener("keydown",M),()=>B.removeEventListener("keydown",M)}},[g,_]),S.jsxs(l4,{ref:x,role:"region","aria-label":s.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:O?void 0:"none"},children:[O&&S.jsx(m1,{ref:y,onFocusFromOutsideViewport:()=>{const B=_({tabbingDirection:"forwards"});n0(B)}}),S.jsx(lg.Slot,{scope:n,children:S.jsx(rt.ol,{tabIndex:-1,...c,ref:b})}),O&&S.jsx(m1,{ref:w,onFocusFromOutsideViewport:()=>{const B=_({tabbingDirection:"backwards"});n0(B)}})]})});ww.displayName=vw;var Cw="ToastFocusProxy",m1=A.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,c=Xf(Cw,n);return S.jsx(Cu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:h=>{var y;const g=h.relatedTarget;!((y=c.viewport)!=null&&y.contains(g))&&r()}})});m1.displayName=Cw;var Qf="Toast",w4="toast.swipeStart",C4="toast.swipeMove",b4="toast.swipeCancel",E4="toast.swipeEnd",bw=A.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:c,...h}=e,[g=!0,x]=Io({prop:r,defaultProp:s,onChange:c});return S.jsx(vr,{present:n||g,children:S.jsx(T4,{open:g,...h,ref:t,onClose:()=>x(!1),onPause:on(e.onPause),onResume:on(e.onResume),onSwipeStart:Le(e.onSwipeStart,y=>{y.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,y=>{const{x:w,y:C}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","move"),y.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${C}px`)}),onSwipeCancel:Le(e.onSwipeCancel,y=>{y.currentTarget.setAttribute("data-swipe","cancel"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,y=>{const{x:w,y:C}=y.detail.delta;y.currentTarget.setAttribute("data-swipe","end"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),y.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),y.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),y.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${C}px`),x(!1)})})})});bw.displayName=Qf;var[S4,A4]=yw(Qf,{onClose(){}}),T4=A.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:c,onClose:h,onEscapeKeyDown:g,onPause:x,onResume:y,onSwipeStart:w,onSwipeMove:C,onSwipeCancel:b,onSwipeEnd:R,...O}=e,_=Xf(Qf,n),[B,M]=A.useState(null),I=gt(t,pe=>M(pe)),k=A.useRef(null),U=A.useRef(null),$=s||_.duration,J=A.useRef(0),Y=A.useRef($),Z=A.useRef(0),{onToastAdd:X,onToastRemove:de}=_,xe=on(()=>{var te;(B==null?void 0:B.contains(document.activeElement))&&((te=_.viewport)==null||te.focus()),h()}),ae=A.useCallback(pe=>{!pe||pe===1/0||(window.clearTimeout(Z.current),J.current=new Date().getTime(),Z.current=window.setTimeout(xe,pe))},[xe]);A.useEffect(()=>{const pe=_.viewport;if(pe){const te=()=>{ae(Y.current),y==null||y()},we=()=>{const le=new Date().getTime()-J.current;Y.current=Y.current-le,window.clearTimeout(Z.current),x==null||x()};return pe.addEventListener(p1,we),pe.addEventListener(g1,te),()=>{pe.removeEventListener(p1,we),pe.removeEventListener(g1,te)}}},[_.viewport,$,x,y,ae]),A.useEffect(()=>{c&&!_.isClosePausedRef.current&&ae($)},[c,$,_.isClosePausedRef,ae]),A.useEffect(()=>(X(),()=>de()),[X,de]);const ye=A.useMemo(()=>B?Rw(B):null,[B]);return _.viewport?S.jsxs(S.Fragment,{children:[ye&&S.jsx(_4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ye}),S.jsx(S4,{scope:n,onClose:xe,children:ha.createPortal(S.jsx(lg.ItemSlot,{scope:n,children:S.jsx(a4,{asChild:!0,onEscapeKeyDown:Le(g,()=>{_.isFocusedToastEscapeKeyDownRef.current||xe(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx(rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":_.swipeDirection,...O,ref:I,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,pe=>{pe.key==="Escape"&&(g==null||g(pe.nativeEvent),pe.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,xe()))}),onPointerDown:Le(e.onPointerDown,pe=>{pe.button===0&&(k.current={x:pe.clientX,y:pe.clientY})}),onPointerMove:Le(e.onPointerMove,pe=>{if(!k.current)return;const te=pe.clientX-k.current.x,we=pe.clientY-k.current.y,le=!!U.current,q=["left","right"].includes(_.swipeDirection),G=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Q=q?G(0,te):0,ne=q?0:G(0,we),ce=pe.pointerType==="touch"?10:2,ge={x:Q,y:ne},Ne={originalEvent:pe,delta:ge};le?(U.current=ge,td(C4,C,Ne,{discrete:!1})):by(ge,_.swipeDirection,ce)?(U.current=ge,td(w4,w,Ne,{discrete:!1}),pe.target.setPointerCapture(pe.pointerId)):(Math.abs(te)>ce||Math.abs(we)>ce)&&(k.current=null)}),onPointerUp:Le(e.onPointerUp,pe=>{const te=U.current,we=pe.target;if(we.hasPointerCapture(pe.pointerId)&&we.releasePointerCapture(pe.pointerId),U.current=null,k.current=null,te){const le=pe.currentTarget,q={originalEvent:pe,delta:te};by(te,_.swipeDirection,_.swipeThreshold)?td(E4,R,q,{discrete:!0}):td(b4,b,q,{discrete:!0}),le.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),_4=e=>{const{__scopeToast:t,children:n,...r}=e,s=Xf(Qf,t),[c,h]=A.useState(!1),[g,x]=A.useState(!1);return N4(()=>h(!0)),A.useEffect(()=>{const y=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(y)},[]),g?null:S.jsx(wu,{asChild:!0,children:S.jsx(Cu,{...r,children:c&&S.jsxs(S.Fragment,{children:[s.label," ",n]})})})},I4="ToastTitle",Ew=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return S.jsx(rt.div,{...r,ref:t})});Ew.displayName=I4;var R4="ToastDescription",Sw=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return S.jsx(rt.div,{...r,ref:t})});Sw.displayName=R4;var Aw="ToastAction",Tw=A.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?S.jsx(Iw,{altText:n,asChild:!0,children:S.jsx(cg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Aw}\`. Expected non-empty \`string\`.`),null)});Tw.displayName=Aw;var _w="ToastClose",cg=A.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=A4(_w,n);return S.jsx(Iw,{asChild:!0,children:S.jsx(rt.button,{type:"button",...r,ref:t,onClick:Le(e.onClick,s.onClose)})})});cg.displayName=_w;var Iw=A.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return S.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Rw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),M4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",c=r.dataset.radixToastAnnounceExclude==="";if(!s)if(c){const h=r.dataset.radixToastAnnounceAlt;h&&t.push(h)}else t.push(...Rw(r))}}),t}function td(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?sg(s,c):s.dispatchEvent(c)}var by=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),c=r>s;return t==="left"||t==="right"?c&&r>n:!c&&s>n};function N4(e=()=>{}){const t=on(e);zn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function M4(e){return e.nodeType===e.ELEMENT_NODE}function O4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function n0(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var D4=xw,Nw=ww,Mw=bw,Ow=Ew,Dw=Sw,kw=Tw,Pw=cg;function Lw(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Lw(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bw(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Lw(e))&&(r&&(r+=" "),r+=t);return r}const Ey=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sy=Bw,qf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Sy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:c}=t,h=Object.keys(s).map(y=>{const w=n==null?void 0:n[y],C=c==null?void 0:c[y];if(w===null)return null;const b=Ey(w)||Ey(C);return s[y][b]}),g=n&&Object.entries(n).reduce((y,w)=>{let[C,b]=w;return b===void 0||(y[C]=b),y},{}),x=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((y,w)=>{let{class:C,className:b,...R}=w;return Object.entries(R).every(O=>{let[_,B]=O;return Array.isArray(B)?B.includes({...c,...g}[_]):{...c,...g}[_]===B})?[...y,C,b]:y},[]);return Sy(e,h,x,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:c,iconNode:h,...g},x)=>A.createElement("svg",{ref:x,...P4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:jw("lucide",s),...g},[...h.map(([y,w])=>A.createElement(y,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=(e,t)=>{const n=A.forwardRef(({className:r,...s},c)=>A.createElement(L4,{ref:c,iconNode:t,className:jw(`lucide-${k4(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Hn("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Hn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Hn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=Hn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Hn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Hn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Hn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Hn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Hn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Hn("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Hn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=Hn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Hn("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Hn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Hn("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=Hn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Hn("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=Hn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ug="-",H4=e=>{const t=W4(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:h=>{const g=h.split(ug);return g[0]===""&&g.length!==1&&g.shift(),Xw(g,t)||V4(h)},getConflictingClassGroupIds:(h,g)=>{const x=n[h]||[];return g&&r[h]?[...x,...r[h]]:x}}},Xw=(e,t)=>{var h;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Xw(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const c=e.join(ug);return(h=t.validators.find(({validator:g})=>g(c)))==null?void 0:h.classGroupId},Ty=/^\[(.+)\]$/,V4=e=>{if(Ty.test(e)){const t=Ty.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},W4=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Y4(Object.entries(e.classGroups),n).forEach(([c,h])=>{v1(h,r,c,t)}),r},v1=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const c=s===""?t:_y(t,s);c.classGroupId=n;return}if(typeof s=="function"){if(G4(s)){v1(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([c,h])=>{v1(h,_y(t,c),n,r)})})},_y=(e,t)=>{let n=e;return t.split(ug).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},G4=e=>e.isThemeGetter,Y4=(e,t)=>t?e.map(([n,r])=>{const s=r.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([h,g])=>[t+h,g])):c);return[n,s]}):e,$4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(c,h)=>{n.set(c,h),t++,t>e&&(t=0,r=n,n=new Map)};return{get(c){let h=n.get(c);if(h!==void 0)return h;if((h=r.get(c))!==void 0)return s(c,h),h},set(c,h){n.has(c)?n.set(c,h):s(c,h)}}},Qw="!",K4=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],c=t.length,h=g=>{const x=[];let y=0,w=0,C;for(let B=0;B<g.length;B++){let M=g[B];if(y===0){if(M===s&&(r||g.slice(B,B+c)===t)){x.push(g.slice(w,B)),w=B+c;continue}if(M==="/"){C=B;continue}}M==="["?y++:M==="]"&&y--}const b=x.length===0?g:g.substring(w),R=b.startsWith(Qw),O=R?b.substring(1):b,_=C&&C>w?C-w:void 0;return{modifiers:x,hasImportantModifier:R,baseClassName:O,maybePostfixModifierPosition:_}};return n?g=>n({className:g,parseClassName:h}):h},X4=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Q4=e=>({cache:$4(e.cacheSize),parseClassName:K4(e),...H4(e)}),q4=/\s+/,Z4=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,c=[],h=e.trim().split(q4);let g="";for(let x=h.length-1;x>=0;x-=1){const y=h[x],{modifiers:w,hasImportantModifier:C,baseClassName:b,maybePostfixModifierPosition:R}=n(y);let O=!!R,_=r(O?b.substring(0,R):b);if(!_){if(!O){g=y+(g.length>0?" "+g:g);continue}if(_=r(b),!_){g=y+(g.length>0?" "+g:g);continue}O=!1}const B=X4(w).join(":"),M=C?B+Qw:B,I=M+_;if(c.includes(I))continue;c.push(I);const k=s(_,O);for(let U=0;U<k.length;++U){const $=k[U];c.push(M+$)}g=y+(g.length>0?" "+g:g)}return g};function J4(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qw(t))&&(r&&(r+=" "),r+=n);return r}const qw=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qw(e[r]))&&(n&&(n+=" "),n+=t);return n};function eI(e,...t){let n,r,s,c=h;function h(x){const y=t.reduce((w,C)=>C(w),e());return n=Q4(y),r=n.cache.get,s=n.cache.set,c=g,g(x)}function g(x){const y=r(x);if(y)return y;const w=Z4(x,n);return s(x,w),w}return function(){return c(J4.apply(null,arguments))}}const Zt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Zw=/^\[(?:([a-z-]+):)?(.+)\]$/i,tI=/^\d+\/\d+$/,nI=new Set(["px","full","screen"]),rI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,po=e=>al(e)||nI.has(e)||tI.test(e),Uo=e=>Ll(e,"length",gI),al=e=>!!e&&!Number.isNaN(Number(e)),r0=e=>Ll(e,"number",al),uc=e=>!!e&&Number.isInteger(Number(e)),lI=e=>e.endsWith("%")&&al(e.slice(0,-1)),ft=e=>Zw.test(e),zo=e=>rI.test(e),cI=new Set(["length","size","percentage"]),uI=e=>Ll(e,cI,Jw),dI=e=>Ll(e,"position",Jw),fI=new Set(["image","url"]),hI=e=>Ll(e,fI,yI),pI=e=>Ll(e,"",mI),dc=()=>!0,Ll=(e,t,n)=>{const r=Zw.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},gI=e=>iI.test(e)&&!oI.test(e),Jw=()=>!1,mI=e=>sI.test(e),yI=e=>aI.test(e),xI=()=>{const e=Zt("colors"),t=Zt("spacing"),n=Zt("blur"),r=Zt("brightness"),s=Zt("borderColor"),c=Zt("borderRadius"),h=Zt("borderSpacing"),g=Zt("borderWidth"),x=Zt("contrast"),y=Zt("grayscale"),w=Zt("hueRotate"),C=Zt("invert"),b=Zt("gap"),R=Zt("gradientColorStops"),O=Zt("gradientColorStopPositions"),_=Zt("inset"),B=Zt("margin"),M=Zt("opacity"),I=Zt("padding"),k=Zt("saturate"),U=Zt("scale"),$=Zt("sepia"),J=Zt("skew"),Y=Zt("space"),Z=Zt("translate"),X=()=>["auto","contain","none"],de=()=>["auto","hidden","clip","visible","scroll"],xe=()=>["auto",ft,t],ae=()=>[ft,t],ye=()=>["",po,Uo],pe=()=>["auto",al,ft],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],we=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",ft],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[al,ft];return{cacheSize:500,separator:":",theme:{colors:[dc],spacing:[po,Uo],blur:["none","",zo,ft],brightness:ne(),borderColor:[e],borderRadius:["none","","full",zo,ft],borderSpacing:ae(),borderWidth:ye(),contrast:ne(),grayscale:G(),hueRotate:ne(),invert:G(),gap:ae(),gradientColorStops:[e],gradientColorStopPositions:[lI,Uo],inset:xe(),margin:xe(),opacity:ne(),padding:ae(),saturate:ne(),scale:ne(),sepia:G(),skew:ne(),space:ae(),translate:ae()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[zo]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),ft]}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uc,ft]}],basis:[{basis:xe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",uc,ft]}],"grid-cols":[{"grid-cols":[dc]}],"col-start-end":[{col:["auto",{span:["full",uc,ft]},ft]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[dc]}],"row-start-end":[{row:["auto",{span:[uc,ft]},ft]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[B]}],mx:[{mx:[B]}],my:[{my:[B]}],ms:[{ms:[B]}],me:[{me:[B]}],mt:[{mt:[B]}],mr:[{mr:[B]}],mb:[{mb:[B]}],ml:[{ml:[B]}],"space-x":[{"space-x":[Y]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Y]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,t]}],"min-w":[{"min-w":[ft,t,"min","max","fit"]}],"max-w":[{"max-w":[ft,t,"none","full","min","max","fit","prose",{screen:[zo]},zo]}],h:[{h:[ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zo,Uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",r0]}],"font-family":[{font:[dc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",al,r0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",po,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",po,Uo]}],"underline-offset":[{"underline-offset":["auto",po,ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ae()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),dI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...we(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:we()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...we()]}],"outline-offset":[{"outline-offset":[po,ft]}],"outline-w":[{outline:[po,Uo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[po,Uo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zo,pI]}],"shadow-color":[{shadow:[dc]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",zo,ft]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[w]}],invert:[{invert:[C]}],saturate:[{saturate:[k]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w]}],"backdrop-invert":[{"backdrop-invert":[C]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[U]}],"scale-x":[{"scale-x":[U]}],"scale-y":[{"scale-y":[U]}],rotate:[{rotate:[uc,ft]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ae()}],"scroll-mx":[{"scroll-mx":ae()}],"scroll-my":[{"scroll-my":ae()}],"scroll-ms":[{"scroll-ms":ae()}],"scroll-me":[{"scroll-me":ae()}],"scroll-mt":[{"scroll-mt":ae()}],"scroll-mr":[{"scroll-mr":ae()}],"scroll-mb":[{"scroll-mb":ae()}],"scroll-ml":[{"scroll-ml":ae()}],"scroll-p":[{"scroll-p":ae()}],"scroll-px":[{"scroll-px":ae()}],"scroll-py":[{"scroll-py":ae()}],"scroll-ps":[{"scroll-ps":ae()}],"scroll-pe":[{"scroll-pe":ae()}],"scroll-pt":[{"scroll-pt":ae()}],"scroll-pr":[{"scroll-pr":ae()}],"scroll-pb":[{"scroll-pb":ae()}],"scroll-pl":[{"scroll-pl":ae()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[po,Uo,r0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vI=eI(xI);function Je(...e){return vI(Bw(e))}const wI=D4,eC=A.forwardRef(({className:e,...t},n)=>S.jsx(Nw,{ref:n,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));eC.displayName=Nw.displayName;const CI=qf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tC=A.forwardRef(({className:e,variant:t,...n},r)=>S.jsx(Mw,{ref:r,className:Je(CI({variant:t}),e),...n}));tC.displayName=Mw.displayName;const bI=A.forwardRef(({className:e,...t},n)=>S.jsx(kw,{ref:n,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));bI.displayName=kw.displayName;const nC=A.forwardRef(({className:e,...t},n)=>S.jsx(Pw,{ref:n,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:S.jsx(Kw,{className:"h-4 w-4"})}));nC.displayName=Pw.displayName;const rC=A.forwardRef(({className:e,...t},n)=>S.jsx(Ow,{ref:n,className:Je("text-sm font-semibold",e),...t}));rC.displayName=Ow.displayName;const iC=A.forwardRef(({className:e,...t},n)=>S.jsx(Dw,{ref:n,className:Je("text-sm opacity-90",e),...t}));iC.displayName=Dw.displayName;function oC(){const{toasts:e}=W_();return S.jsxs(wI,{children:[e.map(function({id:t,title:n,description:r,action:s,...c}){return S.jsxs(tC,{...c,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(rC,{children:n}),r&&S.jsx(iC,{children:r})]}),s,S.jsx(nC,{})]},t)}),S.jsx(eC,{})]})}var Iy=["light","dark"],EI="(prefers-color-scheme: dark)",SI=A.createContext(void 0),AI={setTheme:e=>{},themes:[]},TI=()=>{var e;return(e=A.useContext(SI))!=null?e:AI};A.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:c,value:h,attrs:g,nonce:x})=>{let y=c==="system",w=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${g.map(O=>`'${O}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,C=s?Iy.includes(c)&&c?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(O,_=!1,B=!0)=>{let M=h?h[O]:O,I=_?O+"|| ''":`'${M}'`,k="";return s&&B&&!_&&Iy.includes(O)&&(k+=`d.style.colorScheme = '${O}';`),n==="class"?_||M?k+=`c.add(${I})`:k+="null":M&&(k+=`d[s](n,${I})`),k},R=e?`!function(){${w}${b(e)}}()`:r?`!function(){try{${w}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${y})){var t='${EI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${h?`var x=${JSON.stringify(h)};`:""}${b(h?"x[e]":"e",!0)}}${y?"":"else{"+b(c,!1,!1)+"}"}${C}}catch(e){}}()`:`!function(){try{${w}var e=localStorage.getItem('${t}');if(e){${h?`var x=${JSON.stringify(h)};`:""}${b(h?"x[e]":"e",!0)}}else{${b(c,!1,!1)};}${C}}catch(t){}}();`;return A.createElement("script",{nonce:x,dangerouslySetInnerHTML:{__html:R}})});var _I=e=>{switch(e){case"success":return NI;case"info":return OI;case"warning":return MI;case"error":return DI;default:return null}},II=Array(12).fill(0),RI=({visible:e})=>Pe.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Pe.createElement("div",{className:"sonner-spinner"},II.map((t,n)=>Pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),NI=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MI=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OI=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),DI=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kI=()=>{let[e,t]=Pe.useState(document.hidden);return Pe.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},w1=1,PI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:w1++,c=this.toasts.find(g=>g.id===s),h=e.dismissible===void 0?!0:e.dismissible;return c?this.toasts=this.toasts.map(g=>g.id===s?(this.publish({...g,...e,id:s,title:n}),{...g,...e,id:s,dismissible:h,title:n}):g):this.addToast({title:n,...r,dismissible:h,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async c=>{if(BI(c)&&!c.ok){s=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:h,description:g})}else if(t.success!==void 0){s=!1;let h=typeof t.success=="function"?await t.success(c):t.success,g=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:h,description:g})}}).catch(async c=>{if(t.error!==void 0){s=!1;let h=typeof t.error=="function"?await t.error(c):t.error,g=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:h,description:g})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||w1++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Fr=new PI,LI=(e,t)=>{let n=(t==null?void 0:t.id)||w1++;return Fr.addToast({title:e,...t,id:n}),n},BI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jI=LI,FI=()=>Fr.toasts;Object.assign(jI,{success:Fr.success,info:Fr.info,warning:Fr.warning,error:Fr.error,custom:Fr.custom,message:Fr.message,promise:Fr.promise,dismiss:Fr.dismiss,loading:Fr.loading},{getHistory:FI});function UI(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}UI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function nd(e){return e.label!==void 0}var zI=3,HI="32px",VI=4e3,WI=356,GI=14,YI=20,$I=200;function KI(...e){return e.filter(Boolean).join(" ")}var XI=e=>{var t,n,r,s,c,h,g,x,y,w;let{invert:C,toast:b,unstyled:R,interacting:O,setHeights:_,visibleToasts:B,heights:M,index:I,toasts:k,expanded:U,removeToast:$,defaultRichColors:J,closeButton:Y,style:Z,cancelButtonStyle:X,actionButtonStyle:de,className:xe="",descriptionClassName:ae="",duration:ye,position:pe,gap:te,loadingIcon:we,expandByDefault:le,classNames:q,icons:G,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:ne,cn:ce}=e,[ge,Ne]=Pe.useState(!1),[ot,he]=Pe.useState(!1),[Oe,Be]=Pe.useState(!1),[Te,tt]=Pe.useState(!1),[Xe,Ue]=Pe.useState(0),[Ce,ze]=Pe.useState(0),Ye=Pe.useRef(null),nt=Pe.useRef(null),it=I===0,He=I+1<=B,Ge=b.type,Gt=b.dismissible!==!1,_e=b.className||"",Cn=b.descriptionClassName||"",Vt=Pe.useMemo(()=>M.findIndex(qe=>qe.toastId===b.id)||0,[M,b.id]),$t=Pe.useMemo(()=>{var qe;return(qe=b.closeButton)!=null?qe:Y},[b.closeButton,Y]),bn=Pe.useMemo(()=>b.duration||ye||VI,[b.duration,ye]),Dt=Pe.useRef(0),Qt=Pe.useRef(0),En=Pe.useRef(0),St=Pe.useRef(null),[Dn,gn]=pe.split("-"),Vn=Pe.useMemo(()=>M.reduce((qe,wt,Ee)=>Ee>=Vt?qe:qe+wt.height,0),[M,Vt]),_t=kI(),Me=b.invert||C,mt=Ge==="loading";Qt.current=Pe.useMemo(()=>Vt*te+Vn,[Vt,Vn]),Pe.useEffect(()=>{Ne(!0)},[]),Pe.useLayoutEffect(()=>{if(!ge)return;let qe=nt.current,wt=qe.style.height;qe.style.height="auto";let Ee=qe.getBoundingClientRect().height;qe.style.height=wt,ze(Ee),_(st=>st.find(mn=>mn.toastId===b.id)?st.map(mn=>mn.toastId===b.id?{...mn,height:Ee}:mn):[{toastId:b.id,height:Ee,position:b.position},...st])},[ge,b.title,b.description,_,b.id]);let Se=Pe.useCallback(()=>{he(!0),Ue(Qt.current),_(qe=>qe.filter(wt=>wt.toastId!==b.id)),setTimeout(()=>{$(b)},$I)},[b,$,_,Qt]);Pe.useEffect(()=>{if(b.promise&&Ge==="loading"||b.duration===1/0||b.type==="loading")return;let qe,wt=bn;return U||O||ne&&_t?(()=>{if(En.current<Dt.current){let Ee=new Date().getTime()-Dt.current;wt=wt-Ee}En.current=new Date().getTime()})():wt!==1/0&&(Dt.current=new Date().getTime(),qe=setTimeout(()=>{var Ee;(Ee=b.onAutoClose)==null||Ee.call(b,b),Se()},wt)),()=>clearTimeout(qe)},[U,O,le,b,bn,Se,b.promise,Ge,ne,_t]),Pe.useEffect(()=>{let qe=nt.current;if(qe){let wt=qe.getBoundingClientRect().height;return ze(wt),_(Ee=>[{toastId:b.id,height:wt,position:b.position},...Ee]),()=>_(Ee=>Ee.filter(st=>st.toastId!==b.id))}},[_,b.id]),Pe.useEffect(()=>{b.delete&&Se()},[Se,b.delete]);function Tt(){return G!=null&&G.loading?Pe.createElement("div",{className:"sonner-loader","data-visible":Ge==="loading"},G.loading):we?Pe.createElement("div",{className:"sonner-loader","data-visible":Ge==="loading"},we):Pe.createElement(RI,{visible:Ge==="loading"})}return Pe.createElement("li",{"aria-live":b.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:nt,className:ce(xe,_e,q==null?void 0:q.toast,(t=b==null?void 0:b.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[Ge],(n=b==null?void 0:b.classNames)==null?void 0:n[Ge]),"data-sonner-toast":"","data-rich-colors":(r=b.richColors)!=null?r:J,"data-styled":!(b.jsx||b.unstyled||R),"data-mounted":ge,"data-promise":!!b.promise,"data-removed":ot,"data-visible":He,"data-y-position":Dn,"data-x-position":gn,"data-index":I,"data-front":it,"data-swiping":Oe,"data-dismissible":Gt,"data-type":Ge,"data-invert":Me,"data-swipe-out":Te,"data-expanded":!!(U||le&&ge),style:{"--index":I,"--toasts-before":I,"--z-index":k.length-I,"--offset":`${ot?Xe:Qt.current}px`,"--initial-height":le?"auto":`${Ce}px`,...Z,...b.style},onPointerDown:qe=>{mt||!Gt||(Ye.current=new Date,Ue(Qt.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(Be(!0),St.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,wt,Ee,st;if(Te||!Gt)return;St.current=null;let mn=Number(((qe=nt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),gi=new Date().getTime()-((wt=Ye.current)==null?void 0:wt.getTime()),_s=Math.abs(mn)/gi;if(Math.abs(mn)>=YI||_s>.11){Ue(Qt.current),(Ee=b.onDismiss)==null||Ee.call(b,b),Se(),tt(!0);return}(st=nt.current)==null||st.style.setProperty("--swipe-amount","0px"),Be(!1)},onPointerMove:qe=>{var wt;if(!St.current||!Gt)return;let Ee=qe.clientY-St.current.y,st=qe.clientX-St.current.x,mn=(Dn==="top"?Math.min:Math.max)(0,Ee),gi=qe.pointerType==="touch"?10:2;Math.abs(mn)>gi?(wt=nt.current)==null||wt.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(st)>gi&&(St.current=null)}},$t&&!b.jsx?Pe.createElement("button",{"aria-label":Q,"data-disabled":mt,"data-close-button":!0,onClick:mt||!Gt?()=>{}:()=>{var qe;Se(),(qe=b.onDismiss)==null||qe.call(b,b)},className:ce(q==null?void 0:q.closeButton,(s=b==null?void 0:b.classNames)==null?void 0:s.closeButton)},Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,b.jsx||Pe.isValidElement(b.title)?b.jsx||b.title:Pe.createElement(Pe.Fragment,null,Ge||b.icon||b.promise?Pe.createElement("div",{"data-icon":"",className:ce(q==null?void 0:q.icon,(c=b==null?void 0:b.classNames)==null?void 0:c.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Tt():null,b.type!=="loading"?b.icon||(G==null?void 0:G[Ge])||_I(Ge):null):null,Pe.createElement("div",{"data-content":"",className:ce(q==null?void 0:q.content,(h=b==null?void 0:b.classNames)==null?void 0:h.content)},Pe.createElement("div",{"data-title":"",className:ce(q==null?void 0:q.title,(g=b==null?void 0:b.classNames)==null?void 0:g.title)},b.title),b.description?Pe.createElement("div",{"data-description":"",className:ce(ae,Cn,q==null?void 0:q.description,(x=b==null?void 0:b.classNames)==null?void 0:x.description)},b.description):null),Pe.isValidElement(b.cancel)?b.cancel:b.cancel&&nd(b.cancel)?Pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||X,onClick:qe=>{var wt,Ee;nd(b.cancel)&&Gt&&((Ee=(wt=b.cancel).onClick)==null||Ee.call(wt,qe),Se())},className:ce(q==null?void 0:q.cancelButton,(y=b==null?void 0:b.classNames)==null?void 0:y.cancelButton)},b.cancel.label):null,Pe.isValidElement(b.action)?b.action:b.action&&nd(b.action)?Pe.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||de,onClick:qe=>{var wt,Ee;nd(b.action)&&(qe.defaultPrevented||((Ee=(wt=b.action).onClick)==null||Ee.call(wt,qe),Se()))},className:ce(q==null?void 0:q.actionButton,(w=b==null?void 0:b.classNames)==null?void 0:w.actionButton)},b.action.label):null))};function Ry(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var QI=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:c,className:h,offset:g,theme:x="light",richColors:y,duration:w,style:C,visibleToasts:b=zI,toastOptions:R,dir:O=Ry(),gap:_=GI,loadingIcon:B,icons:M,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:k,cn:U=KI}=e,[$,J]=Pe.useState([]),Y=Pe.useMemo(()=>Array.from(new Set([n].concat($.filter(ne=>ne.position).map(ne=>ne.position)))),[$,n]),[Z,X]=Pe.useState([]),[de,xe]=Pe.useState(!1),[ae,ye]=Pe.useState(!1),[pe,te]=Pe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),we=Pe.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=Pe.useRef(null),G=Pe.useRef(!1),Q=Pe.useCallback(ne=>{var ce;(ce=$.find(ge=>ge.id===ne.id))!=null&&ce.delete||Fr.dismiss(ne.id),J(ge=>ge.filter(({id:Ne})=>Ne!==ne.id))},[$]);return Pe.useEffect(()=>Fr.subscribe(ne=>{if(ne.dismiss){J(ce=>ce.map(ge=>ge.id===ne.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{dw.flushSync(()=>{J(ce=>{let ge=ce.findIndex(Ne=>Ne.id===ne.id);return ge!==-1?[...ce.slice(0,ge),{...ce[ge],...ne},...ce.slice(ge+1)]:[ne,...ce]})})})}),[]),Pe.useEffect(()=>{if(x!=="system"){te(x);return}x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ne})=>{te(ne?"dark":"light")})},[x]),Pe.useEffect(()=>{$.length<=1&&xe(!1)},[$]),Pe.useEffect(()=>{let ne=ce=>{var ge,Ne;r.every(ot=>ce[ot]||ce.code===ot)&&(xe(!0),(ge=we.current)==null||ge.focus()),ce.code==="Escape"&&(document.activeElement===we.current||(Ne=we.current)!=null&&Ne.contains(document.activeElement))&&xe(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[r]),Pe.useEffect(()=>{if(we.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,G.current=!1)}},[we.current]),$.length?Pe.createElement("section",{"aria-label":`${I} ${le}`,tabIndex:-1},Y.map((ne,ce)=>{var ge;let[Ne,ot]=ne.split("-");return Pe.createElement("ol",{key:ne,dir:O==="auto"?Ry():O,tabIndex:-1,ref:we,className:h,"data-sonner-toaster":!0,"data-theme":pe,"data-y-position":Ne,"data-x-position":ot,style:{"--front-toast-height":`${((ge=Z[0])==null?void 0:ge.height)||0}px`,"--offset":typeof g=="number"?`${g}px`:g||HI,"--width":`${WI}px`,"--gap":`${_}px`,...C},onBlur:he=>{G.current&&!he.currentTarget.contains(he.relatedTarget)&&(G.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||G.current||(G.current=!0,q.current=he.relatedTarget)},onMouseEnter:()=>xe(!0),onMouseMove:()=>xe(!0),onMouseLeave:()=>{ae||xe(!1)},onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||ye(!0)},onPointerUp:()=>ye(!1)},$.filter(he=>!he.position&&ce===0||he.position===ne).map((he,Oe)=>{var Be,Te;return Pe.createElement(XI,{key:he.id,icons:M,index:Oe,toast:he,defaultRichColors:y,duration:(Be=R==null?void 0:R.duration)!=null?Be:w,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:t,visibleToasts:b,closeButton:(Te=R==null?void 0:R.closeButton)!=null?Te:c,interacting:ae,position:ne,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,removeToast:Q,toasts:$.filter(tt=>tt.position==he.position),heights:Z.filter(tt=>tt.position==he.position),setHeights:X,expandByDefault:s,gap:_,loadingIcon:B,expanded:de,pauseWhenPageIsHidden:k,cn:U})}))})):null};const qI=({...e})=>{const{theme:t="system"}=TI();return S.jsx(QI,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var ZI=lv.useId||(()=>{}),JI=0;function Mi(e){const[t,n]=A.useState(ZI());return zn(()=>{n(r=>r??String(JI++))},[e]),t?`radix-${t}`:""}const eR=["top","right","bottom","left"],ms=Math.min,zr=Math.max,cf=Math.round,rd=Math.floor,ys=e=>({x:e,y:e}),tR={left:"right",right:"left",bottom:"top",top:"bottom"},nR={start:"end",end:"start"};function C1(e,t,n){return zr(e,ms(t,n))}function Ro(e,t){return typeof e=="function"?e(t):e}function No(e){return e.split("-")[0]}function Bl(e){return e.split("-")[1]}function dg(e){return e==="x"?"y":"x"}function fg(e){return e==="y"?"height":"width"}function xs(e){return["top","bottom"].includes(No(e))?"y":"x"}function hg(e){return dg(xs(e))}function rR(e,t,n){n===void 0&&(n=!1);const r=Bl(e),s=hg(e),c=fg(s);let h=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(h=uf(h)),[h,uf(h)]}function iR(e){const t=uf(e);return[b1(e),t,b1(t)]}function b1(e){return e.replace(/start|end/g,t=>nR[t])}function oR(e,t,n){const r=["left","right"],s=["right","left"],c=["top","bottom"],h=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?c:h;default:return[]}}function sR(e,t,n,r){const s=Bl(e);let c=oR(No(e),n==="start",r);return s&&(c=c.map(h=>h+"-"+s),t&&(c=c.concat(c.map(b1)))),c}function uf(e){return e.replace(/left|right|bottom|top/g,t=>tR[t])}function aR(e){return{top:0,right:0,bottom:0,left:0,...e}}function sC(e){return typeof e!="number"?aR(e):{top:e,right:e,bottom:e,left:e}}function df(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ny(e,t,n){let{reference:r,floating:s}=e;const c=xs(t),h=hg(t),g=fg(h),x=No(t),y=c==="y",w=r.x+r.width/2-s.width/2,C=r.y+r.height/2-s.height/2,b=r[g]/2-s[g]/2;let R;switch(x){case"top":R={x:w,y:r.y-s.height};break;case"bottom":R={x:w,y:r.y+r.height};break;case"right":R={x:r.x+r.width,y:C};break;case"left":R={x:r.x-s.width,y:C};break;default:R={x:r.x,y:r.y}}switch(Bl(t)){case"start":R[h]-=b*(n&&y?-1:1);break;case"end":R[h]+=b*(n&&y?-1:1);break}return R}const lR=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:c=[],platform:h}=n,g=c.filter(Boolean),x=await(h.isRTL==null?void 0:h.isRTL(t));let y=await h.getElementRects({reference:e,floating:t,strategy:s}),{x:w,y:C}=Ny(y,r,x),b=r,R={},O=0;for(let _=0;_<g.length;_++){const{name:B,fn:M}=g[_],{x:I,y:k,data:U,reset:$}=await M({x:w,y:C,initialPlacement:r,placement:b,strategy:s,middlewareData:R,rects:y,platform:h,elements:{reference:e,floating:t}});w=I??w,C=k??C,R={...R,[B]:{...R[B],...U}},$&&O<=50&&(O++,typeof $=="object"&&($.placement&&(b=$.placement),$.rects&&(y=$.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:s}):$.rects),{x:w,y:C}=Ny(y,b,x)),_=-1)}return{x:w,y:C,placement:b,strategy:s,middlewareData:R}};async function eu(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:c,rects:h,elements:g,strategy:x}=e,{boundary:y="clippingAncestors",rootBoundary:w="viewport",elementContext:C="floating",altBoundary:b=!1,padding:R=0}=Ro(t,e),O=sC(R),B=g[b?C==="floating"?"reference":"floating":C],M=df(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(B)))==null||n?B:B.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(g.floating)),boundary:y,rootBoundary:w,strategy:x})),I=C==="floating"?{x:r,y:s,width:h.floating.width,height:h.floating.height}:h.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g.floating)),U=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},$=df(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:I,offsetParent:k,strategy:x}):I);return{top:(M.top-$.top+O.top)/U.y,bottom:($.bottom-M.bottom+O.bottom)/U.y,left:(M.left-$.left+O.left)/U.x,right:($.right-M.right+O.right)/U.x}}const cR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:c,platform:h,elements:g,middlewareData:x}=t,{element:y,padding:w=0}=Ro(e,t)||{};if(y==null)return{};const C=sC(w),b={x:n,y:r},R=hg(s),O=fg(R),_=await h.getDimensions(y),B=R==="y",M=B?"top":"left",I=B?"bottom":"right",k=B?"clientHeight":"clientWidth",U=c.reference[O]+c.reference[R]-b[R]-c.floating[O],$=b[R]-c.reference[R],J=await(h.getOffsetParent==null?void 0:h.getOffsetParent(y));let Y=J?J[k]:0;(!Y||!await(h.isElement==null?void 0:h.isElement(J)))&&(Y=g.floating[k]||c.floating[O]);const Z=U/2-$/2,X=Y/2-_[O]/2-1,de=ms(C[M],X),xe=ms(C[I],X),ae=de,ye=Y-_[O]-xe,pe=Y/2-_[O]/2+Z,te=C1(ae,pe,ye),we=!x.arrow&&Bl(s)!=null&&pe!==te&&c.reference[O]/2-(pe<ae?de:xe)-_[O]/2<0,le=we?pe<ae?pe-ae:pe-ye:0;return{[R]:b[R]+le,data:{[R]:te,centerOffset:pe-te-le,...we&&{alignmentOffset:le}},reset:we}}}),uR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:c,rects:h,initialPlacement:g,platform:x,elements:y}=t,{mainAxis:w=!0,crossAxis:C=!0,fallbackPlacements:b,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:_=!0,...B}=Ro(e,t);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const M=No(s),I=xs(g),k=No(g)===g,U=await(x.isRTL==null?void 0:x.isRTL(y.floating)),$=b||(k||!_?[uf(g)]:iR(g)),J=O!=="none";!b&&J&&$.push(...sR(g,_,O,U));const Y=[g,...$],Z=await eu(t,B),X=[];let de=((r=c.flip)==null?void 0:r.overflows)||[];if(w&&X.push(Z[M]),C){const pe=rR(s,h,U);X.push(Z[pe[0]],Z[pe[1]])}if(de=[...de,{placement:s,overflows:X}],!X.every(pe=>pe<=0)){var xe,ae;const pe=(((xe=c.flip)==null?void 0:xe.index)||0)+1,te=Y[pe];if(te)return{data:{index:pe,overflows:de},reset:{placement:te}};let we=(ae=de.filter(le=>le.overflows[0]<=0).sort((le,q)=>le.overflows[1]-q.overflows[1])[0])==null?void 0:ae.placement;if(!we)switch(R){case"bestFit":{var ye;const le=(ye=de.filter(q=>{if(J){const G=xs(q.placement);return G===I||G==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(G=>G>0).reduce((G,Q)=>G+Q,0)]).sort((q,G)=>q[1]-G[1])[0])==null?void 0:ye[0];le&&(we=le);break}case"initialPlacement":we=g;break}if(s!==we)return{reset:{placement:we}}}return{}}}};function My(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Oy(e){return eR.some(t=>e[t]>=0)}const dR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ro(e,t);switch(r){case"referenceHidden":{const c=await eu(t,{...s,elementContext:"reference"}),h=My(c,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Oy(h)}}}case"escaped":{const c=await eu(t,{...s,altBoundary:!0}),h=My(c,n.floating);return{data:{escapedOffsets:h,escaped:Oy(h)}}}default:return{}}}}};async function fR(e,t){const{placement:n,platform:r,elements:s}=e,c=await(r.isRTL==null?void 0:r.isRTL(s.floating)),h=No(n),g=Bl(n),x=xs(n)==="y",y=["left","top"].includes(h)?-1:1,w=c&&x?-1:1,C=Ro(t,e);let{mainAxis:b,crossAxis:R,alignmentAxis:O}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:C.mainAxis||0,crossAxis:C.crossAxis||0,alignmentAxis:C.alignmentAxis};return g&&typeof O=="number"&&(R=g==="end"?O*-1:O),x?{x:R*w,y:b*y}:{x:b*y,y:R*w}}const hR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:c,placement:h,middlewareData:g}=t,x=await fR(t,e);return h===((n=g.offset)==null?void 0:n.placement)&&(r=g.arrow)!=null&&r.alignmentOffset?{}:{x:s+x.x,y:c+x.y,data:{...x,placement:h}}}}},pR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:c=!0,crossAxis:h=!1,limiter:g={fn:B=>{let{x:M,y:I}=B;return{x:M,y:I}}},...x}=Ro(e,t),y={x:n,y:r},w=await eu(t,x),C=xs(No(s)),b=dg(C);let R=y[b],O=y[C];if(c){const B=b==="y"?"top":"left",M=b==="y"?"bottom":"right",I=R+w[B],k=R-w[M];R=C1(I,R,k)}if(h){const B=C==="y"?"top":"left",M=C==="y"?"bottom":"right",I=O+w[B],k=O-w[M];O=C1(I,O,k)}const _=g.fn({...t,[b]:R,[C]:O});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[b]:c,[C]:h}}}}}},gR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:c,middlewareData:h}=t,{offset:g=0,mainAxis:x=!0,crossAxis:y=!0}=Ro(e,t),w={x:n,y:r},C=xs(s),b=dg(C);let R=w[b],O=w[C];const _=Ro(g,t),B=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(x){const k=b==="y"?"height":"width",U=c.reference[b]-c.floating[k]+B.mainAxis,$=c.reference[b]+c.reference[k]-B.mainAxis;R<U?R=U:R>$&&(R=$)}if(y){var M,I;const k=b==="y"?"width":"height",U=["top","left"].includes(No(s)),$=c.reference[C]-c.floating[k]+(U&&((M=h.offset)==null?void 0:M[C])||0)+(U?0:B.crossAxis),J=c.reference[C]+c.reference[k]+(U?0:((I=h.offset)==null?void 0:I[C])||0)-(U?B.crossAxis:0);O<$?O=$:O>J&&(O=J)}return{[b]:R,[C]:O}}}},mR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:c,platform:h,elements:g}=t,{apply:x=()=>{},...y}=Ro(e,t),w=await eu(t,y),C=No(s),b=Bl(s),R=xs(s)==="y",{width:O,height:_}=c.floating;let B,M;C==="top"||C==="bottom"?(B=C,M=b===(await(h.isRTL==null?void 0:h.isRTL(g.floating))?"start":"end")?"left":"right"):(M=C,B=b==="end"?"top":"bottom");const I=_-w.top-w.bottom,k=O-w.left-w.right,U=ms(_-w[B],I),$=ms(O-w[M],k),J=!t.middlewareData.shift;let Y=U,Z=$;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Z=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(Y=I),J&&!b){const de=zr(w.left,0),xe=zr(w.right,0),ae=zr(w.top,0),ye=zr(w.bottom,0);R?Z=O-2*(de!==0||xe!==0?de+xe:zr(w.left,w.right)):Y=_-2*(ae!==0||ye!==0?ae+ye:zr(w.top,w.bottom))}await x({...t,availableWidth:Z,availableHeight:Y});const X=await h.getDimensions(g.floating);return O!==X.width||_!==X.height?{reset:{rects:!0}}:{}}}};function Zf(){return typeof window<"u"}function jl(e){return aC(e)?(e.nodeName||"").toLowerCase():"#document"}function Gr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function io(e){var t;return(t=(aC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function aC(e){return Zf()?e instanceof Node||e instanceof Gr(e).Node:!1}function Di(e){return Zf()?e instanceof Element||e instanceof Gr(e).Element:!1}function ro(e){return Zf()?e instanceof HTMLElement||e instanceof Gr(e).HTMLElement:!1}function Dy(e){return!Zf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gr(e).ShadowRoot}function bu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ki(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function yR(e){return["table","td","th"].includes(jl(e))}function Jf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pg(e){const t=gg(),n=Di(e)?ki(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xR(e){let t=vs(e);for(;ro(t)&&!_l(t);){if(pg(t))return t;if(Jf(t))return null;t=vs(t)}return null}function gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _l(e){return["html","body","#document"].includes(jl(e))}function ki(e){return Gr(e).getComputedStyle(e)}function eh(e){return Di(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vs(e){if(jl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dy(e)&&e.host||io(e);return Dy(t)?t.host:t}function lC(e){const t=vs(e);return _l(t)?e.ownerDocument?e.ownerDocument.body:e.body:ro(t)&&bu(t)?t:lC(t)}function tu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=lC(e),c=s===((r=e.ownerDocument)==null?void 0:r.body),h=Gr(s);if(c){const g=E1(h);return t.concat(h,h.visualViewport||[],bu(s)?s:[],g&&n?tu(g):[])}return t.concat(s,tu(s,[],n))}function E1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cC(e){const t=ki(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ro(e),c=s?e.offsetWidth:n,h=s?e.offsetHeight:r,g=cf(n)!==c||cf(r)!==h;return g&&(n=c,r=h),{width:n,height:r,$:g}}function mg(e){return Di(e)?e:e.contextElement}function ll(e){const t=mg(e);if(!ro(t))return ys(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:c}=cC(t);let h=(c?cf(n.width):n.width)/r,g=(c?cf(n.height):n.height)/s;return(!h||!Number.isFinite(h))&&(h=1),(!g||!Number.isFinite(g))&&(g=1),{x:h,y:g}}const vR=ys(0);function uC(e){const t=Gr(e);return!gg()||!t.visualViewport?vR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gr(e)?!1:t}function aa(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),c=mg(e);let h=ys(1);t&&(r?Di(r)&&(h=ll(r)):h=ll(e));const g=wR(c,n,r)?uC(c):ys(0);let x=(s.left+g.x)/h.x,y=(s.top+g.y)/h.y,w=s.width/h.x,C=s.height/h.y;if(c){const b=Gr(c),R=r&&Di(r)?Gr(r):r;let O=b,_=E1(O);for(;_&&r&&R!==O;){const B=ll(_),M=_.getBoundingClientRect(),I=ki(_),k=M.left+(_.clientLeft+parseFloat(I.paddingLeft))*B.x,U=M.top+(_.clientTop+parseFloat(I.paddingTop))*B.y;x*=B.x,y*=B.y,w*=B.x,C*=B.y,x+=k,y+=U,O=Gr(_),_=E1(O)}}return df({width:w,height:C,x,y})}function CR(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const c=s==="fixed",h=io(r),g=t?Jf(t.floating):!1;if(r===h||g&&c)return n;let x={scrollLeft:0,scrollTop:0},y=ys(1);const w=ys(0),C=ro(r);if((C||!C&&!c)&&((jl(r)!=="body"||bu(h))&&(x=eh(r)),ro(r))){const b=aa(r);y=ll(r),w.x=b.x+r.clientLeft,w.y=b.y+r.clientTop}return{width:n.width*y.x,height:n.height*y.y,x:n.x*y.x-x.scrollLeft*y.x+w.x,y:n.y*y.y-x.scrollTop*y.y+w.y}}function bR(e){return Array.from(e.getClientRects())}function S1(e,t){const n=eh(e).scrollLeft;return t?t.left+n:aa(io(e)).left+n}function ER(e){const t=io(e),n=eh(e),r=e.ownerDocument.body,s=zr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),c=zr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let h=-n.scrollLeft+S1(e);const g=-n.scrollTop;return ki(r).direction==="rtl"&&(h+=zr(t.clientWidth,r.clientWidth)-s),{width:s,height:c,x:h,y:g}}function SR(e,t){const n=Gr(e),r=io(e),s=n.visualViewport;let c=r.clientWidth,h=r.clientHeight,g=0,x=0;if(s){c=s.width,h=s.height;const y=gg();(!y||y&&t==="fixed")&&(g=s.offsetLeft,x=s.offsetTop)}return{width:c,height:h,x:g,y:x}}function AR(e,t){const n=aa(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,c=ro(e)?ll(e):ys(1),h=e.clientWidth*c.x,g=e.clientHeight*c.y,x=s*c.x,y=r*c.y;return{width:h,height:g,x,y}}function ky(e,t,n){let r;if(t==="viewport")r=SR(e,n);else if(t==="document")r=ER(io(e));else if(Di(t))r=AR(t,n);else{const s=uC(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return df(r)}function dC(e,t){const n=vs(e);return n===t||!Di(n)||_l(n)?!1:ki(n).position==="fixed"||dC(n,t)}function TR(e,t){const n=t.get(e);if(n)return n;let r=tu(e,[],!1).filter(g=>Di(g)&&jl(g)!=="body"),s=null;const c=ki(e).position==="fixed";let h=c?vs(e):e;for(;Di(h)&&!_l(h);){const g=ki(h),x=pg(h);!x&&g.position==="fixed"&&(s=null),(c?!x&&!s:!x&&g.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bu(h)&&!x&&dC(e,h))?r=r.filter(w=>w!==h):s=g,h=vs(h)}return t.set(e,r),r}function _R(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const h=[...n==="clippingAncestors"?Jf(t)?[]:TR(t,this._c):[].concat(n),r],g=h[0],x=h.reduce((y,w)=>{const C=ky(t,w,s);return y.top=zr(C.top,y.top),y.right=ms(C.right,y.right),y.bottom=ms(C.bottom,y.bottom),y.left=zr(C.left,y.left),y},ky(t,g,s));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function IR(e){const{width:t,height:n}=cC(e);return{width:t,height:n}}function RR(e,t,n){const r=ro(t),s=io(t),c=n==="fixed",h=aa(e,!0,c,t);let g={scrollLeft:0,scrollTop:0};const x=ys(0);if(r||!r&&!c)if((jl(t)!=="body"||bu(s))&&(g=eh(t)),r){const R=aa(t,!0,c,t);x.x=R.x+t.clientLeft,x.y=R.y+t.clientTop}else s&&(x.x=S1(s));let y=0,w=0;if(s&&!r&&!c){const R=s.getBoundingClientRect();w=R.top+g.scrollTop,y=R.left+g.scrollLeft-S1(s,R)}const C=h.left+g.scrollLeft-x.x-y,b=h.top+g.scrollTop-x.y-w;return{x:C,y:b,width:h.width,height:h.height}}function i0(e){return ki(e).position==="static"}function Py(e,t){if(!ro(e)||ki(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return io(e)===n&&(n=n.ownerDocument.body),n}function fC(e,t){const n=Gr(e);if(Jf(e))return n;if(!ro(e)){let s=vs(e);for(;s&&!_l(s);){if(Di(s)&&!i0(s))return s;s=vs(s)}return n}let r=Py(e,t);for(;r&&yR(r)&&i0(r);)r=Py(r,t);return r&&_l(r)&&i0(r)&&!pg(r)?n:r||xR(e)||n}const NR=async function(e){const t=this.getOffsetParent||fC,n=this.getDimensions,r=await n(e.floating);return{reference:RR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MR(e){return ki(e).direction==="rtl"}const OR={convertOffsetParentRelativeRectToViewportRelativeRect:CR,getDocumentElement:io,getClippingRect:_R,getOffsetParent:fC,getElementRects:NR,getClientRects:bR,getDimensions:IR,getScale:ll,isElement:Di,isRTL:MR};function DR(e,t){let n=null,r;const s=io(e);function c(){var g;clearTimeout(r),(g=n)==null||g.disconnect(),n=null}function h(g,x){g===void 0&&(g=!1),x===void 0&&(x=1),c();const{left:y,top:w,width:C,height:b}=e.getBoundingClientRect();if(g||t(),!C||!b)return;const R=rd(w),O=rd(s.clientWidth-(y+C)),_=rd(s.clientHeight-(w+b)),B=rd(y),I={rootMargin:-R+"px "+-O+"px "+-_+"px "+-B+"px",threshold:zr(0,ms(1,x))||1};let k=!0;function U($){const J=$[0].intersectionRatio;if(J!==x){if(!k)return h();J?h(!1,J):r=setTimeout(()=>{h(!1,1e-7)},1e3)}k=!1}try{n=new IntersectionObserver(U,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(U,I)}n.observe(e)}return h(!0),c}function kR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:x=!1}=r,y=mg(e),w=s||c?[...y?tu(y):[],...tu(t)]:[];w.forEach(M=>{s&&M.addEventListener("scroll",n,{passive:!0}),c&&M.addEventListener("resize",n)});const C=y&&g?DR(y,n):null;let b=-1,R=null;h&&(R=new ResizeObserver(M=>{let[I]=M;I&&I.target===y&&R&&(R.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=R)==null||k.observe(t)})),n()}),y&&!x&&R.observe(y),R.observe(t));let O,_=x?aa(e):null;x&&B();function B(){const M=aa(e);_&&(M.x!==_.x||M.y!==_.y||M.width!==_.width||M.height!==_.height)&&n(),_=M,O=requestAnimationFrame(B)}return n(),()=>{var M;w.forEach(I=>{s&&I.removeEventListener("scroll",n),c&&I.removeEventListener("resize",n)}),C==null||C(),(M=R)==null||M.disconnect(),R=null,x&&cancelAnimationFrame(O)}}const PR=hR,LR=pR,BR=uR,jR=mR,FR=dR,Ly=cR,UR=gR,zR=(e,t,n)=>{const r=new Map,s={platform:OR,...n},c={...s.platform,_c:r};return lR(e,t,{...s,platform:c})};var _d=typeof document<"u"?A.useLayoutEffect:A.useEffect;function ff(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ff(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const c=s[r];if(!(c==="_owner"&&e.$$typeof)&&!ff(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function hC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function By(e,t){const n=hC(e);return Math.round(t*n)/n}function o0(e){const t=A.useRef(e);return _d(()=>{t.current=e}),t}function HR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:c,floating:h}={},transform:g=!0,whileElementsMounted:x,open:y}=e,[w,C]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,R]=A.useState(r);ff(b,r)||R(r);const[O,_]=A.useState(null),[B,M]=A.useState(null),I=A.useCallback(q=>{q!==J.current&&(J.current=q,_(q))},[]),k=A.useCallback(q=>{q!==Y.current&&(Y.current=q,M(q))},[]),U=c||O,$=h||B,J=A.useRef(null),Y=A.useRef(null),Z=A.useRef(w),X=x!=null,de=o0(x),xe=o0(s),ae=o0(y),ye=A.useCallback(()=>{if(!J.current||!Y.current)return;const q={placement:t,strategy:n,middleware:b};xe.current&&(q.platform=xe.current),zR(J.current,Y.current,q).then(G=>{const Q={...G,isPositioned:ae.current!==!1};pe.current&&!ff(Z.current,Q)&&(Z.current=Q,ha.flushSync(()=>{C(Q)}))})},[b,t,n,xe,ae]);_d(()=>{y===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,C(q=>({...q,isPositioned:!1})))},[y]);const pe=A.useRef(!1);_d(()=>(pe.current=!0,()=>{pe.current=!1}),[]),_d(()=>{if(U&&(J.current=U),$&&(Y.current=$),U&&$){if(de.current)return de.current(U,$,ye);ye()}},[U,$,ye,de,X]);const te=A.useMemo(()=>({reference:J,floating:Y,setReference:I,setFloating:k}),[I,k]),we=A.useMemo(()=>({reference:U,floating:$}),[U,$]),le=A.useMemo(()=>{const q={position:n,left:0,top:0};if(!we.floating)return q;const G=By(we.floating,w.x),Q=By(we.floating,w.y);return g?{...q,transform:"translate("+G+"px, "+Q+"px)",...hC(we.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:Q}},[n,g,we.floating,w.x,w.y]);return A.useMemo(()=>({...w,update:ye,refs:te,elements:we,floatingStyles:le}),[w,ye,te,we,le])}const VR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ly({element:r.current,padding:s}).fn(n):{}:r?Ly({element:r,padding:s}).fn(n):{}}}},WR=(e,t)=>({...PR(e),options:[e,t]}),GR=(e,t)=>({...LR(e),options:[e,t]}),YR=(e,t)=>({...UR(e),options:[e,t]}),$R=(e,t)=>({...BR(e),options:[e,t]}),KR=(e,t)=>({...jR(e),options:[e,t]}),XR=(e,t)=>({...FR(e),options:[e,t]}),QR=(e,t)=>({...VR(e),options:[e,t]});var qR="Arrow",pC=A.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...c}=e;return S.jsx(rt.svg,{...c,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});pC.displayName=qR;var ZR=pC;function JR(e,t=[]){let n=[];function r(c,h){const g=A.createContext(h),x=n.length;n=[...n,h];function y(C){const{scope:b,children:R,...O}=C,_=(b==null?void 0:b[e][x])||g,B=A.useMemo(()=>O,Object.values(O));return S.jsx(_.Provider,{value:B,children:R})}function w(C,b){const R=(b==null?void 0:b[e][x])||g,O=A.useContext(R);if(O)return O;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${c}\``)}return y.displayName=c+"Provider",[y,w]}const s=()=>{const c=n.map(h=>A.createContext(h));return function(g){const x=(g==null?void 0:g[e])||c;return A.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return s.scopeName=e,[r,eN(s,...t)]}function eN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const h=r.reduce((g,{useScope:x,scopeName:y})=>{const C=x(c)[`__scope${y}`];return{...g,...C}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}function gC(e){const[t,n]=A.useState(void 0);return zn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const c=s[0];let h,g;if("borderBoxSize"in c){const x=c.borderBoxSize,y=Array.isArray(x)?x[0]:x;h=y.inlineSize,g=y.blockSize}else h=e.offsetWidth,g=e.offsetHeight;n({width:h,height:g})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var yg="Popper",[mC,Fl]=JR(yg),[tN,yC]=mC(yg),xC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=A.useState(null);return S.jsx(tN,{scope:t,anchor:r,onAnchorChange:s,children:n})};xC.displayName=yg;var vC="PopperAnchor",wC=A.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,c=yC(vC,n),h=A.useRef(null),g=gt(t,h);return A.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||h.current)}),r?null:S.jsx(rt.div,{...s,ref:g})});wC.displayName=vC;var xg="PopperContent",[nN,rN]=mC(xg),CC=A.forwardRef((e,t)=>{var Oe,Be,Te,tt,Xe,Ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:c="center",alignOffset:h=0,arrowPadding:g=0,avoidCollisions:x=!0,collisionBoundary:y=[],collisionPadding:w=0,sticky:C="partial",hideWhenDetached:b=!1,updatePositionStrategy:R="optimized",onPlaced:O,..._}=e,B=yC(xg,n),[M,I]=A.useState(null),k=gt(t,Ce=>I(Ce)),[U,$]=A.useState(null),J=gC(U),Y=(J==null?void 0:J.width)??0,Z=(J==null?void 0:J.height)??0,X=r+(c!=="center"?"-"+c:""),de=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},xe=Array.isArray(y)?y:[y],ae=xe.length>0,ye={padding:de,boundary:xe.filter(oN),altBoundary:ae},{refs:pe,floatingStyles:te,placement:we,isPositioned:le,middlewareData:q}=HR({strategy:"fixed",placement:X,whileElementsMounted:(...Ce)=>kR(...Ce,{animationFrame:R==="always"}),elements:{reference:B.anchor},middleware:[WR({mainAxis:s+Z,alignmentAxis:h}),x&&GR({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?YR():void 0,...ye}),x&&$R({...ye}),KR({...ye,apply:({elements:Ce,rects:ze,availableWidth:Ye,availableHeight:nt})=>{const{width:it,height:He}=ze.reference,Ge=Ce.floating.style;Ge.setProperty("--radix-popper-available-width",`${Ye}px`),Ge.setProperty("--radix-popper-available-height",`${nt}px`),Ge.setProperty("--radix-popper-anchor-width",`${it}px`),Ge.setProperty("--radix-popper-anchor-height",`${He}px`)}}),U&&QR({element:U,padding:g}),sN({arrowWidth:Y,arrowHeight:Z}),b&&XR({strategy:"referenceHidden",...ye})]}),[G,Q]=SC(we),ne=on(O);zn(()=>{le&&(ne==null||ne())},[le,ne]);const ce=(Oe=q.arrow)==null?void 0:Oe.x,ge=(Be=q.arrow)==null?void 0:Be.y,Ne=((Te=q.arrow)==null?void 0:Te.centerOffset)!==0,[ot,he]=A.useState();return zn(()=>{M&&he(window.getComputedStyle(M).zIndex)},[M]),S.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:le?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[(tt=q.transformOrigin)==null?void 0:tt.x,(Xe=q.transformOrigin)==null?void 0:Xe.y].join(" "),...((Ue=q.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:S.jsx(nN,{scope:n,placedSide:G,onArrowChange:$,arrowX:ce,arrowY:ge,shouldHideArrow:Ne,children:S.jsx(rt.div,{"data-side":G,"data-align":Q,..._,ref:k,style:{..._.style,animation:le?void 0:"none"}})})})});CC.displayName=xg;var bC="PopperArrow",iN={top:"bottom",right:"left",bottom:"top",left:"right"},EC=A.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,c=rN(bC,r),h=iN[c.placedSide];return S.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:S.jsx(ZR,{...s,ref:n,style:{...s.style,display:"block"}})})});EC.displayName=bC;function oN(e){return e!==null}var sN=e=>({name:"transformOrigin",options:e,fn(t){var B,M,I;const{placement:n,rects:r,middlewareData:s}=t,h=((B=s.arrow)==null?void 0:B.centerOffset)!==0,g=h?0:e.arrowWidth,x=h?0:e.arrowHeight,[y,w]=SC(n),C={start:"0%",center:"50%",end:"100%"}[w],b=(((M=s.arrow)==null?void 0:M.x)??0)+g/2,R=(((I=s.arrow)==null?void 0:I.y)??0)+x/2;let O="",_="";return y==="bottom"?(O=h?C:`${b}px`,_=`${-x}px`):y==="top"?(O=h?C:`${b}px`,_=`${r.floating.height+x}px`):y==="right"?(O=`${-x}px`,_=h?C:`${R}px`):y==="left"&&(O=`${r.floating.width+x}px`,_=h?C:`${R}px`),{data:{x:O,y:_}}}});function SC(e){const[t,n="center"]=e.split("-");return[t,n]}var vg=xC,wg=wC,Cg=CC,bg=EC,[th,o7]=Oo("Tooltip",[Fl]),nh=Fl(),AC="TooltipProvider",aN=700,A1="tooltip.open",[lN,Eg]=th(AC),TC=e=>{const{__scopeTooltip:t,delayDuration:n=aN,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:c}=e,[h,g]=A.useState(!0),x=A.useRef(!1),y=A.useRef(0);return A.useEffect(()=>{const w=y.current;return()=>window.clearTimeout(w)},[]),S.jsx(lN,{scope:t,isOpenDelayed:h,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(y.current),g(!1)},[]),onClose:A.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>g(!0),r)},[r]),isPointerInTransitRef:x,onPointerInTransitChange:A.useCallback(w=>{x.current=w},[]),disableHoverableContent:s,children:c})};TC.displayName=AC;var rh="Tooltip",[cN,ih]=th(rh),_C=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:c,disableHoverableContent:h,delayDuration:g}=e,x=Eg(rh,e.__scopeTooltip),y=nh(t),[w,C]=A.useState(null),b=Mi(),R=A.useRef(0),O=h??x.disableHoverableContent,_=g??x.delayDuration,B=A.useRef(!1),[M=!1,I]=Io({prop:r,defaultProp:s,onChange:Y=>{Y?(x.onOpen(),document.dispatchEvent(new CustomEvent(A1))):x.onClose(),c==null||c(Y)}}),k=A.useMemo(()=>M?B.current?"delayed-open":"instant-open":"closed",[M]),U=A.useCallback(()=>{window.clearTimeout(R.current),R.current=0,B.current=!1,I(!0)},[I]),$=A.useCallback(()=>{window.clearTimeout(R.current),R.current=0,I(!1)},[I]),J=A.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>{B.current=!0,I(!0),R.current=0},_)},[_,I]);return A.useEffect(()=>()=>{R.current&&(window.clearTimeout(R.current),R.current=0)},[]),S.jsx(vg,{...y,children:S.jsx(cN,{scope:t,contentId:b,open:M,stateAttribute:k,trigger:w,onTriggerChange:C,onTriggerEnter:A.useCallback(()=>{x.isOpenDelayed?J():U()},[x.isOpenDelayed,J,U]),onTriggerLeave:A.useCallback(()=>{O?$():(window.clearTimeout(R.current),R.current=0)},[$,O]),onOpen:U,onClose:$,disableHoverableContent:O,children:n})})};_C.displayName=rh;var T1="TooltipTrigger",IC=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=ih(T1,n),c=Eg(T1,n),h=nh(n),g=A.useRef(null),x=gt(t,g,s.onTriggerChange),y=A.useRef(!1),w=A.useRef(!1),C=A.useCallback(()=>y.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",C),[C]),S.jsx(wg,{asChild:!0,...h,children:S.jsx(rt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:x,onPointerMove:Le(e.onPointerMove,b=>{b.pointerType!=="touch"&&!w.current&&!c.isPointerInTransitRef.current&&(s.onTriggerEnter(),w.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{s.onTriggerLeave(),w.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{y.current=!0,document.addEventListener("pointerup",C,{once:!0})}),onFocus:Le(e.onFocus,()=>{y.current||s.onOpen()}),onBlur:Le(e.onBlur,s.onClose),onClick:Le(e.onClick,s.onClose)})})});IC.displayName=T1;var uN="TooltipPortal",[s7,dN]=th(uN,{forceMount:void 0}),Il="TooltipContent",RC=A.forwardRef((e,t)=>{const n=dN(Il,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...c}=e,h=ih(Il,e.__scopeTooltip);return S.jsx(vr,{present:r||h.open,children:h.disableHoverableContent?S.jsx(NC,{side:s,...c,ref:t}):S.jsx(fN,{side:s,...c,ref:t})})}),fN=A.forwardRef((e,t)=>{const n=ih(Il,e.__scopeTooltip),r=Eg(Il,e.__scopeTooltip),s=A.useRef(null),c=gt(t,s),[h,g]=A.useState(null),{trigger:x,onClose:y}=n,w=s.current,{onPointerInTransitChange:C}=r,b=A.useCallback(()=>{g(null),C(!1)},[C]),R=A.useCallback((O,_)=>{const B=O.currentTarget,M={x:O.clientX,y:O.clientY},I=mN(M,B.getBoundingClientRect()),k=yN(M,I),U=xN(_.getBoundingClientRect()),$=wN([...k,...U]);g($),C(!0)},[C]);return A.useEffect(()=>()=>b(),[b]),A.useEffect(()=>{if(x&&w){const O=B=>R(B,w),_=B=>R(B,x);return x.addEventListener("pointerleave",O),w.addEventListener("pointerleave",_),()=>{x.removeEventListener("pointerleave",O),w.removeEventListener("pointerleave",_)}}},[x,w,R,b]),A.useEffect(()=>{if(h){const O=_=>{const B=_.target,M={x:_.clientX,y:_.clientY},I=(x==null?void 0:x.contains(B))||(w==null?void 0:w.contains(B)),k=!vN(M,h);I?b():k&&(b(),y())};return document.addEventListener("pointermove",O),()=>document.removeEventListener("pointermove",O)}},[x,w,h,y,b]),S.jsx(NC,{...e,ref:c})}),[hN,pN]=th(rh,{isInside:!1}),NC=A.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:c,onPointerDownOutside:h,...g}=e,x=ih(Il,n),y=nh(n),{onClose:w}=x;return A.useEffect(()=>(document.addEventListener(A1,w),()=>document.removeEventListener(A1,w)),[w]),A.useEffect(()=>{if(x.trigger){const C=b=>{const R=b.target;R!=null&&R.contains(x.trigger)&&w()};return window.addEventListener("scroll",C,{capture:!0}),()=>window.removeEventListener("scroll",C,{capture:!0})}},[x.trigger,w]),S.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:C=>C.preventDefault(),onDismiss:w,children:S.jsxs(Cg,{"data-state":x.stateAttribute,...y,...g,ref:t,style:{...g.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(hw,{children:r}),S.jsx(hN,{scope:n,isInside:!0,children:S.jsx(g4,{id:x.contentId,role:"tooltip",children:s||r})})]})})});RC.displayName=Il;var MC="TooltipArrow",gN=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=nh(n);return pN(MC,n).isInside?null:S.jsx(bg,{...s,...r,ref:t})});gN.displayName=MC;function mN(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(n,r,s,c)){case c:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yN(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function xN(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function vN(e,t){const{x:n,y:r}=e;let s=!1;for(let c=0,h=t.length-1;c<t.length;h=c++){const g=t[c].x,x=t[c].y,y=t[h].x,w=t[h].y;x>r!=w>r&&n<(y-g)*(r-x)/(w-x)+g&&(s=!s)}return s}function wN(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),CN(t)}function CN(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const c=t[t.length-1],h=t[t.length-2];if((c.x-h.x)*(s.y-h.y)>=(c.y-h.y)*(s.x-h.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const c=n[n.length-1],h=n[n.length-2];if((c.x-h.x)*(s.y-h.y)>=(c.y-h.y)*(s.x-h.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var bN=TC,EN=_C,SN=IC,OC=RC;const AN=bN,_1=EN,I1=SN,hf=A.forwardRef(({className:e,sideOffset:t=4,...n},r)=>S.jsx(OC,{ref:r,sideOffset:t,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));hf.displayName=OC.displayName;var oh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sh=typeof window>"u"||"Deno"in globalThis;function Ei(){}function TN(e,t){return typeof e=="function"?e(t):e}function _N(e){return typeof e=="number"&&e>=0&&e!==1/0}function IN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function jy(e,t){return typeof e=="function"?e(t):e}function RN(e,t){return typeof e=="function"?e(t):e}function Fy(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:c,queryKey:h,stale:g}=e;if(h){if(r){if(t.queryHash!==Sg(h,t.options))return!1}else if(!ru(t.queryKey,h))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||s&&s!==t.state.fetchStatus||c&&!c(t))}function Uy(e,t){const{exact:n,status:r,predicate:s,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(n){if(nu(t.options.mutationKey)!==nu(c))return!1}else if(!ru(t.options.mutationKey,c))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Sg(e,t){return((t==null?void 0:t.queryKeyHashFn)||nu)(e)}function nu(e){return JSON.stringify(e,(t,n)=>R1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ru(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ru(e[n],t[n])):!1}function DC(e,t){if(e===t)return e;const n=zy(e)&&zy(t);if(n||R1(e)&&R1(t)){const r=n?e:Object.keys(e),s=r.length,c=n?t:Object.keys(t),h=c.length,g=n?[]:{};let x=0;for(let y=0;y<h;y++){const w=n?y:c[y];(!n&&r.includes(w)||n)&&e[w]===void 0&&t[w]===void 0?(g[w]=void 0,x++):(g[w]=DC(e[w],t[w]),g[w]===e[w]&&e[w]!==void 0&&x++)}return s===h&&x===s?e:g}return t}function zy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function R1(e){if(!Hy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Hy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hy(e){return Object.prototype.toString.call(e)==="[object Object]"}function NN(e){return new Promise(t=>{setTimeout(t,e)})}function MN(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?DC(e,t):t}function ON(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function DN(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ag=Symbol();function kC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ag?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qs,Qo,dl,Wx,kN=(Wx=class extends oh{constructor(){super();Nt(this,Qs);Nt(this,Qo);Nt(this,dl);ht(this,dl,t=>{if(!sh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ve(this,Qo)||this.setEventListener(ve(this,dl))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,Qo))==null||t.call(this),ht(this,Qo,void 0))}setEventListener(t){var n;ht(this,dl,t),(n=ve(this,Qo))==null||n.call(this),ht(this,Qo,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ve(this,Qs)!==t&&(ht(this,Qs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof ve(this,Qs)=="boolean"?ve(this,Qs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qs=new WeakMap,Qo=new WeakMap,dl=new WeakMap,Wx),PC=new kN,fl,qo,hl,Gx,PN=(Gx=class extends oh{constructor(){super();Nt(this,fl,!0);Nt(this,qo);Nt(this,hl);ht(this,hl,t=>{if(!sh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ve(this,qo)||this.setEventListener(ve(this,hl))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,qo))==null||t.call(this),ht(this,qo,void 0))}setEventListener(t){var n;ht(this,hl,t),(n=ve(this,qo))==null||n.call(this),ht(this,qo,t(this.setOnline.bind(this)))}setOnline(t){ve(this,fl)!==t&&(ht(this,fl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ve(this,fl)}},fl=new WeakMap,qo=new WeakMap,hl=new WeakMap,Gx),pf=new PN;function LN(){let e,t;const n=new Promise((s,c)=>{e=s,t=c});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function BN(e){return Math.min(1e3*2**e,3e4)}function LC(e){return(e??"online")==="online"?pf.isOnline():!0}var BC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function s0(e){return e instanceof BC}function jC(e){let t=!1,n=0,r=!1,s;const c=LN(),h=_=>{var B;r||(b(new BC(_)),(B=e.abort)==null||B.call(e))},g=()=>{t=!0},x=()=>{t=!1},y=()=>PC.isFocused()&&(e.networkMode==="always"||pf.isOnline())&&e.canRun(),w=()=>LC(e.networkMode)&&e.canRun(),C=_=>{var B;r||(r=!0,(B=e.onSuccess)==null||B.call(e,_),s==null||s(),c.resolve(_))},b=_=>{var B;r||(r=!0,(B=e.onError)==null||B.call(e,_),s==null||s(),c.reject(_))},R=()=>new Promise(_=>{var B;s=M=>{(r||y())&&_(M)},(B=e.onPause)==null||B.call(e)}).then(()=>{var _;s=void 0,r||(_=e.onContinue)==null||_.call(e)}),O=()=>{if(r)return;let _;const B=n===0?e.initialPromise:void 0;try{_=B??e.fn()}catch(M){_=Promise.reject(M)}Promise.resolve(_).then(C).catch(M=>{var J;if(r)return;const I=e.retry??(sh?0:3),k=e.retryDelay??BN,U=typeof k=="function"?k(n,M):k,$=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,M);if(t||!$){b(M);return}n++,(J=e.onFail)==null||J.call(e,n,M),NN(U).then(()=>y()?void 0:R()).then(()=>{t?b(M):O()})})};return{promise:c,cancel:h,continue:()=>(s==null||s(),c),cancelRetry:g,continueRetry:x,canStart:w,start:()=>(w()?O():R().then(O),c)}}function jN(){let e=[],t=0,n=g=>{g()},r=g=>{g()},s=g=>setTimeout(g,0);const c=g=>{t?e.push(g):s(()=>{n(g)})},h=()=>{const g=e;e=[],g.length&&s(()=>{r(()=>{g.forEach(x=>{n(x)})})})};return{batch:g=>{let x;t++;try{x=g()}finally{t--,t||h()}return x},batchCalls:g=>(...x)=>{c(()=>{g(...x)})},schedule:c,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{r=g},setScheduler:g=>{s=g}}}var pr=jN(),qs,Yx,FC=(Yx=class{constructor(){Nt(this,qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_N(this.gcTime)&&ht(this,qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sh?1/0:5*60*1e3))}clearGcTimeout(){ve(this,qs)&&(clearTimeout(ve(this,qs)),ht(this,qs,void 0))}},qs=new WeakMap,Yx),pl,gl,si,rr,hu,Zs,Si,mo,$x,FN=($x=class extends FC{constructor(t){super();Nt(this,Si);Nt(this,pl);Nt(this,gl);Nt(this,si);Nt(this,rr);Nt(this,hu);Nt(this,Zs);ht(this,Zs,!1),ht(this,hu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ht(this,si,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ht(this,pl,zN(this.options)),this.state=t.state??ve(this,pl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ve(this,rr))==null?void 0:t.promise}setOptions(t){this.options={...ve(this,hu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ve(this,si).remove(this)}setData(t,n){const r=MN(this.state.data,t,this.options);return er(this,Si,mo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){er(this,Si,mo).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=ve(this,rr))==null?void 0:r.promise;return(s=ve(this,rr))==null||s.cancel(t),n?n.then(Ei).catch(Ei):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ve(this,pl))}isActive(){return this.observers.some(t=>RN(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ag||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!IN(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=ve(this,rr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=ve(this,rr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ve(this,si).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(ve(this,rr)&&(ve(this,Zs)?ve(this,rr).cancel({revert:!0}):ve(this,rr).cancelRetry()),this.scheduleGc()),ve(this,si).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||er(this,Si,mo).call(this,{type:"invalidate"})}fetch(t,n){var x,y,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ve(this,rr))return ve(this,rr).continueRetry(),ve(this,rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(b=>b.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,s=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(ht(this,Zs,!0),r.signal)})},c=()=>{const C=kC(this.options,n),b={queryKey:this.queryKey,meta:this.meta};return s(b),ht(this,Zs,!1),this.options.persister?this.options.persister(C,b,this):C(b)},h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};s(h),(x=this.options.behavior)==null||x.onFetch(h,this),ht(this,gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=h.fetchOptions)==null?void 0:y.meta))&&er(this,Si,mo).call(this,{type:"fetch",meta:(w=h.fetchOptions)==null?void 0:w.meta});const g=C=>{var b,R,O,_;s0(C)&&C.silent||er(this,Si,mo).call(this,{type:"error",error:C}),s0(C)||((R=(b=ve(this,si).config).onError)==null||R.call(b,C,this),(_=(O=ve(this,si).config).onSettled)==null||_.call(O,this.state.data,C,this)),this.scheduleGc()};return ht(this,rr,jC({initialPromise:n==null?void 0:n.initialPromise,fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:C=>{var b,R,O,_;if(C===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(C)}catch(B){g(B);return}(R=(b=ve(this,si).config).onSuccess)==null||R.call(b,C,this),(_=(O=ve(this,si).config).onSettled)==null||_.call(O,C,this.state.error,this),this.scheduleGc()},onError:g,onFail:(C,b)=>{er(this,Si,mo).call(this,{type:"failed",failureCount:C,error:b})},onPause:()=>{er(this,Si,mo).call(this,{type:"pause"})},onContinue:()=>{er(this,Si,mo).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),ve(this,rr).start()}},pl=new WeakMap,gl=new WeakMap,si=new WeakMap,rr=new WeakMap,hu=new WeakMap,Zs=new WeakMap,Si=new WeakSet,mo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...UN(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return s0(s)&&s.revert&&ve(this,gl)?{...ve(this,gl),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),pr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ve(this,si).notify({query:this,type:"updated",action:t})})},$x);function UN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yi,Kx,HN=(Kx=class extends oh{constructor(t={}){super();Nt(this,Yi);this.config=t,ht(this,Yi,new Map)}build(t,n,r){const s=n.queryKey,c=n.queryHash??Sg(s,n);let h=this.get(c);return h||(h=new FN({cache:this,queryKey:s,queryHash:c,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(h)),h}add(t){ve(this,Yi).has(t.queryHash)||(ve(this,Yi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=ve(this,Yi).get(t.queryHash);n&&(t.destroy(),n===t&&ve(this,Yi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ve(this,Yi).get(t)}getAll(){return[...ve(this,Yi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Fy(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Fy(t,r)):n}notify(t){pr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yi=new WeakMap,Kx),$i,fr,Js,Ki,Wo,Xx,VN=(Xx=class extends FC{constructor(t){super();Nt(this,Ki);Nt(this,$i);Nt(this,fr);Nt(this,Js);this.mutationId=t.mutationId,ht(this,fr,t.mutationCache),ht(this,$i,[]),this.state=t.state||WN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ve(this,$i).includes(t)||(ve(this,$i).push(t),this.clearGcTimeout(),ve(this,fr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ht(this,$i,ve(this,$i).filter(n=>n!==t)),this.scheduleGc(),ve(this,fr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ve(this,$i).length||(this.state.status==="pending"?this.scheduleGc():ve(this,fr).remove(this))}continue(){var t;return((t=ve(this,Js))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,c,h,g,x,y,w,C,b,R,O,_,B,M,I,k,U,$,J,Y;ht(this,Js,jC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Z,X)=>{er(this,Ki,Wo).call(this,{type:"failed",failureCount:Z,error:X})},onPause:()=>{er(this,Ki,Wo).call(this,{type:"pause"})},onContinue:()=>{er(this,Ki,Wo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ve(this,fr).canRun(this)}));const n=this.state.status==="pending",r=!ve(this,Js).canStart();try{if(!n){er(this,Ki,Wo).call(this,{type:"pending",variables:t,isPaused:r}),await((c=(s=ve(this,fr).config).onMutate)==null?void 0:c.call(s,t,this));const X=await((g=(h=this.options).onMutate)==null?void 0:g.call(h,t));X!==this.state.context&&er(this,Ki,Wo).call(this,{type:"pending",context:X,variables:t,isPaused:r})}const Z=await ve(this,Js).start();return await((y=(x=ve(this,fr).config).onSuccess)==null?void 0:y.call(x,Z,t,this.state.context,this)),await((C=(w=this.options).onSuccess)==null?void 0:C.call(w,Z,t,this.state.context)),await((R=(b=ve(this,fr).config).onSettled)==null?void 0:R.call(b,Z,null,this.state.variables,this.state.context,this)),await((_=(O=this.options).onSettled)==null?void 0:_.call(O,Z,null,t,this.state.context)),er(this,Ki,Wo).call(this,{type:"success",data:Z}),Z}catch(Z){try{throw await((M=(B=ve(this,fr).config).onError)==null?void 0:M.call(B,Z,t,this.state.context,this)),await((k=(I=this.options).onError)==null?void 0:k.call(I,Z,t,this.state.context)),await(($=(U=ve(this,fr).config).onSettled)==null?void 0:$.call(U,void 0,Z,this.state.variables,this.state.context,this)),await((Y=(J=this.options).onSettled)==null?void 0:Y.call(J,void 0,Z,t,this.state.context)),Z}finally{er(this,Ki,Wo).call(this,{type:"error",error:Z})}}finally{ve(this,fr).runNext(this)}}},$i=new WeakMap,fr=new WeakMap,Js=new WeakMap,Ki=new WeakSet,Wo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pr.batch(()=>{ve(this,$i).forEach(r=>{r.onMutationUpdate(t)}),ve(this,fr).notify({mutation:this,type:"updated",action:t})})},Xx);function WN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,pu,Qx,GN=(Qx=class extends oh{constructor(t={}){super();Nt(this,jr);Nt(this,pu);this.config=t,ht(this,jr,new Map),ht(this,pu,Date.now())}build(t,n,r){const s=new VN({mutationCache:this,mutationId:++Lu(this,pu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=id(t),r=ve(this,jr).get(n)??[];r.push(t),ve(this,jr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=id(t);if(ve(this,jr).has(n)){const s=(r=ve(this,jr).get(n))==null?void 0:r.filter(c=>c!==t);s&&(s.length===0?ve(this,jr).delete(n):ve(this,jr).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=ve(this,jr).get(id(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=ve(this,jr).get(id(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ve(this,jr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Uy(n,r))}findAll(t={}){return this.getAll().filter(n=>Uy(t,n))}notify(t){pr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return pr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ei))))}},jr=new WeakMap,pu=new WeakMap,Qx);function id(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Vy(e){return{onFetch:(t,n)=>{var w,C,b,R,O;const r=t.options,s=(b=(C=(w=t.fetchOptions)==null?void 0:w.meta)==null?void 0:C.fetchMore)==null?void 0:b.direction,c=((R=t.state.data)==null?void 0:R.pages)||[],h=((O=t.state.data)==null?void 0:O.pageParams)||[];let g={pages:[],pageParams:[]},x=0;const y=async()=>{let _=!1;const B=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},M=kC(t.options,t.fetchOptions),I=async(k,U,$)=>{if(_)return Promise.reject();if(U==null&&k.pages.length)return Promise.resolve(k);const J={queryKey:t.queryKey,pageParam:U,direction:$?"backward":"forward",meta:t.options.meta};B(J);const Y=await M(J),{maxPages:Z}=t.options,X=$?DN:ON;return{pages:X(k.pages,Y,Z),pageParams:X(k.pageParams,U,Z)}};if(s&&c.length){const k=s==="backward",U=k?YN:Wy,$={pages:c,pageParams:h},J=U(r,$);g=await I($,J,k)}else{const k=e??c.length;do{const U=x===0?h[0]??r.initialPageParam:Wy(r,g);if(x>0&&U==null)break;g=await I(g,U),x++}while(x<k)}return g};t.options.persister?t.fetchFn=()=>{var _,B;return(B=(_=t.options).persister)==null?void 0:B.call(_,y,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=y}}}function Wy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function YN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var dn,Zo,Jo,ml,yl,es,xl,vl,qx,$N=(qx=class{constructor(e={}){Nt(this,dn);Nt(this,Zo);Nt(this,Jo);Nt(this,ml);Nt(this,yl);Nt(this,es);Nt(this,xl);Nt(this,vl);ht(this,dn,e.queryCache||new HN),ht(this,Zo,e.mutationCache||new GN),ht(this,Jo,e.defaultOptions||{}),ht(this,ml,new Map),ht(this,yl,new Map),ht(this,es,0)}mount(){Lu(this,es)._++,ve(this,es)===1&&(ht(this,xl,PC.subscribe(async e=>{e&&(await this.resumePausedMutations(),ve(this,dn).onFocus())})),ht(this,vl,pf.subscribe(async e=>{e&&(await this.resumePausedMutations(),ve(this,dn).onOnline())})))}unmount(){var e,t;Lu(this,es)._--,ve(this,es)===0&&((e=ve(this,xl))==null||e.call(this),ht(this,xl,void 0),(t=ve(this,vl))==null||t.call(this),ht(this,vl,void 0))}isFetching(e){return ve(this,dn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ve(this,Zo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ve(this,dn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=ve(this,dn).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(jy(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return ve(this,dn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=ve(this,dn).get(r.queryHash),c=s==null?void 0:s.state.data,h=TN(t,c);if(h!==void 0)return ve(this,dn).build(this,r).setData(h,{...n,manual:!0})}setQueriesData(e,t,n){return pr.batch(()=>ve(this,dn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=ve(this,dn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=ve(this,dn);pr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=ve(this,dn),r={type:"active",...e};return pr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=pr.batch(()=>ve(this,dn).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Ei).catch(Ei)}invalidateQueries(e={},t={}){return pr.batch(()=>{if(ve(this,dn).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=pr.batch(()=>ve(this,dn).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let c=s.fetch(void 0,n);return n.throwOnError||(c=c.catch(Ei)),s.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(r).then(Ei)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=ve(this,dn).build(this,t);return n.isStaleByTime(jy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ei).catch(Ei)}fetchInfiniteQuery(e){return e.behavior=Vy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ei).catch(Ei)}ensureInfiniteQueryData(e){return e.behavior=Vy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pf.isOnline()?ve(this,Zo).resumePausedMutations():Promise.resolve()}getQueryCache(){return ve(this,dn)}getMutationCache(){return ve(this,Zo)}getDefaultOptions(){return ve(this,Jo)}setDefaultOptions(e){ht(this,Jo,e)}setQueryDefaults(e,t){ve(this,ml).set(nu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ve(this,ml).values()];let n={};return t.forEach(r=>{ru(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){ve(this,yl).set(nu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ve(this,yl).values()];let n={};return t.forEach(r=>{ru(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ve(this,Jo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Sg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Ag&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ve(this,Jo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ve(this,dn).clear(),ve(this,Zo).clear()}},dn=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,ml=new WeakMap,yl=new WeakMap,es=new WeakMap,xl=new WeakMap,vl=new WeakMap,qx),KN=A.createContext(void 0),XN=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),S.jsx(KN.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(this,arguments)}var rs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rs||(rs={}));const Gy="popstate";function QN(e){e===void 0&&(e={});function t(r,s){let{pathname:c,search:h,hash:g}=r.location;return N1("",{pathname:c,search:h,hash:g},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:gf(s)}return ZN(t,n,null,e)}function Tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qN(){return Math.random().toString(36).substr(2,8)}function Yy(e,t){return{usr:e.state,key:e.key,idx:t}}function N1(e,t,n,r){return n===void 0&&(n=null),iu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ul(t):t,{state:n,key:t&&t.key||r||qN()})}function gf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ul(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZN(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:c=!1}=r,h=s.history,g=rs.Pop,x=null,y=w();y==null&&(y=0,h.replaceState(iu({},h.state,{idx:y}),""));function w(){return(h.state||{idx:null}).idx}function C(){g=rs.Pop;let B=w(),M=B==null?null:B-y;y=B,x&&x({action:g,location:_.location,delta:M})}function b(B,M){g=rs.Push;let I=N1(_.location,B,M);y=w()+1;let k=Yy(I,y),U=_.createHref(I);try{h.pushState(k,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(U)}c&&x&&x({action:g,location:_.location,delta:1})}function R(B,M){g=rs.Replace;let I=N1(_.location,B,M);y=w();let k=Yy(I,y),U=_.createHref(I);h.replaceState(k,"",U),c&&x&&x({action:g,location:_.location,delta:0})}function O(B){let M=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof B=="string"?B:gf(B);return I=I.replace(/ $/,"%20"),Tn(M,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,M)}let _={get action(){return g},get location(){return e(s,h)},listen(B){if(x)throw new Error("A history only accepts one active listener");return s.addEventListener(Gy,C),x=B,()=>{s.removeEventListener(Gy,C),x=null}},createHref(B){return t(s,B)},createURL:O,encodeLocation(B){let M=O(B);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:R,go(B){return h.go(B)}};return _}var $y;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($y||($y={}));function JN(e,t,n){return n===void 0&&(n="/"),e8(e,t,n,!1)}function e8(e,t,n,r){let s=typeof t=="string"?Ul(t):t,c=Tg(s.pathname||"/",n);if(c==null)return null;let h=zC(e);t8(h);let g=null;for(let x=0;g==null&&x<h.length;++x){let y=f8(c);g=u8(h[x],y,r)}return g}function zC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(c,h,g)=>{let x={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};x.relativePath.startsWith("/")&&(Tn(x.relativePath.startsWith(r),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(r.length));let y=fs([r,x.relativePath]),w=n.concat(x);c.children&&c.children.length>0&&(Tn(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),zC(c.children,t,w,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:l8(y,c.index),routesMeta:w})};return e.forEach((c,h)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))s(c,h);else for(let x of HC(c.path))s(c,h,x)}),t}function HC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return s?[c,""]:[c];let h=HC(r.join("/")),g=[];return g.push(...h.map(x=>x===""?c:[c,x].join("/"))),s&&g.push(...h),g.map(x=>e.startsWith("/")&&x===""?"/":x)}function t8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:c8(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n8=/^:[\w-]+$/,r8=3,i8=2,o8=1,s8=10,a8=-2,Ky=e=>e==="*";function l8(e,t){let n=e.split("/"),r=n.length;return n.some(Ky)&&(r+=a8),t&&(r+=i8),n.filter(s=>!Ky(s)).reduce((s,c)=>s+(n8.test(c)?r8:c===""?o8:s8),r)}function c8(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function u8(e,t,n){let{routesMeta:r}=e,s={},c="/",h=[];for(let g=0;g<r.length;++g){let x=r[g],y=g===r.length-1,w=c==="/"?t:t.slice(c.length)||"/",C=Xy({path:x.relativePath,caseSensitive:x.caseSensitive,end:y},w),b=x.route;if(!C&&y&&n&&!r[r.length-1].route.index&&(C=Xy({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},w)),!C)return null;Object.assign(s,C.params),h.push({params:s,pathname:fs([c,C.pathname]),pathnameBase:m8(fs([c,C.pathnameBase])),route:b}),C.pathnameBase!=="/"&&(c=fs([c,C.pathnameBase]))}return h}function Xy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=d8(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let c=s[0],h=c.replace(/(.)\/+$/,"$1"),g=s.slice(1);return{params:r.reduce((y,w,C)=>{let{paramName:b,isOptional:R}=w;if(b==="*"){let _=g[C]||"";h=c.slice(0,c.length-_.length).replace(/(.)\/+$/,"$1")}const O=g[C];return R&&!O?y[b]=void 0:y[b]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:e}}function d8(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),UC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,x)=>(r.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function f8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return UC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function h8(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ul(e):e;return{pathname:n?n.startsWith("/")?n:p8(n,t):t,search:y8(r),hash:x8(s)}}function p8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function a0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VC(e,t){let n=g8(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function WC(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ul(e):(s=iu({},e),Tn(!s.pathname||!s.pathname.includes("?"),a0("?","pathname","search",s)),Tn(!s.pathname||!s.pathname.includes("#"),a0("#","pathname","hash",s)),Tn(!s.search||!s.search.includes("#"),a0("#","search","hash",s)));let c=e===""||s.pathname==="",h=c?"/":s.pathname,g;if(h==null)g=n;else{let C=t.length-1;if(!r&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),C-=1;s.pathname=b.join("/")}g=C>=0?t[C]:"/"}let x=h8(s,g),y=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(y||w)&&(x.pathname+="/"),x}const fs=e=>e.join("/").replace(/\/\/+/g,"/"),m8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function v8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const GC=["post","put","patch","delete"];new Set(GC);const w8=["get",...GC];new Set(w8);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(this,arguments)}const _g=A.createContext(null),C8=A.createContext(null),pa=A.createContext(null),ah=A.createContext(null),ga=A.createContext({outlet:null,matches:[],isDataRoute:!1}),YC=A.createContext(null);function b8(e,t){let{relative:n}=t===void 0?{}:t;Eu()||Tn(!1);let{basename:r,navigator:s}=A.useContext(pa),{hash:c,pathname:h,search:g}=KC(e,{relative:n}),x=h;return r!=="/"&&(x=h==="/"?r:fs([r,h])),s.createHref({pathname:x,search:g,hash:c})}function Eu(){return A.useContext(ah)!=null}function zl(){return Eu()||Tn(!1),A.useContext(ah).location}function $C(e){A.useContext(pa).static||A.useLayoutEffect(e)}function E8(){let{isDataRoute:e}=A.useContext(ga);return e?L8():S8()}function S8(){Eu()||Tn(!1);let e=A.useContext(_g),{basename:t,future:n,navigator:r}=A.useContext(pa),{matches:s}=A.useContext(ga),{pathname:c}=zl(),h=JSON.stringify(VC(s,n.v7_relativeSplatPath)),g=A.useRef(!1);return $C(()=>{g.current=!0}),A.useCallback(function(y,w){if(w===void 0&&(w={}),!g.current)return;if(typeof y=="number"){r.go(y);return}let C=WC(y,JSON.parse(h),c,w.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:fs([t,C.pathname])),(w.replace?r.replace:r.push)(C,w.state,w)},[t,r,h,c,e])}function KC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(pa),{matches:s}=A.useContext(ga),{pathname:c}=zl(),h=JSON.stringify(VC(s,r.v7_relativeSplatPath));return A.useMemo(()=>WC(e,JSON.parse(h),c,n==="path"),[e,h,c,n])}function A8(e,t){return T8(e,t)}function T8(e,t,n,r){Eu()||Tn(!1);let{navigator:s}=A.useContext(pa),{matches:c}=A.useContext(ga),h=c[c.length-1],g=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let y=zl(),w;if(t){var C;let B=typeof t=="string"?Ul(t):t;x==="/"||(C=B.pathname)!=null&&C.startsWith(x)||Tn(!1),w=B}else w=y;let b=w.pathname||"/",R=b;if(x!=="/"){let B=x.replace(/^\//,"").split("/");R="/"+b.replace(/^\//,"").split("/").slice(B.length).join("/")}let O=JN(e,{pathname:R}),_=M8(O&&O.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:fs([x,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?x:fs([x,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,n,r);return t&&_?A.createElement(ah.Provider,{value:{location:ou({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:rs.Pop}},_):_}function _8(){let e=P8(),t=v8(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:s},n):null,null)}const I8=A.createElement(_8,null);class R8 extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(ga.Provider,{value:this.props.routeContext},A.createElement(YC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N8(e){let{routeContext:t,match:n,children:r}=e,s=A.useContext(_g);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(ga.Provider,{value:t},r)}function M8(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var c;if(!n)return null;if(n.errors)e=n.matches;else if((c=r)!=null&&c.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let h=e,g=(s=n)==null?void 0:s.errors;if(g!=null){let w=h.findIndex(C=>C.route.id&&(g==null?void 0:g[C.route.id])!==void 0);w>=0||Tn(!1),h=h.slice(0,Math.min(h.length,w+1))}let x=!1,y=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<h.length;w++){let C=h[w];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(y=w),C.route.id){let{loaderData:b,errors:R}=n,O=C.route.loader&&b[C.route.id]===void 0&&(!R||R[C.route.id]===void 0);if(C.route.lazy||O){x=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((w,C,b)=>{let R,O=!1,_=null,B=null;n&&(R=g&&C.route.id?g[C.route.id]:void 0,_=C.route.errorElement||I8,x&&(y<0&&b===0?(O=!0,B=null):y===b&&(O=!0,B=C.route.hydrateFallbackElement||null)));let M=t.concat(h.slice(0,b+1)),I=()=>{let k;return R?k=_:O?k=B:C.route.Component?k=A.createElement(C.route.Component,null):C.route.element?k=C.route.element:k=w,A.createElement(N8,{match:C,routeContext:{outlet:w,matches:M,isDataRoute:n!=null},children:k})};return n&&(C.route.ErrorBoundary||C.route.errorElement||b===0)?A.createElement(R8,{location:n.location,revalidation:n.revalidation,component:_,error:R,children:I(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):I()},null)}var XC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(XC||{}),mf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mf||{});function O8(e){let t=A.useContext(_g);return t||Tn(!1),t}function D8(e){let t=A.useContext(C8);return t||Tn(!1),t}function k8(e){let t=A.useContext(ga);return t||Tn(!1),t}function QC(e){let t=k8(),n=t.matches[t.matches.length-1];return n.route.id||Tn(!1),n.route.id}function P8(){var e;let t=A.useContext(YC),n=D8(mf.UseRouteError),r=QC(mf.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function L8(){let{router:e}=O8(XC.UseNavigateStable),t=QC(mf.UseNavigateStable),n=A.useRef(!1);return $C(()=>{n.current=!0}),A.useCallback(function(s,c){c===void 0&&(c={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ou({fromRouteId:t},c)))},[e,t])}function Gs(e){Tn(!1)}function B8(e){let{basename:t="/",children:n=null,location:r,navigationType:s=rs.Pop,navigator:c,static:h=!1,future:g}=e;Eu()&&Tn(!1);let x=t.replace(/^\/*/,"/"),y=A.useMemo(()=>({basename:x,navigator:c,static:h,future:ou({v7_relativeSplatPath:!1},g)}),[x,g,c,h]);typeof r=="string"&&(r=Ul(r));let{pathname:w="/",search:C="",hash:b="",state:R=null,key:O="default"}=r,_=A.useMemo(()=>{let B=Tg(w,x);return B==null?null:{location:{pathname:B,search:C,hash:b,state:R,key:O},navigationType:s}},[x,w,C,b,R,O,s]);return _==null?null:A.createElement(pa.Provider,{value:y},A.createElement(ah.Provider,{children:n,value:_}))}function j8(e){let{children:t,location:n}=e;return A8(M1(t),n)}new Promise(()=>{});function M1(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,s)=>{if(!A.isValidElement(r))return;let c=[...t,s];if(r.type===A.Fragment){n.push.apply(n,M1(r.props.children,c));return}r.type!==Gs&&Tn(!1),!r.props.index||!r.props.children||Tn(!1);let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=M1(r.props.children,c)),n.push(h)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O1.apply(this,arguments)}function F8(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,c;for(c=0;c<r.length;c++)s=r[c],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function U8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z8(e,t){return e.button===0&&(!t||t==="_self")&&!U8(e)}const H8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V8="6";try{window.__reactRouterVersion=V8}catch{}const W8="startTransition",Qy=lv[W8];function G8(e){let{basename:t,children:n,future:r,window:s}=e,c=A.useRef();c.current==null&&(c.current=QN({window:s,v5Compat:!0}));let h=c.current,[g,x]=A.useState({action:h.action,location:h.location}),{v7_startTransition:y}=r||{},w=A.useCallback(C=>{y&&Qy?Qy(()=>x(C)):x(C)},[x,y]);return A.useLayoutEffect(()=>h.listen(w),[h,w]),A.createElement(B8,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:h,future:r})}const Y8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fc=A.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:c,replace:h,state:g,target:x,to:y,preventScrollReset:w,viewTransition:C}=t,b=F8(t,H8),{basename:R}=A.useContext(pa),O,_=!1;if(typeof y=="string"&&$8.test(y)&&(O=y,Y8))try{let k=new URL(window.location.href),U=y.startsWith("//")?new URL(k.protocol+y):new URL(y),$=Tg(U.pathname,R);U.origin===k.origin&&$!=null?y=$+U.search+U.hash:_=!0}catch{}let B=b8(y,{relative:s}),M=K8(y,{replace:h,state:g,target:x,preventScrollReset:w,relative:s,viewTransition:C});function I(k){r&&r(k),k.defaultPrevented||M(k)}return A.createElement("a",O1({},b,{href:O||B,onClick:_||c?r:I,ref:n,target:x}))});var qy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qy||(qy={}));var Zy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zy||(Zy={}));function K8(e,t){let{target:n,replace:r,state:s,preventScrollReset:c,relative:h,viewTransition:g}=t===void 0?{}:t,x=E8(),y=zl(),w=KC(e,{relative:h});return A.useCallback(C=>{if(z8(C,n)){C.preventDefault();let b=r!==void 0?r:gf(y)===gf(w);x(e,{replace:b,state:s,preventScrollReset:c,relative:h,viewTransition:g})}},[y,x,w,r,s,n,e,c,h,g])}var X8=A.createContext(void 0);function lh(e){const t=A.useContext(X8);return e||t||"ltr"}var l0=0;function Ig(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jy()),document.body.insertAdjacentElement("beforeend",e[1]??Jy()),l0++,()=>{l0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),l0--}},[])}function Jy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var c0="focusScope.autoFocusOnMount",u0="focusScope.autoFocusOnUnmount",ex={bubbles:!1,cancelable:!0},Q8="FocusScope",ch=A.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:c,...h}=e,[g,x]=A.useState(null),y=on(s),w=on(c),C=A.useRef(null),b=gt(t,_=>x(_)),R=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let _=function(k){if(R.paused||!g)return;const U=k.target;g.contains(U)?C.current=U:Go(C.current,{select:!0})},B=function(k){if(R.paused||!g)return;const U=k.relatedTarget;U!==null&&(g.contains(U)||Go(C.current,{select:!0}))},M=function(k){if(document.activeElement===document.body)for(const $ of k)$.removedNodes.length>0&&Go(g)};document.addEventListener("focusin",_),document.addEventListener("focusout",B);const I=new MutationObserver(M);return g&&I.observe(g,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",B),I.disconnect()}}},[r,g,R.paused]),A.useEffect(()=>{if(g){nx.add(R);const _=document.activeElement;if(!g.contains(_)){const M=new CustomEvent(c0,ex);g.addEventListener(c0,y),g.dispatchEvent(M),M.defaultPrevented||(q8(n6(qC(g)),{select:!0}),document.activeElement===_&&Go(g))}return()=>{g.removeEventListener(c0,y),setTimeout(()=>{const M=new CustomEvent(u0,ex);g.addEventListener(u0,w),g.dispatchEvent(M),M.defaultPrevented||Go(_??document.body,{select:!0}),g.removeEventListener(u0,w),nx.remove(R)},0)}}},[g,y,w,R]);const O=A.useCallback(_=>{if(!n&&!r||R.paused)return;const B=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,M=document.activeElement;if(B&&M){const I=_.currentTarget,[k,U]=Z8(I);k&&U?!_.shiftKey&&M===U?(_.preventDefault(),n&&Go(k,{select:!0})):_.shiftKey&&M===k&&(_.preventDefault(),n&&Go(U,{select:!0})):M===I&&_.preventDefault()}},[n,r,R.paused]);return S.jsx(rt.div,{tabIndex:-1,...h,ref:b,onKeyDown:O})});ch.displayName=Q8;function q8(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Go(r,{select:t}),document.activeElement!==n)return}function Z8(e){const t=qC(e),n=tx(t,e),r=tx(t.reverse(),e);return[n,r]}function qC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tx(e,t){for(const n of e)if(!J8(n,{upTo:t}))return n}function J8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function e6(e){return e instanceof HTMLInputElement&&"select"in e}function Go(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&e6(e)&&t&&e.select()}}var nx=t6();function t6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rx(e,t),e.unshift(t)},remove(t){var n;e=rx(e,t),(n=e[0])==null||n.resume()}}}function rx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function n6(e){return e.filter(t=>t.tagName!=="A")}function r6(e,t=[]){let n=[];function r(c,h){const g=A.createContext(h),x=n.length;n=[...n,h];function y(C){const{scope:b,children:R,...O}=C,_=(b==null?void 0:b[e][x])||g,B=A.useMemo(()=>O,Object.values(O));return S.jsx(_.Provider,{value:B,children:R})}function w(C,b){const R=(b==null?void 0:b[e][x])||g,O=A.useContext(R);if(O)return O;if(h!==void 0)return h;throw new Error(`\`${C}\` must be used within \`${c}\``)}return y.displayName=c+"Provider",[y,w]}const s=()=>{const c=n.map(h=>A.createContext(h));return function(g){const x=(g==null?void 0:g[e])||c;return A.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return s.scopeName=e,[r,i6(s,...t)]}function i6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const h=r.reduce((g,{useScope:x,scopeName:y})=>{const C=x(c)[`__scope${y}`];return{...g,...C}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}var d0="rovingFocusGroup.onEntryFocus",o6={bubbles:!1,cancelable:!0},uh="RovingFocusGroup",[D1,ZC,s6]=Kf(uh),[a6,JC]=r6(uh,[s6]),[l6,c6]=a6(uh),eb=A.forwardRef((e,t)=>S.jsx(D1.Provider,{scope:e.__scopeRovingFocusGroup,children:S.jsx(D1.Slot,{scope:e.__scopeRovingFocusGroup,children:S.jsx(u6,{...e,ref:t})})}));eb.displayName=uh;var u6=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:c,currentTabStopId:h,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:x,onEntryFocus:y,preventScrollOnEntryFocus:w=!1,...C}=e,b=A.useRef(null),R=gt(t,b),O=lh(c),[_=null,B]=Io({prop:h,defaultProp:g,onChange:x}),[M,I]=A.useState(!1),k=on(y),U=ZC(n),$=A.useRef(!1),[J,Y]=A.useState(0);return A.useEffect(()=>{const Z=b.current;if(Z)return Z.addEventListener(d0,k),()=>Z.removeEventListener(d0,k)},[k]),S.jsx(l6,{scope:n,orientation:r,dir:O,loop:s,currentTabStopId:_,onItemFocus:A.useCallback(Z=>B(Z),[B]),onItemShiftTab:A.useCallback(()=>I(!0),[]),onFocusableItemAdd:A.useCallback(()=>Y(Z=>Z+1),[]),onFocusableItemRemove:A.useCallback(()=>Y(Z=>Z-1),[]),children:S.jsx(rt.div,{tabIndex:M||J===0?-1:0,"data-orientation":r,...C,ref:R,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{$.current=!0}),onFocus:Le(e.onFocus,Z=>{const X=!$.current;if(Z.target===Z.currentTarget&&X&&!M){const de=new CustomEvent(d0,o6);if(Z.currentTarget.dispatchEvent(de),!de.defaultPrevented){const xe=U().filter(we=>we.focusable),ae=xe.find(we=>we.active),ye=xe.find(we=>we.id===_),te=[ae,ye,...xe].filter(Boolean).map(we=>we.ref.current);rb(te,w)}}$.current=!1}),onBlur:Le(e.onBlur,()=>I(!1))})})}),tb="RovingFocusGroupItem",nb=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:c,...h}=e,g=Mi(),x=c||g,y=c6(tb,n),w=y.currentTabStopId===x,C=ZC(n),{onFocusableItemAdd:b,onFocusableItemRemove:R}=y;return A.useEffect(()=>{if(r)return b(),()=>R()},[r,b,R]),S.jsx(D1.ItemSlot,{scope:n,id:x,focusable:r,active:s,children:S.jsx(rt.span,{tabIndex:w?0:-1,"data-orientation":y.orientation,...h,ref:t,onMouseDown:Le(e.onMouseDown,O=>{r?y.onItemFocus(x):O.preventDefault()}),onFocus:Le(e.onFocus,()=>y.onItemFocus(x)),onKeyDown:Le(e.onKeyDown,O=>{if(O.key==="Tab"&&O.shiftKey){y.onItemShiftTab();return}if(O.target!==O.currentTarget)return;const _=h6(O,y.orientation,y.dir);if(_!==void 0){if(O.metaKey||O.ctrlKey||O.altKey||O.shiftKey)return;O.preventDefault();let M=C().filter(I=>I.focusable).map(I=>I.ref.current);if(_==="last")M.reverse();else if(_==="prev"||_==="next"){_==="prev"&&M.reverse();const I=M.indexOf(O.currentTarget);M=y.loop?p6(M,I+1):M.slice(I+1)}setTimeout(()=>rb(M))}})})})});nb.displayName=tb;var d6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function f6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function h6(e,t,n){const r=f6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return d6[r]}function rb(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function p6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var g6=eb,m6=nb,y6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ja=new WeakMap,od=new WeakMap,sd={},f0=0,ib=function(e){return e&&(e.host||ib(e.parentNode))},x6=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ib(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},v6=function(e,t,n,r){var s=x6(t,Array.isArray(e)?e:[e]);sd[n]||(sd[n]=new WeakMap);var c=sd[n],h=[],g=new Set,x=new Set(s),y=function(C){!C||g.has(C)||(g.add(C),y(C.parentNode))};s.forEach(y);var w=function(C){!C||x.has(C)||Array.prototype.forEach.call(C.children,function(b){if(g.has(b))w(b);else try{var R=b.getAttribute(r),O=R!==null&&R!=="false",_=(ja.get(b)||0)+1,B=(c.get(b)||0)+1;ja.set(b,_),c.set(b,B),h.push(b),_===1&&O&&od.set(b,!0),B===1&&b.setAttribute(n,"true"),O||b.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",b,M)}})};return w(t),g.clear(),f0++,function(){h.forEach(function(C){var b=ja.get(C)-1,R=c.get(C)-1;ja.set(C,b),c.set(C,R),b||(od.has(C)||C.removeAttribute(r),od.delete(C)),R||C.removeAttribute(n)}),f0--,f0||(ja=new WeakMap,ja=new WeakMap,od=new WeakMap,sd={})}},Rg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=y6(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),v6(r,s,n,"aria-hidden")):function(){return null}},Qi=function(){return Qi=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},Qi.apply(this,arguments)};function ob(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function w6(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,c;r<s;r++)(c||!(r in t))&&(c||(c=Array.prototype.slice.call(t,0,r)),c[r]=t[r]);return e.concat(c||Array.prototype.slice.call(t))}var Id="right-scroll-bar-position",Rd="width-before-scroll-bar",C6="with-scroll-bars-hidden",b6="--removed-body-scroll-bar-size";function h0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function E6(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var S6=typeof window<"u"?A.useLayoutEffect:A.useEffect,ix=new WeakMap;function A6(e,t){var n=E6(null,function(r){return e.forEach(function(s){return h0(s,r)})});return S6(function(){var r=ix.get(n);if(r){var s=new Set(r),c=new Set(e),h=n.current;s.forEach(function(g){c.has(g)||h0(g,null)}),c.forEach(function(g){s.has(g)||h0(g,h)})}ix.set(n,e)},[e]),n}function T6(e){return e}function _6(e,t){t===void 0&&(t=T6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(c){var h=t(c,r);return n.push(h),function(){n=n.filter(function(g){return g!==h})}},assignSyncMedium:function(c){for(r=!0;n.length;){var h=n;n=[],h.forEach(c)}n={push:function(g){return c(g)},filter:function(){return n}}},assignMedium:function(c){r=!0;var h=[];if(n.length){var g=n;n=[],g.forEach(c),h=n}var x=function(){var w=h;h=[],w.forEach(c)},y=function(){return Promise.resolve().then(x)};y(),n={push:function(w){h.push(w),y()},filter:function(w){return h=h.filter(w),n}}}};return s}function I6(e){e===void 0&&(e={});var t=_6(null);return t.options=Qi({async:!0,ssr:!1},e),t}var sb=function(e){var t=e.sideCar,n=ob(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Qi({},n))};sb.isSideCarExport=!0;function R6(e,t){return e.useMedium(t),sb}var ab=I6(),p0=function(){},dh=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:p0,onWheelCapture:p0,onTouchMoveCapture:p0}),s=r[0],c=r[1],h=e.forwardProps,g=e.children,x=e.className,y=e.removeScrollBar,w=e.enabled,C=e.shards,b=e.sideCar,R=e.noIsolation,O=e.inert,_=e.allowPinchZoom,B=e.as,M=B===void 0?"div":B,I=e.gapMode,k=ob(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=b,$=A6([n,t]),J=Qi(Qi({},k),s);return A.createElement(A.Fragment,null,w&&A.createElement(U,{sideCar:ab,removeScrollBar:y,shards:C,noIsolation:R,inert:O,setCallbacks:c,allowPinchZoom:!!_,lockRef:n,gapMode:I}),h?A.cloneElement(A.Children.only(g),Qi(Qi({},J),{ref:$})):A.createElement(M,Qi({},J,{className:x,ref:$}),g))});dh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dh.classNames={fullWidth:Rd,zeroRight:Id};var N6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=N6();return t&&e.setAttribute("nonce",t),e}function O6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function D6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var k6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=M6())&&(O6(t,n),D6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},P6=function(){var e=k6();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},lb=function(){var e=P6(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},L6={left:0,top:0,right:0,gap:0},g0=function(e){return parseInt(e||"",10)||0},B6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[g0(n),g0(r),g0(s)]},j6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return L6;var t=B6(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},F6=lb(),cl="data-scroll-locked",U6=function(e,t,n,r){var s=e.left,c=e.top,h=e.right,g=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(C6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(g,"px ").concat(r,`;
  }
  body[`).concat(cl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(g,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(g,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Id,` {
    right: `).concat(g,"px ").concat(r,`;
  }
  
  .`).concat(Rd,` {
    margin-right: `).concat(g,"px ").concat(r,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rd," .").concat(Rd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(cl,`] {
    `).concat(b6,": ").concat(g,`px;
  }
`)},ox=function(){var e=parseInt(document.body.getAttribute(cl)||"0",10);return isFinite(e)?e:0},z6=function(){A.useEffect(function(){return document.body.setAttribute(cl,(ox()+1).toString()),function(){var e=ox()-1;e<=0?document.body.removeAttribute(cl):document.body.setAttribute(cl,e.toString())}},[])},H6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;z6();var c=A.useMemo(function(){return j6(s)},[s]);return A.createElement(F6,{styles:U6(c,!t,s,n?"":"!important")})},k1=!1;if(typeof window<"u")try{var ad=Object.defineProperty({},"passive",{get:function(){return k1=!0,!0}});window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{k1=!1}var Fa=k1?{passive:!1}:!1,V6=function(e){return e.tagName==="TEXTAREA"},cb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!V6(e)&&n[t]==="visible")},W6=function(e){return cb(e,"overflowY")},G6=function(e){return cb(e,"overflowX")},sx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ub(e,r);if(s){var c=db(e,r),h=c[1],g=c[2];if(h>g)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Y6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},$6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ub=function(e,t){return e==="v"?W6(t):G6(t)},db=function(e,t){return e==="v"?Y6(t):$6(t)},K6=function(e,t){return e==="h"&&t==="rtl"?-1:1},X6=function(e,t,n,r,s){var c=K6(e,window.getComputedStyle(t).direction),h=c*r,g=n.target,x=t.contains(g),y=!1,w=h>0,C=0,b=0;do{var R=db(e,g),O=R[0],_=R[1],B=R[2],M=_-B-c*O;(O||M)&&ub(e,g)&&(C+=M,b+=O),g instanceof ShadowRoot?g=g.host:g=g.parentNode}while(!x&&g!==document.body||x&&(t.contains(g)||t===g));return(w&&(Math.abs(C)<1||!s)||!w&&(Math.abs(b)<1||!s))&&(y=!0),y},ld=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ax=function(e){return[e.deltaX,e.deltaY]},lx=function(e){return e&&"current"in e?e.current:e},Q6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},q6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Z6=0,Ua=[];function J6(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),s=A.useState(Z6++)[0],c=A.useState(lb)[0],h=A.useRef(e);A.useEffect(function(){h.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var _=w6([e.lockRef.current],(e.shards||[]).map(lx),!0).filter(Boolean);return _.forEach(function(B){return B.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(B){return B.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var g=A.useCallback(function(_,B){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!h.current.allowPinchZoom;var M=ld(_),I=n.current,k="deltaX"in _?_.deltaX:I[0]-M[0],U="deltaY"in _?_.deltaY:I[1]-M[1],$,J=_.target,Y=Math.abs(k)>Math.abs(U)?"h":"v";if("touches"in _&&Y==="h"&&J.type==="range")return!1;var Z=sx(Y,J);if(!Z)return!0;if(Z?$=Y:($=Y==="v"?"h":"v",Z=sx(Y,J)),!Z)return!1;if(!r.current&&"changedTouches"in _&&(k||U)&&(r.current=$),!$)return!0;var X=r.current||$;return X6(X,B,_,X==="h"?k:U,!0)},[]),x=A.useCallback(function(_){var B=_;if(!(!Ua.length||Ua[Ua.length-1]!==c)){var M="deltaY"in B?ax(B):ld(B),I=t.current.filter(function($){return $.name===B.type&&($.target===B.target||B.target===$.shadowParent)&&Q6($.delta,M)})[0];if(I&&I.should){B.cancelable&&B.preventDefault();return}if(!I){var k=(h.current.shards||[]).map(lx).filter(Boolean).filter(function($){return $.contains(B.target)}),U=k.length>0?g(B,k[0]):!h.current.noIsolation;U&&B.cancelable&&B.preventDefault()}}},[]),y=A.useCallback(function(_,B,M,I){var k={name:_,delta:B,target:M,should:I,shadowParent:eM(M)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(U){return U!==k})},1)},[]),w=A.useCallback(function(_){n.current=ld(_),r.current=void 0},[]),C=A.useCallback(function(_){y(_.type,ax(_),_.target,g(_,e.lockRef.current))},[]),b=A.useCallback(function(_){y(_.type,ld(_),_.target,g(_,e.lockRef.current))},[]);A.useEffect(function(){return Ua.push(c),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:b}),document.addEventListener("wheel",x,Fa),document.addEventListener("touchmove",x,Fa),document.addEventListener("touchstart",w,Fa),function(){Ua=Ua.filter(function(_){return _!==c}),document.removeEventListener("wheel",x,Fa),document.removeEventListener("touchmove",x,Fa),document.removeEventListener("touchstart",w,Fa)}},[]);var R=e.removeScrollBar,O=e.inert;return A.createElement(A.Fragment,null,O?A.createElement(c,{styles:q6(s)}):null,R?A.createElement(H6,{gapMode:e.gapMode}):null)}function eM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tM=R6(ab,J6);var fh=A.forwardRef(function(e,t){return A.createElement(dh,Qi({},e,{ref:t,sideCar:tM}))});fh.classNames=dh.classNames;var P1=["Enter"," "],nM=["ArrowDown","PageUp","Home"],fb=["ArrowUp","PageDown","End"],rM=[...nM,...fb],iM={ltr:[...P1,"ArrowRight"],rtl:[...P1,"ArrowLeft"]},oM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Su="Menu",[su,sM,aM]=Kf(Su),[ma,hb]=Oo(Su,[aM,Fl,JC]),hh=Fl(),pb=JC(),[lM,ya]=ma(Su),[cM,Au]=ma(Su),gb=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:c,modal:h=!0}=e,g=hh(t),[x,y]=A.useState(null),w=A.useRef(!1),C=on(c),b=lh(s);return A.useEffect(()=>{const R=()=>{w.current=!0,document.addEventListener("pointerdown",O,{capture:!0,once:!0}),document.addEventListener("pointermove",O,{capture:!0,once:!0})},O=()=>w.current=!1;return document.addEventListener("keydown",R,{capture:!0}),()=>{document.removeEventListener("keydown",R,{capture:!0}),document.removeEventListener("pointerdown",O,{capture:!0}),document.removeEventListener("pointermove",O,{capture:!0})}},[]),S.jsx(vg,{...g,children:S.jsx(lM,{scope:t,open:n,onOpenChange:C,content:x,onContentChange:y,children:S.jsx(cM,{scope:t,onClose:A.useCallback(()=>C(!1),[C]),isUsingKeyboardRef:w,dir:b,modal:h,children:r})})})};gb.displayName=Su;var uM="MenuAnchor",Ng=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=hh(n);return S.jsx(wg,{...s,...r,ref:t})});Ng.displayName=uM;var Mg="MenuPortal",[dM,mb]=ma(Mg,{forceMount:void 0}),yb=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,c=ya(Mg,t);return S.jsx(dM,{scope:t,forceMount:n,children:S.jsx(vr,{present:n||c.open,children:S.jsx(wu,{asChild:!0,container:s,children:r})})})};yb.displayName=Mg;var di="MenuContent",[fM,Og]=ma(di),xb=A.forwardRef((e,t)=>{const n=mb(di,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,c=ya(di,e.__scopeMenu),h=Au(di,e.__scopeMenu);return S.jsx(su.Provider,{scope:e.__scopeMenu,children:S.jsx(vr,{present:r||c.open,children:S.jsx(su.Slot,{scope:e.__scopeMenu,children:h.modal?S.jsx(hM,{...s,ref:t}):S.jsx(pM,{...s,ref:t})})})})}),hM=A.forwardRef((e,t)=>{const n=ya(di,e.__scopeMenu),r=A.useRef(null),s=gt(t,r);return A.useEffect(()=>{const c=r.current;if(c)return Rg(c)},[]),S.jsx(Dg,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Le(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pM=A.forwardRef((e,t)=>{const n=ya(di,e.__scopeMenu);return S.jsx(Dg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Dg=A.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:c,onCloseAutoFocus:h,disableOutsidePointerEvents:g,onEntryFocus:x,onEscapeKeyDown:y,onPointerDownOutside:w,onFocusOutside:C,onInteractOutside:b,onDismiss:R,disableOutsideScroll:O,..._}=e,B=ya(di,n),M=Au(di,n),I=hh(n),k=pb(n),U=sM(n),[$,J]=A.useState(null),Y=A.useRef(null),Z=gt(t,Y,B.onContentChange),X=A.useRef(0),de=A.useRef(""),xe=A.useRef(0),ae=A.useRef(null),ye=A.useRef("right"),pe=A.useRef(0),te=O?fh:A.Fragment,we=O?{as:gs,allowPinchZoom:!0}:void 0,le=G=>{var Oe,Be;const Q=de.current+G,ne=U().filter(Te=>!Te.disabled),ce=document.activeElement,ge=(Oe=ne.find(Te=>Te.ref.current===ce))==null?void 0:Oe.textValue,Ne=ne.map(Te=>Te.textValue),ot=TM(Ne,Q,ge),he=(Be=ne.find(Te=>Te.textValue===ot))==null?void 0:Be.ref.current;(function Te(tt){de.current=tt,window.clearTimeout(X.current),tt!==""&&(X.current=window.setTimeout(()=>Te(""),1e3))})(Q),he&&setTimeout(()=>he.focus())};A.useEffect(()=>()=>window.clearTimeout(X.current),[]),Ig();const q=A.useCallback(G=>{var ne,ce;return ye.current===((ne=ae.current)==null?void 0:ne.side)&&IM(G,(ce=ae.current)==null?void 0:ce.area)},[]);return S.jsx(fM,{scope:n,searchRef:de,onItemEnter:A.useCallback(G=>{q(G)&&G.preventDefault()},[q]),onItemLeave:A.useCallback(G=>{var Q;q(G)||((Q=Y.current)==null||Q.focus(),J(null))},[q]),onTriggerLeave:A.useCallback(G=>{q(G)&&G.preventDefault()},[q]),pointerGraceTimerRef:xe,onPointerGraceIntentChange:A.useCallback(G=>{ae.current=G},[]),children:S.jsx(te,{...we,children:S.jsx(ch,{asChild:!0,trapped:s,onMountAutoFocus:Le(c,G=>{var Q;G.preventDefault(),(Q=Y.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:S.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:g,onEscapeKeyDown:y,onPointerDownOutside:w,onFocusOutside:C,onInteractOutside:b,onDismiss:R,children:S.jsx(g6,{asChild:!0,...k,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:J,onEntryFocus:Le(x,G=>{M.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:S.jsx(Cg,{role:"menu","aria-orientation":"vertical","data-state":kb(B.open),"data-radix-menu-content":"",dir:M.dir,...I,..._,ref:Z,style:{outline:"none",..._.style},onKeyDown:Le(_.onKeyDown,G=>{const ne=G.target.closest("[data-radix-menu-content]")===G.currentTarget,ce=G.ctrlKey||G.altKey||G.metaKey,ge=G.key.length===1;ne&&(G.key==="Tab"&&G.preventDefault(),!ce&&ge&&le(G.key));const Ne=Y.current;if(G.target!==Ne||!rM.includes(G.key))return;G.preventDefault();const he=U().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);fb.includes(G.key)&&he.reverse(),SM(he)}),onBlur:Le(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(X.current),de.current="")}),onPointerMove:Le(e.onPointerMove,au(G=>{const Q=G.target,ne=pe.current!==G.clientX;if(G.currentTarget.contains(Q)&&ne){const ce=G.clientX>pe.current?"right":"left";ye.current=ce,pe.current=G.clientX}}))})})})})})})});xb.displayName=di;var gM="MenuGroup",kg=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return S.jsx(rt.div,{role:"group",...r,ref:t})});kg.displayName=gM;var mM="MenuLabel",vb=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return S.jsx(rt.div,{...r,ref:t})});vb.displayName=mM;var yf="MenuItem",cx="menu.itemSelect",ph=A.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,c=A.useRef(null),h=Au(yf,e.__scopeMenu),g=Og(yf,e.__scopeMenu),x=gt(t,c),y=A.useRef(!1),w=()=>{const C=c.current;if(!n&&C){const b=new CustomEvent(cx,{bubbles:!0,cancelable:!0});C.addEventListener(cx,R=>r==null?void 0:r(R),{once:!0}),sg(C,b),b.defaultPrevented?y.current=!1:h.onClose()}};return S.jsx(wb,{...s,ref:x,disabled:n,onClick:Le(e.onClick,w),onPointerDown:C=>{var b;(b=e.onPointerDown)==null||b.call(e,C),y.current=!0},onPointerUp:Le(e.onPointerUp,C=>{var b;y.current||(b=C.currentTarget)==null||b.click()}),onKeyDown:Le(e.onKeyDown,C=>{const b=g.searchRef.current!=="";n||b&&C.key===" "||P1.includes(C.key)&&(C.currentTarget.click(),C.preventDefault())})})});ph.displayName=yf;var wb=A.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...c}=e,h=Og(yf,n),g=pb(n),x=A.useRef(null),y=gt(t,x),[w,C]=A.useState(!1),[b,R]=A.useState("");return A.useEffect(()=>{const O=x.current;O&&R((O.textContent??"").trim())},[c.children]),S.jsx(su.ItemSlot,{scope:n,disabled:r,textValue:s??b,children:S.jsx(m6,{asChild:!0,...g,focusable:!r,children:S.jsx(rt.div,{role:"menuitem","data-highlighted":w?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:y,onPointerMove:Le(e.onPointerMove,au(O=>{r?h.onItemLeave(O):(h.onItemEnter(O),O.defaultPrevented||O.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(e.onPointerLeave,au(O=>h.onItemLeave(O))),onFocus:Le(e.onFocus,()=>C(!0)),onBlur:Le(e.onBlur,()=>C(!1))})})})}),yM="MenuCheckboxItem",Cb=A.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return S.jsx(Tb,{scope:e.__scopeMenu,checked:n,children:S.jsx(ph,{role:"menuitemcheckbox","aria-checked":xf(n)?"mixed":n,...s,ref:t,"data-state":Lg(n),onSelect:Le(s.onSelect,()=>r==null?void 0:r(xf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Cb.displayName=yM;var bb="MenuRadioGroup",[xM,vM]=ma(bb,{value:void 0,onValueChange:()=>{}}),Eb=A.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,c=on(r);return S.jsx(xM,{scope:e.__scopeMenu,value:n,onValueChange:c,children:S.jsx(kg,{...s,ref:t})})});Eb.displayName=bb;var Sb="MenuRadioItem",Ab=A.forwardRef((e,t)=>{const{value:n,...r}=e,s=vM(Sb,e.__scopeMenu),c=n===s.value;return S.jsx(Tb,{scope:e.__scopeMenu,checked:c,children:S.jsx(ph,{role:"menuitemradio","aria-checked":c,...r,ref:t,"data-state":Lg(c),onSelect:Le(r.onSelect,()=>{var h;return(h=s.onValueChange)==null?void 0:h.call(s,n)},{checkForDefaultPrevented:!1})})})});Ab.displayName=Sb;var Pg="MenuItemIndicator",[Tb,wM]=ma(Pg,{checked:!1}),_b=A.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,c=wM(Pg,n);return S.jsx(vr,{present:r||xf(c.checked)||c.checked===!0,children:S.jsx(rt.span,{...s,ref:t,"data-state":Lg(c.checked)})})});_b.displayName=Pg;var CM="MenuSeparator",Ib=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return S.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Ib.displayName=CM;var bM="MenuArrow",Rb=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=hh(n);return S.jsx(bg,{...s,...r,ref:t})});Rb.displayName=bM;var EM="MenuSub",[a7,Nb]=ma(EM),Cc="MenuSubTrigger",Mb=A.forwardRef((e,t)=>{const n=ya(Cc,e.__scopeMenu),r=Au(Cc,e.__scopeMenu),s=Nb(Cc,e.__scopeMenu),c=Og(Cc,e.__scopeMenu),h=A.useRef(null),{pointerGraceTimerRef:g,onPointerGraceIntentChange:x}=c,y={__scopeMenu:e.__scopeMenu},w=A.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return A.useEffect(()=>w,[w]),A.useEffect(()=>{const C=g.current;return()=>{window.clearTimeout(C),x(null)}},[g,x]),S.jsx(Ng,{asChild:!0,...y,children:S.jsx(wb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":kb(n.open),...e,ref:$f(t,s.onTriggerChange),onClick:C=>{var b;(b=e.onClick)==null||b.call(e,C),!(e.disabled||C.defaultPrevented)&&(C.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Le(e.onPointerMove,au(C=>{c.onItemEnter(C),!C.defaultPrevented&&!e.disabled&&!n.open&&!h.current&&(c.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{n.onOpenChange(!0),w()},100))})),onPointerLeave:Le(e.onPointerLeave,au(C=>{var R,O;w();const b=(R=n.content)==null?void 0:R.getBoundingClientRect();if(b){const _=(O=n.content)==null?void 0:O.dataset.side,B=_==="right",M=B?-5:5,I=b[B?"left":"right"],k=b[B?"right":"left"];c.onPointerGraceIntentChange({area:[{x:C.clientX+M,y:C.clientY},{x:I,y:b.top},{x:k,y:b.top},{x:k,y:b.bottom},{x:I,y:b.bottom}],side:_}),window.clearTimeout(g.current),g.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(C),C.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Le(e.onKeyDown,C=>{var R;const b=c.searchRef.current!=="";e.disabled||b&&C.key===" "||iM[r.dir].includes(C.key)&&(n.onOpenChange(!0),(R=n.content)==null||R.focus(),C.preventDefault())})})})});Mb.displayName=Cc;var Ob="MenuSubContent",Db=A.forwardRef((e,t)=>{const n=mb(di,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,c=ya(di,e.__scopeMenu),h=Au(di,e.__scopeMenu),g=Nb(Ob,e.__scopeMenu),x=A.useRef(null),y=gt(t,x);return S.jsx(su.Provider,{scope:e.__scopeMenu,children:S.jsx(vr,{present:r||c.open,children:S.jsx(su.Slot,{scope:e.__scopeMenu,children:S.jsx(Dg,{id:g.contentId,"aria-labelledby":g.triggerId,...s,ref:y,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:w=>{var C;h.isUsingKeyboardRef.current&&((C=x.current)==null||C.focus()),w.preventDefault()},onCloseAutoFocus:w=>w.preventDefault(),onFocusOutside:Le(e.onFocusOutside,w=>{w.target!==g.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Le(e.onEscapeKeyDown,w=>{h.onClose(),w.preventDefault()}),onKeyDown:Le(e.onKeyDown,w=>{var R;const C=w.currentTarget.contains(w.target),b=oM[h.dir].includes(w.key);C&&b&&(c.onOpenChange(!1),(R=g.trigger)==null||R.focus(),w.preventDefault())})})})})})});Db.displayName=Ob;function kb(e){return e?"open":"closed"}function xf(e){return e==="indeterminate"}function Lg(e){return xf(e)?"indeterminate":e?"checked":"unchecked"}function SM(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function AM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function TM(e,t,n){const s=t.length>1&&Array.from(t).every(y=>y===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let h=AM(e,Math.max(c,0));s.length===1&&(h=h.filter(y=>y!==n));const x=h.find(y=>y.toLowerCase().startsWith(s.toLowerCase()));return x!==n?x:void 0}function _M(e,t){const{x:n,y:r}=e;let s=!1;for(let c=0,h=t.length-1;c<t.length;h=c++){const g=t[c].x,x=t[c].y,y=t[h].x,w=t[h].y;x>r!=w>r&&n<(y-g)*(r-x)/(w-x)+g&&(s=!s)}return s}function IM(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return _M(n,t)}function au(e){return t=>t.pointerType==="mouse"?e(t):void 0}var RM=gb,NM=Ng,MM=yb,OM=xb,DM=kg,kM=vb,PM=ph,LM=Cb,BM=Eb,jM=Ab,FM=_b,UM=Ib,zM=Rb,HM=Mb,VM=Db,Bg="DropdownMenu",[WM,l7]=Oo(Bg,[hb]),wr=hb(),[GM,Pb]=WM(Bg),Lb=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:c,onOpenChange:h,modal:g=!0}=e,x=wr(t),y=A.useRef(null),[w=!1,C]=Io({prop:s,defaultProp:c,onChange:h});return S.jsx(GM,{scope:t,triggerId:Mi(),triggerRef:y,contentId:Mi(),open:w,onOpenChange:C,onOpenToggle:A.useCallback(()=>C(b=>!b),[C]),modal:g,children:S.jsx(RM,{...x,open:w,onOpenChange:C,dir:r,modal:g,children:n})})};Lb.displayName=Bg;var Bb="DropdownMenuTrigger",jb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,c=Pb(Bb,n),h=wr(n);return S.jsx(NM,{asChild:!0,...h,children:S.jsx(rt.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:$f(t,c.triggerRef),onPointerDown:Le(e.onPointerDown,g=>{!r&&g.button===0&&g.ctrlKey===!1&&(c.onOpenToggle(),c.open||g.preventDefault())}),onKeyDown:Le(e.onKeyDown,g=>{r||(["Enter"," "].includes(g.key)&&c.onOpenToggle(),g.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(g.key)&&g.preventDefault())})})})});jb.displayName=Bb;var YM="DropdownMenuPortal",Fb=e=>{const{__scopeDropdownMenu:t,...n}=e,r=wr(t);return S.jsx(MM,{...r,...n})};Fb.displayName=YM;var Ub="DropdownMenuContent",zb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Pb(Ub,n),c=wr(n),h=A.useRef(!1);return S.jsx(OM,{id:s.contentId,"aria-labelledby":s.triggerId,...c,...r,ref:t,onCloseAutoFocus:Le(e.onCloseAutoFocus,g=>{var x;h.current||(x=s.triggerRef.current)==null||x.focus(),h.current=!1,g.preventDefault()}),onInteractOutside:Le(e.onInteractOutside,g=>{const x=g.detail.originalEvent,y=x.button===0&&x.ctrlKey===!0,w=x.button===2||y;(!s.modal||w)&&(h.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zb.displayName=Ub;var $M="DropdownMenuGroup",KM=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(DM,{...s,...r,ref:t})});KM.displayName=$M;var XM="DropdownMenuLabel",Hb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(kM,{...s,...r,ref:t})});Hb.displayName=XM;var QM="DropdownMenuItem",Vb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(PM,{...s,...r,ref:t})});Vb.displayName=QM;var qM="DropdownMenuCheckboxItem",Wb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(LM,{...s,...r,ref:t})});Wb.displayName=qM;var ZM="DropdownMenuRadioGroup",JM=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(BM,{...s,...r,ref:t})});JM.displayName=ZM;var eO="DropdownMenuRadioItem",Gb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(jM,{...s,...r,ref:t})});Gb.displayName=eO;var tO="DropdownMenuItemIndicator",Yb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(FM,{...s,...r,ref:t})});Yb.displayName=tO;var nO="DropdownMenuSeparator",$b=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(UM,{...s,...r,ref:t})});$b.displayName=nO;var rO="DropdownMenuArrow",iO=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(zM,{...s,...r,ref:t})});iO.displayName=rO;var oO="DropdownMenuSubTrigger",Kb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(HM,{...s,...r,ref:t})});Kb.displayName=oO;var sO="DropdownMenuSubContent",Xb=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wr(n);return S.jsx(VM,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xb.displayName=sO;var aO=Lb,lO=jb,cO=Fb,Qb=zb,qb=Hb,Zb=Vb,Jb=Wb,eE=Gb,tE=Yb,nE=$b,rE=Kb,iE=Xb;const uO=aO,dO=lO,fO=A.forwardRef(({className:e,inset:t,children:n,...r},s)=>S.jsxs(rE,{ref:s,className:Je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,S.jsx(B4,{className:"ml-auto h-4 w-4"})]}));fO.displayName=rE.displayName;const hO=A.forwardRef(({className:e,...t},n)=>S.jsx(iE,{ref:n,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));hO.displayName=iE.displayName;const oE=A.forwardRef(({className:e,sideOffset:t=4,...n},r)=>S.jsx(cO,{children:S.jsx(Qb,{ref:r,sideOffset:t,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));oE.displayName=Qb.displayName;const Nd=A.forwardRef(({className:e,inset:t,...n},r)=>S.jsx(Zb,{ref:r,className:Je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Nd.displayName=Zb.displayName;const pO=A.forwardRef(({className:e,children:t,checked:n,...r},s)=>S.jsxs(Jb,{ref:s,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(tE,{children:S.jsx(zw,{className:"h-4 w-4"})})}),t]}));pO.displayName=Jb.displayName;const gO=A.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(eE,{ref:r,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(tE,{children:S.jsx(F4,{className:"h-2 w-2 fill-current"})})}),t]}));gO.displayName=eE.displayName;const mO=A.forwardRef(({className:e,inset:t,...n},r)=>S.jsx(qb,{ref:r,className:Je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));mO.displayName=qb.displayName;const yO=A.forwardRef(({className:e,...t},n)=>S.jsx(nE,{ref:n,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));yO.displayName=nE.displayName;const xO=qf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Bn=A.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},c)=>{const h=r?gs:"button";return S.jsx(h,{className:Je(xO({variant:t,size:n,className:e})),ref:c,...s})});Bn.displayName="Button";const vO=()=>{const e=zl();return S.jsx("nav",{className:"h-16 border-b border-neon-blue/20 bg-space-dark",children:S.jsx("div",{className:"h-full mx-auto px-4",children:S.jsxs("div",{className:"flex h-full items-center justify-between",children:[S.jsx("div",{className:"flex items-center",children:S.jsxs(fc,{to:"/",className:"text-xl font-bold text-white",children:["CARGO",S.jsx("span",{className:"text-neon-blue",children:"LINK"})]})}),S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsxs(uO,{children:[S.jsx(dO,{asChild:!0,children:S.jsxs(Bn,{variant:"ghost",className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.pathname.startsWith("/contracts")?"text-neon-blue bg-space-medium":"text-gray-300 hover:text-neon-blue"}`,children:[S.jsx(Vw,{className:"h-5 w-5 mr-2"}),"Contracts"]})}),S.jsxs(oE,{className:"bg-space-dark border border-neon-blue/20",children:[S.jsx(Nd,{asChild:!0,children:S.jsx(fc,{to:"/contracts",className:"text-gray-300 hover:text-neon-blue focus:text-neon-blue",children:"All Contracts"})}),S.jsx(Nd,{asChild:!0,children:S.jsx(fc,{to:"/contracts/record",className:"text-gray-300 hover:text-neon-blue focus:text-neon-blue",children:"Record Contract"})}),S.jsx(Nd,{asChild:!0,children:S.jsx(fc,{to:"/contracts/remote",className:"text-gray-300 hover:text-neon-blue focus:text-neon-blue",children:"Remote Session"})})]})]}),S.jsxs(fc,{to:"/routes",className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${e.pathname==="/routes"?"text-neon-blue bg-space-medium":"text-gray-300 hover:text-neon-blue"}`,children:[S.jsx(Yw,{className:"h-5 w-5 mr-2"}),"Routes"]})]})]})})})};function L1(e,[t,n]){return Math.min(n,Math.max(t,e))}function wO(e,t){return A.useReducer((n,r)=>t[n][r]??n,e)}var jg="ScrollArea",[sE,c7]=Oo(jg),[CO,pi]=sE(jg),aE=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:c=600,...h}=e,[g,x]=A.useState(null),[y,w]=A.useState(null),[C,b]=A.useState(null),[R,O]=A.useState(null),[_,B]=A.useState(null),[M,I]=A.useState(0),[k,U]=A.useState(0),[$,J]=A.useState(!1),[Y,Z]=A.useState(!1),X=gt(t,xe=>x(xe)),de=lh(s);return S.jsx(CO,{scope:n,type:r,dir:de,scrollHideDelay:c,scrollArea:g,viewport:y,onViewportChange:w,content:C,onContentChange:b,scrollbarX:R,onScrollbarXChange:O,scrollbarXEnabled:$,onScrollbarXEnabledChange:J,scrollbarY:_,onScrollbarYChange:B,scrollbarYEnabled:Y,onScrollbarYEnabledChange:Z,onCornerWidthChange:I,onCornerHeightChange:U,children:S.jsx(rt.div,{dir:de,...h,ref:X,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})})});aE.displayName=jg;var lE="ScrollAreaViewport",cE=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:c,...h}=e,g=pi(lE,n),x=A.useRef(null),y=gt(t,x,g.onViewportChange);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:c}),S.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...h,asChild:s,ref:y,style:{overflowX:g.scrollbarXEnabled?"scroll":"hidden",overflowY:g.scrollbarYEnabled?"scroll":"hidden",...e.style},children:MO({asChild:s,children:r},w=>S.jsx("div",{"data-radix-scroll-area-content":"",ref:g.onContentChange,style:{minWidth:g.scrollbarXEnabled?"fit-content":void 0},children:w}))})]})});cE.displayName=lE;var oo="ScrollAreaScrollbar",Fg=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pi(oo,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:h}=s,g=e.orientation==="horizontal";return A.useEffect(()=>(g?c(!0):h(!0),()=>{g?c(!1):h(!1)}),[g,c,h]),s.type==="hover"?S.jsx(bO,{...r,ref:t,forceMount:n}):s.type==="scroll"?S.jsx(EO,{...r,ref:t,forceMount:n}):s.type==="auto"?S.jsx(uE,{...r,ref:t,forceMount:n}):s.type==="always"?S.jsx(Ug,{...r,ref:t}):null});Fg.displayName=oo;var bO=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pi(oo,e.__scopeScrollArea),[c,h]=A.useState(!1);return A.useEffect(()=>{const g=s.scrollArea;let x=0;if(g){const y=()=>{window.clearTimeout(x),h(!0)},w=()=>{x=window.setTimeout(()=>h(!1),s.scrollHideDelay)};return g.addEventListener("pointerenter",y),g.addEventListener("pointerleave",w),()=>{window.clearTimeout(x),g.removeEventListener("pointerenter",y),g.removeEventListener("pointerleave",w)}}},[s.scrollArea,s.scrollHideDelay]),S.jsx(vr,{present:n||c,children:S.jsx(uE,{"data-state":c?"visible":"hidden",...r,ref:t})})}),EO=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=pi(oo,e.__scopeScrollArea),c=e.orientation==="horizontal",h=mh(()=>x("SCROLL_END"),100),[g,x]=wO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(g==="idle"){const y=window.setTimeout(()=>x("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(y)}},[g,s.scrollHideDelay,x]),A.useEffect(()=>{const y=s.viewport,w=c?"scrollLeft":"scrollTop";if(y){let C=y[w];const b=()=>{const R=y[w];C!==R&&(x("SCROLL"),h()),C=R};return y.addEventListener("scroll",b),()=>y.removeEventListener("scroll",b)}},[s.viewport,c,x,h]),S.jsx(vr,{present:n||g!=="hidden",children:S.jsx(Ug,{"data-state":g==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>x("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>x("POINTER_LEAVE"))})})}),uE=A.forwardRef((e,t)=>{const n=pi(oo,e.__scopeScrollArea),{forceMount:r,...s}=e,[c,h]=A.useState(!1),g=e.orientation==="horizontal",x=mh(()=>{if(n.viewport){const y=n.viewport.offsetWidth<n.viewport.scrollWidth,w=n.viewport.offsetHeight<n.viewport.scrollHeight;h(g?y:w)}},10);return Rl(n.viewport,x),Rl(n.content,x),S.jsx(vr,{present:r||c,children:S.jsx(Ug,{"data-state":c?"visible":"hidden",...s,ref:t})})}),Ug=A.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=pi(oo,e.__scopeScrollArea),c=A.useRef(null),h=A.useRef(0),[g,x]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),y=gE(g.viewport,g.content),w={...r,sizes:g,onSizesChange:x,hasThumb:y>0&&y<1,onThumbChange:b=>c.current=b,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:b=>h.current=b};function C(b,R){return RO(b,h.current,g,R)}return n==="horizontal"?S.jsx(SO,{...w,ref:t,onThumbPositionChange:()=>{if(s.viewport&&c.current){const b=s.viewport.scrollLeft,R=ux(b,g,s.dir);c.current.style.transform=`translate3d(${R}px, 0, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollLeft=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollLeft=C(b,s.dir))}}):n==="vertical"?S.jsx(AO,{...w,ref:t,onThumbPositionChange:()=>{if(s.viewport&&c.current){const b=s.viewport.scrollTop,R=ux(b,g);c.current.style.transform=`translate3d(0, ${R}px, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollTop=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollTop=C(b))}}):null}),SO=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,c=pi(oo,e.__scopeScrollArea),[h,g]=A.useState(),x=A.useRef(null),y=gt(t,x,c.onScrollbarXChange);return A.useEffect(()=>{x.current&&g(getComputedStyle(x.current))},[x]),S.jsx(fE,{"data-orientation":"horizontal",...s,ref:y,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gh(n)+"px",...e.style},onThumbPointerDown:w=>e.onThumbPointerDown(w.x),onDragScroll:w=>e.onDragScroll(w.x),onWheelScroll:(w,C)=>{if(c.viewport){const b=c.viewport.scrollLeft+w.deltaX;e.onWheelScroll(b),yE(b,C)&&w.preventDefault()}},onResize:()=>{x.current&&c.viewport&&h&&r({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:x.current.clientWidth,paddingStart:wf(h.paddingLeft),paddingEnd:wf(h.paddingRight)}})}})}),AO=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,c=pi(oo,e.__scopeScrollArea),[h,g]=A.useState(),x=A.useRef(null),y=gt(t,x,c.onScrollbarYChange);return A.useEffect(()=>{x.current&&g(getComputedStyle(x.current))},[x]),S.jsx(fE,{"data-orientation":"vertical",...s,ref:y,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gh(n)+"px",...e.style},onThumbPointerDown:w=>e.onThumbPointerDown(w.y),onDragScroll:w=>e.onDragScroll(w.y),onWheelScroll:(w,C)=>{if(c.viewport){const b=c.viewport.scrollTop+w.deltaY;e.onWheelScroll(b),yE(b,C)&&w.preventDefault()}},onResize:()=>{x.current&&c.viewport&&h&&r({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:x.current.clientHeight,paddingStart:wf(h.paddingTop),paddingEnd:wf(h.paddingBottom)}})}})}),[TO,dE]=sE(oo),fE=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:c,onThumbPointerUp:h,onThumbPointerDown:g,onThumbPositionChange:x,onDragScroll:y,onWheelScroll:w,onResize:C,...b}=e,R=pi(oo,n),[O,_]=A.useState(null),B=gt(t,X=>_(X)),M=A.useRef(null),I=A.useRef(""),k=R.viewport,U=r.content-r.viewport,$=on(w),J=on(x),Y=mh(C,10);function Z(X){if(M.current){const de=X.clientX-M.current.left,xe=X.clientY-M.current.top;y({x:de,y:xe})}}return A.useEffect(()=>{const X=de=>{const xe=de.target;(O==null?void 0:O.contains(xe))&&$(de,U)};return document.addEventListener("wheel",X,{passive:!1}),()=>document.removeEventListener("wheel",X,{passive:!1})},[k,O,U,$]),A.useEffect(J,[r,J]),Rl(O,Y),Rl(R.content,Y),S.jsx(TO,{scope:n,scrollbar:O,hasThumb:s,onThumbChange:on(c),onThumbPointerUp:on(h),onThumbPositionChange:J,onThumbPointerDown:on(g),children:S.jsx(rt.div,{...b,ref:B,style:{position:"absolute",...b.style},onPointerDown:Le(e.onPointerDown,X=>{X.button===0&&(X.target.setPointerCapture(X.pointerId),M.current=O.getBoundingClientRect(),I.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",R.viewport&&(R.viewport.style.scrollBehavior="auto"),Z(X))}),onPointerMove:Le(e.onPointerMove,Z),onPointerUp:Le(e.onPointerUp,X=>{const de=X.target;de.hasPointerCapture(X.pointerId)&&de.releasePointerCapture(X.pointerId),document.body.style.webkitUserSelect=I.current,R.viewport&&(R.viewport.style.scrollBehavior=""),M.current=null})})})}),vf="ScrollAreaThumb",hE=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dE(vf,e.__scopeScrollArea);return S.jsx(vr,{present:n||s.hasThumb,children:S.jsx(_O,{ref:t,...r})})}),_O=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,c=pi(vf,n),h=dE(vf,n),{onThumbPositionChange:g}=h,x=gt(t,C=>h.onThumbChange(C)),y=A.useRef(),w=mh(()=>{y.current&&(y.current(),y.current=void 0)},100);return A.useEffect(()=>{const C=c.viewport;if(C){const b=()=>{if(w(),!y.current){const R=NO(C,g);y.current=R,g()}};return g(),C.addEventListener("scroll",b),()=>C.removeEventListener("scroll",b)}},[c.viewport,w,g]),S.jsx(rt.div,{"data-state":h.hasThumb?"visible":"hidden",...s,ref:x,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(e.onPointerDownCapture,C=>{const R=C.target.getBoundingClientRect(),O=C.clientX-R.left,_=C.clientY-R.top;h.onThumbPointerDown({x:O,y:_})}),onPointerUp:Le(e.onPointerUp,h.onThumbPointerUp)})});hE.displayName=vf;var zg="ScrollAreaCorner",pE=A.forwardRef((e,t)=>{const n=pi(zg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.jsx(IO,{...e,ref:t}):null});pE.displayName=zg;var IO=A.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=pi(zg,n),[c,h]=A.useState(0),[g,x]=A.useState(0),y=!!(c&&g);return Rl(s.scrollbarX,()=>{var C;const w=((C=s.scrollbarX)==null?void 0:C.offsetHeight)||0;s.onCornerHeightChange(w),x(w)}),Rl(s.scrollbarY,()=>{var C;const w=((C=s.scrollbarY)==null?void 0:C.offsetWidth)||0;s.onCornerWidthChange(w),h(w)}),y?S.jsx(rt.div,{...r,ref:t,style:{width:c,height:g,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function wf(e){return e?parseInt(e,10):0}function gE(e,t){const n=e/t;return isNaN(n)?0:n}function gh(e){const t=gE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function RO(e,t,n,r="ltr"){const s=gh(n),c=s/2,h=t||c,g=s-h,x=n.scrollbar.paddingStart+h,y=n.scrollbar.size-n.scrollbar.paddingEnd-g,w=n.content-n.viewport,C=r==="ltr"?[0,w]:[w*-1,0];return mE([x,y],C)(e)}function ux(e,t,n="ltr"){const r=gh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,c=t.scrollbar.size-s,h=t.content-t.viewport,g=c-r,x=n==="ltr"?[0,h]:[h*-1,0],y=L1(e,x);return mE([0,h],[0,g])(y)}function mE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function yE(e,t){return e>0&&e<t}var NO=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const c={left:e.scrollLeft,top:e.scrollTop},h=n.left!==c.left,g=n.top!==c.top;(h||g)&&t(),n=c,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function mh(e,t){const n=on(e),r=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),A.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Rl(e,t){const n=on(t);zn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function MO(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=A.Children.only(r);return A.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var xE=aE,OO=cE,DO=pE;const vE=A.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(xE,{ref:r,className:Je("relative overflow-hidden",e),...n,children:[S.jsx(OO,{className:"h-full w-full rounded-[inherit]",children:t}),S.jsx(wE,{}),S.jsx(DO,{})]}));vE.displayName=xE.displayName;const wE=A.forwardRef(({className:e,orientation:t="vertical",...n},r)=>S.jsx(Fg,{ref:r,orientation:t,className:Je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:S.jsx(hE,{className:"relative flex-1 rounded-full bg-border"})}));wE.displayName=Fg.displayName;const hc=({children:e})=>S.jsxs("div",{className:"min-h-screen bg-space-dark",children:[S.jsx(vO,{}),S.jsxs("main",{className:"py-4 px-4 md:px-8",children:[S.jsx(vE,{className:"h-[calc(100vh-5rem)] pr-4",children:S.jsx("div",{className:"px-1 pb-8",children:e})}),S.jsx(oC,{})]})]}),lu=A.forwardRef(({className:e,...t},n)=>S.jsx("div",{ref:n,className:Je("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));lu.displayName="Card";const B1=A.forwardRef(({className:e,...t},n)=>S.jsx("div",{ref:n,className:Je("flex flex-col space-y-1.5 p-6",e),...t}));B1.displayName="CardHeader";const j1=A.forwardRef(({className:e,...t},n)=>S.jsx("h3",{ref:n,className:Je("text-2xl font-semibold leading-none tracking-tight",e),...t}));j1.displayName="CardTitle";const kO=A.forwardRef(({className:e,...t},n)=>S.jsx("p",{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));kO.displayName="CardDescription";const cu=A.forwardRef(({className:e,...t},n)=>S.jsx("div",{ref:n,className:Je("p-6 pt-0",e),...t}));cu.displayName="CardContent";const PO=A.forwardRef(({className:e,...t},n)=>S.jsx("div",{ref:n,className:Je("flex items-center p-6 pt-0",e),...t}));PO.displayName="CardFooter";const cd=({title:e,value:t,description:n,icon:r,trend:s})=>S.jsx(lu,{className:"holographic-panel",children:S.jsxs(cu,{className:"p-6",children:[S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-medium text-gray-400",children:e}),S.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:t}),n&&S.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n})]}),S.jsx("div",{className:"bg-space-medium rounded-full p-2",children:r})]}),s&&S.jsxs("div",{className:"mt-4 flex items-center",children:[S.jsxs("div",{className:`flex items-center text-xs ${s.direction==="up"?"text-green-400":"text-red-400"}`,children:[s.direction==="up"?S.jsx(Uw,{className:"h-3 w-3 mr-1"}):S.jsx(Fw,{className:"h-3 w-3 mr-1"}),S.jsx("span",{children:s.value})]}),S.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"from last week"})]})]})}),LO=qf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function F1({className:e,variant:t,...n}){return S.jsx("div",{className:Je(LO({variant:t}),e),...n})}const CE=({contracts:e,compact:t=!1})=>{const n=r=>{switch(r){case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"in-progress":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"failed":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}};return e.length===0?S.jsx("p",{className:"text-gray-400",children:"No contracts available"}):S.jsx("div",{className:"space-y-4",children:e.map(r=>S.jsxs("div",{className:"p-4 bg-space-medium/50 border border-neon-blue/20 rounded-lg hover:border-neon-blue/40 transition-colors cursor-pointer",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-medium text-white",children:r.title}),!t&&S.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.description})]}),S.jsx(F1,{className:`${n(r.status)}`,children:r.status})]}),S.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-x-2 gap-y-1 text-sm",children:[S.jsx("div",{className:"text-gray-400",children:"From:"}),S.jsx("div",{className:"text-white",children:r.startLocation}),S.jsx("div",{className:"text-gray-400",children:"To:"}),S.jsx("div",{className:"text-white",children:r.endLocation}),S.jsx("div",{className:"text-gray-400",children:"Payment:"}),S.jsxs("div",{className:"text-white",children:[r.payment.toLocaleString()," aUEC"]}),r.deadline&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"text-gray-400",children:"Deadline:"}),S.jsx("div",{className:"text-white",children:new Date(r.deadline).toLocaleDateString()})]})]})]},r.id))})},pc=[{id:"cargo-1",name:"Agricultural Supplies",quantity:50,unitValue:120,type:"Agricultural",size:1,fragile:!1,illegal:!1},{id:"cargo-2",name:"Medical Supplies",quantity:30,unitValue:350,type:"Medical",size:1,fragile:!0,illegal:!1},{id:"cargo-3",name:"Titanium",quantity:100,unitValue:80,type:"Metal",size:.5,fragile:!1,illegal:!1},{id:"cargo-4",name:"Widow Jump",quantity:10,unitValue:800,type:"Narcotics",size:.2,fragile:!1,illegal:!0},{id:"cargo-5",name:"Laranite",quantity:70,unitValue:280,type:"Mineral",size:.8,fragile:!1,illegal:!1}],kc=[{id:"contract-1",title:"Medical Supply Run",description:"Transport medical supplies from Port Olisar to Area18",startLocation:"Port Olisar",endLocation:"Area18, ArcCorp",payment:12500,status:"pending",deadline:new Date(Date.now()+864e5),cargo:[pc[1]],createDate:new Date},{id:"contract-2",title:"Mining Material Transport",description:"Transport Titanium and Laranite from Daymar to Lorville",startLocation:"Kudre Ore, Daymar",endLocation:"Lorville, Hurston",payment:18e3,status:"in-progress",deadline:new Date(Date.now()+1728e5),cargo:[pc[2],pc[4]],createDate:new Date(Date.now()-864e5)},{id:"contract-3",title:"Agricultural Delivery",description:"Transport agricultural supplies from Hurston to MicroTech",startLocation:"Lorville, Hurston",endLocation:"New Babbage, MicroTech",payment:15e3,status:"pending",cargo:[pc[0]],createDate:new Date(Date.now()-1728e5)},{id:"contract-4",title:"Covert Delivery",description:"Transport sensitive cargo. No questions asked.",startLocation:"Grim HEX",endLocation:"Levski, Delamar",payment:32e3,status:"pending",cargo:[pc[3]],createDate:new Date(Date.now()-2592e5)}],BO=[{id:"route-1",name:"Crusader to ArcCorp",startLocation:"Port Olisar",waypoints:["CRU-L1"],endLocation:"Area18, ArcCorp",distance:41.2,estimatedTime:45,fuelConsumption:120,dangerLevel:"low",contracts:["contract-1"]},{id:"route-2",name:"Daymar Mining Run",startLocation:"Kudre Ore, Daymar",waypoints:["CRU-L1","HUR-L1"],endLocation:"Lorville, Hurston",distance:64.8,estimatedTime:75,fuelConsumption:185,dangerLevel:"medium",contracts:["contract-2"]},{id:"route-3",name:"Cross-System Haul",startLocation:"Lorville, Hurston",waypoints:["HUR-L1","CRU-L1","MIC-L1"],endLocation:"New Babbage, MicroTech",distance:89.5,estimatedTime:95,fuelConsumption:230,dangerLevel:"medium",contracts:["contract-3"]},{id:"route-4",name:"Smugglers Route",startLocation:"Grim HEX",waypoints:["Security Post Kareah"],endLocation:"Levski, Delamar",distance:38.7,estimatedTime:55,fuelConsumption:110,dangerLevel:"high",contracts:["contract-4"]}];var jO="Separator",dx="horizontal",FO=["horizontal","vertical"],bE=A.forwardRef((e,t)=>{const{decorative:n,orientation:r=dx,...s}=e,c=UO(r)?r:dx,g=n?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return S.jsx(rt.div,{"data-orientation":c,...g,...s,ref:t})});bE.displayName=jO;function UO(e){return FO.includes(e)}var EE=bE;const SE=A.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>S.jsx(EE,{ref:s,decorative:n,orientation:t,className:Je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));SE.displayName=EE.displayName;const zO=()=>{const e=kc.filter(c=>c.status==="pending"),t=kc.filter(c=>c.status==="in-progress"),n=kc.reduce((c,h)=>h.status==="completed"?c+h.payment:c,0),r=e.reduce((c,h)=>c+h.payment,0),s=e.filter(c=>c.deadline&&c.deadline.getTime()-Date.now()<864e5);return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-white",children:"Mission Control"}),S.jsx("p",{className:"text-gray-400 mt-2",children:"Welcome to your hauling operations center"})]}),S.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[S.jsx(cd,{title:"Active Contracts",value:t.length.toString(),description:"Current hauling missions",icon:S.jsx(Vw,{className:"h-6 w-6 text-neon-blue"}),trend:{value:"2",direction:"up"}}),S.jsx(cd,{title:"Pending Contracts",value:e.length.toString(),description:"Awaiting action",icon:S.jsx(z4,{className:"h-6 w-6 text-neon-blue"}),trend:{value:"1",direction:"up"}}),S.jsx(cd,{title:"Active Routes",value:"3",description:"Mapped star systems",icon:S.jsx(Yw,{className:"h-6 w-6 text-neon-blue"}),trend:{value:"5%",direction:"up"}}),S.jsx(cd,{title:"Total Earnings",value:`${n.toLocaleString()} aUEC`,description:`${r.toLocaleString()} aUEC pending`,icon:S.jsx(x1,{className:"h-6 w-6 text-neon-blue"}),trend:{value:"12%",direction:"up"}})]}),S.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[S.jsxs(lu,{className:"col-span-2 holographic-panel",children:[S.jsx(B1,{className:"pb-2",children:S.jsx(j1,{className:"text-neon-blue",children:"Active Contracts"})}),S.jsx(cu,{children:S.jsx(CE,{contracts:t.length?t:e.slice(0,2),compact:!0})})]}),S.jsxs(lu,{className:"holographic-panel",children:[S.jsx(B1,{className:"pb-2",children:S.jsx(j1,{className:"text-neon-blue",children:"Urgent Missions"})}),S.jsxs(cu,{children:[s.length>0?S.jsx("div",{className:"space-y-4",children:s.map(c=>S.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-red-500/10 border border-red-500/30",children:[S.jsx(x1,{className:"h-5 w-5 text-red-400"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-white",children:c.title}),S.jsx("p",{className:"text-xs text-gray-400",children:"Deadline approaching"})]})]},c.id))}):S.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[S.jsx("p",{className:"text-gray-400",children:"No urgent missions"}),S.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All deadlines are comfortable"})]}),S.jsx(SE,{className:"my-4 bg-gray-700"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-neon-blue mb-2",children:"Quick Stats"}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-sm",children:[S.jsx("span",{className:"text-gray-400",children:"Cargo Hauled (Week):"}),S.jsx("span",{className:"text-white",children:"425 SCU"})]}),S.jsxs("div",{className:"flex justify-between text-sm",children:[S.jsx("span",{className:"text-gray-400",children:"Contracts Completed:"}),S.jsx("span",{className:"text-white",children:"18"})]}),S.jsxs("div",{className:"flex justify-between text-sm",children:[S.jsx("span",{className:"text-gray-400",children:"Success Rate:"}),S.jsx("span",{className:"text-white",children:"96%"})]})]})]})]})]})]})]})},Nl=A.forwardRef(({className:e,type:t,...n},r)=>S.jsx("input",{type:t,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Nl.displayName="Input";function AE(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var HO=[" ","Enter","ArrowUp","ArrowDown"],VO=[" ","Enter"],Tu="Select",[yh,xh,WO]=Kf(Tu),[Hl,u7]=Oo(Tu,[WO,Fl]),vh=Fl(),[GO,Ss]=Hl(Tu),[YO,$O]=Hl(Tu),TE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:c,value:h,defaultValue:g,onValueChange:x,dir:y,name:w,autoComplete:C,disabled:b,required:R,form:O}=e,_=vh(t),[B,M]=A.useState(null),[I,k]=A.useState(null),[U,$]=A.useState(!1),J=lh(y),[Y=!1,Z]=Io({prop:r,defaultProp:s,onChange:c}),[X,de]=Io({prop:h,defaultProp:g,onChange:x}),xe=A.useRef(null),ae=B?O||!!B.closest("form"):!0,[ye,pe]=A.useState(new Set),te=Array.from(ye).map(we=>we.props.value).join(";");return S.jsx(vg,{..._,children:S.jsxs(GO,{required:R,scope:t,trigger:B,onTriggerChange:M,valueNode:I,onValueNodeChange:k,valueNodeHasChildren:U,onValueNodeHasChildrenChange:$,contentId:Mi(),value:X,onValueChange:de,open:Y,onOpenChange:Z,dir:J,triggerPointerDownPosRef:xe,disabled:b,children:[S.jsx(yh.Provider,{scope:t,children:S.jsx(YO,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(we=>{pe(le=>new Set(le).add(we))},[]),onNativeOptionRemove:A.useCallback(we=>{pe(le=>{const q=new Set(le);return q.delete(we),q})},[]),children:n})}),ae?S.jsxs(qE,{"aria-hidden":!0,required:R,tabIndex:-1,name:w,autoComplete:C,value:X,onChange:we=>de(we.target.value),disabled:b,form:O,children:[X===void 0?S.jsx("option",{value:""}):null,Array.from(ye)]},te):null]})})};TE.displayName=Tu;var _E="SelectTrigger",IE=A.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,c=vh(n),h=Ss(_E,n),g=h.disabled||r,x=gt(t,h.onTriggerChange),y=xh(n),w=A.useRef("touch"),[C,b,R]=ZE(_=>{const B=y().filter(k=>!k.disabled),M=B.find(k=>k.value===h.value),I=JE(B,_,M);I!==void 0&&h.onValueChange(I.value)}),O=_=>{g||(h.onOpenChange(!0),R()),_&&(h.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return S.jsx(wg,{asChild:!0,...c,children:S.jsx(rt.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:g,"data-disabled":g?"":void 0,"data-placeholder":QE(h.value)?"":void 0,...s,ref:x,onClick:Le(s.onClick,_=>{_.currentTarget.focus(),w.current!=="mouse"&&O(_)}),onPointerDown:Le(s.onPointerDown,_=>{w.current=_.pointerType;const B=_.target;B.hasPointerCapture(_.pointerId)&&B.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(O(_),_.preventDefault())}),onKeyDown:Le(s.onKeyDown,_=>{const B=C.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&b(_.key),!(B&&_.key===" ")&&HO.includes(_.key)&&(O(),_.preventDefault())})})})});IE.displayName=_E;var RE="SelectValue",NE=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:c,placeholder:h="",...g}=e,x=Ss(RE,n),{onValueNodeHasChildrenChange:y}=x,w=c!==void 0,C=gt(t,x.onValueNodeChange);return zn(()=>{y(w)},[y,w]),S.jsx(rt.span,{...g,ref:C,style:{pointerEvents:"none"},children:QE(x.value)?S.jsx(S.Fragment,{children:h}):c})});NE.displayName=RE;var KO="SelectIcon",ME=A.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return S.jsx(rt.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});ME.displayName=KO;var XO="SelectPortal",OE=e=>S.jsx(wu,{asChild:!0,...e});OE.displayName=XO;var la="SelectContent",DE=A.forwardRef((e,t)=>{const n=Ss(la,e.__scopeSelect),[r,s]=A.useState();if(zn(()=>{s(new DocumentFragment)},[]),!n.open){const c=r;return c?ha.createPortal(S.jsx(kE,{scope:e.__scopeSelect,children:S.jsx(yh.Slot,{scope:e.__scopeSelect,children:S.jsx("div",{children:e.children})})}),c):null}return S.jsx(PE,{...e,ref:t})});DE.displayName=la;var Ci=10,[kE,As]=Hl(la),QO="SelectContentImpl",PE=A.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:c,onPointerDownOutside:h,side:g,sideOffset:x,align:y,alignOffset:w,arrowPadding:C,collisionBoundary:b,collisionPadding:R,sticky:O,hideWhenDetached:_,avoidCollisions:B,...M}=e,I=Ss(la,n),[k,U]=A.useState(null),[$,J]=A.useState(null),Y=gt(t,Oe=>U(Oe)),[Z,X]=A.useState(null),[de,xe]=A.useState(null),ae=xh(n),[ye,pe]=A.useState(!1),te=A.useRef(!1);A.useEffect(()=>{if(k)return Rg(k)},[k]),Ig();const we=A.useCallback(Oe=>{const[Be,...Te]=ae().map(Ue=>Ue.ref.current),[tt]=Te.slice(-1),Xe=document.activeElement;for(const Ue of Oe)if(Ue===Xe||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===Be&&$&&($.scrollTop=0),Ue===tt&&$&&($.scrollTop=$.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Xe))return},[ae,$]),le=A.useCallback(()=>we([Z,k]),[we,Z,k]);A.useEffect(()=>{ye&&le()},[ye,le]);const{onOpenChange:q,triggerPointerDownPosRef:G}=I;A.useEffect(()=>{if(k){let Oe={x:0,y:0};const Be=tt=>{var Xe,Ue;Oe={x:Math.abs(Math.round(tt.pageX)-(((Xe=G.current)==null?void 0:Xe.x)??0)),y:Math.abs(Math.round(tt.pageY)-(((Ue=G.current)==null?void 0:Ue.y)??0))}},Te=tt=>{Oe.x<=10&&Oe.y<=10?tt.preventDefault():k.contains(tt.target)||q(!1),document.removeEventListener("pointermove",Be),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",Te,{capture:!0})}}},[k,q,G]),A.useEffect(()=>{const Oe=()=>q(!1);return window.addEventListener("blur",Oe),window.addEventListener("resize",Oe),()=>{window.removeEventListener("blur",Oe),window.removeEventListener("resize",Oe)}},[q]);const[Q,ne]=ZE(Oe=>{const Be=ae().filter(Xe=>!Xe.disabled),Te=Be.find(Xe=>Xe.ref.current===document.activeElement),tt=JE(Be,Oe,Te);tt&&setTimeout(()=>tt.ref.current.focus())}),ce=A.useCallback((Oe,Be,Te)=>{const tt=!te.current&&!Te;(I.value!==void 0&&I.value===Be||tt)&&(X(Oe),tt&&(te.current=!0))},[I.value]),ge=A.useCallback(()=>k==null?void 0:k.focus(),[k]),Ne=A.useCallback((Oe,Be,Te)=>{const tt=!te.current&&!Te;(I.value!==void 0&&I.value===Be||tt)&&xe(Oe)},[I.value]),ot=r==="popper"?U1:LE,he=ot===U1?{side:g,sideOffset:x,align:y,alignOffset:w,arrowPadding:C,collisionBoundary:b,collisionPadding:R,sticky:O,hideWhenDetached:_,avoidCollisions:B}:{};return S.jsx(kE,{scope:n,content:k,viewport:$,onViewportChange:J,itemRefCallback:ce,selectedItem:Z,onItemLeave:ge,itemTextRefCallback:Ne,focusSelectedItem:le,selectedItemText:de,position:r,isPositioned:ye,searchRef:Q,children:S.jsx(fh,{as:gs,allowPinchZoom:!0,children:S.jsx(ch,{asChild:!0,trapped:I.open,onMountAutoFocus:Oe=>{Oe.preventDefault()},onUnmountAutoFocus:Le(s,Oe=>{var Be;(Be=I.trigger)==null||Be.focus({preventScroll:!0}),Oe.preventDefault()}),children:S.jsx(Pl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:Oe=>Oe.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:S.jsx(ot,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:Oe=>Oe.preventDefault(),...M,...he,onPlaced:()=>pe(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Le(M.onKeyDown,Oe=>{const Be=Oe.ctrlKey||Oe.altKey||Oe.metaKey;if(Oe.key==="Tab"&&Oe.preventDefault(),!Be&&Oe.key.length===1&&ne(Oe.key),["ArrowUp","ArrowDown","Home","End"].includes(Oe.key)){let tt=ae().filter(Xe=>!Xe.disabled).map(Xe=>Xe.ref.current);if(["ArrowUp","End"].includes(Oe.key)&&(tt=tt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Oe.key)){const Xe=Oe.target,Ue=tt.indexOf(Xe);tt=tt.slice(Ue+1)}setTimeout(()=>we(tt)),Oe.preventDefault()}})})})})})})});PE.displayName=QO;var qO="SelectItemAlignedPosition",LE=A.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,c=Ss(la,n),h=As(la,n),[g,x]=A.useState(null),[y,w]=A.useState(null),C=gt(t,Y=>w(Y)),b=xh(n),R=A.useRef(!1),O=A.useRef(!0),{viewport:_,selectedItem:B,selectedItemText:M,focusSelectedItem:I}=h,k=A.useCallback(()=>{if(c.trigger&&c.valueNode&&g&&y&&_&&B&&M){const Y=c.trigger.getBoundingClientRect(),Z=y.getBoundingClientRect(),X=c.valueNode.getBoundingClientRect(),de=M.getBoundingClientRect();if(c.dir!=="rtl"){const Xe=de.left-Z.left,Ue=X.left-Xe,Ce=Y.left-Ue,ze=Y.width+Ce,Ye=Math.max(ze,Z.width),nt=window.innerWidth-Ci,it=L1(Ue,[Ci,Math.max(Ci,nt-Ye)]);g.style.minWidth=ze+"px",g.style.left=it+"px"}else{const Xe=Z.right-de.right,Ue=window.innerWidth-X.right-Xe,Ce=window.innerWidth-Y.right-Ue,ze=Y.width+Ce,Ye=Math.max(ze,Z.width),nt=window.innerWidth-Ci,it=L1(Ue,[Ci,Math.max(Ci,nt-Ye)]);g.style.minWidth=ze+"px",g.style.right=it+"px"}const xe=b(),ae=window.innerHeight-Ci*2,ye=_.scrollHeight,pe=window.getComputedStyle(y),te=parseInt(pe.borderTopWidth,10),we=parseInt(pe.paddingTop,10),le=parseInt(pe.borderBottomWidth,10),q=parseInt(pe.paddingBottom,10),G=te+we+ye+q+le,Q=Math.min(B.offsetHeight*5,G),ne=window.getComputedStyle(_),ce=parseInt(ne.paddingTop,10),ge=parseInt(ne.paddingBottom,10),Ne=Y.top+Y.height/2-Ci,ot=ae-Ne,he=B.offsetHeight/2,Oe=B.offsetTop+he,Be=te+we+Oe,Te=G-Be;if(Be<=Ne){const Xe=xe.length>0&&B===xe[xe.length-1].ref.current;g.style.bottom="0px";const Ue=y.clientHeight-_.offsetTop-_.offsetHeight,Ce=Math.max(ot,he+(Xe?ge:0)+Ue+le),ze=Be+Ce;g.style.height=ze+"px"}else{const Xe=xe.length>0&&B===xe[0].ref.current;g.style.top="0px";const Ce=Math.max(Ne,te+_.offsetTop+(Xe?ce:0)+he)+Te;g.style.height=Ce+"px",_.scrollTop=Be-Ne+_.offsetTop}g.style.margin=`${Ci}px 0`,g.style.minHeight=Q+"px",g.style.maxHeight=ae+"px",r==null||r(),requestAnimationFrame(()=>R.current=!0)}},[b,c.trigger,c.valueNode,g,y,_,B,M,c.dir,r]);zn(()=>k(),[k]);const[U,$]=A.useState();zn(()=>{y&&$(window.getComputedStyle(y).zIndex)},[y]);const J=A.useCallback(Y=>{Y&&O.current===!0&&(k(),I==null||I(),O.current=!1)},[k,I]);return S.jsx(JO,{scope:n,contentWrapper:g,shouldExpandOnScrollRef:R,onScrollButtonChange:J,children:S.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:S.jsx(rt.div,{...s,ref:C,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});LE.displayName=qO;var ZO="SelectPopperPosition",U1=A.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ci,...c}=e,h=vh(n);return S.jsx(Cg,{...h,...c,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});U1.displayName=ZO;var[JO,Hg]=Hl(la,{}),z1="SelectViewport",BE=A.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,c=As(z1,n),h=Hg(z1,n),g=gt(t,c.onViewportChange),x=A.useRef(0);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),S.jsx(yh.Slot,{scope:n,children:S.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:g,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Le(s.onScroll,y=>{const w=y.currentTarget,{contentWrapper:C,shouldExpandOnScrollRef:b}=h;if(b!=null&&b.current&&C){const R=Math.abs(x.current-w.scrollTop);if(R>0){const O=window.innerHeight-Ci*2,_=parseFloat(C.style.minHeight),B=parseFloat(C.style.height),M=Math.max(_,B);if(M<O){const I=M+R,k=Math.min(O,I),U=I-k;C.style.height=k+"px",C.style.bottom==="0px"&&(w.scrollTop=U>0?U:0,C.style.justifyContent="flex-end")}}}x.current=w.scrollTop})})})]})});BE.displayName=z1;var jE="SelectGroup",[eD,tD]=Hl(jE),nD=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Mi();return S.jsx(eD,{scope:n,id:s,children:S.jsx(rt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});nD.displayName=jE;var FE="SelectLabel",UE=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=tD(FE,n);return S.jsx(rt.div,{id:s.id,...r,ref:t})});UE.displayName=FE;var Cf="SelectItem",[rD,zE]=Hl(Cf),HE=A.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:c,...h}=e,g=Ss(Cf,n),x=As(Cf,n),y=g.value===r,[w,C]=A.useState(c??""),[b,R]=A.useState(!1),O=gt(t,I=>{var k;return(k=x.itemRefCallback)==null?void 0:k.call(x,I,r,s)}),_=Mi(),B=A.useRef("touch"),M=()=>{s||(g.onValueChange(r),g.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return S.jsx(rD,{scope:n,value:r,disabled:s,textId:_,isSelected:y,onItemTextChange:A.useCallback(I=>{C(k=>k||((I==null?void 0:I.textContent)??"").trim())},[]),children:S.jsx(yh.ItemSlot,{scope:n,value:r,disabled:s,textValue:w,children:S.jsx(rt.div,{role:"option","aria-labelledby":_,"data-highlighted":b?"":void 0,"aria-selected":y&&b,"data-state":y?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...h,ref:O,onFocus:Le(h.onFocus,()=>R(!0)),onBlur:Le(h.onBlur,()=>R(!1)),onClick:Le(h.onClick,()=>{B.current!=="mouse"&&M()}),onPointerUp:Le(h.onPointerUp,()=>{B.current==="mouse"&&M()}),onPointerDown:Le(h.onPointerDown,I=>{B.current=I.pointerType}),onPointerMove:Le(h.onPointerMove,I=>{var k;B.current=I.pointerType,s?(k=x.onItemLeave)==null||k.call(x):B.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(h.onPointerLeave,I=>{var k;I.currentTarget===document.activeElement&&((k=x.onItemLeave)==null||k.call(x))}),onKeyDown:Le(h.onKeyDown,I=>{var U;((U=x.searchRef)==null?void 0:U.current)!==""&&I.key===" "||(VO.includes(I.key)&&M(),I.key===" "&&I.preventDefault())})})})})});HE.displayName=Cf;var bc="SelectItemText",VE=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...c}=e,h=Ss(bc,n),g=As(bc,n),x=zE(bc,n),y=$O(bc,n),[w,C]=A.useState(null),b=gt(t,M=>C(M),x.onItemTextChange,M=>{var I;return(I=g.itemTextRefCallback)==null?void 0:I.call(g,M,x.value,x.disabled)}),R=w==null?void 0:w.textContent,O=A.useMemo(()=>S.jsx("option",{value:x.value,disabled:x.disabled,children:R},x.value),[x.disabled,x.value,R]),{onNativeOptionAdd:_,onNativeOptionRemove:B}=y;return zn(()=>(_(O),()=>B(O)),[_,B,O]),S.jsxs(S.Fragment,{children:[S.jsx(rt.span,{id:x.textId,...c,ref:b}),x.isSelected&&h.valueNode&&!h.valueNodeHasChildren?ha.createPortal(c.children,h.valueNode):null]})});VE.displayName=bc;var WE="SelectItemIndicator",GE=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return zE(WE,n).isSelected?S.jsx(rt.span,{"aria-hidden":!0,...r,ref:t}):null});GE.displayName=WE;var H1="SelectScrollUpButton",YE=A.forwardRef((e,t)=>{const n=As(H1,e.__scopeSelect),r=Hg(H1,e.__scopeSelect),[s,c]=A.useState(!1),h=gt(t,r.onScrollButtonChange);return zn(()=>{if(n.viewport&&n.isPositioned){let g=function(){const y=x.scrollTop>0;c(y)};const x=n.viewport;return g(),x.addEventListener("scroll",g),()=>x.removeEventListener("scroll",g)}},[n.viewport,n.isPositioned]),s?S.jsx(KE,{...e,ref:h,onAutoScroll:()=>{const{viewport:g,selectedItem:x}=n;g&&x&&(g.scrollTop=g.scrollTop-x.offsetHeight)}}):null});YE.displayName=H1;var V1="SelectScrollDownButton",$E=A.forwardRef((e,t)=>{const n=As(V1,e.__scopeSelect),r=Hg(V1,e.__scopeSelect),[s,c]=A.useState(!1),h=gt(t,r.onScrollButtonChange);return zn(()=>{if(n.viewport&&n.isPositioned){let g=function(){const y=x.scrollHeight-x.clientHeight,w=Math.ceil(x.scrollTop)<y;c(w)};const x=n.viewport;return g(),x.addEventListener("scroll",g),()=>x.removeEventListener("scroll",g)}},[n.viewport,n.isPositioned]),s?S.jsx(KE,{...e,ref:h,onAutoScroll:()=>{const{viewport:g,selectedItem:x}=n;g&&x&&(g.scrollTop=g.scrollTop+x.offsetHeight)}}):null});$E.displayName=V1;var KE=A.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,c=As("SelectScrollButton",n),h=A.useRef(null),g=xh(n),x=A.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return A.useEffect(()=>()=>x(),[x]),zn(()=>{var w;const y=g().find(C=>C.ref.current===document.activeElement);(w=y==null?void 0:y.ref.current)==null||w.scrollIntoView({block:"nearest"})},[g]),S.jsx(rt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Le(s.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(r,50))}),onPointerMove:Le(s.onPointerMove,()=>{var y;(y=c.onItemLeave)==null||y.call(c),h.current===null&&(h.current=window.setInterval(r,50))}),onPointerLeave:Le(s.onPointerLeave,()=>{x()})})}),iD="SelectSeparator",XE=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return S.jsx(rt.div,{"aria-hidden":!0,...r,ref:t})});XE.displayName=iD;var W1="SelectArrow",oD=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vh(n),c=Ss(W1,n),h=As(W1,n);return c.open&&h.position==="popper"?S.jsx(bg,{...s,...r,ref:t}):null});oD.displayName=W1;function QE(e){return e===""||e===void 0}var qE=A.forwardRef((e,t)=>{const{value:n,...r}=e,s=A.useRef(null),c=gt(t,s),h=AE(n);return A.useEffect(()=>{const g=s.current,x=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(x,"value").set;if(h!==n&&w){const C=new Event("change",{bubbles:!0});w.call(g,n),g.dispatchEvent(C)}},[h,n]),S.jsx(Cu,{asChild:!0,children:S.jsx("select",{...r,ref:c,defaultValue:n})})});qE.displayName="BubbleSelect";function ZE(e){const t=on(e),n=A.useRef(""),r=A.useRef(0),s=A.useCallback(h=>{const g=n.current+h;t(g),function x(y){n.current=y,window.clearTimeout(r.current),y!==""&&(r.current=window.setTimeout(()=>x(""),1e3))}(g)},[t]),c=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,c]}function JE(e,t,n){const s=t.length>1&&Array.from(t).every(y=>y===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let h=sD(e,Math.max(c,0));s.length===1&&(h=h.filter(y=>y!==n));const x=h.find(y=>y.textValue.toLowerCase().startsWith(s.toLowerCase()));return x!==n?x:void 0}function sD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aD=TE,eS=IE,lD=NE,cD=ME,uD=OE,tS=DE,dD=BE,nS=UE,rS=HE,fD=VE,hD=GE,iS=YE,oS=$E,sS=XE;const pD=aD,gD=lD,aS=A.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(eS,{ref:r,className:Je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,S.jsx(cD,{asChild:!0,children:S.jsx(Hw,{className:"h-4 w-4 opacity-50"})})]}));aS.displayName=eS.displayName;const lS=A.forwardRef(({className:e,...t},n)=>S.jsx(iS,{ref:n,className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:S.jsx(j4,{className:"h-4 w-4"})}));lS.displayName=iS.displayName;const cS=A.forwardRef(({className:e,...t},n)=>S.jsx(oS,{ref:n,className:Je("flex cursor-default items-center justify-center py-1",e),...t,children:S.jsx(Hw,{className:"h-4 w-4"})}));cS.displayName=oS.displayName;const uS=A.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>S.jsx(uD,{children:S.jsxs(tS,{ref:s,className:Je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[S.jsx(lS,{}),S.jsx(dD,{className:Je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),S.jsx(cS,{})]})}));uS.displayName=tS.displayName;const mD=A.forwardRef(({className:e,...t},n)=>S.jsx(nS,{ref:n,className:Je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mD.displayName=nS.displayName;const za=A.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(rS,{ref:r,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[S.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:S.jsx(hD,{children:S.jsx(zw,{className:"h-4 w-4"})})}),S.jsx(fD,{children:t})]}));za.displayName=rS.displayName;const yD=A.forwardRef(({className:e,...t},n)=>S.jsx(sS,{ref:n,className:Je("-mx-1 my-1 h-px bg-muted",e),...t}));yD.displayName=sS.displayName;const xD=()=>{const[e,t]=A.useState(""),[n,r]=A.useState("all"),s=kc.filter(c=>{const h=c.title.toLowerCase().includes(e.toLowerCase())||c.description.toLowerCase().includes(e.toLowerCase()),g=n==="all"||c.status===n;return h&&g});return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-white",children:"Contracts"}),S.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your hauling contracts"})]}),S.jsxs(Bn,{className:"bg-neon-blue text-space-dark hover:bg-neon-blue/90",children:[S.jsx(Ww,{className:"mr-2 h-4 w-4"}),"New Contract"]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[S.jsxs("div",{className:"md:col-span-3 relative",children:[S.jsx($w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),S.jsx(Nl,{placeholder:"Search contracts...",className:"pl-10 bg-space-medium border-neon-blue/20 focus:border-neon-blue",value:e,onChange:c=>t(c.target.value)})]}),S.jsx("div",{children:S.jsxs(pD,{value:n,onValueChange:r,children:[S.jsx(aS,{className:"bg-space-medium border-neon-blue/20 focus:border-neon-blue",children:S.jsx(gD,{placeholder:"Filter by status"})}),S.jsxs(uS,{children:[S.jsx(za,{value:"all",children:"All Statuses"}),S.jsx(za,{value:"pending",children:"Pending"}),S.jsx(za,{value:"in-progress",children:"In Progress"}),S.jsx(za,{value:"completed",children:"Completed"}),S.jsx(za,{value:"failed",children:"Failed"})]})]})})]}),S.jsx("div",{className:"holographic-panel rounded-lg p-4 border border-neon-blue/20",children:S.jsx(CE,{contracts:s})})]})};var Vg="Collapsible",[vD,d7]=Oo(Vg),[wD,Wg]=vD(Vg),dS=A.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:c,onOpenChange:h,...g}=e,[x=!1,y]=Io({prop:r,defaultProp:s,onChange:h});return S.jsx(wD,{scope:n,disabled:c,contentId:Mi(),open:x,onOpenToggle:A.useCallback(()=>y(w=>!w),[y]),children:S.jsx(rt.div,{"data-state":Yg(x),"data-disabled":c?"":void 0,...g,ref:t})})});dS.displayName=Vg;var fS="CollapsibleTrigger",hS=A.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Wg(fS,n);return S.jsx(rt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Yg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:Le(e.onClick,s.onOpenToggle)})});hS.displayName=fS;var Gg="CollapsibleContent",pS=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Wg(Gg,e.__scopeCollapsible);return S.jsx(vr,{present:n||s.open,children:({present:c})=>S.jsx(CD,{...r,ref:t,present:c})})});pS.displayName=Gg;var CD=A.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...c}=e,h=Wg(Gg,n),[g,x]=A.useState(r),y=A.useRef(null),w=gt(t,y),C=A.useRef(0),b=C.current,R=A.useRef(0),O=R.current,_=h.open||g,B=A.useRef(_),M=A.useRef();return A.useEffect(()=>{const I=requestAnimationFrame(()=>B.current=!1);return()=>cancelAnimationFrame(I)},[]),zn(()=>{const I=y.current;if(I){M.current=M.current||{transitionDuration:I.style.transitionDuration,animationName:I.style.animationName},I.style.transitionDuration="0s",I.style.animationName="none";const k=I.getBoundingClientRect();C.current=k.height,R.current=k.width,B.current||(I.style.transitionDuration=M.current.transitionDuration,I.style.animationName=M.current.animationName),x(r)}},[h.open,r]),S.jsx(rt.div,{"data-state":Yg(h.open),"data-disabled":h.disabled?"":void 0,id:h.contentId,hidden:!_,...c,ref:w,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":O?`${O}px`:void 0,...e.style},children:_&&s})});function Yg(e){return e?"open":"closed"}var bD=dS;const ED=bD,SD=hS,AD=pS,TD="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let _D=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=TD[n[e]&63];return t};var ID={exports:{}};(function(e){var t=function(n){var r=Object.prototype,s=r.hasOwnProperty,c=Object.defineProperty||function(G,Q,ne){G[Q]=ne.value},h,g=typeof Symbol=="function"?Symbol:{},x=g.iterator||"@@iterator",y=g.asyncIterator||"@@asyncIterator",w=g.toStringTag||"@@toStringTag";function C(G,Q,ne){return Object.defineProperty(G,Q,{value:ne,enumerable:!0,configurable:!0,writable:!0}),G[Q]}try{C({},"")}catch{C=function(Q,ne,ce){return Q[ne]=ce}}function b(G,Q,ne,ce){var ge=Q&&Q.prototype instanceof k?Q:k,Ne=Object.create(ge.prototype),ot=new we(ce||[]);return c(Ne,"_invoke",{value:ae(G,ne,ot)}),Ne}n.wrap=b;function R(G,Q,ne){try{return{type:"normal",arg:G.call(Q,ne)}}catch(ce){return{type:"throw",arg:ce}}}var O="suspendedStart",_="suspendedYield",B="executing",M="completed",I={};function k(){}function U(){}function $(){}var J={};C(J,x,function(){return this});var Y=Object.getPrototypeOf,Z=Y&&Y(Y(le([])));Z&&Z!==r&&s.call(Z,x)&&(J=Z);var X=$.prototype=k.prototype=Object.create(J);U.prototype=$,c(X,"constructor",{value:$,configurable:!0}),c($,"constructor",{value:U,configurable:!0}),U.displayName=C($,w,"GeneratorFunction");function de(G){["next","throw","return"].forEach(function(Q){C(G,Q,function(ne){return this._invoke(Q,ne)})})}n.isGeneratorFunction=function(G){var Q=typeof G=="function"&&G.constructor;return Q?Q===U||(Q.displayName||Q.name)==="GeneratorFunction":!1},n.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,$):(G.__proto__=$,C(G,w,"GeneratorFunction")),G.prototype=Object.create(X),G},n.awrap=function(G){return{__await:G}};function xe(G,Q){function ne(Ne,ot,he,Oe){var Be=R(G[Ne],G,ot);if(Be.type==="throw")Oe(Be.arg);else{var Te=Be.arg,tt=Te.value;return tt&&typeof tt=="object"&&s.call(tt,"__await")?Q.resolve(tt.__await).then(function(Xe){ne("next",Xe,he,Oe)},function(Xe){ne("throw",Xe,he,Oe)}):Q.resolve(tt).then(function(Xe){Te.value=Xe,he(Te)},function(Xe){return ne("throw",Xe,he,Oe)})}}var ce;function ge(Ne,ot){function he(){return new Q(function(Oe,Be){ne(Ne,ot,Oe,Be)})}return ce=ce?ce.then(he,he):he()}c(this,"_invoke",{value:ge})}de(xe.prototype),C(xe.prototype,y,function(){return this}),n.AsyncIterator=xe,n.async=function(G,Q,ne,ce,ge){ge===void 0&&(ge=Promise);var Ne=new xe(b(G,Q,ne,ce),ge);return n.isGeneratorFunction(Q)?Ne:Ne.next().then(function(ot){return ot.done?ot.value:Ne.next()})};function ae(G,Q,ne){var ce=O;return function(Ne,ot){if(ce===B)throw new Error("Generator is already running");if(ce===M){if(Ne==="throw")throw ot;return q()}for(ne.method=Ne,ne.arg=ot;;){var he=ne.delegate;if(he){var Oe=ye(he,ne);if(Oe){if(Oe===I)continue;return Oe}}if(ne.method==="next")ne.sent=ne._sent=ne.arg;else if(ne.method==="throw"){if(ce===O)throw ce=M,ne.arg;ne.dispatchException(ne.arg)}else ne.method==="return"&&ne.abrupt("return",ne.arg);ce=B;var Be=R(G,Q,ne);if(Be.type==="normal"){if(ce=ne.done?M:_,Be.arg===I)continue;return{value:Be.arg,done:ne.done}}else Be.type==="throw"&&(ce=M,ne.method="throw",ne.arg=Be.arg)}}}function ye(G,Q){var ne=Q.method,ce=G.iterator[ne];if(ce===h)return Q.delegate=null,ne==="throw"&&G.iterator.return&&(Q.method="return",Q.arg=h,ye(G,Q),Q.method==="throw")||ne!=="return"&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+ne+"' method")),I;var ge=R(ce,G.iterator,Q.arg);if(ge.type==="throw")return Q.method="throw",Q.arg=ge.arg,Q.delegate=null,I;var Ne=ge.arg;if(!Ne)return Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,I;if(Ne.done)Q[G.resultName]=Ne.value,Q.next=G.nextLoc,Q.method!=="return"&&(Q.method="next",Q.arg=h);else return Ne;return Q.delegate=null,I}de(X),C(X,w,"Generator"),C(X,x,function(){return this}),C(X,"toString",function(){return"[object Generator]"});function pe(G){var Q={tryLoc:G[0]};1 in G&&(Q.catchLoc=G[1]),2 in G&&(Q.finallyLoc=G[2],Q.afterLoc=G[3]),this.tryEntries.push(Q)}function te(G){var Q=G.completion||{};Q.type="normal",delete Q.arg,G.completion=Q}function we(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(pe,this),this.reset(!0)}n.keys=function(G){var Q=Object(G),ne=[];for(var ce in Q)ne.push(ce);return ne.reverse(),function ge(){for(;ne.length;){var Ne=ne.pop();if(Ne in Q)return ge.value=Ne,ge.done=!1,ge}return ge.done=!0,ge}};function le(G){if(G){var Q=G[x];if(Q)return Q.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length)){var ne=-1,ce=function ge(){for(;++ne<G.length;)if(s.call(G,ne))return ge.value=G[ne],ge.done=!1,ge;return ge.value=h,ge.done=!0,ge};return ce.next=ce}}return{next:q}}n.values=le;function q(){return{value:h,done:!0}}return we.prototype={constructor:we,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(te),!G)for(var Q in this)Q.charAt(0)==="t"&&s.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=h)},stop:function(){this.done=!0;var G=this.tryEntries[0],Q=G.completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var Q=this;function ne(Oe,Be){return Ne.type="throw",Ne.arg=G,Q.next=Oe,Be&&(Q.method="next",Q.arg=h),!!Be}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ge=this.tryEntries[ce],Ne=ge.completion;if(ge.tryLoc==="root")return ne("end");if(ge.tryLoc<=this.prev){var ot=s.call(ge,"catchLoc"),he=s.call(ge,"finallyLoc");if(ot&&he){if(this.prev<ge.catchLoc)return ne(ge.catchLoc,!0);if(this.prev<ge.finallyLoc)return ne(ge.finallyLoc)}else if(ot){if(this.prev<ge.catchLoc)return ne(ge.catchLoc,!0)}else if(he){if(this.prev<ge.finallyLoc)return ne(ge.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(G,Q){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var ce=this.tryEntries[ne];if(ce.tryLoc<=this.prev&&s.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ge=ce;break}}ge&&(G==="break"||G==="continue")&&ge.tryLoc<=Q&&Q<=ge.finallyLoc&&(ge=null);var Ne=ge?ge.completion:{};return Ne.type=G,Ne.arg=Q,ge?(this.method="next",this.next=ge.finallyLoc,I):this.complete(Ne)},complete:function(G,Q){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&Q&&(this.next=Q),I},finish:function(G){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ne=this.tryEntries[Q];if(ne.finallyLoc===G)return this.complete(ne.completion,ne.afterLoc),te(ne),I}},catch:function(G){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ne=this.tryEntries[Q];if(ne.tryLoc===G){var ce=ne.completion;if(ce.type==="throw"){var ge=ce.arg;te(ne)}return ge}}throw new Error("illegal catch attempt")},delegateYield:function(G,Q,ne){return this.delegate={iterator:le(G),resultName:Q,nextLoc:ne},this.method==="next"&&(this.arg=h),I}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(ID);var $g=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const RD=$g;let fx=0;var gS=({id:e,action:t,payload:n={}})=>{let r=e;return typeof r>"u"&&(r=RD("Job",fx),fx+=1),{id:r,action:t,payload:n}},Vl={};let Kg=!1;Vl.logging=Kg;Vl.setLogging=e=>{Kg=e};Vl.log=(...e)=>Kg?console.log.apply(void 0,e):null;const ND=gS,{log:ud}=Vl,MD=$g;let hx=0;var OD=()=>{const e=MD("Scheduler",hx),t={},n={};let r=[];hx+=1;const s=()=>r.length,c=()=>Object.keys(t).length,h=()=>{if(r.length!==0){const C=Object.keys(t);for(let b=0;b<C.length;b+=1)if(typeof n[C[b]]>"u"){r[0](t[C[b]]);break}}},g=(C,b)=>new Promise((R,O)=>{const _=ND({action:C,payload:b});r.push(async B=>{r.shift(),n[B.id]=_;try{R(await B[C].apply(void 0,[...b,_.id]))}catch(M){O(M)}finally{delete n[B.id],h()}}),ud(`[${e}]: Add ${_.id} to JobQueue`),ud(`[${e}]: JobQueue length=${r.length}`),h()});return{addWorker:C=>(t[C.id]=C,ud(`[${e}]: Add ${C.id}`),ud(`[${e}]: Number of workers=${c()}`),h(),C.id),addJob:async(C,...b)=>{if(c()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return g(C,b)},terminate:async()=>{Object.keys(t).forEach(async C=>{await t[C].terminate()}),r=[]},getQueueLen:s,getNumWorkers:c}};function DD(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kD=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof DD=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const PD=kD("type")==="browser",LD=PD?e=>new URL(e,window.location.href).href:e=>e;var BD=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(t[n]=LD(t[n]))}),t},mS={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const jD="tesseract.js",FD="6.0.1",UD="Pure Javascript Multilingual OCR",zD="src/index.js",HD="commonjs",VD="src/index.d.ts",WD="dist/tesseract.min.js",GD="dist/tesseract.min.js",YD={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},$D={"./src/worker/node/index.js":"./src/worker/browser/index.js"},KD="",XD=["jeromewu"],QD="Apache-2.0",qD={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},ZD={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},JD={"@rollup/pluginutils":"^5.0.2"},ek={type:"git",url:"https://github.com/naptha/tesseract.js.git"},tk={url:"https://github.com/naptha/tesseract.js/issues"},nk="https://github.com/naptha/tesseract.js",rk={type:"opencollective",url:"https://opencollective.com/tesseractjs"},ik={name:jD,version:FD,description:UD,main:zD,type:HD,types:VD,unpkg:WD,jsdelivr:GD,scripts:YD,browser:$D,author:KD,contributors:XD,license:QD,devDependencies:qD,dependencies:ZD,overrides:JD,repository:ek,bugs:tk,homepage:nk,collective:rk};var ok={workerBlobURL:!0,logger:()=>{}};const sk=ik.version,ak=ok;var lk={...ak,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${sk}/dist/worker.min.js`},ck=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const r=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(e);return n},uk=e=>{e.terminate()},dk=(e,t)=>{e.onmessage=({data:n})=>{t(n)}},fk=async(e,t)=>{e.postMessage(t)};const m0=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:s}}})=>{n(Error(`File could not be read! Code=${s}`))},r.readAsArrayBuffer(e)}),G1=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await G1(e.src)),e.tagName==="VIDEO"&&(t=await G1(e.poster)),e.tagName==="CANVAS"&&await new Promise(n=>{e.toBlob(async r=>{t=await m0(r),n()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();t=await m0(n)}else(e instanceof File||e instanceof Blob)&&(t=await m0(e));return new Uint8Array(t)};var hk=G1;const pk=lk,gk=ck,mk=uk,yk=dk,xk=fk,vk=hk;var wk={defaultOptions:pk,spawnWorker:gk,terminateWorker:mk,onMessage:yk,send:xk,loadImage:vk};const Ck=BD,Vi=gS,{log:px}=Vl,bk=$g,zs=mS,{defaultOptions:Ek,spawnWorker:Sk,terminateWorker:Ak,onMessage:Tk,loadImage:gx,send:_k}=wk;let mx=0;var yS=async(e="eng",t=zs.LSTM_ONLY,n={},r={})=>{const s=bk("Worker",mx),{logger:c,errorHandler:h,...g}=Ck({...Ek,...n}),x={},y=typeof e=="string"?e.split("+"):e;let w=t,C=r;const b=[zs.DEFAULT,zs.LSTM_ONLY].includes(t)&&!g.legacyCore;let R,O;const _=new Promise((le,q)=>{O=le,R=q}),B=le=>{R(le.message)};let M=Sk(g);M.onerror=B,mx+=1;const I=({id:le,action:q,payload:G})=>new Promise((Q,ne)=>{px(`[${s}]: Start ${le}, action=${q}`);const ce=`${q}-${le}`;x[ce]={resolve:Q,reject:ne},_k(M,{workerId:s,jobId:le,action:q,payload:G})}),k=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),U=le=>I(Vi({id:le,action:"load",payload:{options:{lstmOnly:b,corePath:g.corePath,logging:g.logging}}})),$=(le,q,G)=>I(Vi({id:G,action:"FS",payload:{method:"writeFile",args:[le,q]}})),J=(le,q)=>I(Vi({id:q,action:"FS",payload:{method:"readFile",args:[le,{encoding:"utf8"}]}})),Y=(le,q)=>I(Vi({id:q,action:"FS",payload:{method:"unlink",args:[le]}})),Z=(le,q,G)=>I(Vi({id:G,action:"FS",payload:{method:le,args:q}})),X=(le,q)=>I(Vi({id:q,action:"loadLanguage",payload:{langs:le,options:{langPath:g.langPath,dataPath:g.dataPath,cachePath:g.cachePath,cacheMethod:g.cacheMethod,gzip:g.gzip,lstmOnly:[zs.DEFAULT,zs.LSTM_ONLY].includes(w)&&!g.legacyLang}}})),de=(le,q,G,Q)=>I(Vi({id:Q,action:"initialize",payload:{langs:le,oem:q,config:G}})),xe=(le="eng",q,G,Q)=>{if(b&&[zs.TESSERACT_ONLY,zs.TESSERACT_LSTM_COMBINED].includes(q))throw Error("Legacy model requested but code missing.");const ne=q||w;w=ne;const ce=G||C;C=ce;const Ne=(typeof le=="string"?le.split("+"):le).filter(ot=>!y.includes(ot));return y.push(...Ne),Ne.length>0?X(Ne,Q).then(()=>de(le,ne,ce,Q)):de(le,ne,ce,Q)},ae=(le={},q)=>I(Vi({id:q,action:"setParameters",payload:{params:le}})),ye=async(le,q={},G={text:!0},Q)=>I(Vi({id:Q,action:"recognize",payload:{image:await gx(le),options:q,output:G}})),pe=async(le,q)=>{if(b)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return I(Vi({id:q,action:"detect",payload:{image:await gx(le)}}))},te=async()=>(M!==null&&(Ak(M),M=null),Promise.resolve());Tk(M,({workerId:le,jobId:q,status:G,action:Q,data:ne})=>{const ce=`${Q}-${q}`;if(G==="resolve")px(`[${le}]: Complete ${q}`),x[ce].resolve({jobId:q,data:ne}),delete x[ce];else if(G==="reject")if(x[ce].reject(ne),delete x[ce],Q==="load"&&R(ne),h)h(ne);else throw Error(ne);else G==="progress"&&c({...ne,userJobId:q})});const we={id:s,worker:M,load:k,writeText:$,readText:J,removeFile:Y,FS:Z,reinitialize:xe,setParameters:ae,recognize:ye,detect:pe,terminate:te};return U().then(()=>X(e)).then(()=>de(e,t,r)).then(()=>O(we)).catch(()=>{}),_};const xS=yS,Ik=async(e,t,n)=>{const r=await xS(t,1,n);return r.recognize(e).finally(async()=>{await r.terminate()})},Rk=async(e,t)=>{const n=await xS("osd",0,t);return n.detect(e).finally(async()=>{await n.terminate()})};var Nk={recognize:Ik,detect:Rk},Mk={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Ok={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const Dk=OD,kk=yS,Pk=Nk,Lk=Mk,Bk=mS,jk=Ok,{setLogging:Fk}=Vl;var Uk={languages:Lk,OEM:Bk,PSM:jk,createScheduler:Dk,createWorker:kk,setLogging:Fk,...Pk};const yx=ua(Uk);class zk{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return Hk(t).buffer}}function Hk(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e){const c=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(c,r),r+=s.byteLength}return n}function vS(e){return new Vk(e).unpack()}function wS(e){const t=new Wk,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class Vk{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,s="",c,h;for(;r<t;)c=n[r],c<160?(h=c,r++):(c^192)<32?(h=(c&31)<<6|n[r+1]&63,r+=2):(c^224)<16?(h=(c&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(h=(c&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(h);return this.index+=t,s}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,s=t&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,s=(t>>20&2047)-1023,h=(t&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*h}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class Wk{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const c=this.pack(t[s]);return c instanceof Promise?c.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),s=t/2**r-1,c=Math.floor(s*2**52),h=2**32,g=n<<31|r+1023<<20|c/h&1048575,x=c%h;this._bufferBuilder.append(203),this.pack_int32(g),this.pack_int32(x)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=c=>{if(c<n.length){const h=n[c];if(t.hasOwnProperty(h)){this.pack(h);const g=this.pack(t[h]);if(g instanceof Promise)return g.then(()=>s(c+1))}return s(c+1)}};return s(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new zk,this._textEncoder=new TextEncoder}}let CS=!0,bS=!0;function Ec(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function xa(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(h,g){if(h!==t)return s.apply(this,arguments);const x=y=>{const w=n(y);w&&(g.handleEvent?g.handleEvent(w):g(w))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(g,x),s.apply(this,[h,x])};const c=r.removeEventListener;r.removeEventListener=function(h,g){if(h!==t||!this._eventMap||!this._eventMap[t])return c.apply(this,arguments);if(!this._eventMap[t].has(g))return c.apply(this,arguments);const x=this._eventMap[t].get(g);return this._eventMap[t].delete(g),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[h,x])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(h){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),h&&this.addEventListener(t,this["_on"+t]=h)},enumerable:!0,configurable:!0})}function Gk(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(CS=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Yk(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(bS=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function ES(){if(typeof window=="object"){if(CS)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Xg(e,t){bS&&console.warn(e+" is deprecated, please use "+t+" instead.")}function $k(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(Ec(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(Ec(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(Ec(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=Ec(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function xx(e){return Object.prototype.toString.call(e)==="[object Object]"}function SS(e){return xx(e)?Object.keys(e).reduce(function(t,n){const r=xx(e[n]),s=r?SS(e[n]):e[n],c=r&&!Object.keys(s).length;return s===void 0||c?t:Object.assign(t,{[n]:s})},{}):e}function Y1(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?Y1(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(s=>{Y1(e,e.get(s),n)})}))}function vx(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const c=[];return e.forEach(h=>{h.type==="track"&&h.trackIdentifier===t.id&&c.push(h)}),c.forEach(h=>{e.forEach(g=>{g.type===r&&g.trackId===h.id&&Y1(e,g,s)})}),s}const wx=ES;function AS(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(g){if(typeof g!="object"||g.mandatory||g.optional)return g;const x={};return Object.keys(g).forEach(y=>{if(y==="require"||y==="advanced"||y==="mediaSource")return;const w=typeof g[y]=="object"?g[y]:{ideal:g[y]};w.exact!==void 0&&typeof w.exact=="number"&&(w.min=w.max=w.exact);const C=function(b,R){return b?b+R.charAt(0).toUpperCase()+R.slice(1):R==="deviceId"?"sourceId":R};if(w.ideal!==void 0){x.optional=x.optional||[];let b={};typeof w.ideal=="number"?(b[C("min",y)]=w.ideal,x.optional.push(b),b={},b[C("max",y)]=w.ideal,x.optional.push(b)):(b[C("",y)]=w.ideal,x.optional.push(b))}w.exact!==void 0&&typeof w.exact!="number"?(x.mandatory=x.mandatory||{},x.mandatory[C("",y)]=w.exact):["min","max"].forEach(b=>{w[b]!==void 0&&(x.mandatory=x.mandatory||{},x.mandatory[C(b,y)]=w[b])})}),g.advanced&&(x.optional=(x.optional||[]).concat(g.advanced)),x},s=function(g,x){if(t.version>=61)return x(g);if(g=JSON.parse(JSON.stringify(g)),g&&typeof g.audio=="object"){const y=function(w,C,b){C in w&&!(b in w)&&(w[b]=w[C],delete w[C])};g=JSON.parse(JSON.stringify(g)),y(g.audio,"autoGainControl","googAutoGainControl"),y(g.audio,"noiseSuppression","googNoiseSuppression"),g.audio=r(g.audio)}if(g&&typeof g.video=="object"){let y=g.video.facingMode;y=y&&(typeof y=="object"?y:{ideal:y});const w=t.version<66;if(y&&(y.exact==="user"||y.exact==="environment"||y.ideal==="user"||y.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!w)){delete g.video.facingMode;let C;if(y.exact==="environment"||y.ideal==="environment"?C=["back","rear"]:(y.exact==="user"||y.ideal==="user")&&(C=["front"]),C)return n.mediaDevices.enumerateDevices().then(b=>{b=b.filter(O=>O.kind==="videoinput");let R=b.find(O=>C.some(_=>O.label.toLowerCase().includes(_)));return!R&&b.length&&C.includes("back")&&(R=b[b.length-1]),R&&(g.video.deviceId=y.exact?{exact:R.deviceId}:{ideal:R.deviceId}),g.video=r(g.video),wx("chrome: "+JSON.stringify(g)),x(g)})}g.video=r(g.video)}return wx("chrome: "+JSON.stringify(g)),x(g)},c=function(g){return t.version>=64?g:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[g.name]||g.name,message:g.message,constraint:g.constraint||g.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},h=function(g,x,y){s(g,w=>{n.webkitGetUserMedia(w,x,C=>{y&&y(c(C))})})};if(n.getUserMedia=h.bind(n),n.mediaDevices.getUserMedia){const g=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(x){return s(x,y=>g(y).then(w=>{if(y.audio&&!w.getAudioTracks().length||y.video&&!w.getVideoTracks().length)throw w.getTracks().forEach(C=>{C.stop()}),new DOMException("","NotFoundError");return w},w=>Promise.reject(c(w))))}}}function TS(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function _S(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let c;e.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(g=>g.track&&g.track.id===s.track.id):c={track:s.track};const h=new Event("track");h.track=s.track,h.receiver=c,h.transceiver={receiver:c},h.streams=[r.stream],this.dispatchEvent(h)}),r.stream.getTracks().forEach(s=>{let c;e.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(g=>g.track&&g.track.id===s.id):c={track:s};const h=new Event("track");h.track=s,h.receiver=c,h.transceiver={receiver:c},h.streams=[r.stream],this.dispatchEvent(h)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else xa(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function IS(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=s.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(g,x){let y=s.apply(this,arguments);return y||(y=t(this,g),this._senders.push(y)),y};const c=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(g){c.apply(this,arguments);const x=this._senders.indexOf(g);x!==-1&&this._senders.splice(x,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(h=>{this._senders.push(t(this,h))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],r.apply(this,[c]),c.getTracks().forEach(h=>{const g=this._senders.find(x=>x.track===h);g&&this._senders.splice(this._senders.indexOf(g),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function RS(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(h=>h._pc=this),c});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const c=r.apply(this,arguments);return c._pc=this,c}),e.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(h=>vx(h,c.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(c=>c._pc=this),s}),xa(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(c=>vx(c,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let s,c,h;return this.getSenders().forEach(g=>{g.track===r&&(s?h=!0:s=g)}),this.getReceivers().forEach(g=>(g.track===r&&(c?h=!0:c=g),g.track===r)),h||s&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function NS(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(h=>this._shimmedLocalStreams[h][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(h,g){if(!g)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const x=t.apply(this,arguments);return this._shimmedLocalStreams[g.id]?this._shimmedLocalStreams[g.id].indexOf(x)===-1&&this._shimmedLocalStreams[g.id].push(x):this._shimmedLocalStreams[g.id]=[g,x],x};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(h){this._shimmedLocalStreams=this._shimmedLocalStreams||{},h.getTracks().forEach(y=>{if(this.getSenders().find(C=>C.track===y))throw new DOMException("Track already exists.","InvalidAccessError")});const g=this.getSenders();n.apply(this,arguments);const x=this.getSenders().filter(y=>g.indexOf(y)===-1);this._shimmedLocalStreams[h.id]=[h].concat(x)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(h){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[h.id],r.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(h){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},h&&Object.keys(this._shimmedLocalStreams).forEach(g=>{const x=this._shimmedLocalStreams[g].indexOf(h);x!==-1&&this._shimmedLocalStreams[g].splice(x,1),this._shimmedLocalStreams[g].length===1&&delete this._shimmedLocalStreams[g]}),s.apply(this,arguments)}}function MS(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return NS(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const w=n.apply(this);return this._reverseStreams=this._reverseStreams||{},w.map(C=>this._reverseStreams[C.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(w){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},w.getTracks().forEach(C=>{if(this.getSenders().find(R=>R.track===C))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[w.id]){const C=new e.MediaStream(w.getTracks());this._streams[w.id]=C,this._reverseStreams[C.id]=w,w=C}r.apply(this,[w])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(w){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[w.id]||w]),delete this._reverseStreams[this._streams[w.id]?this._streams[w.id].id:w.id],delete this._streams[w.id]},e.RTCPeerConnection.prototype.addTrack=function(w,C){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const b=[].slice.call(arguments,1);if(b.length!==1||!b[0].getTracks().find(_=>_===w))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(_=>_.track===w))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const O=this._streams[C.id];if(O)O.addTrack(w),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const _=new e.MediaStream([w]);this._streams[C.id]=_,this._reverseStreams[_.id]=C,this.addStream(_)}return this.getSenders().find(_=>_.track===w)};function c(y,w){let C=w.sdp;return Object.keys(y._reverseStreams||[]).forEach(b=>{const R=y._reverseStreams[b],O=y._streams[R.id];C=C.replace(new RegExp(O.id,"g"),R.id)}),new RTCSessionDescription({type:w.type,sdp:C})}function h(y,w){let C=w.sdp;return Object.keys(y._reverseStreams||[]).forEach(b=>{const R=y._reverseStreams[b],O=y._streams[R.id];C=C.replace(new RegExp(R.id,"g"),O.id)}),new RTCSessionDescription({type:w.type,sdp:C})}["createOffer","createAnswer"].forEach(function(y){const w=e.RTCPeerConnection.prototype[y],C={[y](){const b=arguments;return arguments.length&&typeof arguments[0]=="function"?w.apply(this,[O=>{const _=c(this,O);b[0].apply(null,[_])},O=>{b[1]&&b[1].apply(null,O)},arguments[2]]):w.apply(this,arguments).then(O=>c(this,O))}};e.RTCPeerConnection.prototype[y]=C[y]});const g=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?g.apply(this,arguments):(arguments[0]=h(this,arguments[0]),g.apply(this,arguments))};const x=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const y=x.get.apply(this);return y.type===""?y:c(this,y)}}),e.RTCPeerConnection.prototype.removeTrack=function(w){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!w._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(w._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let b;Object.keys(this._streams).forEach(R=>{this._streams[R].getTracks().find(_=>w.track===_)&&(b=this._streams[R])}),b&&(b.getTracks().length===1?this.removeStream(this._reverseStreams[b.id]):b.removeTrack(w.track),this.dispatchEvent(new Event("negotiationneeded")))}}function $1(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=s[n]})}function OS(e,t){xa(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Cx=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:OS,shimAddTrackRemoveTrack:MS,shimAddTrackRemoveTrackWithNative:NS,shimGetSendersWithDtmf:IS,shimGetUserMedia:AS,shimMediaStream:TS,shimOnTrack:_S,shimPeerConnection:$1,shimSenderReceiverGetStats:RS},Symbol.toStringTag,{value:"Module"}));function DS(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(s,c,h){Xg("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(c,h)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(h,g,x){g in h&&!(x in h)&&(h[x]=h[g],delete h[g])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(h){return typeof h=="object"&&typeof h.audio=="object"&&(h=JSON.parse(JSON.stringify(h)),s(h.audio,"autoGainControl","mozAutoGainControl"),s(h.audio,"noiseSuppression","mozNoiseSuppression")),c(h)},r&&r.prototype.getSettings){const h=r.prototype.getSettings;r.prototype.getSettings=function(){const g=h.apply(this,arguments);return s(g,"mozAutoGainControl","autoGainControl"),s(g,"mozNoiseSuppression","noiseSuppression"),g}}if(r&&r.prototype.applyConstraints){const h=r.prototype.applyConstraints;r.prototype.applyConstraints=function(g){return this.kind==="audio"&&typeof g=="object"&&(g=JSON.parse(JSON.stringify(g)),s(g,"autoGainControl","mozAutoGainControl"),s(g,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[g])}}}}function Kk(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function kS(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function K1(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const c=e.RTCPeerConnection.prototype[s],h={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=h[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[c,h,g]=arguments;return r.apply(this,[c||null]).then(x=>{if(t.version<53&&!h)try{x.forEach(y=>{y.type=n[y.type]||y.type})}catch(y){if(y.name!=="TypeError")throw y;x.forEach((w,C)=>{x.set(C,Object.assign({},w,{type:n[w.type]||w.type}))})}return x}).then(h,g)}}function PS(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(c=>c._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function LS(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r}),xa(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function BS(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){Xg("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function jS(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function FS(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(h=>{if("rid"in h&&!/^[a-z0-9]{0,16}$/i.test(h.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in h&&!(parseFloat(h.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in h&&!(parseFloat(h.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=t.apply(this,arguments);if(s){const{sender:h}=c,g=h.getParameters();(!("encodings"in g)||g.encodings.length===1&&Object.keys(g.encodings[0]).length===0)&&(g.encodings=r,h.sendEncodings=r,this.setParametersPromises.push(h.setParameters(g).then(()=>{delete h.sendEncodings}).catch(()=>{delete h.sendEncodings})))}return c})}function US(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function zS(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function HS(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const bx=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:FS,shimCreateAnswer:HS,shimCreateOffer:zS,shimGetDisplayMedia:Kk,shimGetParameters:US,shimGetUserMedia:DS,shimOnTrack:kS,shimPeerConnection:K1,shimRTCDataChannel:jS,shimReceiverGetStats:LS,shimRemoveStream:BS,shimSenderGetStats:PS},Symbol.toStringTag,{value:"Module"}));function VS(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>t.call(this,s,r)),r.getVideoTracks().forEach(s=>t.call(this,s,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(c=>{s.includes(c.track)&&this.removeTrack(c)})})}}function WS(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const c=new Event("addstream");c.stream=s,this.dispatchEvent(c)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(c=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(c)>=0)return;r._remoteStreams.push(c);const h=new Event("addstream");h.stream=c,r.dispatchEvent(h)})}),t.apply(r,arguments)}}}function GS(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,s=t.setLocalDescription,c=t.setRemoteDescription,h=t.addIceCandidate;t.createOffer=function(y,w){const C=arguments.length>=2?arguments[2]:arguments[0],b=n.apply(this,[C]);return w?(b.then(y,w),Promise.resolve()):b},t.createAnswer=function(y,w){const C=arguments.length>=2?arguments[2]:arguments[0],b=r.apply(this,[C]);return w?(b.then(y,w),Promise.resolve()):b};let g=function(x,y,w){const C=s.apply(this,[x]);return w?(C.then(y,w),Promise.resolve()):C};t.setLocalDescription=g,g=function(x,y,w){const C=c.apply(this,[x]);return w?(C.then(y,w),Promise.resolve()):C},t.setRemoteDescription=g,g=function(x,y,w){const C=h.apply(this,[x]);return w?(C.then(y,w),Promise.resolve()):C},t.addIceCandidate=g}function YS(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=s=>r($S(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,s,c){t.mediaDevices.getUserMedia(r).then(s,c)}).bind(t))}function $S(e){return e&&e.video!==void 0?Object.assign({},e,{video:SS(e.video)}):e}function KS(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const c=[];for(let h=0;h<r.iceServers.length;h++){let g=r.iceServers[h];g.urls===void 0&&g.url?(Xg("RTCIceServer.url","RTCIceServer.urls"),g=JSON.parse(JSON.stringify(g)),g.urls=g.url,delete g.url,c.push(g)):c.push(r.iceServers[h])}r.iceServers=c}return new t(r,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function XS(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function QS(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(h=>h.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const c=this.getTransceivers().find(h=>h.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):r.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function qS(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Ex=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:qS,shimCallbacksAPI:GS,shimConstraints:$S,shimCreateOfferLegacy:QS,shimGetUserMedia:YS,shimLocalStreamsAPI:VS,shimRTCIceServerUrls:KS,shimRemoteStreamsAPI:WS,shimTrackEventTransceiver:XS},Symbol.toStringTag,{value:"Module"}));var ZS={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((s,c)=>(c>0?"m="+s:s).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(s=>s.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let c=8;c<r.length;c+=2)switch(r[c]){case"raddr":s.relatedAddress=r[c+1];break;case"rport":s.relatedPort=parseInt(r[c+1],10);break;case"tcptype":s.tcpType=r[c+1];break;case"ufrag":s.ufrag=r[c+1],s.usernameFragment=r[c+1];break;default:s[r[c]]===void 0&&(s[r[c]]=r[c+1]);break}return s},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const c=n.type;return r.push("typ"),r.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let s;const c=n.substring(n.indexOf(" ")+1).split(";");for(let h=0;h<c.length;h++)s=c[h].trim().split("="),r[s[0].trim()]=s[1];return r},t.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(h=>{n.parameters[h]!==void 0?c.push(h+"="+n.parameters[h]):c.push(h)}),r+="a=fmtp:"+s+" "+c.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{r+="a=rtcp-fb:"+s+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},c=n.indexOf(":",r);return c>-1?(s.attribute=n.substring(r+1,c),s.value=n.substring(c+1)):s.attribute=n.substring(r+1),s},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(c=>{s+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),s},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const s=t.matchPrefix(n+r,"a=ice-ufrag:")[0],c=t.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&c?{usernameFragment:s.substring(12),password:c.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=t.splitLines(n)[0].split(" ");r.profile=c[2];for(let g=3;g<c.length;g++){const x=c[g],y=t.matchPrefix(n,"a=rtpmap:"+x+" ")[0];if(y){const w=t.parseRtpMap(y),C=t.matchPrefix(n,"a=fmtp:"+x+" ");switch(w.parameters=C.length?t.parseFmtp(C[0]):{},w.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+x+" ").map(t.parseRtcpFb),r.codecs.push(w),w.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(w.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(g=>{r.headerExtensions.push(t.parseExtmap(g))});const h=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(g=>{h.forEach(x=>{g.rtcpFeedback.find(w=>w.type===x.type&&w.parameter===x.parameter)||g.rtcpFeedback.push(x)})}),r},t.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(h=>h.preferredPayloadType!==void 0?h.preferredPayloadType:h.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(h=>{s+=t.writeRtpMap(h),s+=t.writeFmtp(h),s+=t.writeRtcpFb(h)});let c=0;return r.codecs.forEach(h=>{h.maxptime>c&&(c=h.maxptime)}),c>0&&(s+="a=maxptime:"+c+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(h=>{s+=t.writeExtmap(h)}),s},t.parseRtpEncodingParameters=function(n){const r=[],s=t.parseRtpParameters(n),c=s.fecMechanisms.indexOf("RED")!==-1,h=s.fecMechanisms.indexOf("ULPFEC")!==-1,g=t.matchPrefix(n,"a=ssrc:").map(b=>t.parseSsrcMedia(b)).filter(b=>b.attribute==="cname"),x=g.length>0&&g[0].ssrc;let y;const w=t.matchPrefix(n,"a=ssrc-group:FID").map(b=>b.substring(17).split(" ").map(O=>parseInt(O,10)));w.length>0&&w[0].length>1&&w[0][0]===x&&(y=w[0][1]),s.codecs.forEach(b=>{if(b.name.toUpperCase()==="RTX"&&b.parameters.apt){let R={ssrc:x,codecPayloadType:parseInt(b.parameters.apt,10)};x&&y&&(R.rtx={ssrc:y}),r.push(R),c&&(R=JSON.parse(JSON.stringify(R)),R.fec={ssrc:x,mechanism:h?"red+ulpfec":"red"},r.push(R))}}),r.length===0&&x&&r.push({ssrc:x});let C=t.matchPrefix(n,"b=");return C.length&&(C[0].indexOf("b=TIAS:")===0?C=parseInt(C[0].substring(7),10):C[0].indexOf("b=AS:")===0?C=parseInt(C[0].substring(5),10)*1e3*.95-50*40*8:C=void 0,r.forEach(b=>{b.maxBitrate=C})),r},t.parseRtcpParameters=function(n){const r={},s=t.matchPrefix(n,"a=ssrc:").map(g=>t.parseSsrcMedia(g)).filter(g=>g.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const c=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=c.length>0,r.compound=c.length===0;const h=t.matchPrefix(n,"a=rtcp-mux");return r.mux=h.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const s=t.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const c=t.matchPrefix(n,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="msid");if(c.length>0)return r=c[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),s=t.matchPrefix(n,"a=max-message-size:");let c;s.length>0&&(c=parseInt(s[0].substring(19),10)),isNaN(c)&&(c=65536);const h=t.matchPrefix(n,"a=sctp-port:");if(h.length>0)return{port:parseInt(h[0].substring(12),10),protocol:r.fmt,maxMessageSize:c};const g=t.matchPrefix(n,"a=sctpmap:");if(g.length>0){const x=g[0].substring(10).split(" ");return{port:parseInt(x[0],10),protocol:x[1],maxMessageSize:c}}},t.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,s){let c;const h=r!==void 0?r:2;return n?c=n:c=t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+c+" "+h+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const s=t.splitLines(n);for(let c=0;c<s.length;c++)switch(s[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[c].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const s=t.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},t.parseOLine=function(n){const s=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(ZS);var JS=ZS.exports;const ul=ua(JS),Xk=dp({__proto__:null,default:ul},[JS]);function Md(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new t(r),c=ul.parseCandidate(r.candidate);for(const h in c)h in s||Object.defineProperty(s,h,{value:c[h]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,xa(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function X1(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||xa(e,"icecandidate",t=>{if(t.candidate){const n=ul.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Od(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(g){if(!g||!g.sdp)return!1;const x=ul.splitSections(g.sdp);return x.shift(),x.some(y=>{const w=ul.parseMLine(y);return w&&w.kind==="application"&&w.protocol.indexOf("SCTP")!==-1})},r=function(g){const x=g.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(x===null||x.length<2)return-1;const y=parseInt(x[1],10);return y!==y?-1:y},s=function(g){let x=65536;return t.browser==="firefox"&&(t.version<57?g===-1?x=16384:x=2147483637:t.version<60?x=t.version===57?65535:65536:x=2147483637),x},c=function(g,x){let y=65536;t.browser==="firefox"&&t.version===57&&(y=65535);const w=ul.matchPrefix(g.sdp,"a=max-message-size:");return w.length>0?y=parseInt(w[0].substring(19),10):t.browser==="firefox"&&x!==-1&&(y=2147483637),y},h=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:x}=this.getConfiguration();x==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const x=r(arguments[0]),y=s(x),w=c(arguments[0],x);let C;y===0&&w===0?C=Number.POSITIVE_INFINITY:y===0||w===0?C=Math.max(y,w):C=Math.min(y,w);const b={};Object.defineProperty(b,"maxMessageSize",{get(){return C}}),this._sctp=b}return h.apply(this,arguments)}}function Dd(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,s){const c=r.send;r.send=function(){const g=arguments[0],x=g.length||g.size||g.byteLength;if(r.readyState==="open"&&s.sctp&&x>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return c.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return t(s,this),s},xa(e,"datachannel",r=>(t(r.channel,r.target),r))}function Q1(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const c=s.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const h=new Event("connectionstatechange",s);c.dispatchEvent(h)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function q1(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=s.sdp.split(`
`).filter(h=>h.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:c}):s.sdp=c}return n.apply(this,arguments)}}function kd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Pd(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(h=>n.apply(this,[h]))})}const Qk=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:q1,shimAddIceCandidateNullOrEmpty:kd,shimConnectionState:Q1,shimMaxMessageSize:Od,shimParameterlessSetLocalDescription:Pd,shimRTCIceCandidate:Md,shimRTCIceCandidateRelayProtocol:X1,shimSendThrowTypeError:Dd},Symbol.toStringTag,{value:"Module"}));function qk({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=ES,r=$k(e),s={browserDetails:r,commonShim:Qk,extractVersion:Ec,disableLog:Gk,disableWarnings:Yk,sdp:Xk};switch(r.browser){case"chrome":if(!Cx||!$1||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=Cx,kd(e,r),Pd(e),AS(e,r),TS(e),$1(e,r),_S(e),MS(e,r),IS(e),RS(e),OS(e,r),Md(e),X1(e),Q1(e),Od(e,r),Dd(e),q1(e,r);break;case"firefox":if(!bx||!K1||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=bx,kd(e,r),Pd(e),DS(e,r),K1(e,r),kS(e),BS(e),PS(e),LS(e),jS(e),FS(e),US(e),zS(e),HS(e),Md(e),Q1(e),Od(e,r),Dd(e);break;case"safari":if(!Ex||!t.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=Ex,kd(e,r),Pd(e),KS(e),QS(e),GS(e),VS(e),WS(e),XS(e),YS(e),qS(e),Md(e),X1(e),Od(e,r),Dd(e),q1(e,r);break;default:n("Unsupported browser!");break}return s}const Sx=qk({window:typeof window>"u"?void 0:window});function va(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class eA{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,s=Math.ceil(r/this.chunkedMTU);let c=0,h=0;for(;h<r;){const g=Math.min(r,h+this.chunkedMTU),x=t.slice(h,g),y={__peerData:this._dataCount,n:c,data:x,total:s};n.push(y),h=g,c++}return this._dataCount++,n}}}function Zk(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.byteLength;return n}const y0=Sx.default||Sx,gc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return y0.browserDetails.browser}getVersion(){return y0.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=y0.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Jk=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),tA=()=>Math.random().toString(36).slice(2),Ax={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class e5 extends eA{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Ax,this.browser=gc.getBrowser(),this.browserVersion=gc.getVersion(),this.pack=wS,this.unpack=vS,this.supports=function(){const n={browser:gc.isBrowserSupported(),webRTC:gc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(Ax),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!gc.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=Jk,this.randomToken=tA}}const Ar=new e5,t5="PeerJS: ";var Tx;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Tx||(Tx={}));class n5{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[t5,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var $e=new n5,Qg={},r5=Object.prototype.hasOwnProperty,mr="~";function uu(){}Object.create&&(uu.prototype=Object.create(null),new uu().__proto__||(mr=!1));function i5(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function nA(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new i5(n,r||e,s),h=mr?mr+t:t;return e._events[h]?e._events[h].fn?e._events[h]=[e._events[h],c]:e._events[h].push(c):(e._events[h]=c,e._eventsCount++),e}function Ld(e,t){--e._eventsCount===0?e._events=new uu:delete e._events[t]}function sr(){this._events=new uu,this._eventsCount=0}sr.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)r5.call(n,r)&&t.push(mr?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};sr.prototype.listeners=function(t){var n=mr?mr+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,c=r.length,h=new Array(c);s<c;s++)h[s]=r[s].fn;return h};sr.prototype.listenerCount=function(t){var n=mr?mr+t:t,r=this._events[n];return r?r.fn?1:r.length:0};sr.prototype.emit=function(t,n,r,s,c,h){var g=mr?mr+t:t;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,w,C;if(x.fn){switch(x.once&&this.removeListener(t,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,n),!0;case 3:return x.fn.call(x.context,n,r),!0;case 4:return x.fn.call(x.context,n,r,s),!0;case 5:return x.fn.call(x.context,n,r,s,c),!0;case 6:return x.fn.call(x.context,n,r,s,c,h),!0}for(C=1,w=new Array(y-1);C<y;C++)w[C-1]=arguments[C];x.fn.apply(x.context,w)}else{var b=x.length,R;for(C=0;C<b;C++)switch(x[C].once&&this.removeListener(t,x[C].fn,void 0,!0),y){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,n);break;case 3:x[C].fn.call(x[C].context,n,r);break;case 4:x[C].fn.call(x[C].context,n,r,s);break;default:if(!w)for(R=1,w=new Array(y-1);R<y;R++)w[R-1]=arguments[R];x[C].fn.apply(x[C].context,w)}}return!0};sr.prototype.on=function(t,n,r){return nA(this,t,n,r,!1)};sr.prototype.once=function(t,n,r){return nA(this,t,n,r,!0)};sr.prototype.removeListener=function(t,n,r,s){var c=mr?mr+t:t;if(!this._events[c])return this;if(!n)return Ld(this,c),this;var h=this._events[c];if(h.fn)h.fn===n&&(!s||h.once)&&(!r||h.context===r)&&Ld(this,c);else{for(var g=0,x=[],y=h.length;g<y;g++)(h[g].fn!==n||s&&!h[g].once||r&&h[g].context!==r)&&x.push(h[g]);x.length?this._events[c]=x.length===1?x[0]:x:Ld(this,c)}return this};sr.prototype.removeAllListeners=function(t){var n;return t?(n=mr?mr+t:t,this._events[n]&&Ld(this,n)):(this._events=new uu,this._eventsCount=0),this};sr.prototype.off=sr.prototype.removeListener;sr.prototype.addListener=sr.prototype.on;sr.prefixed=mr;sr.EventEmitter=sr;Qg=sr;var wa={};va(wa,"ConnectionType",()=>no);va(wa,"PeerErrorType",()=>fn);va(wa,"BaseConnectionErrorType",()=>du);va(wa,"DataConnectionErrorType",()=>fu);va(wa,"SerializationType",()=>Ml);va(wa,"SocketEventType",()=>Zi);va(wa,"ServerMessageType",()=>Fn);var no;(function(e){e.Data="data",e.Media="media"})(no||(no={}));var fn;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(fn||(fn={}));var du;(function(e){e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed"})(du||(du={}));var fu;(function(e){e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big"})(fu||(fu={}));var Ml;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw"})(Ml||(Ml={}));var Zi;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Zi||(Zi={}));var Fn;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(Fn||(Fn={}));var qg={};qg=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');class o5 extends Qg.EventEmitter{constructor(t,n,r,s,c,h=5e3){super(),this.pingInterval=h,this._disconnected=!0,this._messagesQueue=[];const g=t?"wss://":"ws://";this._baseUrl=g+n+":"+r+s+"peerjs?key="+c}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+qg.version),this._disconnected=!1,this._socket.onmessage=s=>{let c;try{c=JSON.parse(s.data),$e.log("Server message received:",c)}catch{$e.log("Invalid server message",s.data);return}this.emit(Zi.Message,c)},this._socket.onclose=s=>{this._disconnected||($e.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(Zi.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),$e.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){$e.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:Fn.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Zi.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class rA{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===no.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,s={ordered:!!t.reliable},c=n.createDataChannel(r.label,s);r._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){$e.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,c=this.connection.provider;$e.log("Listening for ICE candidates."),t.onicecandidate=h=>{!h.candidate||!h.candidate.candidate||($e.log(`Received ICE candidates for ${n}:`,h.candidate),c.socket.send({type:Fn.Candidate,payload:{candidate:h.candidate,type:s,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":$e.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(du.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":$e.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(du.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":$e.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},$e.log("Listening for data channel"),t.ondatachannel=h=>{$e.log("Received data channel");const g=h.channel;c.getConnection(n,r)._initializeDataChannel(g)},$e.log("Listening for remote stream"),t.ontrack=h=>{$e.log("Received remote stream");const g=h.streams[0],x=c.getConnection(n,r);if(x.type===no.Media){const y=x;this._addStreamToMediaConnection(g,y)}}}cleanup(){$e.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);$e.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),$e.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===no.Data){const c=this.connection;s={...s,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:Fn.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(fn.WebRTC,s),$e.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(fn.WebRTC,r),$e.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();$e.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),$e.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Fn.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(fn.WebRTC,s),$e.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(fn.WebRTC,r),$e.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;$e.log("Setting remote description",n);const c=this;try{await r.setRemoteDescription(n),$e.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await c._makeAnswer()}catch(h){s.emitError(fn.WebRTC,h),$e.log("Failed to setRemoteDescription, ",h)}}async handleCandidate(t){$e.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),$e.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(fn.WebRTC,n),$e.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if($e.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return $e.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){$e.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class iA extends Qg.EventEmitter{emitError(t,n){$e.error("Error:",n),this.emit("error",new s5(`${t}`,n))}}class s5 extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class oA extends iA{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var ap;const Pc=class Pc extends oA{get type(){return no.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Pc.ID_PREFIX+Ar.randomToken(),this._negotiator=new rA(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{$e.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{$e.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){$e.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case Fn.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Fn.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:$e.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){$e.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};ap=new WeakMap,Nt(Pc,ap,Pc.ID_PREFIX="mc_");let bf=Pc;class a5{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:s,path:c,key:h}=this._options,g=new URL(`${n}://${r}:${s}${c}${h}/${t}`);return g.searchParams.set("ts",`${Date.now()}${Math.random()}`),g.searchParams.set("version",qg.version),fetch(g.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){$e.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Ar.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Ar.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw $e.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var lp,cp;const Ys=class Ys extends oA{get type(){return no.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Ys.ID_PREFIX+tA(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new rA(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{$e.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{$e.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{$e.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(fu.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case Fn.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case Fn.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:$e.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};lp=new WeakMap,cp=new WeakMap,Nt(Ys,lp,Ys.ID_PREFIX="dc_"),Nt(Ys,cp,Ys.MAX_BUFFERED_AMOUNT=8388608);let Ef=Ys;class Zg extends Ef{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Ef.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return $e.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class x0 extends Zg{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new eA,this.serialization=Ml.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=vS(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=Zk(r.data);this._handleDataMessage({data:s})}}_send(t,n){const r=wS(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);$e.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class l5 extends Zg{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Ml.None}}class c5 extends Zg{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=Ar.chunkedMTU){this.emitError(fu.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=Ml.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var up;const Lc=class Lc extends iA{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:l5,json:c5,binary:x0,"binary-utf8":x0,default:x0},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:Ar.CLOUD_HOST,port:Ar.CLOUD_PORT,path:"/",key:Lc.DEFAULT_KEY,token:Ar.randomToken(),config:Ar.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ar.CLOUD_HOST?this._options.secure=Ar.isSecure():this._options.host==Ar.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&$e.setLogFunction(this._options.logFunction),$e.logLevel=this._options.debug||0,this._api=new a5(n),this._socket=this._createServerConnection(),!Ar.supports.audioVideo&&!Ar.supports.data){this._delayedAbort(fn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Ar.validateId(r)){this._delayedAbort(fn.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(fn.ServerError,s))}_createServerConnection(){const t=new o5(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Zi.Message,n=>{this._handleMessage(n)}),t.on(Zi.Error,n=>{this._abort(fn.SocketError,n)}),t.on(Zi.Disconnected,()=>{this.disconnected||(this.emitError(fn.Network,"Lost connection to server."),this.disconnect())}),t.on(Zi.Close,()=>{this.disconnected||this._abort(fn.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,s=t.src;switch(n){case Fn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Fn.Error:this._abort(fn.ServerError,r.msg);break;case Fn.IdTaken:this._abort(fn.UnavailableID,`ID "${this.id}" is taken`);break;case Fn.InvalidKey:this._abort(fn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Fn.Leave:$e.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case Fn.Expire:this.emitError(fn.PeerUnavailable,`Could not connect to peer ${s}`);break;case Fn.Offer:{const c=r.connectionId;let h=this.getConnection(s,c);if(h&&(h.close(),$e.warn(`Offer received for existing Connection ID:${c}`)),r.type===no.Media){const x=new bf(s,this,{connectionId:c,_payload:r,metadata:r.metadata});h=x,this._addConnection(s,h),this.emit("call",x)}else if(r.type===no.Data){const x=new this._serializers[r.serialization](s,this,{connectionId:c,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});h=x,this._addConnection(s,h),this.emit("connection",x)}else{$e.warn(`Received malformed connection type:${r.type}`);return}const g=this._getMessages(c);for(const x of g)h.handleMessage(x);break}default:{if(!r){$e.warn(`You received a malformed message from ${s} of type ${n}`);return}const c=r.connectionId,h=this.getConnection(s,c);h&&h.peerConnection?h.handleMessage(t):c?this._storeMessage(c,t):$e.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){$e.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(fn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){$e.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(fn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){$e.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new bf(t,this,{...r,_stream:n});return this._addConnection(t,s),s}_addConnection(t,n){$e.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){$e.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||($e.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;$e.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)$e.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)$e.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(fn.ServerError,n))}};up=new WeakMap,Nt(Lc,up,Lc.DEFAULT_KEY="peerjs");let Sf=Lc;const sA=A.createContext(void 0);function u5({children:e}){const[t,n]=A.useState(!1),r=()=>{n(s=>!s)};return S.jsx(sA.Provider,{value:{isDebugEnabled:t,toggleDebug:r},children:e})}function d5(){const e=A.useContext(sA);if(e===void 0)throw new Error("useDebug must be used within a DebugProvider");return e}var Jg="Switch",[f5,f7]=Oo(Jg),[h5,p5]=f5(Jg),aA=A.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:c,required:h,disabled:g,value:x="on",onCheckedChange:y,form:w,...C}=e,[b,R]=A.useState(null),O=gt(t,k=>R(k)),_=A.useRef(!1),B=b?w||!!b.closest("form"):!0,[M=!1,I]=Io({prop:s,defaultProp:c,onChange:y});return S.jsxs(h5,{scope:n,checked:M,disabled:g,children:[S.jsx(rt.button,{type:"button",role:"switch","aria-checked":M,"aria-required":h,"data-state":uA(M),"data-disabled":g?"":void 0,disabled:g,value:x,...C,ref:O,onClick:Le(e.onClick,k=>{I(U=>!U),B&&(_.current=k.isPropagationStopped(),_.current||k.stopPropagation())})}),B&&S.jsx(g5,{control:b,bubbles:!_.current,name:r,value:x,checked:M,required:h,disabled:g,form:w,style:{transform:"translateX(-100%)"}})]})});aA.displayName=Jg;var lA="SwitchThumb",cA=A.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=p5(lA,n);return S.jsx(rt.span,{"data-state":uA(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});cA.displayName=lA;var g5=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,c=A.useRef(null),h=AE(n),g=gC(t);return A.useEffect(()=>{const x=c.current,y=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&C){const b=new Event("click",{bubbles:r});C.call(x,n),x.dispatchEvent(b)}},[h,n,r]),S.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uA(e){return e?"checked":"unchecked"}var dA=aA,m5=cA;const fA=A.forwardRef(({className:e,...t},n)=>S.jsx(dA,{className:Je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:S.jsx(m5,{className:Je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fA.displayName=dA.displayName;var y5="Label",hA=A.forwardRef((e,t)=>S.jsx(rt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hA.displayName=y5;var pA=hA;const x5=qf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z1=A.forwardRef(({className:e,...t},n)=>S.jsx(pA,{ref:n,className:Je(x5(),e),...t}));Z1.displayName=pA.displayName;var gA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vo,function(){var n=function(o,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])})(o,l)},r=function(){return(r=Object.assign||function(o){for(var l,f=1,p=arguments.length;f<p;f++)for(var m in l=arguments[f])Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m]);return o}).apply(this,arguments)};function s(o,l,f){for(var p,m=0,v=l.length;m<v;m++)!p&&m in l||((p=p||Array.prototype.slice.call(l,0,m))[m]=l[m]);return o.concat(p||Array.prototype.slice.call(l))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:vo,h=Object.keys,g=Array.isArray;function x(o,l){return typeof l!="object"||h(l).forEach(function(f){o[f]=l[f]}),o}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var y=Object.getPrototypeOf,w={}.hasOwnProperty;function C(o,l){return w.call(o,l)}function b(o,l){typeof l=="function"&&(l=l(y(o))),(typeof Reflect>"u"?h:Reflect.ownKeys)(l).forEach(function(f){O(o,f,l[f])})}var R=Object.defineProperty;function O(o,l,f,p){R(o,l,x(f&&C(f,"get")&&typeof f.get=="function"?{get:f.get,set:f.set,configurable:!0}:{value:f,configurable:!0,writable:!0},p))}function _(o){return{from:function(l){return o.prototype=Object.create(l.prototype),O(o.prototype,"constructor",o),{extend:b.bind(null,o.prototype)}}}}var B=Object.getOwnPropertyDescriptor,M=[].slice;function I(o,l,f){return M.call(o,l,f)}function k(o,l){return l(o)}function U(o){if(!o)throw new Error("Assertion Failed")}function $(o){c.setImmediate?setImmediate(o):setTimeout(o,0)}function J(o,l){if(typeof l=="string"&&C(o,l))return o[l];if(!l)return o;if(typeof l!="string"){for(var f=[],p=0,m=l.length;p<m;++p){var v=J(o,l[p]);f.push(v)}return f}var E=l.indexOf(".");if(E!==-1){var T=o[l.substr(0,E)];return T==null?void 0:J(T,l.substr(E+1))}}function Y(o,l,f){if(o&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof l!="string"&&"length"in l){U(typeof f!="string"&&"length"in f);for(var p=0,m=l.length;p<m;++p)Y(o,l[p],f[p])}else{var v,E,T=l.indexOf(".");T!==-1?(v=l.substr(0,T),(E=l.substr(T+1))===""?f===void 0?g(o)&&!isNaN(parseInt(v))?o.splice(v,1):delete o[v]:o[v]=f:Y(T=!(T=o[v])||!C(o,v)?o[v]={}:T,E,f)):f===void 0?g(o)&&!isNaN(parseInt(l))?o.splice(l,1):delete o[l]:o[l]=f}}function Z(o){var l,f={};for(l in o)C(o,l)&&(f[l]=o[l]);return f}var X=[].concat;function de(o){return X.apply([],o)}var Dt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(de([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(l){return l+o+"Array"})}))).filter(function(o){return c[o]}),xe=new Set(Dt.map(function(o){return c[o]})),ae=null;function ye(o){return ae=new WeakMap,o=function l(f){if(!f||typeof f!="object")return f;var p=ae.get(f);if(p)return p;if(g(f)){p=[],ae.set(f,p);for(var m=0,v=f.length;m<v;++m)p.push(l(f[m]))}else if(xe.has(f.constructor))p=f;else{var E,T=y(f);for(E in p=T===Object.prototype?{}:Object.create(T),ae.set(f,p),f)C(f,E)&&(p[E]=l(f[E]))}return p}(o),ae=null,o}var pe={}.toString;function te(o){return pe.call(o).slice(8,-1)}var we=typeof Symbol<"u"?Symbol.iterator:"@@iterator",le=typeof we=="symbol"?function(o){var l;return o!=null&&(l=o[we])&&l.apply(o)}:function(){return null};function q(o,l){return l=o.indexOf(l),0<=l&&o.splice(l,1),0<=l}var G={};function Q(o){var l,f,p,m;if(arguments.length===1){if(g(o))return o.slice();if(this===G&&typeof o=="string")return[o];if(m=le(o)){for(f=[];!(p=m.next()).done;)f.push(p.value);return f}if(o==null)return[o];if(typeof(l=o.length)!="number")return[o];for(f=new Array(l);l--;)f[l]=o[l];return f}for(l=arguments.length,f=new Array(l);l--;)f[l]=arguments[l];return f}var ne=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},bn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],qn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(bn),ce={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ge(o,l){this.name=o,this.message=l}function Ne(o,l){return o+". Errors: "+Object.keys(l).map(function(f){return l[f].toString()}).filter(function(f,p,m){return m.indexOf(f)===p}).join(`
`)}function ot(o,l,f,p){this.failures=l,this.failedKeys=p,this.successCount=f,this.message=Ne(o,l)}function he(o,l){this.name="BulkError",this.failures=Object.keys(l).map(function(f){return l[f]}),this.failuresByPos=l,this.message=Ne(o,this.failures)}_(ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(ot).from(ge),_(he).from(ge);var Oe=qn.reduce(function(o,l){return o[l]=l+"Error",o},{}),Be=ge,Te=qn.reduce(function(o,l){var f=l+"Error";function p(m,v){this.name=f,m?typeof m=="string"?(this.message="".concat(m).concat(v?`
 `+v:""),this.inner=v||null):typeof m=="object"&&(this.message="".concat(m.name," ").concat(m.message),this.inner=m):(this.message=ce[l]||f,this.inner=null)}return _(p).from(Be),o[l]=p,o},{});Te.Syntax=SyntaxError,Te.Type=TypeError,Te.Range=RangeError;var tt=bn.reduce(function(o,l){return o[l+"Error"]=Te[l],o},{}),Xe=qn.reduce(function(o,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(o[l+"Error"]=Te[l]),o},{});function Ue(){}function Ce(o){return o}function ze(o,l){return o==null||o===Ce?l:function(f){return l(o(f))}}function Ye(o,l){return function(){o.apply(this,arguments),l.apply(this,arguments)}}function nt(o,l){return o===Ue?l:function(){var f=o.apply(this,arguments);f!==void 0&&(arguments[0]=f);var p=this.onsuccess,m=this.onerror;this.onsuccess=null,this.onerror=null;var v=l.apply(this,arguments);return p&&(this.onsuccess=this.onsuccess?Ye(p,this.onsuccess):p),m&&(this.onerror=this.onerror?Ye(m,this.onerror):m),v!==void 0?v:f}}function it(o,l){return o===Ue?l:function(){o.apply(this,arguments);var f=this.onsuccess,p=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Ye(f,this.onsuccess):f),p&&(this.onerror=this.onerror?Ye(p,this.onerror):p)}}function He(o,l){return o===Ue?l:function(f){var p=o.apply(this,arguments);x(f,p);var m=this.onsuccess,v=this.onerror;return this.onsuccess=null,this.onerror=null,f=l.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?Ye(m,this.onsuccess):m),v&&(this.onerror=this.onerror?Ye(v,this.onerror):v),p===void 0?f===void 0?void 0:f:x(p,f)}}function Ge(o,l){return o===Ue?l:function(){return l.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function Gt(o,l){return o===Ue?l:function(){var f=o.apply(this,arguments);if(f&&typeof f.then=="function"){for(var p=this,m=arguments.length,v=new Array(m);m--;)v[m]=arguments[m];return f.then(function(){return l.apply(p,v)})}return l.apply(this,arguments)}}Xe.ModifyError=ot,Xe.DexieError=ge,Xe.BulkError=he;var _e=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Cn(o){_e=o}var Vt={},$t=100,Dt=typeof Promise>"u"?[]:function(){var o=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[o,y(o),o];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,y(l),o]}(),bn=Dt[0],qn=Dt[1],Dt=Dt[2],qn=qn&&qn.then,Qt=bn&&bn.constructor,En=!!Dt,St=function(o,l){Tt.push([o,l]),gn&&(queueMicrotask(kn),gn=!1)},Dn=!0,gn=!0,Vn=[],_t=[],Me=Ce,mt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ue,pgp:!1,env:{},finalize:Ue},Se=mt,Tt=[],qe=0,wt=[];function Ee(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=Se;if(typeof o!="function"){if(o!==Vt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&gi(this,this._value))}this._state=null,this._value=null,++l.ref,function f(p,m){try{m(function(v){if(p._state===null){if(v===p)throw new TypeError("A promise cannot be resolved with itself.");var E=p._lib&&Mr();v&&typeof v.then=="function"?f(p,function(T,N){v instanceof Ee?v._then(T,N):v.then(T,N)}):(p._state=!0,p._value=v,_s(p)),E&&mi()}},gi.bind(null,p))}catch(v){gi(p,v)}}(this,o)}var st={get:function(){var o=Se,l=je;function f(p,m){var v=this,E=!o.global&&(o!==Se||l!==je),T=E&&!lr(),N=new Ee(function(P,j){ar(v,new mn(Or(p,o,E,T),Or(m,o,E,T),P,j,o))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return f.prototype=Vt,f},set:function(o){O(this,"then",o&&o.prototype===Vt?st:{get:function(){return o},set:st.set})}};function mn(o,l,f,p,m){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof l=="function"?l:null,this.resolve=f,this.reject=p,this.psd=m}function gi(o,l){var f,p;_t.push(l),o._state===null&&(f=o._lib&&Mr(),l=Me(l),o._state=!1,o._value=l,p=o,Vn.some(function(m){return m._value===p._value})||Vn.push(p),_s(o),f&&mi())}function _s(o){var l=o._listeners;o._listeners=[];for(var f=0,p=l.length;f<p;++f)ar(o,l[f]);var m=o._PSD;--m.ref||m.finalize(),qe===0&&(++qe,St(function(){--qe==0&&Cr()},[]))}function ar(o,l){if(o._state!==null){var f=o._state?l.onFulfilled:l.onRejected;if(f===null)return(o._state?l.resolve:l.reject)(o._value);++l.psd.ref,++qe,St(Wl,[f,o,l])}else o._listeners.push(l)}function Wl(o,l,f){try{var p,m=l._value;!l._state&&_t.length&&(_t=[]),p=_e&&l._consoleTask?l._consoleTask.run(function(){return o(m)}):o(m),l._state||_t.indexOf(m)!==-1||function(v){for(var E=Vn.length;E;)if(Vn[--E]._value===v._value)return Vn.splice(E,1)}(l),f.resolve(p)}catch(v){f.reject(v)}finally{--qe==0&&Cr(),--f.psd.ref||f.psd.finalize()}}function kn(){ao(mt,function(){Mr()&&mi()})}function Mr(){var o=Dn;return gn=Dn=!1,o}function mi(){var o,l,f;do for(;0<Tt.length;)for(o=Tt,Tt=[],f=o.length,l=0;l<f;++l){var p=o[l];p[0].apply(null,p[1])}while(0<Tt.length);gn=Dn=!0}function Cr(){var o=Vn;Vn=[],o.forEach(function(p){p._PSD.onunhandled.call(null,p._value,p)});for(var l=wt.slice(0),f=l.length;f;)l[--f]()}function Ca(o){return new Ee(Vt,!1,o)}function kt(o,l){var f=Se;return function(){var p=Mr(),m=Se;try{return _n(f,!0),o.apply(this,arguments)}catch(v){l&&l(v)}finally{_n(m,!1),p&&mi()}}}b(Ee.prototype,{then:st,_then:function(o,l){ar(this,new mn(null,null,o,l,Se))},catch:function(o){if(arguments.length===1)return this.then(null,o);var l=o,f=arguments[1];return typeof l=="function"?this.then(null,function(p){return(p instanceof l?f:Ca)(p)}):this.then(null,function(p){return(p&&p.name===l?f:Ca)(p)})},finally:function(o){return this.then(function(l){return Ee.resolve(o()).then(function(){return l})},function(l){return Ee.resolve(o()).then(function(){return Ca(l)})})},timeout:function(o,l){var f=this;return o<1/0?new Ee(function(p,m){var v=setTimeout(function(){return m(new Te.Timeout(l))},o);f.then(p,m).finally(clearTimeout.bind(null,v))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&O(Ee.prototype,Symbol.toStringTag,"Dexie.Promise"),mt.env=Iu(),b(Ee,{all:function(){var o=Q.apply(null,arguments).map(so);return new Ee(function(l,f){o.length===0&&l([]);var p=o.length;o.forEach(function(m,v){return Ee.resolve(m).then(function(E){o[v]=E,--p||l(o)},f)})})},resolve:function(o){return o instanceof Ee?o:o&&typeof o.then=="function"?new Ee(function(l,f){o.then(l,f)}):new Ee(Vt,!0,o)},reject:Ca,race:function(){var o=Q.apply(null,arguments).map(so);return new Ee(function(l,f){o.map(function(p){return Ee.resolve(p).then(l,f)})})},PSD:{get:function(){return Se},set:function(o){return Se=o}},totalEchoes:{get:function(){return je}},newPSD:qr,usePSD:ao,scheduler:{get:function(){return St},set:function(o){St=o}},rejectionMapper:{get:function(){return Me},set:function(o){Me=o}},follow:function(o,l){return new Ee(function(f,p){return qr(function(m,v){var E=Se;E.unhandleds=[],E.onunhandled=v,E.finalize=Ye(function(){var T,N=this;T=function(){N.unhandleds.length===0?m():v(N.unhandleds[0])},wt.push(function P(){T(),wt.splice(wt.indexOf(P),1)}),++qe,St(function(){--qe==0&&Cr()},[])},E.finalize),o()},l,f,p)})}}),Qt&&(Qt.allSettled&&O(Ee,"allSettled",function(){var o=Q.apply(null,arguments).map(so);return new Ee(function(l){o.length===0&&l([]);var f=o.length,p=new Array(f);o.forEach(function(m,v){return Ee.resolve(m).then(function(E){return p[v]={status:"fulfilled",value:E}},function(E){return p[v]={status:"rejected",reason:E}}).then(function(){return--f||l(p)})})})}),Qt.any&&typeof AggregateError<"u"&&O(Ee,"any",function(){var o=Q.apply(null,arguments).map(so);return new Ee(function(l,f){o.length===0&&f(new AggregateError([]));var p=o.length,m=new Array(p);o.forEach(function(v,E){return Ee.resolve(v).then(function(T){return l(T)},function(T){m[E]=T,--p||f(new AggregateError(m))})})})}),Qt.withResolvers&&(Ee.withResolvers=Qt.withResolvers));var ln={awaits:0,echoes:0,id:0},Qn=0,Qr=[],Wn=0,je=0,Do=0;function qr(o,l,f,p){var m=Se,v=Object.create(m);return v.parent=m,v.ref=0,v.global=!1,v.id=++Do,mt.env,v.env=En?{Promise:Ee,PromiseProp:{value:Ee,configurable:!0,writable:!0},all:Ee.all,race:Ee.race,allSettled:Ee.allSettled,any:Ee.any,resolve:Ee.resolve,reject:Ee.reject}:{},l&&x(v,l),++m.ref,v.finalize=function(){--this.parent.ref||this.parent.finalize()},p=ao(v,o,f,p),v.ref===0&&v.finalize(),p}function yn(){return ln.id||(ln.id=++Qn),++ln.awaits,ln.echoes+=$t,ln.id}function lr(){return!!ln.awaits&&(--ln.awaits==0&&(ln.id=0),ln.echoes=ln.awaits*$t,!0)}function so(o){return ln.echoes&&o&&o.constructor===Qt?(yn(),o.then(function(l){return lr(),l},function(l){return lr(),at(l)})):o}function ba(){var o=Qr[Qr.length-1];Qr.pop(),_n(o,!1)}function _n(o,l){var f,p=Se;(l?!ln.echoes||Wn++&&o===Se:!Wn||--Wn&&o===Se)||queueMicrotask(l?(function(m){++je,ln.echoes&&--ln.echoes!=0||(ln.echoes=ln.awaits=ln.id=0),Qr.push(Se),_n(m,!0)}).bind(null,o):ba),o!==Se&&(Se=o,p===mt&&(mt.env=Iu()),En&&(f=mt.env.Promise,l=o.env,(p.global||o.global)&&(Object.defineProperty(c,"Promise",l.PromiseProp),f.all=l.all,f.race=l.race,f.resolve=l.resolve,f.reject=l.reject,l.allSettled&&(f.allSettled=l.allSettled),l.any&&(f.any=l.any))))}function Iu(){var o=c.Promise;return En?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function ao(o,l,f,p,m){var v=Se;try{return _n(o,!0),l(f,p,m)}finally{_n(v,!1)}}function Or(o,l,f,p){return typeof o!="function"?o:function(){var m=Se;f&&yn(),_n(l,!0);try{return o.apply(this,arguments)}finally{_n(m,!1),p&&queueMicrotask(lr)}}}function In(o){Promise===Qt&&ln.echoes===0?Wn===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+qn).indexOf("[native code]")===-1&&(yn=lr=Ue);var at=Ee.reject,Li="￿",Pn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ea="String expected.",me=[],Sa="__dbnames",Kt="readonly",Bi="readwrite";function lo(o,l){return o?l?function(){return o.apply(this,arguments)&&l.apply(this,arguments)}:o:l}var Mt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function At(o){return typeof o!="string"||/\./.test(o)?function(l){return l}:function(l){return l[o]===void 0&&o in l&&delete(l=ye(l))[o],l}}function yt(){throw Te.Type()}function pt(o,l){try{var f=Aa(o),p=Aa(l);if(f!==p)return f==="Array"?1:p==="Array"?-1:f==="binary"?1:p==="binary"?-1:f==="string"?1:p==="string"?-1:f==="Date"?1:p!=="Date"?NaN:-1;switch(f){case"number":case"Date":case"string":return l<o?1:o<l?-1:0;case"binary":return function(m,v){for(var E=m.length,T=v.length,N=E<T?E:T,P=0;P<N;++P)if(m[P]!==v[P])return m[P]<v[P]?-1:1;return E===T?0:E<T?-1:1}(Ta(o),Ta(l));case"Array":return function(m,v){for(var E=m.length,T=v.length,N=E<T?E:T,P=0;P<N;++P){var j=pt(m[P],v[P]);if(j!==0)return j}return E===T?0:E<T?-1:1}(o,l)}}catch{}return NaN}function Aa(o){var l=typeof o;return l!="object"?l:ArrayBuffer.isView(o)?"binary":(o=te(o),o==="ArrayBuffer"?"binary":o)}function Ta(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}var cn=(It.prototype._trans=function(o,l,f){var p=this._tx||Se.trans,m=this.name,v=_e&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function E(P,j,L){if(!L.schema[m])throw new Te.NotFound("Table "+m+" not part of transaction");return l(L.idbtrans,L)}var T=Mr();try{var N=p&&p.db._novip===this.db._novip?p===Se.trans?p._promise(o,E,f):qr(function(){return p._promise(o,E,f)},{trans:p,transless:Se.transless||Se}):function P(j,L,F,H){if(j.idbdb&&(j._state.openComplete||Se.letThrough||j._vip)){var V=j._createTransaction(L,F,j._dbSchema);try{V.create(),j._state.PR1398_maxLoop=3}catch(W){return W.name===Oe.InvalidState&&j.isOpen()&&0<--j._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),j.close({disableAutoOpen:!1}),j.open().then(function(){return P(j,L,F,H)})):at(W)}return V._promise(L,function(W,K){return qr(function(){return Se.trans=V,H(W,K,V)})}).then(function(W){if(L==="readwrite")try{V.idbtrans.commit()}catch{}return L==="readonly"?W:V._completion.then(function(){return W})})}if(j._state.openComplete)return at(new Te.DatabaseClosed(j._state.dbOpenError));if(!j._state.isBeingOpened){if(!j._state.autoOpen)return at(new Te.DatabaseClosed);j.open().catch(Ue)}return j._state.dbReadyPromise.then(function(){return P(j,L,F,H)})}(this.db,o,[this.name],E);return v&&(N._consoleTask=v,N=N.catch(function(P){return console.trace(P),at(P)})),N}finally{T&&mi()}},It.prototype.get=function(o,l){var f=this;return o&&o.constructor===Object?this.where(o).first(l):o==null?at(new Te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(p){return f.core.get({trans:p,key:o}).then(function(m){return f.hook.reading.fire(m)})}).then(l)},It.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(g(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var l=h(o);if(l.length===1)return this.where(l[0]).equals(o[l[0]]);var f=this.schema.indexes.concat(this.schema.primKey).filter(function(T){if(T.compound&&l.every(function(P){return 0<=T.keyPath.indexOf(P)})){for(var N=0;N<l.length;++N)if(l.indexOf(T.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(T,N){return T.keyPath.length-N.keyPath.length})[0];if(f&&this.db._maxKey!==Li){var v=f.keyPath.slice(0,l.length);return this.where(v).equals(v.map(function(N){return o[N]}))}!f&&_e&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var p=this.schema.idxByName;function m(T,N){return pt(T,N)===0}var E=l.reduce(function(L,N){var P=L[0],j=L[1],L=p[N],F=o[N];return[P||L,P||!L?lo(j,L&&L.multi?function(H){return H=J(H,N),g(H)&&H.some(function(V){return m(F,V)})}:function(H){return m(F,J(H,N))}):j]},[null,null]),v=E[0],E=E[1];return v?this.where(v.name).equals(o[v.keyPath]).filter(E):f?this.filter(E):this.where(l).equals("")},It.prototype.filter=function(o){return this.toCollection().and(o)},It.prototype.count=function(o){return this.toCollection().count(o)},It.prototype.offset=function(o){return this.toCollection().offset(o)},It.prototype.limit=function(o){return this.toCollection().limit(o)},It.prototype.each=function(o){return this.toCollection().each(o)},It.prototype.toArray=function(o){return this.toCollection().toArray(o)},It.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},It.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,g(o)?"[".concat(o.join("+"),"]"):o))},It.prototype.reverse=function(){return this.toCollection().reverse()},It.prototype.mapToClass=function(o){var l,f=this.db,p=this.name;function m(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=o).prototype instanceof yt&&(function(N,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function j(){this.constructor=N}n(N,P),N.prototype=P===null?Object.create(P):(j.prototype=P.prototype,new j)}(m,l=o),Object.defineProperty(m.prototype,"db",{get:function(){return f},enumerable:!1,configurable:!0}),m.prototype.table=function(){return p},o=m);for(var v=new Set,E=o.prototype;E;E=y(E))Object.getOwnPropertyNames(E).forEach(function(N){return v.add(N)});function T(N){if(!N)return N;var P,j=Object.create(o.prototype);for(P in N)if(!v.has(P))try{j[P]=N[P]}catch{}return j}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=T,this.hook("reading",T),o},It.prototype.defineClass=function(){return this.mapToClass(function(o){x(this,o)})},It.prototype.add=function(o,l){var f=this,p=this.schema.primKey,m=p.auto,v=p.keyPath,E=o;return v&&m&&(E=At(v)(o)),this._trans("readwrite",function(T){return f.core.mutate({trans:T,type:"add",keys:l!=null?[l]:null,values:[E]})}).then(function(T){return T.numFailures?Ee.reject(T.failures[0]):T.lastResult}).then(function(T){if(v)try{Y(o,v,T)}catch{}return T})},It.prototype.update=function(o,l){return typeof o!="object"||g(o)?this.where(":id").equals(o).modify(l):(o=J(o,this.schema.primKey.keyPath),o===void 0?at(new Te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(l))},It.prototype.put=function(o,l){var f=this,p=this.schema.primKey,m=p.auto,v=p.keyPath,E=o;return v&&m&&(E=At(v)(o)),this._trans("readwrite",function(T){return f.core.mutate({trans:T,type:"put",values:[E],keys:l!=null?[l]:null})}).then(function(T){return T.numFailures?Ee.reject(T.failures[0]):T.lastResult}).then(function(T){if(v)try{Y(o,v,T)}catch{}return T})},It.prototype.delete=function(o){var l=this;return this._trans("readwrite",function(f){return l.core.mutate({trans:f,type:"delete",keys:[o]})}).then(function(f){return f.numFailures?Ee.reject(f.failures[0]):void 0})},It.prototype.clear=function(){var o=this;return this._trans("readwrite",function(l){return o.core.mutate({trans:l,type:"deleteRange",range:Mt})}).then(function(l){return l.numFailures?Ee.reject(l.failures[0]):void 0})},It.prototype.bulkGet=function(o){var l=this;return this._trans("readonly",function(f){return l.core.getMany({keys:o,trans:f}).then(function(p){return p.map(function(m){return l.hook.reading.fire(m)})})})},It.prototype.bulkAdd=function(o,l,f){var p=this,m=Array.isArray(l)?l:void 0,v=(f=f||(m?void 0:l))?f.allKeys:void 0;return this._trans("readwrite",function(E){var P=p.schema.primKey,T=P.auto,P=P.keyPath;if(P&&m)throw new Te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(m&&m.length!==o.length)throw new Te.InvalidArgument("Arguments objects and keys must have the same length");var N=o.length,P=P&&T?o.map(At(P)):o;return p.core.mutate({trans:E,type:"add",keys:m,values:P,wantResults:v}).then(function(V){var L=V.numFailures,F=V.results,H=V.lastResult,V=V.failures;if(L===0)return v?F:H;throw new he("".concat(p.name,".bulkAdd(): ").concat(L," of ").concat(N," operations failed"),V)})})},It.prototype.bulkPut=function(o,l,f){var p=this,m=Array.isArray(l)?l:void 0,v=(f=f||(m?void 0:l))?f.allKeys:void 0;return this._trans("readwrite",function(E){var P=p.schema.primKey,T=P.auto,P=P.keyPath;if(P&&m)throw new Te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(m&&m.length!==o.length)throw new Te.InvalidArgument("Arguments objects and keys must have the same length");var N=o.length,P=P&&T?o.map(At(P)):o;return p.core.mutate({trans:E,type:"put",keys:m,values:P,wantResults:v}).then(function(V){var L=V.numFailures,F=V.results,H=V.lastResult,V=V.failures;if(L===0)return v?F:H;throw new he("".concat(p.name,".bulkPut(): ").concat(L," of ").concat(N," operations failed"),V)})})},It.prototype.bulkUpdate=function(o){var l=this,f=this.core,p=o.map(function(E){return E.key}),m=o.map(function(E){return E.changes}),v=[];return this._trans("readwrite",function(E){return f.getMany({trans:E,keys:p,cache:"clone"}).then(function(T){var N=[],P=[];o.forEach(function(L,F){var H=L.key,V=L.changes,W=T[F];if(W){for(var K=0,ee=Object.keys(V);K<ee.length;K++){var ie=ee[K],oe=V[ie];if(ie===l.schema.primKey.keyPath){if(pt(oe,H)!==0)throw new Te.Constraint("Cannot update primary key in bulkUpdate()")}else Y(W,ie,oe)}v.push(F),N.push(H),P.push(W)}});var j=N.length;return f.mutate({trans:E,type:"put",keys:N,values:P,updates:{keys:p,changeSpecs:m}}).then(function(L){var F=L.numFailures,H=L.failures;if(F===0)return j;for(var V=0,W=Object.keys(H);V<W.length;V++){var K,ee=W[V],ie=v[Number(ee)];ie!=null&&(K=H[ee],delete H[ee],H[ie]=K)}throw new he("".concat(l.name,".bulkUpdate(): ").concat(F," of ").concat(j," operations failed"),H)})})})},It.prototype.bulkDelete=function(o){var l=this,f=o.length;return this._trans("readwrite",function(p){return l.core.mutate({trans:p,type:"delete",keys:o})}).then(function(E){var m=E.numFailures,v=E.lastResult,E=E.failures;if(m===0)return v;throw new he("".concat(l.name,".bulkDelete(): ").concat(m," of ").concat(f," operations failed"),E)})},It);function It(){}function Is(o){function l(E,T){if(T){for(var N=arguments.length,P=new Array(N-1);--N;)P[N-1]=arguments[N];return f[E].subscribe.apply(null,P),o}if(typeof E=="string")return f[E]}var f={};l.addEventType=v;for(var p=1,m=arguments.length;p<m;++p)v(arguments[p]);return l;function v(E,T,N){if(typeof E!="object"){var P;T=T||Ge;var j={subscribers:[],fire:N=N||Ue,subscribe:function(L){j.subscribers.indexOf(L)===-1&&(j.subscribers.push(L),j.fire=T(j.fire,L))},unsubscribe:function(L){j.subscribers=j.subscribers.filter(function(F){return F!==L}),j.fire=j.subscribers.reduce(T,N)}};return f[E]=l[E]=j}h(P=E).forEach(function(L){var F=P[L];if(g(F))v(L,P[L][0],P[L][1]);else{if(F!=="asap")throw new Te.InvalidArgument("Invalid event config");var H=v(L,Ce,function(){for(var V=arguments.length,W=new Array(V);V--;)W[V]=arguments[V];H.subscribers.forEach(function(K){$(function(){K.apply(null,W)})})})}})}}function Yt(o,l){return _(l).from({prototype:o}),l}function cr(o,l){return!(o.filter||o.algorithm||o.or)&&(l?o.justLimit:!o.replayFilter)}function Gl(o,l){o.filter=lo(o.filter,l)}function ji(o,l,f){var p=o.replayFilter;o.replayFilter=p?function(){return lo(p(),l())}:l,o.justLimit=f&&!p}function Lt(o,l){if(o.isPrimKey)return l.primaryKey;var f=l.getIndexByKeyPath(o.index);if(!f)throw new Te.Schema("KeyPath "+o.index+" on object store "+l.name+" is not indexed");return f}function Rn(o,l,f){var p=Lt(o,l.schema);return l.openCursor({trans:f,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:p,range:o.range}})}function re(o,l,f,p){var m=o.replayFilter?lo(o.filter,o.replayFilter()):o.filter;if(o.or){var v={},E=function(T,N,P){var j,L;m&&!m(N,P,function(F){return N.stop(F)},function(F){return N.fail(F)})||((L=""+(j=N.primaryKey))=="[object ArrayBuffer]"&&(L=""+new Uint8Array(j)),C(v,L)||(v[L]=!0,l(T,N,P)))};return Promise.all([o.or._iterate(E,f),z(Rn(o,p,f),o.algorithm,E,!o.keysOnly&&o.valueMapper)])}return z(Rn(o,p,f),lo(o.algorithm,m),l,!o.keysOnly&&o.valueMapper)}function z(o,l,f,p){var m=kt(p?function(v,E,T){return f(p(v),E,T)}:f);return o.then(function(v){if(v)return v.start(function(){var E=function(){return v.continue()};l&&!l(v,function(T){return E=T},function(T){v.stop(T),E=Ue},function(T){v.fail(T),E=Ue})||m(v.value,v,function(T){return E=T}),E()})})}var Ke=(xn.prototype.execute=function(o){var l=this["@@propmod"];if(l.add!==void 0){var f=l.add;if(g(f))return s(s([],g(o)?o:[],!0),f).sort();if(typeof f=="number")return(Number(o)||0)+f;if(typeof f=="bigint")try{return BigInt(o)+f}catch{return BigInt(0)+f}throw new TypeError("Invalid term ".concat(f))}if(l.remove!==void 0){var p=l.remove;if(g(p))return g(o)?o.filter(function(m){return!p.includes(m)}).sort():[];if(typeof p=="number")return Number(o)-p;if(typeof p=="bigint")try{return BigInt(o)-p}catch{return BigInt(0)-p}throw new TypeError("Invalid subtrahend ".concat(p))}return f=(f=l.replacePrefix)===null||f===void 0?void 0:f[0],f&&typeof o=="string"&&o.startsWith(f)?l.replacePrefix[1]+o.substring(f.length):o},xn);function xn(o){this["@@propmod"]=o}var br=(Rt.prototype._read=function(o,l){var f=this._ctx;return f.error?f.table._trans(null,at.bind(null,f.error)):f.table._trans("readonly",o).then(l)},Rt.prototype._write=function(o){var l=this._ctx;return l.error?l.table._trans(null,at.bind(null,l.error)):l.table._trans("readwrite",o,"locked")},Rt.prototype._addAlgorithm=function(o){var l=this._ctx;l.algorithm=lo(l.algorithm,o)},Rt.prototype._iterate=function(o,l){return re(this._ctx,o,l,this._ctx.table.core)},Rt.prototype.clone=function(o){var l=Object.create(this.constructor.prototype),f=Object.create(this._ctx);return o&&x(f,o),l._ctx=f,l},Rt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Rt.prototype.each=function(o){var l=this._ctx;return this._read(function(f){return re(l,o,f,l.table.core)})},Rt.prototype.count=function(o){var l=this;return this._read(function(f){var p=l._ctx,m=p.table.core;if(cr(p,!0))return m.count({trans:f,query:{index:Lt(p,m.schema),range:p.range}}).then(function(E){return Math.min(E,p.limit)});var v=0;return re(p,function(){return++v,!1},f,m).then(function(){return v})}).then(o)},Rt.prototype.sortBy=function(o,l){var f=o.split(".").reverse(),p=f[0],m=f.length-1;function v(N,P){return P?v(N[f[P]],P-1):N[p]}var E=this._ctx.dir==="next"?1:-1;function T(N,P){return pt(v(N,m),v(P,m))*E}return this.toArray(function(N){return N.sort(T)}).then(l)},Rt.prototype.toArray=function(o){var l=this;return this._read(function(f){var p=l._ctx;if(p.dir==="next"&&cr(p,!0)&&0<p.limit){var m=p.valueMapper,v=Lt(p,p.table.core.schema);return p.table.core.query({trans:f,limit:p.limit,values:!0,query:{index:v,range:p.range}}).then(function(T){return T=T.result,m?T.map(m):T})}var E=[];return re(p,function(T){return E.push(T)},f,p.table.core).then(function(){return E})},o)},Rt.prototype.offset=function(o){var l=this._ctx;return o<=0||(l.offset+=o,cr(l)?ji(l,function(){var f=o;return function(p,m){return f===0||(f===1?--f:m(function(){p.advance(f),f=0}),!1)}}):ji(l,function(){var f=o;return function(){return--f<0}})),this},Rt.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),ji(this._ctx,function(){var l=o;return function(f,p,m){return--l<=0&&p(m),0<=l}},!0),this},Rt.prototype.until=function(o,l){return Gl(this._ctx,function(f,p,m){return!o(f.value)||(p(m),l)}),this},Rt.prototype.first=function(o){return this.limit(1).toArray(function(l){return l[0]}).then(o)},Rt.prototype.last=function(o){return this.reverse().first(o)},Rt.prototype.filter=function(o){var l;return Gl(this._ctx,function(f){return o(f.value)}),(l=this._ctx).isMatch=lo(l.isMatch,o),this},Rt.prototype.and=function(o){return this.filter(o)},Rt.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},Rt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Rt.prototype.desc=function(){return this.reverse()},Rt.prototype.eachKey=function(o){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(f,p){o(p.key,p)})},Rt.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},Rt.prototype.eachPrimaryKey=function(o){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(f,p){o(p.primaryKey,p)})},Rt.prototype.keys=function(o){var l=this._ctx;l.keysOnly=!l.isMatch;var f=[];return this.each(function(p,m){f.push(m.key)}).then(function(){return f}).then(o)},Rt.prototype.primaryKeys=function(o){var l=this._ctx;if(l.dir==="next"&&cr(l,!0)&&0<l.limit)return this._read(function(p){var m=Lt(l,l.table.core.schema);return l.table.core.query({trans:p,values:!1,limit:l.limit,query:{index:m,range:l.range}})}).then(function(p){return p.result}).then(o);l.keysOnly=!l.isMatch;var f=[];return this.each(function(p,m){f.push(m.primaryKey)}).then(function(){return f}).then(o)},Rt.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},Rt.prototype.firstKey=function(o){return this.limit(1).keys(function(l){return l[0]}).then(o)},Rt.prototype.lastKey=function(o){return this.reverse().firstKey(o)},Rt.prototype.distinct=function(){var o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];if(!o||!o.multi)return this;var l={};return Gl(this._ctx,function(m){var p=m.primaryKey.toString(),m=C(l,p);return l[p]=!0,!m}),this},Rt.prototype.modify=function(o){var l=this,f=this._ctx;return this._write(function(p){var m,v,E;E=typeof o=="function"?o:(m=h(o),v=m.length,function(K){for(var ee=!1,ie=0;ie<v;++ie){var oe=m[ie],ue=o[oe],fe=J(K,oe);ue instanceof Ke?(Y(K,oe,ue.execute(fe)),ee=!0):fe!==ue&&(Y(K,oe,ue),ee=!0)}return ee});var T=f.table.core,L=T.schema.primaryKey,N=L.outbound,P=L.extractKey,j=200,L=l.db._options.modifyChunkSize;L&&(j=typeof L=="object"?L[T.name]||L["*"]||200:L);function F(K,oe){var ie=oe.failures,oe=oe.numFailures;V+=K-oe;for(var ue=0,fe=h(ie);ue<fe.length;ue++){var Ae=fe[ue];H.push(ie[Ae])}}var H=[],V=0,W=[];return l.clone().primaryKeys().then(function(K){function ee(oe){var ue=Math.min(j,K.length-oe);return T.getMany({trans:p,keys:K.slice(oe,oe+ue),cache:"immutable"}).then(function(fe){for(var Ae=[],be=[],Ie=N?[]:null,De=[],ke=0;ke<ue;++ke){var Fe=fe[ke],dt={value:ye(Fe),primKey:K[oe+ke]};E.call(dt,dt.value,dt)!==!1&&(dt.value==null?De.push(K[oe+ke]):N||pt(P(Fe),P(dt.value))===0?(be.push(dt.value),N&&Ie.push(K[oe+ke])):(De.push(K[oe+ke]),Ae.push(dt.value)))}return Promise.resolve(0<Ae.length&&T.mutate({trans:p,type:"add",values:Ae}).then(function(xt){for(var vt in xt.failures)De.splice(parseInt(vt),1);F(Ae.length,xt)})).then(function(){return(0<be.length||ie&&typeof o=="object")&&T.mutate({trans:p,type:"put",keys:Ie,values:be,criteria:ie,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<oe}).then(function(xt){return F(be.length,xt)})}).then(function(){return(0<De.length||ie&&o===Rs)&&T.mutate({trans:p,type:"delete",keys:De,criteria:ie,isAdditionalChunk:0<oe}).then(function(xt){return F(De.length,xt)})}).then(function(){return K.length>oe+ue&&ee(oe+j)})})}var ie=cr(f)&&f.limit===1/0&&(typeof o!="function"||o===Rs)&&{index:f.index,range:f.range};return ee(0).then(function(){if(0<H.length)throw new ot("Error modifying one or more objects",H,V,W);return K.length})})})},Rt.prototype.delete=function(){var o=this._ctx,l=o.range;return cr(o)&&(o.isPrimKey||l.type===3)?this._write(function(f){var p=o.table.core.schema.primaryKey,m=l;return o.table.core.count({trans:f,query:{index:p,range:m}}).then(function(v){return o.table.core.mutate({trans:f,type:"deleteRange",range:m}).then(function(E){var T=E.failures;if(E.lastResult,E.results,E=E.numFailures,E)throw new ot("Could not delete some values",Object.keys(T).map(function(N){return T[N]}),v-E);return v-E})})}):this.modify(Rs)},Rt);function Rt(){}var Rs=function(o,l){return l.value=null};function Er(o,l){return o<l?-1:o===l?0:1}function Ze(o,l){return l<o?-1:o===l?0:1}function Ct(o,l,f){return o=o instanceof Ia?new o.Collection(o):o,o._ctx.error=new(f||TypeError)(l),o}function co(o){return new o.Collection(o,function(){return Ns("")}).limit(0)}function _a(o,l,f,p){var m,v,E,T,N,P,j,L=f.length;if(!f.every(function(V){return typeof V=="string"}))return Ct(o,Ea);function F(V){m=V==="next"?function(K){return K.toUpperCase()}:function(K){return K.toLowerCase()},v=V==="next"?function(K){return K.toLowerCase()}:function(K){return K.toUpperCase()},E=V==="next"?Er:Ze;var W=f.map(function(K){return{lower:v(K),upper:m(K)}}).sort(function(K,ee){return E(K.lower,ee.lower)});T=W.map(function(K){return K.upper}),N=W.map(function(K){return K.lower}),j=(P=V)==="next"?"":p}F("next"),o=new o.Collection(o,function(){return Zr(T[0],N[L-1]+p)}),o._ondirectionchange=function(V){F(V)};var H=0;return o._addAlgorithm(function(V,W,K){var ee=V.key;if(typeof ee!="string")return!1;var ie=v(ee);if(l(ie,N,H))return!0;for(var oe=null,ue=H;ue<L;++ue){var fe=function(Ae,be,Ie,De,ke,Fe){for(var dt=Math.min(Ae.length,De.length),xt=-1,vt=0;vt<dt;++vt){var Pr=be[vt];if(Pr!==De[vt])return ke(Ae[vt],Ie[vt])<0?Ae.substr(0,vt)+Ie[vt]+Ie.substr(vt+1):ke(Ae[vt],De[vt])<0?Ae.substr(0,vt)+De[vt]+Ie.substr(vt+1):0<=xt?Ae.substr(0,xt)+be[xt]+Ie.substr(xt+1):null;ke(Ae[vt],Pr)<0&&(xt=vt)}return dt<De.length&&Fe==="next"?Ae+Ie.substr(Ae.length):dt<Ae.length&&Fe==="prev"?Ae.substr(0,Ie.length):xt<0?null:Ae.substr(0,xt)+De[xt]+Ie.substr(xt+1)}(ee,ie,T[ue],N[ue],E,P);fe===null&&oe===null?H=ue+1:(oe===null||0<E(oe,fe))&&(oe=fe)}return W(oe!==null?function(){V.continue(oe+j)}:K),!1}),o}function Zr(o,l,f,p){return{type:2,lower:o,upper:l,lowerOpen:f,upperOpen:p}}function Ns(o){return{type:1,lower:o,upper:o}}var Ia=(Object.defineProperty(Sn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Sn.prototype.between=function(o,l,f,p){f=f!==!1,p=p===!0;try{return 0<this._cmp(o,l)||this._cmp(o,l)===0&&(f||p)&&(!f||!p)?co(this):new this.Collection(this,function(){return Zr(o,l,!f,!p)})}catch{return Ct(this,Pn)}},Sn.prototype.equals=function(o){return o==null?Ct(this,Pn):new this.Collection(this,function(){return Ns(o)})},Sn.prototype.above=function(o){return o==null?Ct(this,Pn):new this.Collection(this,function(){return Zr(o,void 0,!0)})},Sn.prototype.aboveOrEqual=function(o){return o==null?Ct(this,Pn):new this.Collection(this,function(){return Zr(o,void 0,!1)})},Sn.prototype.below=function(o){return o==null?Ct(this,Pn):new this.Collection(this,function(){return Zr(void 0,o,!1,!0)})},Sn.prototype.belowOrEqual=function(o){return o==null?Ct(this,Pn):new this.Collection(this,function(){return Zr(void 0,o)})},Sn.prototype.startsWith=function(o){return typeof o!="string"?Ct(this,Ea):this.between(o,o+Li,!0,!0)},Sn.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):_a(this,function(l,f){return l.indexOf(f[0])===0},[o],Li)},Sn.prototype.equalsIgnoreCase=function(o){return _a(this,function(l,f){return l===f[0]},[o],"")},Sn.prototype.anyOfIgnoreCase=function(){var o=Q.apply(G,arguments);return o.length===0?co(this):_a(this,function(l,f){return f.indexOf(l)!==-1},o,"")},Sn.prototype.startsWithAnyOfIgnoreCase=function(){var o=Q.apply(G,arguments);return o.length===0?co(this):_a(this,function(l,f){return f.some(function(p){return l.indexOf(p)===0})},o,Li)},Sn.prototype.anyOf=function(){var o=this,l=Q.apply(G,arguments),f=this._cmp;try{l.sort(f)}catch{return Ct(this,Pn)}if(l.length===0)return co(this);var p=new this.Collection(this,function(){return Zr(l[0],l[l.length-1])});p._ondirectionchange=function(v){f=v==="next"?o._ascending:o._descending,l.sort(f)};var m=0;return p._addAlgorithm(function(v,E,T){for(var N=v.key;0<f(N,l[m]);)if(++m===l.length)return E(T),!1;return f(N,l[m])===0||(E(function(){v.continue(l[m])}),!1)}),p},Sn.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Sn.prototype.noneOf=function(){var o=Q.apply(G,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return Ct(this,Pn)}var l=o.reduce(function(f,p){return f?f.concat([[f[f.length-1][1],p]]):[[-1/0,p]]},null);return l.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},Sn.prototype.inAnyRange=function(ee,l){var f=this,p=this._cmp,m=this._ascending,v=this._descending,E=this._min,T=this._max;if(ee.length===0)return co(this);if(!ee.every(function(ie){return ie[0]!==void 0&&ie[1]!==void 0&&m(ie[0],ie[1])<=0}))return Ct(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Te.InvalidArgument);var N=!l||l.includeLowers!==!1,P=l&&l.includeUppers===!0,j,L=m;function F(ie,oe){return L(ie[0],oe[0])}try{(j=ee.reduce(function(ie,oe){for(var ue=0,fe=ie.length;ue<fe;++ue){var Ae=ie[ue];if(p(oe[0],Ae[1])<0&&0<p(oe[1],Ae[0])){Ae[0]=E(Ae[0],oe[0]),Ae[1]=T(Ae[1],oe[1]);break}}return ue===fe&&ie.push(oe),ie},[])).sort(F)}catch{return Ct(this,Pn)}var H=0,V=P?function(ie){return 0<m(ie,j[H][1])}:function(ie){return 0<=m(ie,j[H][1])},W=N?function(ie){return 0<v(ie,j[H][0])}:function(ie){return 0<=v(ie,j[H][0])},K=V,ee=new this.Collection(this,function(){return Zr(j[0][0],j[j.length-1][1],!N,!P)});return ee._ondirectionchange=function(ie){L=ie==="next"?(K=V,m):(K=W,v),j.sort(F)},ee._addAlgorithm(function(ie,oe,ue){for(var fe,Ae=ie.key;K(Ae);)if(++H===j.length)return oe(ue),!1;return!V(fe=Ae)&&!W(fe)||(f._cmp(Ae,j[H][1])===0||f._cmp(Ae,j[H][0])===0||oe(function(){L===m?ie.continue(j[H][0]):ie.continue(j[H][1])}),!1)}),ee},Sn.prototype.startsWithAnyOf=function(){var o=Q.apply(G,arguments);return o.every(function(l){return typeof l=="string"})?o.length===0?co(this):this.inAnyRange(o.map(function(l){return[l,l+Li]})):Ct(this,"startsWithAnyOf() only works with strings")},Sn);function Sn(){}function Ft(o){return kt(function(l){return yi(l),o(l.target.error),!1})}function yi(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var Sr="storagemutated",et="x-storagemutated-1",Fi=Is(null,Sr),ut=(Wt.prototype._lock=function(){return U(!Se.global),++this._reculock,this._reculock!==1||Se.global||(Se.lockOwnerFor=this),this},Wt.prototype._unlock=function(){if(U(!Se.global),--this._reculock==0)for(Se.global||(Se.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{ao(o[1],o[0])}catch{}}return this},Wt.prototype._locked=function(){return this._reculock&&Se.lockOwnerFor!==this},Wt.prototype.create=function(o){var l=this;if(!this.mode)return this;var f=this.db.idbdb,p=this.db._state.dbOpenError;if(U(!this.idbtrans),!o&&!f)switch(p&&p.name){case"DatabaseClosedError":throw new Te.DatabaseClosed(p);case"MissingAPIError":throw new Te.MissingAPI(p.message,p);default:throw new Te.OpenFailed(p)}if(!this.active)throw new Te.TransactionInactive;return U(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||f).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=kt(function(m){yi(m),l._reject(o.error)}),o.onabort=kt(function(m){yi(m),l.active&&l._reject(new Te.Abort(o.error)),l.active=!1,l.on("abort").fire(m)}),o.oncomplete=kt(function(){l.active=!1,l._resolve(),"mutatedParts"in o&&Fi.storagemutated.fire(o.mutatedParts)}),this},Wt.prototype._promise=function(o,l,f){var p=this;if(o==="readwrite"&&this.mode!=="readwrite")return at(new Te.ReadOnly("Transaction is readonly"));if(!this.active)return at(new Te.TransactionInactive);if(this._locked())return new Ee(function(v,E){p._blockedFuncs.push([function(){p._promise(o,l,f).then(v,E)},Se])});if(f)return qr(function(){var v=new Ee(function(E,T){p._lock();var N=l(E,T,p);N&&N.then&&N.then(E,T)});return v.finally(function(){return p._unlock()}),v._lib=!0,v});var m=new Ee(function(v,E){var T=l(v,E,p);T&&T.then&&T.then(v,E)});return m._lib=!0,m},Wt.prototype._root=function(){return this.parent?this.parent._root():this},Wt.prototype.waitFor=function(o){var l,f=this._root(),p=Ee.resolve(o);f._waitingFor?f._waitingFor=f._waitingFor.then(function(){return p}):(f._waitingFor=p,f._waitingQueue=[],l=f.idbtrans.objectStore(f.storeNames[0]),function v(){for(++f._spinCount;f._waitingQueue.length;)f._waitingQueue.shift()();f._waitingFor&&(l.get(-1/0).onsuccess=v)}());var m=f._waitingFor;return new Ee(function(v,E){p.then(function(T){return f._waitingQueue.push(kt(v.bind(null,T)))},function(T){return f._waitingQueue.push(kt(E.bind(null,T)))}).finally(function(){f._waitingFor===m&&(f._waitingFor=null)})})},Wt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Te.Abort))},Wt.prototype.table=function(o){var l=this._memoizedTables||(this._memoizedTables={});if(C(l,o))return l[o];var f=this.schema[o];if(!f)throw new Te.NotFound("Table "+o+" not part of transaction");return f=new this.db.Table(o,f,this),f.core=this.db.core.table(o),l[o]=f},Wt);function Wt(){}function Yl(o,l,f,p,m,v,E){return{name:o,keyPath:l,unique:f,multi:p,auto:m,compound:v,src:(f&&!E?"&":"")+(p?"*":"")+(m?"++":"")+Ra(l)}}function Ra(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Na(o,l,f){return{name:o,primKey:l,indexes:f,mappedClass:null,idxByName:(p=function(m){return[m.name,m]},f.reduce(function(m,v,E){return E=p(v,E),E&&(m[E[0]]=E[1]),m},{}))};var p}var Dr=function(o){try{return o.only([[]]),Dr=function(){return[[]]},[[]]}catch{return Dr=function(){return Li},Li}};function $l(o){return o==null?function(){}:typeof o=="string"?(l=o).split(".").length===1?function(f){return f[l]}:function(f){return J(f,l)}:function(f){return J(f,o)};var l}function ko(o){return[].slice.call(o)}var Ms=0;function xi(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Ru(o,l,N){function p(K){if(K.type===3)return null;if(K.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var H=K.lower,V=K.upper,W=K.lowerOpen,K=K.upperOpen;return H===void 0?V===void 0?null:l.upperBound(V,!!K):V===void 0?l.lowerBound(H,!!W):l.bound(H,V,!!W,!!K)}function m(F){var H,V=F.name;return{name:V,schema:F,mutate:function(W){var K=W.trans,ee=W.type,ie=W.keys,oe=W.values,ue=W.range;return new Promise(function(fe,Ae){fe=kt(fe);var be=K.objectStore(V),Ie=be.keyPath==null,De=ee==="put"||ee==="add";if(!De&&ee!=="delete"&&ee!=="deleteRange")throw new Error("Invalid operation type: "+ee);var ke,Fe=(ie||oe||{length:1}).length;if(ie&&oe&&ie.length!==oe.length)throw new Error("Given keys array must have same length as given values array.");if(Fe===0)return fe({numFailures:0,failures:{},results:[],lastResult:void 0});function dt(dr){++Pr,yi(dr)}var xt=[],vt=[],Pr=0;if(ee==="deleteRange"){if(ue.type===4)return fe({numFailures:Pr,failures:vt,results:[],lastResult:void 0});ue.type===3?xt.push(ke=be.clear()):xt.push(ke=be.delete(p(ue)))}else{var Ie=De?Ie?[oe,ie]:[oe,null]:[ie,null],ct=Ie[0],Zn=Ie[1];if(De)for(var Jn=0;Jn<Fe;++Jn)xt.push(ke=Zn&&Zn[Jn]!==void 0?be[ee](ct[Jn],Zn[Jn]):be[ee](ct[Jn])),ke.onerror=dt;else for(Jn=0;Jn<Fe;++Jn)xt.push(ke=be[ee](ct[Jn])),ke.onerror=dt}function Pu(dr){dr=dr.target.result,xt.forEach(function(Us,Th){return Us.error!=null&&(vt[Th]=Us.error)}),fe({numFailures:Pr,failures:vt,results:ee==="delete"?ie:xt.map(function(Us){return Us.result}),lastResult:dr})}ke.onerror=function(dr){dt(dr),Pu(dr)},ke.onsuccess=Pu})},getMany:function(W){var K=W.trans,ee=W.keys;return new Promise(function(ie,oe){ie=kt(ie);for(var ue,fe=K.objectStore(V),Ae=ee.length,be=new Array(Ae),Ie=0,De=0,ke=function(xt){xt=xt.target,be[xt._pos]=xt.result,++De===Ie&&ie(be)},Fe=Ft(oe),dt=0;dt<Ae;++dt)ee[dt]!=null&&((ue=fe.get(ee[dt]))._pos=dt,ue.onsuccess=ke,ue.onerror=Fe,++Ie);Ie===0&&ie(be)})},get:function(W){var K=W.trans,ee=W.key;return new Promise(function(ie,oe){ie=kt(ie);var ue=K.objectStore(V).get(ee);ue.onsuccess=function(fe){return ie(fe.target.result)},ue.onerror=Ft(oe)})},query:(H=P,function(W){return new Promise(function(K,ee){K=kt(K);var ie,oe,ue,Ie=W.trans,fe=W.values,Ae=W.limit,ke=W.query,be=Ae===1/0?void 0:Ae,De=ke.index,ke=ke.range,Ie=Ie.objectStore(V),De=De.isPrimaryKey?Ie:Ie.index(De.name),ke=p(ke);if(Ae===0)return K({result:[]});H?((be=fe?De.getAll(ke,be):De.getAllKeys(ke,be)).onsuccess=function(Fe){return K({result:Fe.target.result})},be.onerror=Ft(ee)):(ie=0,oe=!fe&&"openKeyCursor"in De?De.openKeyCursor(ke):De.openCursor(ke),ue=[],oe.onsuccess=function(Fe){var dt=oe.result;return dt?(ue.push(fe?dt.value:dt.primaryKey),++ie===Ae?K({result:ue}):void dt.continue()):K({result:ue})},oe.onerror=Ft(ee))})}),openCursor:function(W){var K=W.trans,ee=W.values,ie=W.query,oe=W.reverse,ue=W.unique;return new Promise(function(fe,Ae){fe=kt(fe);var De=ie.index,be=ie.range,Ie=K.objectStore(V),Ie=De.isPrimaryKey?Ie:Ie.index(De.name),De=oe?ue?"prevunique":"prev":ue?"nextunique":"next",ke=!ee&&"openKeyCursor"in Ie?Ie.openKeyCursor(p(be),De):Ie.openCursor(p(be),De);ke.onerror=Ft(Ae),ke.onsuccess=kt(function(Fe){var dt,xt,vt,Pr,ct=ke.result;ct?(ct.___id=++Ms,ct.done=!1,dt=ct.continue.bind(ct),xt=(xt=ct.continuePrimaryKey)&&xt.bind(ct),vt=ct.advance.bind(ct),Pr=function(){throw new Error("Cursor not stopped")},ct.trans=K,ct.stop=ct.continue=ct.continuePrimaryKey=ct.advance=function(){throw new Error("Cursor not started")},ct.fail=kt(Ae),ct.next=function(){var Zn=this,Jn=1;return this.start(function(){return Jn--?Zn.continue():Zn.stop()}).then(function(){return Zn})},ct.start=function(Zn){function Jn(){if(ke.result)try{Zn()}catch(dr){ct.fail(dr)}else ct.done=!0,ct.start=function(){throw new Error("Cursor behind last entry")},ct.stop()}var Pu=new Promise(function(dr,Us){dr=kt(dr),ke.onerror=Ft(Us),ct.fail=Us,ct.stop=function(Th){ct.stop=ct.continue=ct.continuePrimaryKey=ct.advance=Pr,dr(Th)}});return ke.onsuccess=kt(function(dr){ke.onsuccess=Jn,Jn()}),ct.continue=dt,ct.continuePrimaryKey=xt,ct.advance=vt,Jn(),Pu},fe(ct)):fe(null)},Ae)})},count:function(W){var K=W.query,ee=W.trans,ie=K.index,oe=K.range;return new Promise(function(ue,fe){var Ae=ee.objectStore(V),be=ie.isPrimaryKey?Ae:Ae.index(ie.name),Ae=p(oe),be=Ae?be.count(Ae):be.count();be.onsuccess=kt(function(Ie){return ue(Ie.target.result)}),be.onerror=Ft(fe)})}}}var v,E,T,j=(E=N,T=ko((v=o).objectStoreNames),{schema:{name:v.name,tables:T.map(function(F){return E.objectStore(F)}).map(function(F){var H=F.keyPath,K=F.autoIncrement,V=g(H),W={},K={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:H==null,compound:V,keyPath:H,autoIncrement:K,unique:!0,extractKey:$l(H)},indexes:ko(F.indexNames).map(function(ee){return F.index(ee)}).map(function(ue){var ie=ue.name,oe=ue.unique,fe=ue.multiEntry,ue=ue.keyPath,fe={name:ie,compound:g(ue),keyPath:ue,unique:oe,multiEntry:fe,extractKey:$l(ue)};return W[xi(ue)]=fe}),getIndexByKeyPath:function(ee){return W[xi(ee)]}};return W[":id"]=K.primaryKey,H!=null&&(W[xi(H)]=K.primaryKey),K})},hasGetAll:0<T.length&&"getAll"in E.objectStore(T[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),N=j.schema,P=j.hasGetAll,j=N.tables.map(m),L={};return j.forEach(function(F){return L[F.name]=F}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(F){if(!L[F])throw new Error("Table '".concat(F,"' not found"));return L[F]},MIN_KEY:-1/0,MAX_KEY:Dr(l),schema:N}}function Os(o,l,f,p){var m=f.IDBKeyRange;return f.indexedDB,{dbcore:(p=Ru(l,m,p),o.dbcore.reduce(function(v,E){return E=E.create,r(r({},v),E(v))},p))}}function Ui(o,p){var f=p.db,p=Os(o._middlewares,f,o._deps,p);o.core=p.dbcore,o.tables.forEach(function(m){var v=m.name;o.core.schema.tables.some(function(E){return E.name===v})&&(m.core=o.core.table(v),o[v]instanceof o.Table&&(o[v].core=m.core))})}function Nn(o,l,f,p){f.forEach(function(m){var v=p[m];l.forEach(function(E){var T=function N(P,j){return B(P,j)||(P=y(P))&&N(P,j)}(E,m);(!T||"value"in T&&T.value===void 0)&&(E===o.Transaction.prototype||E instanceof o.Transaction?O(E,m,{get:function(){return this.table(m)},set:function(N){R(this,m,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):E[m]=new o.Table(m,v))})})}function Ma(o,l){l.forEach(function(f){for(var p in f)f[p]instanceof o.Table&&delete f[p]})}function Nu(o,l){return o._cfg.version-l._cfg.version}function Mu(o,l,f,p){var m=o._dbSchema;f.objectStoreNames.contains("$meta")&&!m.$meta&&(m.$meta=Na("$meta",Ou("")[0],[]),o._storeNames.push("$meta"));var v=o._createTransaction("readwrite",o._storeNames,m);v.create(f),v._completion.catch(p);var E=v._reject.bind(v),T=Se.transless||Se;qr(function(){return Se.trans=v,Se.transless=T,l!==0?(Ui(o,f),P=l,((N=v).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(j){return j??P}):Ee.resolve(P)).then(function(j){return F=j,H=v,V=f,W=[],j=(L=o)._versions,K=L._dbSchema=uo(0,L.idbdb,V),(j=j.filter(function(ee){return ee._cfg.version>=F})).length!==0?(j.forEach(function(ee){W.push(function(){var ie=K,oe=ee._cfg.dbschema;kr(L,ie,V),kr(L,oe,V),K=L._dbSchema=oe;var ue=Kl(ie,oe);ue.add.forEach(function(De){Xl(V,De[0],De[1].primKey,De[1].indexes)}),ue.change.forEach(function(De){if(De.recreate)throw new Te.Upgrade("Not yet support for changing primary key");var ke=V.objectStore(De.name);De.add.forEach(function(Fe){return Ds(ke,Fe)}),De.change.forEach(function(Fe){ke.deleteIndex(Fe.name),Ds(ke,Fe)}),De.del.forEach(function(Fe){return ke.deleteIndex(Fe)})});var fe=ee._cfg.contentUpgrade;if(fe&&ee._cfg.version>F){Ui(L,V),H._memoizedTables={};var Ae=Z(oe);ue.del.forEach(function(De){Ae[De]=ie[De]}),Ma(L,[L.Transaction.prototype]),Nn(L,[L.Transaction.prototype],h(Ae),Ae),H.schema=Ae;var be,Ie=ne(fe);return Ie&&yn(),ue=Ee.follow(function(){var De;(be=fe(H))&&Ie&&(De=lr.bind(null,null),be.then(De,De))}),be&&typeof be.then=="function"?Ee.resolve(be):ue.then(function(){return be})}}),W.push(function(ie){var oe,ue,fe=ee._cfg.dbschema;oe=fe,ue=ie,[].slice.call(ue.db.objectStoreNames).forEach(function(Ae){return oe[Ae]==null&&ue.db.deleteObjectStore(Ae)}),Ma(L,[L.Transaction.prototype]),Nn(L,[L.Transaction.prototype],L._storeNames,L._dbSchema),H.schema=L._dbSchema}),W.push(function(ie){L.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(L.idbdb.version/10)===ee._cfg.version?(L.idbdb.deleteObjectStore("$meta"),delete L._dbSchema.$meta,L._storeNames=L._storeNames.filter(function(oe){return oe!=="$meta"})):ie.objectStore("$meta").put(ee._cfg.version,"version"))})}),function ee(){return W.length?Ee.resolve(W.shift()(H.idbtrans)).then(ee):Ee.resolve()}().then(function(){Bt(K,V)})):Ee.resolve();var L,F,H,V,W,K}).catch(E)):(h(m).forEach(function(j){Xl(f,j,m[j].primKey,m[j].indexes)}),Ui(o,f),void Ee.follow(function(){return o.on.populate.fire(v)}).catch(E));var N,P})}function bh(o,l){Bt(o._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var f=uo(0,o.idbdb,l);kr(o,o._dbSchema,l);for(var p=0,m=Kl(f,o._dbSchema).change;p<m.length;p++){var v=function(E){if(E.change.length||E.recreate)return console.warn("Unable to patch indexes of table ".concat(E.name," because it has changes on the type of index or primary key.")),{value:void 0};var T=l.objectStore(E.name);E.add.forEach(function(N){_e&&console.debug("Dexie upgrade patch: Creating missing index ".concat(E.name,".").concat(N.src)),Ds(T,N)})}(m[p]);if(typeof v=="object")return v.value}}function Kl(o,l){var f,p={del:[],add:[],change:[]};for(f in o)l[f]||p.del.push(f);for(f in l){var m=o[f],v=l[f];if(m){var E={name:f,def:v,recreate:!1,del:[],add:[],change:[]};if(""+(m.primKey.keyPath||"")!=""+(v.primKey.keyPath||"")||m.primKey.auto!==v.primKey.auto)E.recreate=!0,p.change.push(E);else{var T=m.idxByName,N=v.idxByName,P=void 0;for(P in T)N[P]||E.del.push(P);for(P in N){var j=T[P],L=N[P];j?j.src!==L.src&&E.change.push(L):E.add.push(L)}(0<E.del.length||0<E.add.length||0<E.change.length)&&p.change.push(E)}}else p.add.push([f,v])}return p}function Xl(o,l,f,p){var m=o.db.createObjectStore(l,f.keyPath?{keyPath:f.keyPath,autoIncrement:f.auto}:{autoIncrement:f.auto});return p.forEach(function(v){return Ds(m,v)}),m}function Bt(o,l){h(o).forEach(function(f){l.db.objectStoreNames.contains(f)||(_e&&console.debug("Dexie: Creating missing table",f),Xl(l,f,o[f].primKey,o[f].indexes))})}function Ds(o,l){o.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function uo(o,l,f){var p={};return I(l.objectStoreNames,0).forEach(function(m){for(var v=f.objectStore(m),E=Yl(Ra(P=v.keyPath),P||"",!0,!1,!!v.autoIncrement,P&&typeof P!="string",!0),T=[],N=0;N<v.indexNames.length;++N){var j=v.index(v.indexNames[N]),P=j.keyPath,j=Yl(j.name,P,!!j.unique,!!j.multiEntry,!1,P&&typeof P!="string",!1);T.push(j)}p[m]=Na(m,E,T)}),p}function kr(o,l,f){for(var p=f.db.objectStoreNames,m=0;m<p.length;++m){var v=p[m],E=f.objectStore(v);o._hasGetAll="getAll"in E;for(var T=0;T<E.indexNames.length;++T){var N=E.indexNames[T],P=E.index(N).keyPath,j=typeof P=="string"?P:"["+I(P).join("+")+"]";!l[v]||(P=l[v].idxByName[j])&&(P.name=N,delete l[v].idxByName[j],l[v].idxByName[N]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Ou(o){return o.split(",").map(function(l,f){var p=(l=l.trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(p)?p.match(/^\[(.*)\]$/)[1].split("+"):p;return Yl(p,m||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),g(m),f===0)})}var se=(lt.prototype._parseStoresSpec=function(o,l){h(o).forEach(function(f){if(o[f]!==null){var p=Ou(o[f]),m=p.shift();if(m.unique=!0,m.multi)throw new Te.Schema("Primary key cannot be multi-valued");p.forEach(function(v){if(v.auto)throw new Te.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new Te.Schema("Index must have a name and cannot be an empty string")}),l[f]=Na(f,m,p)}})},lt.prototype.stores=function(f){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,f):f;var f=l._versions,p={},m={};return f.forEach(function(v){x(p,v._cfg.storesSource),m=v._cfg.dbschema={},v._parseStoresSpec(p,m)}),l._dbSchema=m,Ma(l,[l._allTables,l,l.Transaction.prototype]),Nn(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],h(m),m),l._storeNames=h(m),this},lt.prototype.upgrade=function(o){return this._cfg.contentUpgrade=Gt(this._cfg.contentUpgrade||Ue,o),this},lt);function lt(){}function vn(o,l){var f=o._dbNamesDB;return f||(f=o._dbNamesDB=new ri(Sa,{addons:[],indexedDB:o,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),f.table("dbnames")}function Po(o){return o&&typeof o.databases=="function"}function Oa(o){return qr(function(){return Se.letThrough=!0,o()})}function Ql(o){return!("from"in o)}var Ln=function(o,l){if(!this){var f=new Ln;return o&&"d"in o&&x(f,o),f}x(this,arguments.length?{d:1,from:o,to:1<arguments.length?l:o}:{d:0})};function ks(o,l,f){var p=pt(l,f);if(!isNaN(p)){if(0<p)throw RangeError();if(Ql(o))return x(o,{from:l,to:f,d:1});var m=o.l,p=o.r;if(pt(f,o.from)<0)return m?ks(m,l,f):o.l={from:l,to:f,d:1,l:null,r:null},qt(o);if(0<pt(l,o.to))return p?ks(p,l,f):o.r={from:l,to:f,d:1,l:null,r:null},qt(o);pt(l,o.from)<0&&(o.from=l,o.l=null,o.d=p?p.d+1:1),0<pt(f,o.to)&&(o.to=f,o.r=null,o.d=o.l?o.l.d+1:1),f=!o.r,m&&!o.l&&fo(o,m),p&&f&&fo(o,p)}}function fo(o,l){Ql(l)||function f(p,N){var v=N.from,E=N.to,T=N.l,N=N.r;ks(p,v,E),T&&f(p,T),N&&f(p,N)}(o,l)}function un(o,l){var f=Lo(l),p=f.next();if(p.done)return!1;for(var m=p.value,v=Lo(o),E=v.next(m.from),T=E.value;!p.done&&!E.done;){if(pt(T.from,m.to)<=0&&0<=pt(T.to,m.from))return!0;pt(m.from,T.from)<0?m=(p=f.next(T.from)).value:T=(E=v.next(m.from)).value}return!1}function Lo(o){var l=Ql(o)?null:{s:0,n:o};return{next:function(f){for(var p=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,p)for(;l.n.l&&pt(f,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!p||pt(f,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function qt(o){var l,f,p=(((l=o.r)===null||l===void 0?void 0:l.d)||0)-(((f=o.l)===null||f===void 0?void 0:f.d)||0),m=1<p?"r":p<-1?"l":"";m&&(l=m=="r"?"l":"r",f=r({},o),p=o[m],o.from=p.from,o.to=p.to,o[m]=p[m],f[m]=p[l],(o[l]=f).d=Ps(f)),o.d=Ps(o)}function Ps(f){var l=f.r,f=f.l;return(l?f?Math.max(l.d,f.d):l.d:f?f.d:0)+1}function Jr(o,l){return h(l).forEach(function(f){o[f]?fo(o[f],l[f]):o[f]=function p(m){var v,E,T={};for(v in m)C(m,v)&&(E=m[v],T[v]=!E||typeof E!="object"||xe.has(E.constructor)?E:p(E));return T}(l[f])}),o}function jt(o,l){return o.all||l.all||Object.keys(o).some(function(f){return l[f]&&un(l[f],o[f])})}b(Ln.prototype,((qn={add:function(o){return fo(this,o),this},addKey:function(o){return ks(this,o,o),this},addKeys:function(o){var l=this;return o.forEach(function(f){return ks(l,f,f)}),this},hasKey:function(o){var l=Lo(this).next(o).value;return l&&pt(l.from,o)<=0&&0<=pt(l.to,o)}})[we]=function(){return Lo(this)},qn));var Qe={},ql={},Ut=!1;function ei(o){Jr(ql,o),Ut||(Ut=!0,setTimeout(function(){Ut=!1,zi(ql,!(ql={}))},0))}function zi(o,l){l===void 0&&(l=!1);var f=new Set;if(o.all)for(var p=0,m=Object.values(Qe);p<m.length;p++)Du(E=m[p],o,f,l);else for(var v in o){var E,T=/^idb\:\/\/(.*)\/(.*)\//.exec(v);T&&(v=T[1],T=T[2],(E=Qe["idb://".concat(v,"/").concat(T)])&&Du(E,o,f,l))}f.forEach(function(N){return N()})}function Du(o,l,f,p){for(var m=[],v=0,E=Object.entries(o.queries.query);v<E.length;v++){for(var T=E[v],N=T[0],P=[],j=0,L=T[1];j<L.length;j++){var F=L[j];jt(l,F.obsSet)?F.subscribers.forEach(function(K){return f.add(K)}):p&&P.push(F)}p&&m.push([N,P])}if(p)for(var H=0,V=m;H<V.length;H++){var W=V[H],N=W[0],P=W[1];o.queries.query[N]=P}}function ti(o){var l=o._state,f=o._deps.indexedDB;if(l.isBeingOpened||o.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?at(l.dbOpenError):o});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var p=l.openCanceller,m=Math.round(10*o.verno),v=!1;function E(){if(l.openCanceller!==p)throw new Te.DatabaseClosed("db.open() was cancelled")}function T(){return new Ee(function(F,H){if(E(),!f)throw new Te.MissingAPI;var V=o.name,W=l.autoSchema||!m?f.open(V):f.open(V,m);if(!W)throw new Te.MissingAPI;W.onerror=Ft(H),W.onblocked=kt(o._fireOnBlocked),W.onupgradeneeded=kt(function(K){var ee;j=W.transaction,l.autoSchema&&!o._options.allowEmptyDB?(W.onerror=yi,j.abort(),W.result.close(),(ee=f.deleteDatabase(V)).onsuccess=ee.onerror=kt(function(){H(new Te.NoSuchDatabase("Database ".concat(V," doesnt exist")))})):(j.onerror=Ft(H),K=K.oldVersion>Math.pow(2,62)?0:K.oldVersion,L=K<1,o.idbdb=W.result,v&&bh(o,j),Mu(o,K/10,j,H))},H),W.onsuccess=kt(function(){j=null;var K,ee,ie,oe,ue,fe=o.idbdb=W.result,Ae=I(fe.objectStoreNames);if(0<Ae.length)try{var be=fe.transaction((oe=Ae).length===1?oe[0]:oe,"readonly");if(l.autoSchema)ee=fe,ie=be,(K=o).verno=ee.version/10,ie=K._dbSchema=uo(0,ee,ie),K._storeNames=I(ee.objectStoreNames,0),Nn(K,[K._allTables],h(ie),ie);else if(kr(o,o._dbSchema,be),((ue=Kl(uo(0,(ue=o).idbdb,be),ue._dbSchema)).add.length||ue.change.some(function(Ie){return Ie.add.length||Ie.change.length}))&&!v)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),fe.close(),m=fe.version+1,v=!0,F(T());Ui(o,be)}catch{}me.push(o),fe.onversionchange=kt(function(Ie){l.vcFired=!0,o.on("versionchange").fire(Ie)}),fe.onclose=kt(function(Ie){o.on("close").fire(Ie)}),L&&(ue=o._deps,be=V,fe=ue.indexedDB,ue=ue.IDBKeyRange,Po(fe)||be===Sa||vn(fe,ue).put({name:be}).catch(Ue)),F()},H)}).catch(function(F){switch(F==null?void 0:F.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),T();break;case"VersionError":if(0<m)return m=0,T()}return Ee.reject(F)})}var N,P=l.dbReadyResolve,j=null,L=!1;return Ee.race([p,(typeof navigator>"u"?Ee.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function H(){return indexedDB.databases().finally(F)}N=setInterval(H,100),H()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(T)]).then(function(){return E(),l.onReadyBeingFired=[],Ee.resolve(Oa(function(){return o.on.ready.fire(o.vip)})).then(function F(){if(0<l.onReadyBeingFired.length){var H=l.onReadyBeingFired.reduce(Gt,Ue);return l.onReadyBeingFired=[],Ee.resolve(Oa(function(){return H(o.vip)})).then(F)}})}).finally(function(){l.openCanceller===p&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(F){l.dbOpenError=F;try{j&&j.abort()}catch{}return p===l.openCanceller&&o._close(),at(F)}).finally(function(){l.openComplete=!0,P()}).then(function(){var F;return L&&(F={},o.tables.forEach(function(H){H.schema.indexes.forEach(function(V){V.name&&(F["idb://".concat(o.name,"/").concat(H.name,"/").concat(V.name)]=new Ln(-1/0,[[[]]]))}),F["idb://".concat(o.name,"/").concat(H.name,"/")]=F["idb://".concat(o.name,"/").concat(H.name,"/:dels")]=new Ln(-1/0,[[[]]])}),Fi(Sr).fire(F),zi(F,!0)),o})}function Ls(o){function l(v){return o.next(v)}var f=m(l),p=m(function(v){return o.throw(v)});function m(v){return function(N){var T=v(N),N=T.value;return T.done?N:N&&typeof N.then=="function"?N.then(f,p):g(N)?Promise.all(N).then(f,p):f(N)}}return m(l)()}function Bs(o,l,f){for(var p=g(o)?o.slice():[o],m=0;m<f;++m)p.push(l);return p}var Zl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return r(r({},o),{table:function(l){var f=o.table(l),p=f.schema,m={},v=[];function E(L,F,H){var V=xi(L),W=m[V]=m[V]||[],K=L==null?0:typeof L=="string"?1:L.length,ee=0<F,ee=r(r({},H),{name:ee?"".concat(V,"(virtual-from:").concat(H.name,")"):H.name,lowLevelIndex:H,isVirtual:ee,keyTail:F,keyLength:K,extractKey:$l(L),unique:!ee&&H.unique});return W.push(ee),ee.isPrimaryKey||v.push(ee),1<K&&E(K===2?L[0]:L.slice(0,K-1),F+1,H),W.sort(function(ie,oe){return ie.keyTail-oe.keyTail}),ee}l=E(p.primaryKey.keyPath,0,p.primaryKey),m[":id"]=[l];for(var T=0,N=p.indexes;T<N.length;T++){var P=N[T];E(P.keyPath,0,P)}function j(L){var F,H=L.query.index;return H.isVirtual?r(r({},L),{query:{index:H.lowLevelIndex,range:(F=L.query.range,H=H.keyTail,{type:F.type===1?2:F.type,lower:Bs(F.lower,F.lowerOpen?o.MAX_KEY:o.MIN_KEY,H),lowerOpen:!0,upper:Bs(F.upper,F.upperOpen?o.MIN_KEY:o.MAX_KEY,H),upperOpen:!0})}}):L}return r(r({},f),{schema:r(r({},p),{primaryKey:l,indexes:v,getIndexByKeyPath:function(L){return(L=m[xi(L)])&&L[0]}}),count:function(L){return f.count(j(L))},query:function(L){return f.query(j(L))},openCursor:function(L){var F=L.query.index,H=F.keyTail,V=F.isVirtual,W=F.keyLength;return V?f.openCursor(j(L)).then(function(ee){return ee&&K(ee)}):f.openCursor(L);function K(ee){return Object.create(ee,{continue:{value:function(ie){ie!=null?ee.continue(Bs(ie,L.reverse?o.MAX_KEY:o.MIN_KEY,H)):L.unique?ee.continue(ee.key.slice(0,W).concat(L.reverse?o.MIN_KEY:o.MAX_KEY,H)):ee.continue()}},continuePrimaryKey:{value:function(ie,oe){ee.continuePrimaryKey(Bs(ie,o.MAX_KEY,H),oe)}},primaryKey:{get:function(){return ee.primaryKey}},key:{get:function(){var ie=ee.key;return W===1?ie[0]:ie.slice(0,W)}},value:{get:function(){return ee.value}}})}}})}})}};function Da(o,l,f,p){return f=f||{},p=p||"",h(o).forEach(function(m){var v,E,T;C(l,m)?(v=o[m],E=l[m],typeof v=="object"&&typeof E=="object"&&v&&E?(T=te(v))!==te(E)?f[p+m]=l[m]:T==="Object"?Da(v,E,f,p+m+"."):v!==E&&(f[p+m]=l[m]):v!==E&&(f[p+m]=l[m])):f[p+m]=void 0}),h(l).forEach(function(m){C(o,m)||(f[p+m]=l[m])}),f}function ka(o,l){return l.type==="delete"?l.keys:l.keys||l.values.map(o.extractKey)}var Eh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(l){var f=o.table(l),p=f.schema.primaryKey;return r(r({},f),{mutate:function(m){var v=Se.trans,E=v.table(l).hook,T=E.deleting,N=E.creating,P=E.updating;switch(m.type){case"add":if(N.fire===Ue)break;return v._promise("readwrite",function(){return j(m)},!0);case"put":if(N.fire===Ue&&P.fire===Ue)break;return v._promise("readwrite",function(){return j(m)},!0);case"delete":if(T.fire===Ue)break;return v._promise("readwrite",function(){return j(m)},!0);case"deleteRange":if(T.fire===Ue)break;return v._promise("readwrite",function(){return function L(F,H,V){return f.query({trans:F,values:!1,query:{index:p,range:H},limit:V}).then(function(W){var K=W.result;return j({type:"delete",keys:K,trans:F}).then(function(ee){return 0<ee.numFailures?Promise.reject(ee.failures[0]):K.length<V?{failures:[],numFailures:0,lastResult:void 0}:L(F,r(r({},H),{lower:K[K.length-1],lowerOpen:!0}),V)})})}(m.trans,m.range,1e4)},!0)}return f.mutate(m);function j(L){var F,H,V,W=Se.trans,K=L.keys||ka(p,L);if(!K)throw new Error("Keys missing");return(L=L.type==="add"||L.type==="put"?r(r({},L),{keys:K}):r({},L)).type!=="delete"&&(L.values=s([],L.values)),L.keys&&(L.keys=s([],L.keys)),F=f,V=K,((H=L).type==="add"?Promise.resolve([]):F.getMany({trans:H.trans,keys:V,cache:"immutable"})).then(function(ee){var ie=K.map(function(oe,ue){var fe,Ae,be,Ie=ee[ue],De={onerror:null,onsuccess:null};return L.type==="delete"?T.fire.call(De,oe,Ie,W):L.type==="add"||Ie===void 0?(fe=N.fire.call(De,oe,L.values[ue],W),oe==null&&fe!=null&&(L.keys[ue]=oe=fe,p.outbound||Y(L.values[ue],p.keyPath,oe))):(fe=Da(Ie,L.values[ue]),(Ae=P.fire.call(De,fe,oe,Ie,W))&&(be=L.values[ue],Object.keys(Ae).forEach(function(ke){C(be,ke)?be[ke]=Ae[ke]:Y(be,ke,Ae[ke])}))),De});return f.mutate(L).then(function(oe){for(var ue=oe.failures,fe=oe.results,Ae=oe.numFailures,oe=oe.lastResult,be=0;be<K.length;++be){var Ie=(fe||K)[be],De=ie[be];Ie==null?De.onerror&&De.onerror(ue[be]):De.onsuccess&&De.onsuccess(L.type==="put"&&ee[be]?L.values[be]:Ie)}return{failures:ue,results:fe,numFailures:Ae,lastResult:oe}}).catch(function(oe){return ie.forEach(function(ue){return ue.onerror&&ue.onerror(oe)}),Promise.reject(oe)})})}}})}})}};function ho(o,l,f){try{if(!l||l.keys.length<o.length)return null;for(var p=[],m=0,v=0;m<l.keys.length&&v<o.length;++m)pt(l.keys[m],o[v])===0&&(p.push(f?ye(l.values[m]):l.values[m]),++v);return p.length===o.length?p:null}catch{return null}}var Jl={stack:"dbcore",level:-1,create:function(o){return{table:function(l){var f=o.table(l);return r(r({},f),{getMany:function(p){if(!p.cache)return f.getMany(p);var m=ho(p.keys,p.trans._cache,p.cache==="clone");return m?Ee.resolve(m):f.getMany(p).then(function(v){return p.trans._cache={keys:p.keys,values:p.cache==="clone"?ye(v):v},v})},mutate:function(p){return p.type!=="add"&&(p.trans._cache=null),f.mutate(p)}})}}}};function ku(o,l){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Bo(o,l){switch(o){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Sh={stack:"dbcore",level:0,name:"Observability",create:function(o){var l=o.schema.name,f=new Ln(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(p,m,v){if(Se.subscr&&m!=="readonly")throw new Te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Se.querier));return o.transaction(p,m,v)},table:function(p){var m=o.table(p),v=m.schema,E=v.primaryKey,L=v.indexes,T=E.extractKey,N=E.outbound,P=E.autoIncrement&&L.filter(function(H){return H.compound&&H.keyPath.includes(E.keyPath)}),j=r(r({},m),{mutate:function(H){function V(ke){return ke="idb://".concat(l,"/").concat(p,"/").concat(ke),oe[ke]||(oe[ke]=new Ln)}var W,K,ee,ie=H.trans,oe=H.mutatedParts||(H.mutatedParts={}),ue=V(""),fe=V(":dels"),Ae=H.type,De=H.type==="deleteRange"?[H.range]:H.type==="delete"?[H.keys]:H.values.length<50?[ka(E,H).filter(function(ke){return ke}),H.values]:[],be=De[0],Ie=De[1],De=H.trans._cache;return g(be)?(ue.addKeys(be),(De=Ae==="delete"||be.length===Ie.length?ho(be,De):null)||fe.addKeys(be),(De||Ie)&&(W=V,K=De,ee=Ie,v.indexes.forEach(function(ke){var Fe=W(ke.name||"");function dt(vt){return vt!=null?ke.extractKey(vt):null}function xt(vt){return ke.multiEntry&&g(vt)?vt.forEach(function(Pr){return Fe.addKey(Pr)}):Fe.addKey(vt)}(K||ee).forEach(function(vt,Zn){var ct=K&&dt(K[Zn]),Zn=ee&&dt(ee[Zn]);pt(ct,Zn)!==0&&(ct!=null&&xt(ct),Zn!=null&&xt(Zn))})}))):be?(Ie={from:(Ie=be.lower)!==null&&Ie!==void 0?Ie:o.MIN_KEY,to:(Ie=be.upper)!==null&&Ie!==void 0?Ie:o.MAX_KEY},fe.add(Ie),ue.add(Ie)):(ue.add(f),fe.add(f),v.indexes.forEach(function(ke){return V(ke.name).add(f)})),m.mutate(H).then(function(ke){return!be||H.type!=="add"&&H.type!=="put"||(ue.addKeys(ke.results),P&&P.forEach(function(Fe){for(var dt=H.values.map(function(ct){return Fe.extractKey(ct)}),xt=Fe.keyPath.findIndex(function(ct){return ct===E.keyPath}),vt=0,Pr=ke.results.length;vt<Pr;++vt)dt[vt][xt]=ke.results[vt];V(Fe.name).addKeys(dt)})),ie.mutatedParts=Jr(ie.mutatedParts||{},oe),ke})}}),L=function(V){var W=V.query,V=W.index,W=W.range;return[V,new Ln((V=W.lower)!==null&&V!==void 0?V:o.MIN_KEY,(W=W.upper)!==null&&W!==void 0?W:o.MAX_KEY)]},F={get:function(H){return[E,new Ln(H.key)]},getMany:function(H){return[E,new Ln().addKeys(H.keys)]},count:L,query:L,openCursor:L};return h(F).forEach(function(H){j[H]=function(V){var W=Se.subscr,K=!!W,ee=ku(Se,m)&&Bo(H,V)?V.obsSet={}:W;if(K){var ie=function(Ie){return Ie="idb://".concat(l,"/").concat(p,"/").concat(Ie),ee[Ie]||(ee[Ie]=new Ln)},oe=ie(""),ue=ie(":dels"),W=F[H](V),K=W[0],W=W[1];if((H==="query"&&K.isPrimaryKey&&!V.values?ue:ie(K.name||"")).add(W),!K.isPrimaryKey){if(H!=="count"){var fe=H==="query"&&N&&V.values&&m.query(r(r({},V),{values:!1}));return m[H].apply(this,arguments).then(function(Ie){if(H==="query"){if(N&&V.values)return fe.then(function(dt){return dt=dt.result,oe.addKeys(dt),Ie});var De=V.values?Ie.result.map(T):Ie.result;(V.values?oe:ue).addKeys(De)}else if(H==="openCursor"){var ke=Ie,Fe=V.values;return ke&&Object.create(ke,{key:{get:function(){return ue.addKey(ke.primaryKey),ke.key}},primaryKey:{get:function(){var dt=ke.primaryKey;return ue.addKey(dt),dt}},value:{get:function(){return Fe&&oe.addKey(ke.primaryKey),ke.value}}})}return Ie})}ue.add(f)}}return m[H].apply(this,arguments)}}),j}})}};function vi(o,l,f){if(f.numFailures===0)return l;if(l.type==="deleteRange")return null;var p=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return f.numFailures===p?null:(l=r({},l),g(l.keys)&&(l.keys=l.keys.filter(function(m,v){return!(v in f.failures)})),"values"in l&&g(l.values)&&(l.values=l.values.filter(function(m,v){return!(v in f.failures)})),l)}function jo(o,l){return f=o,((p=l).lower===void 0||(p.lowerOpen?0<pt(f,p.lower):0<=pt(f,p.lower)))&&(o=o,(l=l).upper===void 0||(l.upperOpen?pt(o,l.upper)<0:pt(o,l.upper)<=0));var f,p}function ur(o,l,F,p,m,v){if(!F||F.length===0)return o;var E=l.query.index,T=E.multiEntry,N=l.query.range,P=p.schema.primaryKey.extractKey,j=E.extractKey,L=(E.lowLevelIndex||E).extractKey,F=F.reduce(function(H,V){var W=H,K=[];if(V.type==="add"||V.type==="put")for(var ee=new Ln,ie=V.values.length-1;0<=ie;--ie){var oe,ue=V.values[ie],fe=P(ue);ee.hasKey(fe)||(oe=j(ue),(T&&g(oe)?oe.some(function(ke){return jo(ke,N)}):jo(oe,N))&&(ee.addKey(fe),K.push(ue)))}switch(V.type){case"add":var Ae=new Ln().addKeys(l.values?H.map(function(Fe){return P(Fe)}):H),W=H.concat(l.values?K.filter(function(Fe){return Fe=P(Fe),!Ae.hasKey(Fe)&&(Ae.addKey(Fe),!0)}):K.map(function(Fe){return P(Fe)}).filter(function(Fe){return!Ae.hasKey(Fe)&&(Ae.addKey(Fe),!0)}));break;case"put":var be=new Ln().addKeys(V.values.map(function(Fe){return P(Fe)}));W=H.filter(function(Fe){return!be.hasKey(l.values?P(Fe):Fe)}).concat(l.values?K:K.map(function(Fe){return P(Fe)}));break;case"delete":var Ie=new Ln().addKeys(V.keys);W=H.filter(function(Fe){return!Ie.hasKey(l.values?P(Fe):Fe)});break;case"deleteRange":var De=V.range;W=H.filter(function(Fe){return!jo(P(Fe),De)})}return W},o);return F===o?o:(F.sort(function(H,V){return pt(L(H),L(V))||pt(P(H),P(V))}),l.limit&&l.limit<1/0&&(F.length>l.limit?F.length=l.limit:o.length===l.limit&&F.length<l.limit&&(m.dirty=!0)),v?Object.freeze(F):F)}function ec(o,l){return pt(o.lower,l.lower)===0&&pt(o.upper,l.upper)===0&&!!o.lowerOpen==!!l.lowerOpen&&!!o.upperOpen==!!l.upperOpen}function ni(o,l){return function(f,p,m,v){if(f===void 0)return p!==void 0?-1:0;if(p===void 0)return 1;if((p=pt(f,p))===0){if(m&&v)return 0;if(m)return 1;if(v)return-1}return p}(o.lower,l.lower,o.lowerOpen,l.lowerOpen)<=0&&0<=function(f,p,m,v){if(f===void 0)return p!==void 0?1:0;if(p===void 0)return-1;if((p=pt(f,p))===0){if(m&&v)return 0;if(m)return-1;if(v)return 1}return p}(o.upper,l.upper,o.upperOpen,l.upperOpen)}function Ah(o,l,f,p){o.subscribers.add(f),p.addEventListener("abort",function(){var m,v;o.subscribers.delete(f),o.subscribers.size===0&&(m=o,v=l,setTimeout(function(){m.subscribers.size===0&&q(v,m)},3e3))})}var tc={stack:"dbcore",level:0,name:"Cache",create:function(o){var l=o.schema.name;return r(r({},o),{transaction:function(f,p,m){var v,E,T=o.transaction(f,p,m);return p==="readwrite"&&(E=(v=new AbortController).signal,m=function(N){return function(){if(v.abort(),p==="readwrite"){for(var P=new Set,j=0,L=f;j<L.length;j++){var F=L[j],H=Qe["idb://".concat(l,"/").concat(F)];if(H){var V=o.table(F),W=H.optimisticOps.filter(function(Fe){return Fe.trans===T});if(T._explicit&&N&&T.mutatedParts)for(var K=0,ee=Object.values(H.queries.query);K<ee.length;K++)for(var ie=0,oe=(Ae=ee[K]).slice();ie<oe.length;ie++)jt((be=oe[ie]).obsSet,T.mutatedParts)&&(q(Ae,be),be.subscribers.forEach(function(Fe){return P.add(Fe)}));else if(0<W.length){H.optimisticOps=H.optimisticOps.filter(function(Fe){return Fe.trans!==T});for(var ue=0,fe=Object.values(H.queries.query);ue<fe.length;ue++)for(var Ae,be,Ie,De=0,ke=(Ae=fe[ue]).slice();De<ke.length;De++)(be=ke[De]).res!=null&&T.mutatedParts&&(N&&!be.dirty?(Ie=Object.isFrozen(be.res),Ie=ur(be.res,be.req,W,V,be,Ie),be.dirty?(q(Ae,be),be.subscribers.forEach(function(Fe){return P.add(Fe)})):Ie!==be.res&&(be.res=Ie,be.promise=Ee.resolve({result:Ie}))):(be.dirty&&q(Ae,be),be.subscribers.forEach(function(Fe){return P.add(Fe)})))}}}P.forEach(function(Fe){return Fe()})}}},T.addEventListener("abort",m(!1),{signal:E}),T.addEventListener("error",m(!1),{signal:E}),T.addEventListener("complete",m(!0),{signal:E})),T},table:function(f){var p=o.table(f),m=p.schema.primaryKey;return r(r({},p),{mutate:function(v){var E=Se.trans;if(m.outbound||E.db._options.cache==="disabled"||E.explicit||E.idbtrans.mode!=="readwrite")return p.mutate(v);var T=Qe["idb://".concat(l,"/").concat(f)];return T?(E=p.mutate(v),v.type!=="add"&&v.type!=="put"||!(50<=v.values.length||ka(m,v).some(function(N){return N==null}))?(T.optimisticOps.push(v),v.mutatedParts&&ei(v.mutatedParts),E.then(function(N){0<N.numFailures&&(q(T.optimisticOps,v),(N=vi(0,v,N))&&T.optimisticOps.push(N),v.mutatedParts&&ei(v.mutatedParts))}),E.catch(function(){q(T.optimisticOps,v),v.mutatedParts&&ei(v.mutatedParts)})):E.then(function(N){var P=vi(0,r(r({},v),{values:v.values.map(function(j,L){var F;return N.failures[L]?j:(j=(F=m.keyPath)!==null&&F!==void 0&&F.includes(".")?ye(j):r({},j),Y(j,m.keyPath,N.results[L]),j)})}),N);T.optimisticOps.push(P),queueMicrotask(function(){return v.mutatedParts&&ei(v.mutatedParts)})}),E):p.mutate(v)},query:function(v){if(!ku(Se,p)||!Bo("query",v))return p.query(v);var E=((P=Se.trans)===null||P===void 0?void 0:P.db._options.cache)==="immutable",L=Se,T=L.requery,N=L.signal,P=function(V,W,K,ee){var ie=Qe["idb://".concat(V,"/").concat(W)];if(!ie)return[];if(!(W=ie.queries[K]))return[null,!1,ie,null];var oe=W[(ee.query?ee.query.index.name:null)||""];if(!oe)return[null,!1,ie,null];switch(K){case"query":var ue=oe.find(function(fe){return fe.req.limit===ee.limit&&fe.req.values===ee.values&&ec(fe.req.query.range,ee.query.range)});return ue?[ue,!0,ie,oe]:[oe.find(function(fe){return("limit"in fe.req?fe.req.limit:1/0)>=ee.limit&&(!ee.values||fe.req.values)&&ni(fe.req.query.range,ee.query.range)}),!1,ie,oe];case"count":return ue=oe.find(function(fe){return ec(fe.req.query.range,ee.query.range)}),[ue,!!ue,ie,oe]}}(l,f,"query",v),j=P[0],L=P[1],F=P[2],H=P[3];return j&&L?j.obsSet=v.obsSet:(L=p.query(v).then(function(V){var W=V.result;if(j&&(j.res=W),E){for(var K=0,ee=W.length;K<ee;++K)Object.freeze(W[K]);Object.freeze(W)}else V.result=ye(W);return V}).catch(function(V){return H&&j&&q(H,j),Promise.reject(V)}),j={obsSet:v.obsSet,promise:L,subscribers:new Set,type:"query",req:v,dirty:!1},H?H.push(j):(H=[j],(F=F||(Qe["idb://".concat(l,"/").concat(f)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[v.query.index.name||""]=H)),Ah(j,H,T,N),j.promise.then(function(V){return{result:ur(V.result,v,F==null?void 0:F.optimisticOps,p,j,E)}})}})}})}};function Pa(o,l){return new Proxy(o,{get:function(f,p,m){return p==="db"?l:Reflect.get(f,p,m)}})}var ri=(Pt.prototype.version=function(o){if(isNaN(o)||o<.1)throw new Te.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new Te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var l=this._versions,f=l.filter(function(p){return p._cfg.version===o})[0];return f||(f=new this.Version(o),l.push(f),l.sort(Nu),f.stores({}),this._state.autoSchema=!1,f)},Pt.prototype._whenReady=function(o){var l=this;return this.idbdb&&(this._state.openComplete||Se.letThrough||this._vip)?o():new Ee(function(f,p){if(l._state.openComplete)return p(new Te.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void p(new Te.DatabaseClosed);l.open().catch(Ue)}l._state.dbReadyPromise.then(f,p)}).then(o)},Pt.prototype.use=function(o){var l=o.stack,f=o.create,p=o.level,m=o.name;return m&&this.unuse({stack:l,name:m}),o=this._middlewares[l]||(this._middlewares[l]=[]),o.push({stack:l,create:f,level:p??10,name:m}),o.sort(function(v,E){return v.level-E.level}),this},Pt.prototype.unuse=function(o){var l=o.stack,f=o.name,p=o.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(m){return p?m.create!==p:!!f&&m.name!==f})),this},Pt.prototype.open=function(){var o=this;return ao(mt,function(){return ti(o)})},Pt.prototype._close=function(){var o=this._state,l=me.indexOf(this);if(0<=l&&me.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new Ee(function(f){o.dbReadyResolve=f}),o.openCanceller=new Ee(function(f,p){o.cancelOpen=p}))},Pt.prototype.close=function(f){var l=(f===void 0?{disableAutoOpen:!0}:f).disableAutoOpen,f=this._state;l?(f.isBeingOpened&&f.cancelOpen(new Te.DatabaseClosed),this._close(),f.autoOpen=!1,f.dbOpenError=new Te.DatabaseClosed):(this._close(),f.autoOpen=this._options.autoOpen||f.isBeingOpened,f.openComplete=!1,f.dbOpenError=null)},Pt.prototype.delete=function(o){var l=this;o===void 0&&(o={disableAutoOpen:!0});var f=0<arguments.length&&typeof arguments[0]!="object",p=this._state;return new Ee(function(m,v){function E(){l.close(o);var T=l._deps.indexedDB.deleteDatabase(l.name);T.onsuccess=kt(function(){var N,P,j;N=l._deps,P=l.name,j=N.indexedDB,N=N.IDBKeyRange,Po(j)||P===Sa||vn(j,N).delete(P).catch(Ue),m()}),T.onerror=Ft(v),T.onblocked=l._fireOnBlocked}if(f)throw new Te.InvalidArgument("Invalid closeOptions argument to db.delete()");p.isBeingOpened?p.dbReadyPromise.then(E):E()})},Pt.prototype.backendDB=function(){return this.idbdb},Pt.prototype.isOpen=function(){return this.idbdb!==null},Pt.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Pt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pt.prototype,"tables",{get:function(){var o=this;return h(this._allTables).map(function(l){return o._allTables[l]})},enumerable:!1,configurable:!0}),Pt.prototype.transaction=function(){var o=(function(l,f,p){var m=arguments.length;if(m<2)throw new Te.InvalidArgument("Too few arguments");for(var v=new Array(m-1);--m;)v[m-1]=arguments[m];return p=v.pop(),[l,de(v),p]}).apply(this,arguments);return this._transaction.apply(this,o)},Pt.prototype._transaction=function(o,l,f){var p=this,m=Se.trans;m&&m.db===this&&o.indexOf("!")===-1||(m=null);var v,E,T=o.indexOf("?")!==-1;o=o.replace("!","").replace("?","");try{if(E=l.map(function(P){if(P=P instanceof p.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),o=="r"||o===Kt)v=Kt;else{if(o!="rw"&&o!=Bi)throw new Te.InvalidArgument("Invalid transaction mode: "+o);v=Bi}if(m){if(m.mode===Kt&&v===Bi){if(!T)throw new Te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&E.forEach(function(P){if(m&&m.storeNames.indexOf(P)===-1){if(!T)throw new Te.SubTransaction("Table "+P+" not included in parent transaction.");m=null}}),T&&m&&!m.active&&(m=null)}}catch(P){return m?m._promise(null,function(j,L){L(P)}):at(P)}var N=(function P(j,L,F,H,V){return Ee.resolve().then(function(){var W=Se.transless||Se,K=j._createTransaction(L,F,j._dbSchema,H);if(K.explicit=!0,W={trans:K,transless:W},H)K.idbtrans=H.idbtrans;else try{K.create(),K.idbtrans._explicit=!0,j._state.PR1398_maxLoop=3}catch(oe){return oe.name===Oe.InvalidState&&j.isOpen()&&0<--j._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),j.close({disableAutoOpen:!1}),j.open().then(function(){return P(j,L,F,null,V)})):at(oe)}var ee,ie=ne(V);return ie&&yn(),W=Ee.follow(function(){var oe;(ee=V.call(K,K))&&(ie?(oe=lr.bind(null,null),ee.then(oe,oe)):typeof ee.next=="function"&&typeof ee.throw=="function"&&(ee=Ls(ee)))},W),(ee&&typeof ee.then=="function"?Ee.resolve(ee).then(function(oe){return K.active?oe:at(new Te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):W.then(function(){return ee})).then(function(oe){return H&&K._resolve(),K._completion.then(function(){return oe})}).catch(function(oe){return K._reject(oe),at(oe)})})}).bind(null,this,v,E,m,f);return m?m._promise(v,N,"lock"):Se.trans?ao(Se.transless,function(){return p._whenReady(N)}):this._whenReady(N)},Pt.prototype.table=function(o){if(!C(this._allTables,o))throw new Te.InvalidTable("Table ".concat(o," does not exist"));return this._allTables[o]},Pt);function Pt(o,l){var f=this;this._middlewares={},this.verno=0;var p=Pt.dependencies;this._options=l=r({addons:Pt.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},p=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m,v,E,T,N,P={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ue,dbReadyPromise:null,cancelOpen:Ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};P.dbReadyPromise=new Ee(function(L){P.dbReadyResolve=L}),P.openCanceller=new Ee(function(L,F){P.cancelOpen=F}),this._state=P,this.name=o,this.on=Is(this,"populate","blocked","versionchange","close",{ready:[Gt,Ue]}),this.on.ready.subscribe=k(this.on.ready.subscribe,function(L){return function(F,H){Pt.vip(function(){var V,W=f._state;W.openComplete?(W.dbOpenError||Ee.resolve().then(F),H&&L(F)):W.onReadyBeingFired?(W.onReadyBeingFired.push(F),H&&L(F)):(L(F),V=f,H||L(function K(){V.on.ready.unsubscribe(F),V.on.ready.unsubscribe(K)}))})}}),this.Collection=(m=this,Yt(br.prototype,function(ee,K){this.db=m;var H=Mt,V=null;if(K)try{H=K()}catch(ie){V=ie}var W=ee._ctx,K=W.table,ee=K.hook.reading.fire;this._ctx={table:K,index:W.index,isPrimKey:!W.index||K.schema.primKey.keyPath&&W.index===K.schema.primKey.name,range:H,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:V,or:W.or,valueMapper:ee!==Ce?ee:null}})),this.Table=(v=this,Yt(cn.prototype,function(L,F,H){this.db=v,this._tx=H,this.name=L,this.schema=F,this.hook=v._allTables[L]?v._allTables[L].hook:Is(null,{creating:[nt,Ue],reading:[ze,Ce],updating:[He,Ue],deleting:[it,Ue]})})),this.Transaction=(E=this,Yt(ut.prototype,function(L,F,H,V,W){var K=this;this.db=E,this.mode=L,this.storeNames=F,this.schema=H,this.chromeTransactionDurability=V,this.idbtrans=null,this.on=Is(this,"complete","error","abort"),this.parent=W||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ee(function(ee,ie){K._resolve=ee,K._reject=ie}),this._completion.then(function(){K.active=!1,K.on.complete.fire()},function(ee){var ie=K.active;return K.active=!1,K.on.error.fire(ee),K.parent?K.parent._reject(ee):ie&&K.idbtrans&&K.idbtrans.abort(),at(ee)})})),this.Version=(T=this,Yt(se.prototype,function(L){this.db=T,this._cfg={version:L,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(N=this,Yt(Ia.prototype,function(L,F,H){if(this.db=N,this._ctx={table:L,index:F===":id"?null:F,or:H},this._cmp=this._ascending=pt,this._descending=function(V,W){return pt(W,V)},this._max=function(V,W){return 0<pt(V,W)?V:W},this._min=function(V,W){return pt(V,W)<0?V:W},this._IDBKeyRange=N._deps.IDBKeyRange,!this._IDBKeyRange)throw new Te.MissingAPI})),this.on("versionchange",function(L){0<L.newVersion?console.warn("Another connection wants to upgrade database '".concat(f.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(f.name,"'. Closing db now to resume the delete request.")),f.close({disableAutoOpen:!1})}),this.on("blocked",function(L){!L.newVersion||L.newVersion<L.oldVersion?console.warn("Dexie.delete('".concat(f.name,"') was blocked")):console.warn("Upgrade '".concat(f.name,"' blocked by other connection holding version ").concat(L.oldVersion/10))}),this._maxKey=Dr(l.IDBKeyRange),this._createTransaction=function(L,F,H,V){return new f.Transaction(L,F,H,f._options.chromeTransactionDurability,V)},this._fireOnBlocked=function(L){f.on("blocked").fire(L),me.filter(function(F){return F.name===f.name&&F!==f&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(L)})},this.use(Jl),this.use(tc),this.use(Sh),this.use(Zl),this.use(Eh);var j=new Proxy(this,{get:function(L,F,H){if(F==="_vip")return!0;if(F==="table")return function(W){return Pa(f.table(W),j)};var V=Reflect.get(L,F,H);return V instanceof cn?Pa(V,j):F==="tables"?V.map(function(W){return Pa(W,j)}):F==="_createTransaction"?function(){return Pa(V.apply(this,arguments),j)}:V}});this.vip=j,p.forEach(function(L){return L(f)})}var La,qn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",js=(bt.prototype.subscribe=function(o,l,f){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:l,complete:f})},bt.prototype[qn]=function(){return this},bt);function bt(o){this._subscribe=o}try{La={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{La={indexedDB:null,IDBKeyRange:null}}function Fs(o){var l,f=!1,p=new js(function(m){var v=ne(o),E,T=!1,N={},P={},j={get closed(){return T},unsubscribe:function(){T||(T=!0,E&&E.abort(),L&&Fi.storagemutated.unsubscribe(H))}};m.start&&m.start(j);var L=!1,F=function(){return In(V)},H=function(W){Jr(N,W),jt(P,N)&&F()},V=function(){var W,K,ee;!T&&La.indexedDB&&(N={},W={},E&&E.abort(),E=new AbortController,ee=function(ie){var oe=Mr();try{v&&yn();var ue=qr(o,ie);return ue=v?ue.finally(lr):ue}finally{oe&&mi()}}(K={subscr:W,signal:E.signal,requery:F,querier:o,trans:null}),Promise.resolve(ee).then(function(ie){f=!0,l=ie,T||K.signal.aborted||(N={},function(oe){for(var ue in oe)if(C(oe,ue))return;return 1}(P=W)||L||(Fi(Sr,H),L=!0),In(function(){return!T&&m.next&&m.next(ie)}))},function(ie){f=!1,["DatabaseClosedError","AbortError"].includes(ie==null?void 0:ie.name)||T||In(function(){T||m.error&&m.error(ie)})}))};return setTimeout(F,0),j});return p.hasValue=function(){return f},p.getValue=function(){return l},p}var D=ri;function i(o){var l=u;try{u=!0,Fi.storagemutated.fire(o),zi(o,!0)}finally{u=l}}b(D,r(r({},Xe),{delete:function(o){return new D(o,{addons:[]}).delete()},exists:function(o){return new D(o,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return l=D.dependencies,f=l.indexedDB,l=l.IDBKeyRange,(Po(f)?Promise.resolve(f.databases()).then(function(p){return p.map(function(m){return m.name}).filter(function(m){return m!==Sa})}):vn(f,l).toCollection().primaryKeys()).then(o)}catch{return at(new Te.MissingAPI)}var l,f},defineClass:function(){return function(o){x(this,o)}},ignoreTransaction:function(o){return Se.trans?ao(Se.transless,o):o()},vip:Oa,async:function(o){return function(){try{var l=Ls(o.apply(this,arguments));return l&&typeof l.then=="function"?l:Ee.resolve(l)}catch(f){return at(f)}}},spawn:function(o,l,f){try{var p=Ls(o.apply(f,l||[]));return p&&typeof p.then=="function"?p:Ee.resolve(p)}catch(m){return at(m)}},currentTransaction:{get:function(){return Se.trans||null}},waitFor:function(o,l){return l=Ee.resolve(typeof o=="function"?D.ignoreTransaction(o):o).timeout(l||6e4),Se.trans?Se.trans.waitFor(l):l},Promise:Ee,debug:{get:function(){return _e},set:function(o){Cn(o)}},derive:_,extend:x,props:b,override:k,Events:Is,on:Fi,liveQuery:Fs,extendObservabilitySet:Jr,getByKeyPath:J,setByKeyPath:Y,delByKeyPath:function(o,l){typeof l=="string"?Y(o,l,void 0):"length"in l&&[].map.call(l,function(f){Y(o,f,void 0)})},shallowClone:Z,deepClone:ye,getObjectDiff:Da,cmp:pt,asap:$,minKey:-1/0,addons:[],connections:me,errnames:Oe,dependencies:La,cache:Qe,semVer:"4.0.11",version:"4.0.11".split(".").map(function(o){return parseInt(o)}).reduce(function(o,l,f){return o+l/Math.pow(10,2*f)})})),D.maxKey=Dr(D.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Fi(Sr,function(o){u||(o=new CustomEvent(et,{detail:o}),u=!0,dispatchEvent(o),u=!1)}),addEventListener(et,function(o){o=o.detail,u||i(o)}));var a,u=!1,d=function(){};return typeof BroadcastChannel<"u"&&((d=function(){(a=new BroadcastChannel(et)).onmessage=function(o){return o.data&&i(o.data)}})(),typeof a.unref=="function"&&a.unref(),Fi(Sr,function(o){u||a.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!ri.disableBfCache&&o.persisted){_e&&console.debug("Dexie: handling persisted pagehide"),a!=null&&a.close();for(var l=0,f=me;l<f.length;l++)f[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!ri.disableBfCache&&o.persisted&&(_e&&console.debug("Dexie: handling persisted pageshow"),d(),i({all:new Ln(-1/0,[[]])}))})),Ee.rejectionMapper=function(o,l){return!o||o instanceof ge||o instanceof TypeError||o instanceof SyntaxError||!o.name||!tt[o.name]?o:(l=new tt[o.name](l||o.message,o),"stack"in o&&O(l,"stack",{get:function(){return this.inner.stack}}),l)},Cn(_e),r(ri,Object.freeze({__proto__:null,Dexie:ri,liveQuery:Fs,Entity:yt,cmp:pt,PropModification:Ke,replacePrefix:function(o,l){return new Ke({replacePrefix:[o,l]})},add:function(o){return new Ke({add:o})},remove:function(o){return new Ke({remove:o})},default:ri,RangeSet:Ln,mergeRanges:fo,rangesOverlap:un}),{default:ri}),ri})})(gA);var v5=gA.exports;const J1=ua(v5),_x=Symbol.for("Dexie"),ep=globalThis[_x]||(globalThis[_x]=J1);if(J1.semVer!==ep.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${J1.semVer} and ${ep.semVer}`);class w5 extends ep{constructor(){super("HaulPlannerDB");cm(this,"contractSessions");this.version(1).stores({contractSessions:"++id, sessionId, name, createdAt"})}}const v0=new w5,C5={async createSession(e,t,n){try{return await v0.contractSessions.add({sessionId:t,name:e,createdAt:new Date,contracts:n})}catch(r){throw console.error("Error creating session:",r),r}},async getSessions(){try{return await v0.contractSessions.toArray()}catch(e){throw console.error("Error getting sessions:",e),e}},async getSessionById(e){try{return await v0.contractSessions.get(e)}catch(t){throw console.error("Error getting session:",t),t}}};var em="Dialog",[mA,h7]=Oo(em),[b5,Pi]=mA(em),yA=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:c,modal:h=!0}=e,g=A.useRef(null),x=A.useRef(null),[y=!1,w]=Io({prop:r,defaultProp:s,onChange:c});return S.jsx(b5,{scope:t,triggerRef:g,contentRef:x,contentId:Mi(),titleId:Mi(),descriptionId:Mi(),open:y,onOpenChange:w,onOpenToggle:A.useCallback(()=>w(C=>!C),[w]),modal:h,children:n})};yA.displayName=em;var xA="DialogTrigger",vA=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pi(xA,n),c=gt(t,s.triggerRef);return S.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rm(s.open),...r,ref:c,onClick:Le(e.onClick,s.onOpenToggle)})});vA.displayName=xA;var tm="DialogPortal",[E5,wA]=mA(tm,{forceMount:void 0}),CA=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,c=Pi(tm,t);return S.jsx(E5,{scope:t,forceMount:n,children:A.Children.map(r,h=>S.jsx(vr,{present:n||c.open,children:S.jsx(wu,{asChild:!0,container:s,children:h})}))})};CA.displayName=tm;var Af="DialogOverlay",bA=A.forwardRef((e,t)=>{const n=wA(Af,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,c=Pi(Af,e.__scopeDialog);return c.modal?S.jsx(vr,{present:r||c.open,children:S.jsx(S5,{...s,ref:t})}):null});bA.displayName=Af;var S5=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pi(Af,n);return S.jsx(fh,{as:gs,allowPinchZoom:!0,shards:[s.contentRef],children:S.jsx(rt.div,{"data-state":rm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ca="DialogContent",EA=A.forwardRef((e,t)=>{const n=wA(ca,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,c=Pi(ca,e.__scopeDialog);return S.jsx(vr,{present:r||c.open,children:c.modal?S.jsx(A5,{...s,ref:t}):S.jsx(T5,{...s,ref:t})})});EA.displayName=ca;var A5=A.forwardRef((e,t)=>{const n=Pi(ca,e.__scopeDialog),r=A.useRef(null),s=gt(t,n.contentRef,r);return A.useEffect(()=>{const c=r.current;if(c)return Rg(c)},[]),S.jsx(SA,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,c=>{var h;c.preventDefault(),(h=n.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,c=>{const h=c.detail.originalEvent,g=h.button===0&&h.ctrlKey===!0;(h.button===2||g)&&c.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,c=>c.preventDefault())})}),T5=A.forwardRef((e,t)=>{const n=Pi(ca,e.__scopeDialog),r=A.useRef(!1),s=A.useRef(!1);return S.jsx(SA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var h,g;(h=e.onCloseAutoFocus)==null||h.call(e,c),c.defaultPrevented||(r.current||(g=n.triggerRef.current)==null||g.focus(),c.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:c=>{var x,y;(x=e.onInteractOutside)==null||x.call(e,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const h=c.target;((y=n.triggerRef.current)==null?void 0:y.contains(h))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&s.current&&c.preventDefault()}})}),SA=A.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:c,...h}=e,g=Pi(ca,n),x=A.useRef(null),y=gt(t,x);return Ig(),S.jsxs(S.Fragment,{children:[S.jsx(ch,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:c,children:S.jsx(Pl,{role:"dialog",id:g.contentId,"aria-describedby":g.descriptionId,"aria-labelledby":g.titleId,"data-state":rm(g.open),...h,ref:y,onDismiss:()=>g.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(_5,{titleId:g.titleId}),S.jsx(R5,{contentRef:x,descriptionId:g.descriptionId})]})]})}),nm="DialogTitle",AA=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pi(nm,n);return S.jsx(rt.h2,{id:s.titleId,...r,ref:t})});AA.displayName=nm;var TA="DialogDescription",_A=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pi(TA,n);return S.jsx(rt.p,{id:s.descriptionId,...r,ref:t})});_A.displayName=TA;var IA="DialogClose",RA=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pi(IA,n);return S.jsx(rt.button,{type:"button",...r,ref:t,onClick:Le(e.onClick,()=>s.onOpenChange(!1))})});RA.displayName=IA;function rm(e){return e?"open":"closed"}var NA="DialogTitleWarning",[p7,MA]=q_(NA,{contentName:ca,titleName:nm,docsSlug:"dialog"}),_5=({titleId:e})=>{const t=MA(NA),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},I5="DialogDescriptionWarning",R5=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MA(I5).contentName}}.`;return A.useEffect(()=>{var c;const s=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},N5=yA,M5=vA,O5=CA,OA=bA,DA=EA,kA=AA,PA=_A,D5=RA;const tp=N5,LA=M5,k5=O5,BA=A.forwardRef(({className:e,...t},n)=>S.jsx(OA,{ref:n,className:Je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));BA.displayName=OA.displayName;const Tf=A.forwardRef(({className:e,children:t,...n},r)=>S.jsxs(k5,{children:[S.jsx(BA,{}),S.jsxs(DA,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,S.jsxs(D5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[S.jsx(Kw,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Tf.displayName=DA.displayName;const _f=({className:e,...t})=>S.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_f.displayName="DialogHeader";const jA=({className:e,...t})=>S.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jA.displayName="DialogFooter";const If=A.forwardRef(({className:e,...t},n)=>S.jsx(kA,{ref:n,className:Je("text-lg font-semibold leading-none tracking-tight",e),...t}));If.displayName=kA.displayName;const FA=A.forwardRef(({className:e,...t},n)=>S.jsx(PA,{ref:n,className:Je("text-sm text-muted-foreground",e),...t}));FA.displayName=PA.displayName;const UA=A.forwardRef(({className:e,...t},n)=>S.jsx("div",{className:"relative w-full overflow-auto",children:S.jsx("table",{ref:n,className:Je("w-full caption-bottom text-sm",e),...t})}));UA.displayName="Table";const zA=A.forwardRef(({className:e,...t},n)=>S.jsx("thead",{ref:n,className:Je("[&_tr]:border-b",e),...t}));zA.displayName="TableHeader";const HA=A.forwardRef(({className:e,...t},n)=>S.jsx("tbody",{ref:n,className:Je("[&_tr:last-child]:border-0",e),...t}));HA.displayName="TableBody";const P5=A.forwardRef(({className:e,...t},n)=>S.jsx("tfoot",{ref:n,className:Je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));P5.displayName="TableFooter";const np=A.forwardRef(({className:e,...t},n)=>S.jsx("tr",{ref:n,className:Je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));np.displayName="TableRow";const rp=A.forwardRef(({className:e,...t},n)=>S.jsx("th",{ref:n,className:Je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));rp.displayName="TableHead";const ip=A.forwardRef(({className:e,...t},n)=>S.jsx("td",{ref:n,className:Je("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ip.displayName="TableCell";const L5=A.forwardRef(({className:e,...t},n)=>S.jsx("caption",{ref:n,className:Je("mt-4 text-sm text-muted-foreground",e),...t}));L5.displayName="TableCaption";const VA=({records:e,debugImages:t})=>S.jsxs("div",{className:"bg-black/30 rounded-lg p-4 border border-neon-blue/30",children:[S.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Extracted Information"}),e.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs(UA,{children:[S.jsx(zA,{children:S.jsxs(np,{children:[S.jsx(rp,{className:"text-neon-blue",children:"Reward"}),S.jsx(rp,{className:"text-neon-blue",children:"Objective"})]})}),S.jsx(HA,{children:e.map(n=>{var r,s;return S.jsxs(np,{children:[S.jsx(ip,{className:"text-green-400 font-semibold",children:S.jsxs(_1,{children:[S.jsx(I1,{asChild:!0,children:S.jsx("span",{children:n.reward})}),S.jsx(hf,{side:"top",children:S.jsx("img",{src:(r=t[n.id])==null?void 0:r.reward,alt:"Reward Debug",className:"max-w-xs max-h-40"})})]})}),S.jsx(ip,{className:"text-gray-300",children:S.jsxs(_1,{children:[S.jsx(I1,{asChild:!0,children:S.jsx("span",{children:n.objective})}),S.jsx(hf,{side:"top",children:S.jsx("img",{src:(s=t[n.id])==null?void 0:s.objective,alt:"Objective Debug",className:"max-w-xs max-h-40"})})]})})]},n.id)})})]})}):S.jsx("p",{className:"text-gray-400 text-center py-8",children:"No data captured yet."})]});var wh={},WA={exports:{}},B5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j5=B5,F5=j5;function GA(){}function YA(){}YA.resetWarningCache=GA;var U5=function(){function e(r,s,c,h,g,x){if(x!==F5){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:YA,resetWarningCache:GA};return n.PropTypes=n,n};WA.exports=U5();var $A=WA.exports,KA={L:1,M:0,Q:3,H:2},XA={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},z5=XA;function QA(e){this.mode=z5.MODE_8BIT_BYTE,this.data=e}QA.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var H5=QA,dd=KA;function qi(e,t){this.totalCount=e,this.dataCount=t}qi.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];qi.getRSBlocks=function(e,t){var n=qi.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,s=new Array,c=0;c<r;c++)for(var h=n[c*3+0],g=n[c*3+1],x=n[c*3+2],y=0;y<h;y++)s.push(new qi(g,x));return s};qi.getRsBlockTable=function(e,t){switch(t){case dd.L:return qi.RS_BLOCK_TABLE[(e-1)*4+0];case dd.M:return qi.RS_BLOCK_TABLE[(e-1)*4+1];case dd.Q:return qi.RS_BLOCK_TABLE[(e-1)*4+2];case dd.H:return qi.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var V5=qi;function qA(){this.buffer=new Array,this.length=0}qA.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var W5=qA,Ii={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Ii.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Ii.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var $n=0;$n<8;$n++)Ii.EXP_TABLE[$n]=1<<$n;for(var $n=8;$n<256;$n++)Ii.EXP_TABLE[$n]=Ii.EXP_TABLE[$n-4]^Ii.EXP_TABLE[$n-5]^Ii.EXP_TABLE[$n-6]^Ii.EXP_TABLE[$n-8];for(var $n=0;$n<255;$n++)Ii.LOG_TABLE[Ii.EXP_TABLE[$n]]=$n;var ZA=Ii,Hs=ZA;function Bd(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}Bd.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=Hs.gexp(Hs.glog(this.get(n))+Hs.glog(e.get(r)));return new Bd(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Hs.glog(this.get(0))-Hs.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=Hs.gexp(Hs.glog(e.get(r))+t);return new Bd(n,0).mod(e)}};var JA=Bd,ii=XA,Ix=JA,G5=ZA,Ho={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Gn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Gn.getBCHDigit(t)-Gn.getBCHDigit(Gn.G15)>=0;)t^=Gn.G15<<Gn.getBCHDigit(t)-Gn.getBCHDigit(Gn.G15);return(e<<10|t)^Gn.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Gn.getBCHDigit(t)-Gn.getBCHDigit(Gn.G18)>=0;)t^=Gn.G18<<Gn.getBCHDigit(t)-Gn.getBCHDigit(Gn.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Gn.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Ho.PATTERN000:return(t+n)%2==0;case Ho.PATTERN001:return t%2==0;case Ho.PATTERN010:return n%3==0;case Ho.PATTERN011:return(t+n)%3==0;case Ho.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Ho.PATTERN101:return t*n%2+t*n%3==0;case Ho.PATTERN110:return(t*n%2+t*n%3)%2==0;case Ho.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Ix([1],0),n=0;n<e;n++)t=t.multiply(new Ix([1,G5.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case ii.MODE_NUMBER:return 10;case ii.MODE_ALPHA_NUM:return 9;case ii.MODE_8BIT_BYTE:return 8;case ii.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case ii.MODE_NUMBER:return 12;case ii.MODE_ALPHA_NUM:return 11;case ii.MODE_8BIT_BYTE:return 16;case ii.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case ii.MODE_NUMBER:return 14;case ii.MODE_ALPHA_NUM:return 13;case ii.MODE_8BIT_BYTE:return 16;case ii.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var s=0;s<t;s++){for(var c=0,h=e.isDark(r,s),g=-1;g<=1;g++)if(!(r+g<0||t<=r+g))for(var x=-1;x<=1;x++)s+x<0||t<=s+x||g==0&&x==0||h==e.isDark(r+g,s+x)&&c++;c>5&&(n+=3+c-5)}for(var r=0;r<t-1;r++)for(var s=0;s<t-1;s++){var y=0;e.isDark(r,s)&&y++,e.isDark(r+1,s)&&y++,e.isDark(r,s+1)&&y++,e.isDark(r+1,s+1)&&y++,(y==0||y==4)&&(n+=3)}for(var r=0;r<t;r++)for(var s=0;s<t-6;s++)e.isDark(r,s)&&!e.isDark(r,s+1)&&e.isDark(r,s+2)&&e.isDark(r,s+3)&&e.isDark(r,s+4)&&!e.isDark(r,s+5)&&e.isDark(r,s+6)&&(n+=40);for(var s=0;s<t;s++)for(var r=0;r<t-6;r++)e.isDark(r,s)&&!e.isDark(r+1,s)&&e.isDark(r+2,s)&&e.isDark(r+3,s)&&e.isDark(r+4,s)&&!e.isDark(r+5,s)&&e.isDark(r+6,s)&&(n+=40);for(var w=0,s=0;s<t;s++)for(var r=0;r<t;r++)e.isDark(r,s)&&w++;var C=Math.abs(100*w/t/t-50)/5;return n+=C*10,n}},Y5=Gn,$5=H5,e3=V5,t3=W5,Ts=Y5,K5=JA;function Ji(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Xr=Ji.prototype;Xr.addData=function(e){var t=new $5(e);this.dataList.push(t),this.dataCache=null};Xr.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Xr.getModuleCount=function(){return this.moduleCount};Xr.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=e3.getRSBlocks(e,this.errorCorrectLevel),n=new t3,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var c=this.dataList[s];n.put(c.mode,4),n.put(c.getLength(),Ts.getLengthInBits(c.mode,e)),c.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Xr.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Ji.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Xr.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};Xr.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=Ts.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};Xr.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),s=1;this.make();for(var c=0;c<this.modules.length;c++)for(var h=c*s,g=0;g<this.modules[c].length;g++){var x=g*s,y=this.modules[c][g];y&&(r.beginFill(0,100),r.moveTo(x,h),r.lineTo(x+s,h),r.lineTo(x+s,h+s),r.lineTo(x,h+s),r.endFill())}return r};Xr.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Xr.setupPositionAdjustPattern=function(){for(var e=Ts.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],s=e[n];if(this.modules[r][s]==null)for(var c=-2;c<=2;c++)for(var h=-2;h<=2;h++)c==-2||c==2||h==-2||h==2||c==0&&h==0?this.modules[r+c][s+h]=!0:this.modules[r+c][s+h]=!1}};Xr.setupTypeNumber=function(e){for(var t=Ts.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};Xr.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=Ts.getBCHTypeInfo(n),s=0;s<15;s++){var c=!e&&(r>>s&1)==1;s<6?this.modules[s][8]=c:s<8?this.modules[s+1][8]=c:this.modules[this.moduleCount-15+s][8]=c}for(var s=0;s<15;s++){var c=!e&&(r>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=c:s<9?this.modules[8][15-s-1+1]=c:this.modules[8][15-s-1]=c}this.modules[this.moduleCount-8][8]=!e};Xr.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,s=7,c=0,h=this.moduleCount-1;h>0;h-=2)for(h==6&&h--;;){for(var g=0;g<2;g++)if(this.modules[r][h-g]==null){var x=!1;c<e.length&&(x=(e[c]>>>s&1)==1);var y=Ts.getMask(t,r,h-g);y&&(x=!x),this.modules[r][h-g]=x,s--,s==-1&&(c++,s=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};Ji.PAD0=236;Ji.PAD1=17;Ji.createData=function(e,t,n){for(var r=e3.getRSBlocks(e,t),s=new t3,c=0;c<n.length;c++){var h=n[c];s.put(h.mode,4),s.put(h.getLength(),Ts.getLengthInBits(h.mode,e)),h.write(s)}for(var g=0,c=0;c<r.length;c++)g+=r[c].dataCount;if(s.getLengthInBits()>g*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+g*8+")");for(s.getLengthInBits()+4<=g*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=g*8||(s.put(Ji.PAD0,8),s.getLengthInBits()>=g*8));)s.put(Ji.PAD1,8);return Ji.createBytes(s,r)};Ji.createBytes=function(e,t){for(var n=0,r=0,s=0,c=new Array(t.length),h=new Array(t.length),g=0;g<t.length;g++){var x=t[g].dataCount,y=t[g].totalCount-x;r=Math.max(r,x),s=Math.max(s,y),c[g]=new Array(x);for(var w=0;w<c[g].length;w++)c[g][w]=255&e.buffer[w+n];n+=x;var C=Ts.getErrorCorrectPolynomial(y),b=new K5(c[g],C.getLength()-1),R=b.mod(C);h[g]=new Array(C.getLength()-1);for(var w=0;w<h[g].length;w++){var O=w+R.getLength()-h[g].length;h[g][w]=O>=0?R.get(O):0}}for(var _=0,w=0;w<t.length;w++)_+=t[w].totalCount;for(var B=new Array(_),M=0,w=0;w<r;w++)for(var g=0;g<t.length;g++)w<c[g].length&&(B[M++]=c[g][w]);for(var w=0;w<s;w++)for(var g=0;g<t.length;g++)w<h[g].length&&(B[M++]=h[g][w]);return B};var X5=Ji,im={};Object.defineProperty(im,"__esModule",{value:!0});var Q5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q5=$A,oi=r3(q5),n3=A,fd=r3(n3);function r3(e){return e&&e.__esModule?e:{default:e}}function Z5(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var J5={bgColor:oi.default.oneOfType([oi.default.object,oi.default.string]).isRequired,bgD:oi.default.string.isRequired,fgColor:oi.default.oneOfType([oi.default.object,oi.default.string]).isRequired,fgD:oi.default.string.isRequired,size:oi.default.number.isRequired,title:oi.default.string,viewBoxSize:oi.default.number.isRequired,xmlns:oi.default.string},om=(0,n3.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,s=e.fgD,c=e.fgColor,h=e.size,g=e.title,x=e.viewBoxSize,y=e.xmlns,w=y===void 0?"http://www.w3.org/2000/svg":y,C=Z5(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return fd.default.createElement("svg",Q5({},C,{height:h,ref:t,viewBox:"0 0 "+x+" "+x,width:h,xmlns:w}),g?fd.default.createElement("title",null,g):null,fd.default.createElement("path",{d:r,fill:n}),fd.default.createElement("path",{d:s,fill:c}))});om.displayName="QRCodeSvg";om.propTypes=J5;im.default=om;Object.defineProperty(wh,"__esModule",{value:!0});wh.QRCode=void 0;var eP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tP=$A,go=_u(tP),nP=KA,rP=_u(nP),iP=X5,oP=_u(iP),i3=A,sP=_u(i3),aP=im,lP=_u(aP);function _u(e){return e&&e.__esModule?e:{default:e}}function cP(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var uP={bgColor:go.default.oneOfType([go.default.object,go.default.string]),fgColor:go.default.oneOfType([go.default.object,go.default.string]),level:go.default.string,size:go.default.number,value:go.default.string.isRequired},Ch=(0,i3.forwardRef)(function(e,t){var n=e.bgColor,r=n===void 0?"#FFFFFF":n,s=e.fgColor,c=s===void 0?"#000000":s,h=e.level,g=h===void 0?"L":h,x=e.size,y=x===void 0?256:x,w=e.value,C=cP(e,["bgColor","fgColor","level","size","value"]),b=new oP.default(-1,rP.default[g]);b.addData(w),b.make();var R=b.modules;return sP.default.createElement(lP.default,eP({},C,{bgColor:r,bgD:R.map(function(O,_){return O.map(function(B,M){return B?"":"M "+M+" "+_+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:c,fgD:R.map(function(O,_){return O.map(function(B,M){return B?"M "+M+" "+_+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:y,viewBoxSize:R.length}))});wh.QRCode=Ch;Ch.displayName="QRCode";Ch.propTypes=uP;var dP=wh.default=Ch,o3={};(function(e){var t=vo&&vo.__spreadArray||function(y,w,C){if(C||arguments.length===2)for(var b=0,R=w.length,O;b<R;b++)(O||!(b in w))&&(O||(O=Array.prototype.slice.call(w,0,b)),O[b]=w[b]);return y.concat(O||Array.prototype.slice.call(w))};Object.defineProperty(e,"__esModule",{value:!0}),e.minLength=e.maxLength=e.poolSize=e.humanId=e.adverbs=e.verbs=e.nouns=e.adjectives=void 0,e.adjectives=["afraid","all","angry","beige","big","better","bitter","blue","brave","breezy","bright","brown","bumpy","busy","calm","chatty","chilly","chubby","clean","clear","clever","cold","crazy","cruel","cuddly","curly","curvy","cute","common","cold","cool","cyan","dark","deep","dirty","dry","dull","eager","early","easy","eight","eighty","eleven","empty","every","evil","fair","famous","fast","fancy","few","fine","fifty","five","flat","fluffy","floppy","forty","four","free","fresh","fruity","full","funny","fuzzy","gentle","giant","gold","good","great","green","grumpy","happy","heavy","hip","honest","hot","huge","hungry","icy","itchy","khaki","kind","large","late","lazy","lemon","legal","light","little","long","loose","loud","lovely","lucky","major","many","mean","metal","mighty","modern","moody","nasty","neat","new","nice","nine","ninety","odd","old","olive","open","orange","pink","plain","plenty","polite","poor","pretty","proud","public","puny","petite","purple","quick","quiet","rare","real","ready","red","rich","ripe","rotten","rude","sad","salty","seven","shaggy","shaky","sharp","shiny","short","shy","silent","silly","silver","six","sixty","slick","slimy","slow","small","smart","smooth","social","soft","solid","some","sour","spicy","spotty","stale","strong","stupid","sweet","swift","tall","tame","tangy","tasty","ten","tender","thick","thin","thirty","three","tidy","tiny","tired","tough","tricky","true","twelve","twenty","two","upset","vast","violet","warm","weak","wet","whole","wicked","wide","wild","wise","witty","yellow","young","yummy"],e.nouns=["apes","animals","areas","bars","banks","baths","breads","bushes","cloths","clowns","clubs","hoops","loops","memes","papers","parks","paths","showers","sides","signs","sites","streets","teeth","tires","webs","actors","ads","adults","aliens","ants","apples","baboons","badgers","bags","bananas","bats","beans","bears","beds","beers","bees","berries","bikes","birds","boats","bobcats","books","bottles","boxes","brooms","buckets","bugs","buses","buttons","camels","cases","cameras","candies","candles","carpets","carrots","carrots","cars","cats","chairs","chefs","chicken","clocks","clouds","coats","cobras","coins","corners","colts","comics","cooks","cougars","regions","results","cows","crabs","crabs","crews","cups","cities","cycles","dancers","days","deer","dingos","dodos","dogs","dolls","donkeys","donuts","doodles","doors","dots","dragons","drinks","dryers","ducks","ducks","eagles","ears","eels","eggs","ends","mammals","emus","experts","eyes","facts","falcons","fans","feet","files","flies","flowers","forks","foxes","friends","frogs","games","garlics","geckos","geese","ghosts","ghosts","gifts","glasses","goats","grapes","groups","guests","hairs","hands","hats","heads","hornets","horses","hotels","hounds","houses","humans","icons","ideas","impalas","insects","islands","items","jars","jeans","jobs","jokes","keys","kids","kings","kiwis","knives","lamps","lands","laws","lemons","lies","lights","lines","lions","lizards","llamas","mails","mangos","maps","masks","meals","melons","mice","mirrors","moments","moles","monkeys","months","moons","moose","mugs","nails","needles","news","nights","numbers","olives","onions","oranges","otters","owls","pandas","pans","pants","papayas","parents","parts","parrots","paws","peaches","pears","peas","pens","pets","phones","pianos","pigs","pillows","places","planes","planets","plants","plums","poems","poets","points","pots","pugs","pumas","queens","rabbits","radios","rats","ravens","readers","rice","rings","rivers","rockets","rocks","rooms","roses","rules","schools","bats","seals","seas","sheep","shirts","shoes","shrimps","singers","sloths","snails","snakes","socks","spiders","spies","spoons","squids","stars","states","steaks","wings","suits","suns","swans","symbols","tables","taxes","taxis","teams","terms","things","ties","tigers","times","tips","toes","towns","tools","toys","trains","trams","trees","turkeys","turtles","vans","views","walls","walls","wasps","waves","ways","weeks","windows","wolves","women","wombats","words","worlds","worms","yaks","years","zebras","zoos"],e.verbs=["accept","act","add","admire","agree","allow","appear","argue","arrive","ask","attack","attend","bake","bathe","battle","beam","beg","begin","behave","bet","boil","bow","brake","brush","build","burn","buy","call","camp","care","carry","change","cheat","check","cheer","chew","clap","clean","cough","count","cover","crash","create","cross","cry","cut","dance","decide","deny","design","dig","divide","do","double","doubt","draw","dream","dress","drive","drop","drum","eat","end","enter","enjoy","exist","fail","fall","feel","fetch","film","find","fix","flash","float","flow","fly","fold","follow","fry","give","glow","go","grab","greet","grin","grow","guess","hammer","hang","happen","heal","hear","help","hide","hope","hug","hunt","invent","invite","itch","jam","jog","join","joke","judge","juggle","jump","kick","kiss","kneel","knock","know","laugh","lay","lead","learn","leave","lick","like","lie","listen","live","look","lose","love","make","march","marry","mate","matter","melt","mix","move","nail","notice","obey","occur","open","own","pay","peel","play","poke","post","press","prove","pull","pump","pick","punch","push","raise","read","refuse","relate","relax","remain","repair","repeat","reply","report","rescue","rest","retire","return","rhyme","ring","roll","rule","run","rush","say","scream","see","search","sell","send","serve","shake","share","shave","shine","show","shop","shout","sin","sink","sing","sip","sit","sleep","slide","smash","smell","smile","smoke","sneeze","sniff","sort","speak","spend","stand","start","stay","stick","stop","stare","study","strive","swim","switch","take","talk","tan","tap","taste","teach","tease","tell","thank","think","throw","tickle","tie","trade","train","travel","try","turn","type","unite","vanish","visit","wait","walk","warn","wash","watch","wave","wear","win","wink","wish","wonder","work","worry","write","yawn","yell"],e.adverbs=["bravely","brightly","busily","daily","freely","hungrily","joyously","knowlingly","lazily","oddly","mysteriously","noisily","politely","quickly","quietly","rapidly","safely","sleepily","slowly","truly","yearly"];function n(y){return y[Math.floor(Math.random()*y.length)]}function r(y){return y.reduce(function(w,C){return w.length>C.length?w:C})}function s(y){return y.reduce(function(w,C){return w.length<C.length?w:C})}function c(y){y===void 0&&(y={}),typeof y=="string"&&(y={separator:y}),typeof y=="boolean"&&(y={capitalize:y});var w=y.separator,C=w===void 0?"":w,b=y.capitalize,R=b===void 0?!0:b,O=y.adjectiveCount,_=O===void 0?1:O,B=y.addAdverb,M=B===void 0?!1:B,I=t(t(t([],t([],Array(_),!0).map(function(k){return n(e.adjectives)}),!0),[n(e.nouns),n(e.verbs)],!1),M?[n(e.adverbs)]:[],!0);return R&&(I=I.map(function(k){return k.charAt(0).toUpperCase()+k.substr(1)})),I.join(C)}e.humanId=c;function h(y){y===void 0&&(y={});var w=y.adjectiveCount,C=w===void 0?1:w,b=y.addAdverb,R=b===void 0?!1:b;return e.adjectives.length*C*e.nouns.length*e.verbs.length*(R?e.adverbs.length:1)}e.poolSize=h;function g(y){y===void 0&&(y={});var w=y.adjectiveCount,C=w===void 0?1:w,b=y.addAdverb,R=b===void 0?!1:b,O=y.separator,_=O===void 0?"":O;return r(e.adjectives).length*C+C*_.length+r(e.nouns).length+_.length+r(e.verbs).length+(R?r(e.adverbs).length+_.length:0)}e.maxLength=g;function x(y){y===void 0&&(y={});var w=y.adjectiveCount,C=w===void 0?1:w,b=y.addAdverb,R=b===void 0?!1:b,O=y.separator,_=O===void 0?"":O;return s(e.adjectives).length*C+C*_.length+s(e.nouns).length+_.length+s(e.verbs).length+(R?s(e.adverbs).length+_.length:0)}e.minLength=x,e.default=c})(o3);const fP=ua(o3),hP=()=>{const[e,t]=A.useState(!0),[n,r]=A.useState(fP({capitalize:!1,separator:"-"})),[s,c]=A.useState(!1),[h,g]=A.useState([]),[x,y]=A.useState({reward:{x:0,y:0,width:100,height:50},objective:{x:0,y:0,width:100,height:50}}),[w,C]=A.useState(!1),[b,R]=A.useState(null),[O,_]=A.useState({x:0,y:0}),[B,M]=A.useState({}),{isDebugEnabled:I,toggleDebug:k}=d5(),[U,$]=A.useState({scaleX:1,scaleY:1,offsetX:0,offsetY:0}),[J,Y]=A.useState(!1),[Z,X]=A.useState(""),[de,xe]=A.useState(""),ae=A.useRef(null),ye=A.useRef(null),pe=A.useRef(null),te=A.useRef(null),we=A.useRef(null),le=A.useRef(h),q=A.useRef(B),G=A.useRef(x),Q=async()=>{try{const Ce=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1});ye.current&&(ye.current.srcObject=Ce,c(!0))}catch(Ce){console.error("Error starting capture: ",Ce)}},ne=()=>{ye.current&&ye.current.srcObject&&(ye.current.srcObject.getTracks().forEach(ze=>ze.stop()),ye.current.srcObject=null,c(!1))},ce=Ce=>{R(Ce);const ze=te.current;ze.style.pointerEvents="auto"},ge=()=>{if(!ye.current||!te.current)return;const Ce=ye.current,ze=te.current,Ye=Ce.getBoundingClientRect();ze.width=Ye.width,ze.height=Ye.height;const nt=Ce.videoWidth/Ce.videoHeight,it=ze.width/ze.height;let He=1,Ge=0,Gt=0;it>nt?(He=ze.height/Ce.videoHeight,Ge=(ze.width-Ce.videoWidth*He)/2):(He=ze.width/Ce.videoWidth,Gt=(ze.height-Ce.videoHeight*He)/2),$({scaleX:He,scaleY:He,offsetX:Ge,offsetY:Gt});const _e=ze.getContext("2d");_e.clearRect(0,0,ze.width,ze.height),_e.lineWidth=2,Object.entries(x).forEach(([Cn,Vt])=>{_e.strokeStyle=Cn==="reward"?"#00ff00":"#0000ff",_e.fillStyle=Cn==="reward"?"rgba(0, 255, 0, 0.1)":"rgba(0, 0, 255, 0.1)";const $t=Vt.x*He+Ge,bn=Vt.y*He+Gt,Dt=Vt.width*He,Qt=Vt.height*He;_e.fillRect($t,bn,Dt,Qt),_e.strokeRect($t,bn,Dt,Qt)})};A.useEffect(()=>{if(ye.current&&te.current){const Ce=ye.current,ze=()=>{ge()};Ce.addEventListener("loadedmetadata",ze);const Ye=new ResizeObserver(ge);return Ye.observe(Ce),()=>{Ce.removeEventListener("loadedmetadata",ze),Ye.disconnect()}}},[x]);const Ne=(Ce,ze)=>{const{scaleX:Ye,scaleY:nt,offsetX:it,offsetY:He}=U;return{x:Math.round((Ce-it)/Ye),y:Math.round((ze-He)/nt)}},ot=Ce=>{if(!b||!ye.current)return;const Ye=te.current.getBoundingClientRect(),nt=Ce.clientX-Ye.left,it=Ce.clientY-Ye.top,He=Ne(nt,it);_(He),C(!0)},he=Ce=>{if(!w||!b||!ye.current)return;const ze=te.current,Ye=ze.getContext("2d"),nt=ze.getBoundingClientRect(),it=Ce.clientX-nt.left,He=Ce.clientY-nt.top,Ge=Ne(it,He);Ye.clearRect(0,0,ze.width,ze.height),Ye.lineWidth=2,Object.entries(x).forEach(([Dn,gn])=>{if(Dn!==b){Ye.strokeStyle=Dn==="reward"?"#00ff00":"#0000ff",Ye.fillStyle=Dn==="reward"?"rgba(0, 255, 0, 0.1)":"rgba(0, 0, 255, 0.1)";const{scaleX:Vn,scaleY:_t,offsetX:Me,offsetY:mt}=U,Se=gn.x*Vn+Me,Tt=gn.y*_t+mt,qe=gn.width*Vn,wt=gn.height*_t;Ye.fillRect(Se,Tt,qe,wt),Ye.strokeRect(Se,Tt,qe,wt)}}),Ye.strokeStyle=b==="reward"?"#00ff00":"#0000ff",Ye.fillStyle=b==="reward"?"rgba(0, 255, 0, 0.1)":"rgba(0, 0, 255, 0.1)";const{scaleX:Gt,scaleY:_e,offsetX:Cn,offsetY:Vt}=U,$t=Ge.x-O.x,bn=Ge.y-O.y,Dt=O.x*Gt+Cn,Qt=O.y*_e+Vt,En=$t*Gt,St=bn*_e;Ye.fillRect(Dt,Qt,En,St),Ye.strokeRect(Dt,Qt,En,St)},Oe=Ce=>{if(!w||!b||!ye.current)return;const Ye=te.current.getBoundingClientRect(),nt=Ce.clientX-Ye.left,it=Ce.clientY-Ye.top,He=Ne(nt,it),Ge={x:Math.min(O.x,He.x),y:Math.min(O.y,He.y),width:Math.abs(He.x-O.x),height:Math.abs(He.y-O.y)};y(Gt=>({...Gt,[b]:Ge})),C(!1),R(null)},Be=async()=>{if(!ye.current||!pe.current)return;const Ce=pe.current,ze=ye.current,Ye=Ce.getContext("2d");Ce.width=ze.videoWidth,Ce.height=ze.videoHeight,Ye.drawImage(ze,0,0,Ce.width,Ce.height);const nt=document.createElement("canvas"),it=nt.getContext("2d");nt.width=G.current.reward.width,nt.height=G.current.reward.height,it.drawImage(ze,G.current.reward.x,G.current.reward.y,G.current.reward.width,G.current.reward.height,0,0,G.current.reward.width,G.current.reward.height);const He=document.createElement("canvas"),Ge=He.getContext("2d");He.width=G.current.objective.width,He.height=G.current.objective.height,Ge.drawImage(ze,G.current.objective.x,G.current.objective.y,G.current.objective.width,G.current.objective.height,0,0,G.current.objective.width,G.current.objective.height);function Gt(_e){const Cn=_e.getContext("2d"),Vt=_e.width,$t=_e.height,bn=Cn.getImageData(0,0,Vt,$t),Dt=bn.data,Qt=new Uint8ClampedArray(Dt),En=[0,-1,0,-1,5,-1,0,-1,0];for(let St=1;St<$t-1;St++)for(let Dn=1;Dn<Vt-1;Dn++)for(let gn=0;gn<3;gn++){let Vn=(St*Vt+Dn)*4+gn,_t=0,Me=0;for(let mt=-1;mt<=1;mt++)for(let Se=-1;Se<=1;Se++){let Tt=((St+mt)*Vt+(Dn+Se))*4+gn;_t+=Qt[Tt]*En[Me++]}Dt[Vn]=Math.min(255,Math.max(0,_t))}Cn.putImageData(bn,0,0)}Gt(nt),Gt(He);try{const[_e,Cn]=await Promise.all([yx.recognize(nt.toDataURL(),"eng"),yx.recognize(He.toDataURL(),"eng")]),Vt=_D(5);if(I&&M($t=>({...$t,[Vt]:{reward:nt.toDataURL(),objective:He.toDataURL()}})),_e.data.text.trim()===""){ae.current&&ae.current.send({type:"error",message:"No text found in the reward zone"}),xe("No text found in the reward zone");return}if(Cn.data.text.trim()===""){ae.current&&ae.current.send({type:"error",message:"No text found in the objective zone"}),xe("No text found in the objective zone");return}xe(""),g($t=>[...$t,{id:Vt,timestamp:new Date().toLocaleString(),reward:_e.data.text.trim(),objective:Cn.data.text.trim()}])}catch(_e){console.error("Error extracting text:",_e),xe(_e.message)}};A.useEffect(()=>{tt()},[]);const Te=Ce=>{ae.current=Ce;let ze=null;console.log("Connection on record"),Ce.on("data",Ye=>{Ye.type==="capture-request"&&Be()}),ze=setInterval(()=>{Ce.send({type:"records",records:le.current,debugImages:q.current})},1e3),Ce.on("close",()=>{ze&&clearInterval(ze)}),Ce.on("error",Ye=>{xe(Ye.message)})},tt=()=>{we.current||(we.current=new Sf(n),we.current.on("open",()=>{console.log("Open on record"),xe("")}),we.current.on("connection",Ce=>{console.log("Connection on record"),Ce.on("data",ze=>{console.log("Received data:",ze)})}),we.current.on("connection",Te),we.current.on("error",Ce=>{xe(Ce.message)}))},Xe=()=>{g([]),M({})},Ue=async()=>{if(!Z.trim()){wc({title:"Error",description:"Please enter a session name",variant:"destructive"});return}try{const Ce=h.map(ze=>({id:ze.id,timestamp:ze.timestamp,reward:ze.reward,objective:ze.objective}));await C5.createSession(Z,n,Ce),wc({title:"Success",description:"Session created successfully"}),Y(!1),X("")}catch(Ce){console.error("Error creating session:",Ce),wc({title:"Error",description:"Failed to create session",variant:"destructive"})}};return A.useEffect(()=>{le.current=h},[h]),A.useEffect(()=>{q.current=B},[B]),A.useEffect(()=>{G.current=x},[x]),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("div",{children:S.jsx("h1",{className:"text-3xl font-bold text-white",children:"Record Contract"})}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(fA,{id:"debug-mode",checked:I,onCheckedChange:k}),S.jsx(Z1,{htmlFor:"debug-mode",children:"Debug Mode"})]})]}),S.jsxs(ED,{open:e,onOpenChange:t,className:"holographic-panel rounded-lg p-6 border border-neon-blue/20 space-y-4",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-bold text-neon-blue",children:"Setup"}),S.jsx(SD,{asChild:!0,children:S.jsx(Bn,{variant:"ghost",size:"sm",children:e?S.jsx(Uw,{className:"h-4 w-4"}):S.jsx(Fw,{className:"h-4 w-4"})})})]}),S.jsx(AD,{className:"space-y-6",children:S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[S.jsxs("div",{className:"flex space-x-2",children:[S.jsxs(Bn,{onClick:Q,disabled:s,className:"bg-neon-blue text-space-dark hover:bg-neon-blue/90",children:[S.jsx(y1,{className:"h-4 w-4 mr-2"}),"Start Capture"]}),S.jsx(Bn,{onClick:ne,disabled:!s,variant:"outline",className:"border-neon-blue/50 text-neon-blue hover:bg-neon-blue/10",children:"Stop Capture"})]}),S.jsx("div",{className:"flex-1 flex justify-end",children:S.jsxs("div",{className:"space-y-2 flex-1 max-w-xs",children:[S.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Your Session ID"}),S.jsxs("div",{className:"relative",children:[S.jsx(Nl,{value:n,readOnly:!0,className:"bg-space-medium border-neon-blue/20 pr-20"}),S.jsx(Bn,{type:"button",size:"icon",variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1",onClick:()=>{navigator.clipboard.writeText(n),wc({title:"Copied!",description:"Session ID copied to clipboard."})},children:S.jsx(U4,{className:"w-4 h-4 text-neon-blue"})}),S.jsxs(tp,{children:[S.jsxs(_1,{children:[S.jsx(I1,{asChild:!0,children:S.jsx(LA,{asChild:!0,children:S.jsx(Bn,{type:"button",size:"icon",variant:"ghost",className:"absolute right-10 top-1/2 -translate-y-1/2 p-1","aria-label":"Show QR Code",children:S.jsx(Gw,{className:"w-5 h-5 text-neon-blue"})})})}),S.jsx(hf,{children:"Show QR code for this session"})]}),S.jsxs(Tf,{className:"flex flex-col items-center gap-4 bg-white !text-gray-900 shadow-lg rounded-xl",children:[S.jsx(_f,{children:S.jsx(If,{children:"Session QR Code"})}),S.jsx(dP,{value:n,size:300,className:"rounded-lg w-full max-w-xs md:max-w-md mx-auto"}),S.jsx("div",{className:"text-xs text-gray-400 break-all",children:n})]})]})]})]})})]}),S.jsxs("div",{className:"relative bg-black/30 rounded-lg overflow-hidden border border-neon-blue/30 w-full aspect-video",children:[S.jsx("video",{ref:ye,autoPlay:!0,className:"w-full h-full object-contain"}),S.jsx("canvas",{ref:te,className:"absolute top-0 left-0 w-full h-full",style:{cursor:b?"crosshair":"default"},onMouseDown:ot,onMouseMove:he,onMouseUp:Oe,onMouseLeave:Oe}),s&&S.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-center space-x-4",children:[S.jsxs(Bn,{onClick:()=>ce("reward"),className:Je("bg-green-600 hover:bg-green-700 relative",b==="reward"&&"ring-2 ring-white"),children:[S.jsx(Ay,{className:"h-4 w-4 mr-2"}),"Set Reward Zone",x.reward.width>0&&S.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-white rounded-full"})]}),S.jsxs(Bn,{onClick:()=>ce("objective"),className:Je("bg-blue-600 hover:bg-blue-700 relative",b==="objective"&&"ring-2 ring-white"),children:[S.jsx(Ay,{className:"h-4 w-4 mr-2"}),"Set Objective Zone",x.objective.width>0&&S.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-white rounded-full"})]})]})]})]})})]}),I&&(()=>{const Ce=Object.entries(B).at(-1);if(!Ce)return S.jsx("div",{id:"canvas-container",className:"flex flex-col items-center my-6 text-gray-400",children:"No debug images yet."});const[ze,Ye]=Ce;return S.jsxs("div",{id:"canvas-container",className:"flex flex-col md:flex-row gap-6 items-center my-6",children:[S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("span",{className:"text-xs text-green-400 mb-1",children:"Reward Zone (Canvas)"}),S.jsx("canvas",{width:1,height:1,ref:nt=>{if(nt&&Ye.reward){const it=new window.Image;it.onload=()=>{nt.width=it.width,nt.height=it.height;const He=nt.getContext("2d");He.clearRect(0,0,nt.width,nt.height),He.drawImage(it,0,0)},it.src=Ye.reward}},className:"border border-green-400 rounded-lg max-w-xs h-auto bg-black shadow-lg",style:{display:"block"}})]}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("span",{className:"text-xs text-blue-400 mb-1",children:"Objective Zone (Canvas)"}),S.jsx("canvas",{width:1,height:1,ref:nt=>{if(nt&&Ye.objective){const it=new window.Image;it.onload=()=>{nt.width=it.width,nt.height=it.height;const He=nt.getContext("2d");He.clearRect(0,0,nt.width,nt.height),He.drawImage(it,0,0)},it.src=Ye.objective}},className:"border border-blue-400 rounded-lg max-w-xs h-auto bg-black shadow-lg",style:{display:"block"}})]})]})})(),S.jsxs("div",{className:"holographic-panel rounded-lg p-6 border border-neon-blue/20 space-y-4",children:[S.jsx("h2",{className:"text-xl font-bold text-neon-blue",children:"Record"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex gap-2 justify-between items-center",children:[S.jsxs(Bn,{onClick:Be,disabled:!s,className:s?"bg-green-600 hover:bg-green-700 w-full":"bg-gray-600 hover:bg-gray-700",children:[S.jsx(y1,{className:"h-4 w-4 mr-2"}),"Capture Current Screen"]}),S.jsx(Bn,{onClick:Xe,variant:"outline",className:"border-neon-blue/50 text-neon-blue hover:bg-neon-blue/10 ml-auto",disabled:h.length===0&&Object.keys(B).length===0,children:"Clear"})]}),S.jsx("div",{id:"error-message",className:"text-red-500",children:de}),S.jsx("canvas",{ref:pe,className:"hidden"}),S.jsx(VA,{records:h,debugImages:B})]})]}),S.jsx(tp,{open:J,onOpenChange:Y,children:S.jsxs(Tf,{children:[S.jsxs(_f,{children:[S.jsx(If,{children:"Create Session"}),S.jsx(FA,{children:"Give your session a name to save it. This will store all captured contracts."})]}),S.jsxs("div",{className:"py-4",children:[S.jsx(Z1,{htmlFor:"session-name",children:"Session Name"}),S.jsx(Nl,{id:"session-name",value:Z,onChange:Ce=>X(Ce.target.value),placeholder:"Enter session name",className:"mt-2"})]}),S.jsxs(jA,{children:[S.jsx(Bn,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),S.jsx(Bn,{onClick:Ue,children:"Create"})]})]})})]})},pP=()=>{const[e,t]=A.useState(""),n=BO.filter(c=>c.name.toLowerCase().includes(e.toLowerCase())||c.startLocation.toLowerCase().includes(e.toLowerCase())||c.endLocation.toLowerCase().includes(e.toLowerCase())),r=c=>{switch(c){case"low":return"bg-green-500/20 text-green-300 border-green-500/30";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"high":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},s=c=>c.map(h=>kc.find(g=>g.id===h));return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-3xl font-bold text-white",children:"Routes"}),S.jsx("p",{className:"text-gray-400 mt-1",children:"Plan and optimize your hauling routes"})]}),S.jsxs(Bn,{className:"bg-neon-blue text-space-dark hover:bg-neon-blue/90",children:[S.jsx(Ww,{className:"mr-2 h-4 w-4"}),"New Route"]})]}),S.jsxs("div",{className:"relative",children:[S.jsx($w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),S.jsx(Nl,{placeholder:"Search routes...",className:"pl-10 bg-space-medium border-neon-blue/20 focus:border-neon-blue",value:e,onChange:c=>t(c.target.value)})]}),S.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(c=>{const h=s(c.contracts);return S.jsx(lu,{className:"holographic-panel hover:border-neon-blue/40 transition-colors cursor-pointer",children:S.jsxs(cu,{className:"p-6",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsx("h3",{className:"font-medium text-white text-lg",children:c.name}),S.jsxs(F1,{className:`${r(c.dangerLevel)}`,children:[c.dangerLevel==="high"&&S.jsx(x1,{className:"h-3 w-3 mr-1"}),c.dangerLevel.charAt(0).toUpperCase()+c.dangerLevel.slice(1)," Risk"]})]}),S.jsxs("div",{className:"mt-4 space-y-1 text-sm",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-gray-400",children:"From:"}),S.jsx("span",{className:"text-white text-right",children:c.startLocation})]}),c.waypoints.length>0&&S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-gray-400",children:"Via:"}),S.jsx("span",{className:"text-white text-right",children:c.waypoints.join(", ")})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"text-gray-400",children:"To:"}),S.jsx("span",{className:"text-white text-right",children:c.endLocation})]})]}),S.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 text-sm",children:[S.jsxs("div",{className:"text-center p-2 bg-space-medium rounded",children:[S.jsx("p",{className:"text-gray-400 text-xs",children:"Distance"}),S.jsxs("p",{className:"text-white font-medium",children:[c.distance," Mkm"]})]}),S.jsxs("div",{className:"text-center p-2 bg-space-medium rounded",children:[S.jsx("p",{className:"text-gray-400 text-xs",children:"Est. Time"}),S.jsxs("p",{className:"text-white font-medium",children:[c.estimatedTime," min"]})]}),S.jsxs("div",{className:"text-center p-2 bg-space-medium rounded",children:[S.jsx("p",{className:"text-gray-400 text-xs",children:"Fuel"}),S.jsxs("p",{className:"text-white font-medium",children:[c.fuelConsumption," units"]})]})]}),h.length>0&&S.jsxs("div",{className:"mt-4",children:[S.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Associated Contracts:"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(g=>g&&S.jsx(F1,{className:"bg-space-medium text-white border border-neon-blue/30",children:g.title},g.id))})]})]})},c.id)})})]})},gP=()=>{const e=zl();return A.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),S.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),S.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var Ve;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var Rx=new Map([[Ve.QR_CODE,"QR_CODE"],[Ve.AZTEC,"AZTEC"],[Ve.CODABAR,"CODABAR"],[Ve.CODE_39,"CODE_39"],[Ve.CODE_93,"CODE_93"],[Ve.CODE_128,"CODE_128"],[Ve.DATA_MATRIX,"DATA_MATRIX"],[Ve.MAXICODE,"MAXICODE"],[Ve.ITF,"ITF"],[Ve.EAN_13,"EAN_13"],[Ve.EAN_8,"EAN_8"],[Ve.PDF_417,"PDF_417"],[Ve.RSS_14,"RSS_14"],[Ve.RSS_EXPANDED,"RSS_EXPANDED"],[Ve.UPC_A,"UPC_A"],[Ve.UPC_E,"UPC_E"],[Ve.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Nx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Nx||(Nx={}));function mP(e){return Object.values(Ve).includes(e)}var ws;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ws||(ws={}));var Ti=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ws.SCAN_TYPE_CAMERA,ws.SCAN_TYPE_FILE],e}(),s3=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Rx.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Rx.get(t))},e}(),Mx=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),op;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(op||(op={}));var a3=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:op.UNKWOWN_ERROR}},e}(),l3=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Gi(e){return typeof e>"u"||e===null}function yP(e,t,n){return e>n?n:e<t?t:e}var el=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),zt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Ox=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),c3=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(s),h=Object.keys(t),g=0,x=h;g<x.length;g++){var y=x[g];if(c.has(y))return n.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},e}(),sp={exports:{}};(function(e,t){(function(n,r){r(t)})(vo,function(n){function r(D){return D==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,i){D.__proto__=i}||function(D,i){for(var a in i)i.hasOwnProperty(a)&&(D[a]=i[a])};function c(D,i){s(D,i);function a(){this.constructor=D}D.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function h(D,i){var a=Object.setPrototypeOf;a?a(D,i):D.__proto__=i}function g(D,i){i===void 0&&(i=D.constructor);var a=Error.captureStackTrace;a&&a(D,i)}var x=function(D){c(i,D);function i(a){var u=this.constructor,d=D.call(this,a)||this;return Object.defineProperty(d,"name",{value:u.name,enumerable:!1}),h(d,u.prototype),g(d),d}return i}(Error);class y extends x{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}y.kind="Exception";class w extends y{}w.kind="ArgumentException";class C extends y{}C.kind="IllegalArgumentException";class b{constructor(i){if(this.binarizer=i,i===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,u,d){const o=this.binarizer.getLuminanceSource().crop(i,a,u,d);return new b(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends y{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class O{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(i,a,u,d,o){for(;o--;)u[d++]=i[a++]}static currentTimeMillis(){return Date.now()}}class B extends y{}B.kind="IndexOutOfBoundsException";class M extends B{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}M.kind="ArrayIndexOutOfBoundsException";class I{static fill(i,a){for(let u=0,d=i.length;u<d;u++)i[u]=a}static fillWithin(i,a,u,d){I.rangeCheck(i.length,a,u);for(let o=a;o<u;o++)i[o]=d}static rangeCheck(i,a,u){if(a>u)throw new C("fromIndex("+a+") > toIndex("+u+")");if(a<0)throw new M(a);if(u>i)throw new M(u)}static asList(...i){return i}static create(i,a,u){return Array.from({length:i}).map(o=>Array.from({length:a}).fill(u))}static createInt32Array(i,a,u){return Array.from({length:i}).map(o=>Int32Array.from({length:a}).fill(u))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let u=0,d=i.length;u<d;u++)if(i[u]!==a[u])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const u of i)a=31*a+u;return a}static fillUint8Array(i,a){for(let u=0;u!==i.length;u++)i[u]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const u=new Uint8Array(a);return u.set(i),u}return i.slice(0,a)}static copyOfRange(i,a,u){const d=u-a,o=new Int32Array(d);return _.arraycopy(i,a,o,0,d),o}static binarySearch(i,a,u){u===void 0&&(u=I.numberComparator);let d=0,o=i.length-1;for(;d<=o;){const l=o+d>>1,f=u(a,i[l]);if(f>0)d=l+1;else if(f<0)o=l-1;else return l}return-d-1}static numberComparator(i,a){return i-a}}class k{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let u=31;return a=i<<16,a!==0&&(u-=16,i=a),a=i<<8,a!==0&&(u-=8,i=a),a=i<<4,a!==0&&(u-=4,i=a),a=i<<2,a!==0&&(u-=2,i=a),u-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=U.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=U.makeArray(i);_.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const u=this.bits;let d=Math.floor(i/32),o=u[d];o&=~((1<<(i&31))-1);const l=u.length;for(;o===0;){if(++d===l)return a;o=u[d]}const f=d*32+k.numberOfTrailingZeros(o);return f>a?a:f}getNextUnset(i){const a=this.size;if(i>=a)return a;const u=this.bits;let d=Math.floor(i/32),o=~u[d];o&=~((1<<(i&31))-1);const l=u.length;for(;o===0;){if(++d===l)return a;o=~u[d]}const f=d*32+k.numberOfTrailingZeros(o);return f>a?a:f}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new C;if(a===i)return;a--;const u=Math.floor(i/32),d=Math.floor(a/32),o=this.bits;for(let l=u;l<=d;l++){const f=l>u?0:i&31,m=(2<<(l<d?31:a&31))-(1<<f);o[l]|=m}}clear(){const i=this.bits.length,a=this.bits;for(let u=0;u<i;u++)a[u]=0}isRange(i,a,u){if(a<i||i<0||a>this.size)throw new C;if(a===i)return!0;a--;const d=Math.floor(i/32),o=Math.floor(a/32),l=this.bits;for(let f=d;f<=o;f++){const p=f>d?0:i&31,v=(2<<(f<o?31:a&31))-(1<<p)&4294967295;if((l[f]&v)!==(u?v:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let u=a;u>0;u--)this.appendBit((i>>u-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let u=0;u<a;u++)this.appendBit(i.get(u))}xor(i){if(this.size!==i.size)throw new C("Sizes don't match");const a=this.bits;for(let u=0,d=a.length;u<d;u++)a[u]^=i.bits[u]}toBytes(i,a,u,d){for(let o=0;o<d;o++){let l=0;for(let f=0;f<8;f++)this.get(i)&&(l|=1<<7-f),i++;a[u+o]=l}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),u=a+1,d=this.bits;for(let o=0;o<u;o++){let l=d[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,i[a-o]=l}if(this.size!==u*32){const o=u*32-this.size;let l=i[0]>>>o;for(let f=1;f<u;f++){const p=i[f];l|=p<<32-o,i[f-1]=l,l=p>>>o}i[u-1]=l}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof U))return!1;const a=i;return this.size===a.size&&I.equals(this.bits,a.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let i="";for(let a=0,u=this.size;a<u;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new U(this.size,this.bits.slice())}}var $;(function(D){D[D.OTHER=0]="OTHER",D[D.PURE_BARCODE=1]="PURE_BARCODE",D[D.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",D[D.TRY_HARDER=3]="TRY_HARDER",D[D.CHARACTER_SET=4]="CHARACTER_SET",D[D.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",D[D.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",D[D.ASSUME_GS1=7]="ASSUME_GS1",D[D.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",D[D.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",D[D.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var J=$;class Y extends y{static getFormatInstance(){return new Y}}Y.kind="FormatException";var Z;(function(D){D[D.Cp437=0]="Cp437",D[D.ISO8859_1=1]="ISO8859_1",D[D.ISO8859_2=2]="ISO8859_2",D[D.ISO8859_3=3]="ISO8859_3",D[D.ISO8859_4=4]="ISO8859_4",D[D.ISO8859_5=5]="ISO8859_5",D[D.ISO8859_6=6]="ISO8859_6",D[D.ISO8859_7=7]="ISO8859_7",D[D.ISO8859_8=8]="ISO8859_8",D[D.ISO8859_9=9]="ISO8859_9",D[D.ISO8859_10=10]="ISO8859_10",D[D.ISO8859_11=11]="ISO8859_11",D[D.ISO8859_13=12]="ISO8859_13",D[D.ISO8859_14=13]="ISO8859_14",D[D.ISO8859_15=14]="ISO8859_15",D[D.ISO8859_16=15]="ISO8859_16",D[D.SJIS=16]="SJIS",D[D.Cp1250=17]="Cp1250",D[D.Cp1251=18]="Cp1251",D[D.Cp1252=19]="Cp1252",D[D.Cp1256=20]="Cp1256",D[D.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",D[D.UTF8=22]="UTF8",D[D.ASCII=23]="ASCII",D[D.Big5=24]="Big5",D[D.GB18030=25]="GB18030",D[D.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class X{constructor(i,a,u,...d){this.valueIdentifier=i,this.name=u,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=d,X.VALUE_IDENTIFIER_TO_ECI.set(i,this),X.NAME_TO_ECI.set(u,this);const o=this.values;for(let l=0,f=o.length;l!==f;l++){const p=o[l];X.VALUES_TO_ECI.set(p,this)}for(const l of d)X.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new Y("incorect value");const a=X.VALUES_TO_ECI.get(i);if(a===void 0)throw new Y("incorect value");return a}static getCharacterSetECIByName(i){const a=X.NAME_TO_ECI.get(i);if(a===void 0)throw new Y("incorect value");return a}equals(i){if(!(i instanceof X))return!1;const a=i;return this.getName()===a.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(Z.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(Z.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(Z.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(Z.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(Z.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(Z.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(Z.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(Z.Big5,28,"Big5"),X.GB18030=new X(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(Z.EUC_KR,30,"EUC_KR","EUC-KR");class de extends y{}de.kind="UnsupportedOperationException";class xe{static decode(i,a){const u=this.encodingName(a);return this.customDecoder?this.customDecoder(i,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(i,u):new TextDecoder(u).decode(i)}static shouldDecodeOnFallback(i){return!xe.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const u=this.encodingName(a);return this.customEncoder?this.customEncoder(i,u):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof X?i:X.getCharacterSetECIByName(i)}static decodeFallback(i,a){const u=this.encodingCharacterSet(a);if(xe.isDecodeFallbackSupported(u)){let d="";for(let o=0,l=i.length;o<l;o++){let f=i[o].toString(16);f.length<2&&(f="0"+f),d+="%"+f}return decodeURIComponent(d)}if(u.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new de(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(X.UTF8)||i.equals(X.ISO8859_1)||i.equals(X.ASCII)}static encodeFallback(i){const u=btoa(unescape(encodeURIComponent(i))).split(""),d=[];for(let o=0;o<u.length;o++)d.push(u[o].charCodeAt(0));return new Uint8Array(d)}}class ae{static castAsNonUtf8Char(i,a=null){const u=a?a.getName():this.ISO88591;return xe.decode(new Uint8Array([i]),u)}static guessEncoding(i,a){if(a!=null&&a.get(J.CHARACTER_SET)!==void 0)return a.get(J.CHARACTER_SET).toString();const u=i.length;let d=!0,o=!0,l=!0,f=0,p=0,m=0,v=0,E=0,T=0,N=0,P=0,j=0,L=0,F=0;const H=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let V=0;V<u&&(d||o||l);V++){const W=i[V]&255;l&&(f>0?W&128?f--:l=!1:W&128&&(W&64?(f++,W&32?(f++,W&16?(f++,W&8?l=!1:v++):m++):p++):l=!1)),d&&(W>127&&W<160?d=!1:W>159&&(W<192||W===215||W===247)&&F++),o&&(E>0?W<64||W===127||W>252?o=!1:E--:W===128||W===160||W>239?o=!1:W>160&&W<224?(T++,P=0,N++,N>j&&(j=N)):W>127?(E++,N=0,P++,P>L&&(L=P)):(N=0,P=0))}return l&&f>0&&(l=!1),o&&E>0&&(o=!1),l&&(H||p+m+v>0)?ae.UTF8:o&&(ae.ASSUME_SHIFT_JIS||j>=3||L>=3)?ae.SHIFT_JIS:d&&o?j===2&&T===2||F*10>=u?ae.SHIFT_JIS:ae.ISO88591:d?ae.ISO88591:o?ae.SHIFT_JIS:l?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let u=-1;function d(l,f,p,m,v,E){if(l==="%%")return"%";if(a[++u]===void 0)return;l=m?parseInt(m.substr(1)):void 0;let T=v?parseInt(v.substr(1)):void 0,N;switch(E){case"s":N=a[u];break;case"c":N=a[u][0];break;case"f":N=parseFloat(a[u]).toFixed(l);break;case"p":N=parseFloat(a[u]).toPrecision(l);break;case"e":N=parseFloat(a[u]).toExponential(l);break;case"x":N=parseInt(a[u]).toString(T||16);break;case"d":N=parseFloat(parseInt(a[u],T||10).toPrecision(l)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(T);let P=parseInt(p),j=p&&p[0]+""=="0"?"0":" ";for(;N.length<P;)N=f!==void 0?N+j:j+N;return N}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(o,d)}static getBytes(i,a){return xe.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}ae.SHIFT_JIS=X.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=X.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=X.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class ye{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,u){for(let d=a;a<a+u;d++)this.append(i[d]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class pe{constructor(i,a,u,d){if(this.width=i,this.height=a,this.rowSize=u,this.bits=d,a==null&&(a=i),this.height=a,i<1||a<1)throw new C("Both dimensions must be greater than 0");u==null&&(u=Math.floor((i+31)/32)),this.rowSize=u,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,u=i[0].length,d=new pe(u,a);for(let o=0;o<a;o++){const l=i[o];for(let f=0;f<u;f++)l[f]&&d.set(f,o)}return d}static parseFromString(i,a,u){if(i===null)throw new C("stringRepresentation cannot be null");const d=new Array(i.length);let o=0,l=0,f=-1,p=0,m=0;for(;m<i.length;)if(i.charAt(m)===`
`||i.charAt(m)==="\r"){if(o>l){if(f===-1)f=o-l;else if(o-l!==f)throw new C("row lengths do not match");l=o,p++}m++}else if(i.substring(m,m+a.length)===a)m+=a.length,d[o]=!0,o++;else if(i.substring(m,m+u.length)===u)m+=u.length,d[o]=!1,o++;else throw new C("illegal character encountered: "+i.substring(m));if(o>l){if(f===-1)f=o-l;else if(o-l!==f)throw new C("row lengths do not match");p++}const v=new pe(f,p);for(let E=0;E<o;E++)d[E]&&v.set(Math.floor(E%f),Math.floor(E/f));return v}get(i,a){const u=a*this.rowSize+Math.floor(i/32);return(this.bits[u]>>>(i&31)&1)!==0}set(i,a){const u=a*this.rowSize+Math.floor(i/32);this.bits[u]|=1<<(i&31)&4294967295}unset(i,a){const u=a*this.rowSize+Math.floor(i/32);this.bits[u]&=~(1<<(i&31)&4294967295)}flip(i,a){const u=a*this.rowSize+Math.floor(i/32);this.bits[u]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new C("input matrix dimensions do not match");const a=new U(Math.floor(this.width/32)+1),u=this.rowSize,d=this.bits;for(let o=0,l=this.height;o<l;o++){const f=o*u,p=i.getRow(o,a).getBitArray();for(let m=0;m<u;m++)d[f+m]^=p[m]}}clear(){const i=this.bits,a=i.length;for(let u=0;u<a;u++)i[u]=0}setRegion(i,a,u,d){if(a<0||i<0)throw new C("Left and top must be nonnegative");if(d<1||u<1)throw new C("Height and width must be at least 1");const o=i+u,l=a+d;if(l>this.height||o>this.width)throw new C("The region must fit inside the matrix");const f=this.rowSize,p=this.bits;for(let m=a;m<l;m++){const v=m*f;for(let E=i;E<o;E++)p[v+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new U(this.width):a.clear();const u=this.rowSize,d=this.bits,o=i*u;for(let l=0;l<u;l++)a.setBulk(l*32,d[o+l]);return a}setRow(i,a){_.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let u=new U(i),d=new U(i);for(let o=0,l=Math.floor((a+1)/2);o<l;o++)u=this.getRow(o,u),d=this.getRow(a-1-o,d),u.reverse(),d.reverse(),this.setRow(o,d),this.setRow(a-1-o,u)}getEnclosingRectangle(){const i=this.width,a=this.height,u=this.rowSize,d=this.bits;let o=i,l=a,f=-1,p=-1;for(let m=0;m<a;m++)for(let v=0;v<u;v++){const E=d[m*u+v];if(E!==0){if(m<l&&(l=m),m>p&&(p=m),v*32<o){let T=0;for(;!(E<<31-T&4294967295);)T++;v*32+T<o&&(o=v*32+T)}if(v*32+31>f){let T=31;for(;!(E>>>T);)T--;v*32+T>f&&(f=v*32+T)}}}return f<o||p<l?null:Int32Array.from([o,l,f-o+1,p-l+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let u=0;for(;u<a.length&&a[u]===0;)u++;if(u===a.length)return null;const d=u/i;let o=u%i*32;const l=a[u];let f=0;for(;!(l<<31-f&4294967295);)f++;return o+=f,Int32Array.from([o,d])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let u=a.length-1;for(;u>=0&&a[u]===0;)u--;if(u<0)return null;const d=Math.floor(u/i);let o=Math.floor(u%i)*32;const l=a[u];let f=31;for(;!(l>>>f);)f--;return o+=f,Int32Array.from([o,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof pe))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&I.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+I.hashCode(this.bits),i}toString(i="X ",a="  ",u=`
`){return this.buildToString(i,a,u)}buildToString(i,a,u){let d=new ye;for(let o=0,l=this.height;o<l;o++){for(let f=0,p=this.width;f<p;f++)d.append(this.get(f,o)?i:a);d.append(u)}return d.toString()}clone(){return new pe(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends y{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class we extends O{constructor(i){super(i),this.luminances=we.EMPTY,this.buckets=new Int32Array(we.LUMINANCE_BUCKETS)}getBlackRow(i,a){const u=this.getLuminanceSource(),d=u.getWidth();a==null||a.getSize()<d?a=new U(d):a.clear(),this.initArrays(d);const o=u.getRow(i,this.luminances),l=this.buckets;for(let p=0;p<d;p++)l[(o[p]&255)>>we.LUMINANCE_SHIFT]++;const f=we.estimateBlackPoint(l);if(d<3)for(let p=0;p<d;p++)(o[p]&255)<f&&a.set(p);else{let p=o[0]&255,m=o[1]&255;for(let v=1;v<d-1;v++){const E=o[v+1]&255;(m*4-p-E)/2<f&&a.set(v),p=m,m=E}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),u=i.getHeight(),d=new pe(a,u);this.initArrays(a);const o=this.buckets;for(let p=1;p<5;p++){const m=Math.floor(u*p/5),v=i.getRow(m,this.luminances),E=Math.floor(a*4/5);for(let T=Math.floor(a/5);T<E;T++){const N=v[T]&255;o[N>>we.LUMINANCE_SHIFT]++}}const l=we.estimateBlackPoint(o),f=i.getMatrix();for(let p=0;p<u;p++){const m=p*a;for(let v=0;v<a;v++)(f[m+v]&255)<l&&d.set(v,p)}return d}createBinarizer(i){return new we(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let u=0;u<we.LUMINANCE_BUCKETS;u++)a[u]=0}static estimateBlackPoint(i){const a=i.length;let u=0,d=0,o=0;for(let v=0;v<a;v++)i[v]>o&&(d=v,o=i[v]),i[v]>u&&(u=i[v]);let l=0,f=0;for(let v=0;v<a;v++){const E=v-d,T=i[v]*E*E;T>f&&(l=v,f=T)}if(d>l){const v=d;d=l,l=v}if(l-d<=a/16)throw new te;let p=l-1,m=-1;for(let v=l-1;v>d;v--){const E=v-d,T=E*E*(l-v)*(u-i[v]);T>m&&(p=v,m=T)}return p<<we.LUMINANCE_SHIFT}}we.LUMINANCE_BITS=5,we.LUMINANCE_SHIFT=8-we.LUMINANCE_BITS,we.LUMINANCE_BUCKETS=1<<we.LUMINANCE_BITS,we.EMPTY=Uint8ClampedArray.from([0]);class le extends we{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),u=i.getHeight();if(a>=le.MINIMUM_DIMENSION&&u>=le.MINIMUM_DIMENSION){const d=i.getMatrix();let o=a>>le.BLOCK_SIZE_POWER;a&le.BLOCK_SIZE_MASK&&o++;let l=u>>le.BLOCK_SIZE_POWER;u&le.BLOCK_SIZE_MASK&&l++;const f=le.calculateBlackPoints(d,o,l,a,u),p=new pe(a,u);le.calculateThresholdForBlock(d,o,l,a,u,f,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new le(i)}static calculateThresholdForBlock(i,a,u,d,o,l,f){const p=o-le.BLOCK_SIZE,m=d-le.BLOCK_SIZE;for(let v=0;v<u;v++){let E=v<<le.BLOCK_SIZE_POWER;E>p&&(E=p);const T=le.cap(v,2,u-3);for(let N=0;N<a;N++){let P=N<<le.BLOCK_SIZE_POWER;P>m&&(P=m);const j=le.cap(N,2,a-3);let L=0;for(let H=-2;H<=2;H++){const V=l[T+H];L+=V[j-2]+V[j-1]+V[j]+V[j+1]+V[j+2]}const F=L/25;le.thresholdBlock(i,P,E,F,d,f)}}}static cap(i,a,u){return i<a?a:i>u?u:i}static thresholdBlock(i,a,u,d,o,l){for(let f=0,p=u*o+a;f<le.BLOCK_SIZE;f++,p+=o)for(let m=0;m<le.BLOCK_SIZE;m++)(i[p+m]&255)<=d&&l.set(a+m,u+f)}static calculateBlackPoints(i,a,u,d,o){const l=o-le.BLOCK_SIZE,f=d-le.BLOCK_SIZE,p=new Array(u);for(let m=0;m<u;m++){p[m]=new Int32Array(a);let v=m<<le.BLOCK_SIZE_POWER;v>l&&(v=l);for(let E=0;E<a;E++){let T=E<<le.BLOCK_SIZE_POWER;T>f&&(T=f);let N=0,P=255,j=0;for(let F=0,H=v*d+T;F<le.BLOCK_SIZE;F++,H+=d){for(let V=0;V<le.BLOCK_SIZE;V++){const W=i[H+V]&255;N+=W,W<P&&(P=W),W>j&&(j=W)}if(j-P>le.MIN_DYNAMIC_RANGE)for(F++,H+=d;F<le.BLOCK_SIZE;F++,H+=d)for(let V=0;V<le.BLOCK_SIZE;V++)N+=i[H+V]&255}let L=N>>le.BLOCK_SIZE_POWER*2;if(j-P<=le.MIN_DYNAMIC_RANGE&&(L=P/2,m>0&&E>0)){const F=(p[m-1][E]+2*p[m][E-1]+p[m-1][E-1])/4;P<F&&(L=F)}p[m][E]=L}}return p}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class q{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,u,d){throw new de("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new de("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new de("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new ye;for(let u=0;u<this.height;u++){const d=this.getRow(u,i);for(let o=0;o<this.width;o++){const l=d[o]&255;let f;l<64?f="#":l<128?f="+":l<192?f=".":f=" ",a.append(f)}a.append(`
`)}return a.toString()}}class G extends q{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const u=this.delegate.getRow(i,a),d=this.getWidth();for(let o=0;o<d;o++)u[o]=255-(u[o]&255);return u}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(a);for(let d=0;d<a;d++)u[d]=255-(i[d]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,u,d){return new G(this.delegate.crop(i,a,u,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new G(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new G(this.delegate.rotateCounterClockwise45())}}class Q extends q{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=Q.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return Q.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,u){const d=new Uint8ClampedArray(a*u);for(let o=0,l=0,f=i.length;o<f;o+=4,l++){let p;if(i[o+3]===0)p=255;else{const v=i[o],E=i[o+1],T=i[o+2];p=306*v+601*E+117*T+512>>10}d[l]=p}return d}getRow(i,a){if(i<0||i>=this.getHeight())throw new C("Requested row is outside the image: "+i);const u=this.getWidth(),d=i*u;return a===null?a=this.buffer.slice(d,d+u):(a.length<u&&(a=new Uint8ClampedArray(u)),a.set(this.buffer.slice(d,d+u))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,u,d){return super.crop(i,a,u,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),u=a.getContext("2d"),d=i*Q.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(d))*o+Math.abs(Math.sin(d))*l),p=Math.ceil(Math.abs(Math.sin(d))*o+Math.abs(Math.cos(d))*l);return a.width=f,a.height=p,u.translate(f/2,p/2),u.rotate(d),u.drawImage(this.canvas,o/-2,l/-2),this.buffer=Q.makeBufferFromCanvasImageData(a),this}invert(){return new G(this)}}Q.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(i,a,u){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ce=(globalThis||vo||self||window||void 0)&&(globalThis||vo||self||window||void 0).__awaiter||function(D,i,a,u){function d(o){return o instanceof a?o:new a(function(l){l(o)})}return new(a||(a=Promise))(function(o,l){function f(v){try{m(u.next(v))}catch(E){l(E)}}function p(v){try{m(u.throw(v))}catch(E){l(E)}}function m(v){v.done?o(v.value):d(v.value).then(f,p)}m((u=u.apply(D,i||[])).next())})};class ge{constructor(i,a=500,u){this.reader=i,this.timeBetweenScansMillis=a,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return ce(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const u of i){const d=u.kind==="video"?"videoinput":u.kind;if(d!=="videoinput")continue;const o=u.deviceId||u.id,l=u.label||`Video device ${a.length+1}`,f=u.groupId,p={deviceId:o,label:l,kind:d,groupId:f};a.push(p)}return a})}getVideoInputDevices(){return ce(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ne(a.deviceId,a.label))})}findDeviceById(i){return ce(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(u=>u.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return ce(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return ce(this,void 0,void 0,function*(){this.reset();let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeOnceFromConstraints(d,a)})}decodeOnceFromConstraints(i,a){return ce(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(u,a)})}decodeOnceFromStream(i,a){return ce(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(i,a,u){return ce(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,u)})}decodeFromVideoDevice(i,a,u){return ce(this,void 0,void 0,function*(){let d;i?d={deviceId:{exact:i}}:d={facingMode:"environment"};const o={video:d};return yield this.decodeFromConstraints(o,a,u)})}decodeFromConstraints(i,a,u){return ce(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(d,a,u)})}decodeFromStream(i,a,u){return ce(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(d,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return ce(this,void 0,void 0,function*(){const u=this.prepareVideoElement(a);return this.addVideoSource(u,i),this.videoElement=u,this.stream=i,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(i){return new Promise((a,u)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return ce(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const u=document.getElementById(i);if(!u)throw new w(`element with id '${i}' not found`);if(u.nodeName.toLowerCase()!==a.toLowerCase())throw new w(`element with id '${i}' must be an ${a} element`);return u}decodeFromImage(i,a){if(!i&&!a)throw new w("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new w("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,u){if(i===void 0&&a===void 0)throw new w("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,u):this.decodeFromVideoElementContinuously(i,u)}decodeFromImageElement(i){if(!i)throw new w("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let u;return this.isImageLoaded(a)?u=this.decodeOnce(a,!1,!0):u=this._decodeOnLoadImage(a),u}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const u=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(u,a)}_decodeFromVideoElementSetup(i){if(!i)throw new w("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const u=this._decodeOnLoadImage(a);return a.src=i,u}decodeFromVideoUrl(i){if(!i)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),u=this.decodeFromVideoElement(a);return a.src=i,u}decodeFromVideoUrlContinuously(i,a){if(!i)throw new w("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(u,a);return u.src=i,d}_decodeOnLoadImage(i){return new Promise((a,u)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,u),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return ce(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return ce(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,u=!0){this._stopAsyncDecode=!1;const d=(o,l)=>{if(this._stopAsyncDecode){l(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(i);o(f)}catch(f){const p=a&&f instanceof te,v=(f instanceof R||f instanceof Y)&&u;if(p||v)return setTimeout(d,this._timeBetweenDecodingAttempts,o,l);l(f)}};return new Promise((o,l)=>d(o,l))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(i);a(d,null),setTimeout(u,this.timeBetweenScansMillis)}catch(d){a(null,d);const o=d instanceof R||d instanceof Y,l=d instanceof te;(o||l)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,u){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,u=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),u=new Q(a),d=new le(u);return new b(d)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let u,d;return typeof i<"u"&&(i instanceof HTMLVideoElement?(u=i.videoWidth,d=i.videoHeight):i instanceof HTMLImageElement&&(u=i.naturalWidth||i.width,d=i.naturalHeight||i.height)),a.style.width=u+"px",a.style.height=d+"px",a.width=u,a.height=d,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Ne{constructor(i,a,u=a==null?0:8*a.length,d,o,l=_.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=u,this.resultPoints=d,this.format=o,this.timestamp=l,this.text=i,this.rawBytes=a,u==null?this.numBits=a==null?0:8*a.length:this.numBits=u,this.resultPoints=d,this.format=o,this.resultMetadata=null,l==null?this.timestamp=_.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const u=new Array(a.length+i.length);_.arraycopy(a,0,u,0,a.length),_.arraycopy(i,0,u,a.length,i.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ot;(function(D){D[D.AZTEC=0]="AZTEC",D[D.CODABAR=1]="CODABAR",D[D.CODE_39=2]="CODE_39",D[D.CODE_93=3]="CODE_93",D[D.CODE_128=4]="CODE_128",D[D.DATA_MATRIX=5]="DATA_MATRIX",D[D.EAN_8=6]="EAN_8",D[D.EAN_13=7]="EAN_13",D[D.ITF=8]="ITF",D[D.MAXICODE=9]="MAXICODE",D[D.PDF_417=10]="PDF_417",D[D.QR_CODE=11]="QR_CODE",D[D.RSS_14=12]="RSS_14",D[D.RSS_EXPANDED=13]="RSS_EXPANDED",D[D.UPC_A=14]="UPC_A",D[D.UPC_E=15]="UPC_E",D[D.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ot||(ot={}));var he=ot,Oe;(function(D){D[D.OTHER=0]="OTHER",D[D.ORIENTATION=1]="ORIENTATION",D[D.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",D[D.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",D[D.ISSUE_NUMBER=4]="ISSUE_NUMBER",D[D.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",D[D.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",D[D.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",D[D.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",D[D.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",D[D.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Oe||(Oe={}));var Be=Oe;class Te{constructor(i,a,u,d,o=-1,l=-1){this.rawBytes=i,this.text=a,this.byteSegments=u,this.ecLevel=d,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class tt{exp(i){return this.expTable[i]}log(i){if(i===0)throw new C;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class Xe{constructor(i,a){if(a.length===0)throw new C;this.field=i;const u=a.length;if(u>1&&a[0]===0){let d=1;for(;d<u&&a[d]===0;)d++;d===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-d),_.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let u;if(i===1){u=0;for(let l=0,f=a.length;l!==f;l++){const p=a[l];u=tt.addOrSubtract(u,p)}return u}u=a[0];const d=a.length,o=this.field;for(let l=1;l<d;l++)u=tt.addOrSubtract(o.multiply(i,u),a[l]);return u}addOrSubtract(i){if(!this.field.equals(i.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,u=i.coefficients;if(a.length>u.length){const l=a;a=u,u=l}let d=new Int32Array(u.length);const o=u.length-a.length;_.arraycopy(u,0,d,0,o);for(let l=o;l<u.length;l++)d[l]=tt.addOrSubtract(a[l-o],u[l]);return new Xe(this.field,d)}multiply(i){if(!this.field.equals(i.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,u=a.length,d=i.coefficients,o=d.length,l=new Int32Array(u+o-1),f=this.field;for(let p=0;p<u;p++){const m=a[p];for(let v=0;v<o;v++)l[p+v]=tt.addOrSubtract(l[p+v],f.multiply(m,d[v]))}return new Xe(f,l)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,u=this.field,d=new Int32Array(a),o=this.coefficients;for(let l=0;l<a;l++)d[l]=u.multiply(o[l],i);return new Xe(u,d)}multiplyByMonomial(i,a){if(i<0)throw new C;if(a===0)return this.field.getZero();const u=this.coefficients,d=u.length,o=new Int32Array(d+i),l=this.field;for(let f=0;f<d;f++)o[f]=l.multiply(u[f],a);return new Xe(l,o)}divide(i){if(!this.field.equals(i.field))throw new C("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new C("Divide by 0");const a=this.field;let u=a.getZero(),d=this;const o=i.getCoefficient(i.getDegree()),l=a.inverse(o);for(;d.getDegree()>=i.getDegree()&&!d.isZero();){const f=d.getDegree()-i.getDegree(),p=a.multiply(d.getCoefficient(d.getDegree()),l),m=i.multiplyByMonomial(f,p),v=a.buildMonomial(f,p);u=u.addOrSubtract(v),d=d.addOrSubtract(m)}return[u,d]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let u=this.getCoefficient(a);if(u!==0){if(u<0?(i+=" - ",u=-u):i.length>0&&(i+=" + "),a===0||u!==1){const d=this.field.log(u);d===0?i+="1":d===1?i+="a":(i+="a^",i+=d)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class Ue extends y{}Ue.kind="ArithmeticException";class Ce extends tt{constructor(i,a,u){super(),this.primitive=i,this.size=a,this.generatorBase=u;const d=new Int32Array(a);let o=1;for(let f=0;f<a;f++)d[f]=o,o*=2,o>=a&&(o^=i,o&=a-1);this.expTable=d;const l=new Int32Array(a);for(let f=0;f<a-1;f++)l[d[f]]=f;this.logTable=l,this.zero=new Xe(this,Int32Array.from([0])),this.one=new Xe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new C;if(a===0)return this.zero;const u=new Int32Array(i+1);return u[0]=a,new Xe(this,u)}inverse(i){if(i===0)throw new Ue;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Ce.AZTEC_DATA_12=new Ce(4201,4096,1),Ce.AZTEC_DATA_10=new Ce(1033,1024,1),Ce.AZTEC_DATA_6=new Ce(67,64,1),Ce.AZTEC_PARAM=new Ce(19,16,1),Ce.QR_CODE_FIELD_256=new Ce(285,256,0),Ce.DATA_MATRIX_FIELD_256=new Ce(301,256,1),Ce.AZTEC_DATA_8=Ce.DATA_MATRIX_FIELD_256,Ce.MAXICODE_FIELD_64=Ce.AZTEC_DATA_6;class ze extends y{}ze.kind="ReedSolomonException";class Ye extends y{}Ye.kind="IllegalStateException";class nt{constructor(i){this.field=i}decode(i,a){const u=this.field,d=new Xe(u,i),o=new Int32Array(a);let l=!0;for(let N=0;N<a;N++){const P=d.evaluateAt(u.exp(N+u.getGeneratorBase()));o[o.length-1-N]=P,P!==0&&(l=!1)}if(l)return;const f=new Xe(u,o),p=this.runEuclideanAlgorithm(u.buildMonomial(a,1),f,a),m=p[0],v=p[1],E=this.findErrorLocations(m),T=this.findErrorMagnitudes(v,E);for(let N=0;N<E.length;N++){const P=i.length-1-u.log(E[N]);if(P<0)throw new ze("Bad error location");i[P]=Ce.addOrSubtract(i[P],T[N])}}runEuclideanAlgorithm(i,a,u){if(i.getDegree()<a.getDegree()){const N=i;i=a,a=N}const d=this.field;let o=i,l=a,f=d.getZero(),p=d.getOne();for(;l.getDegree()>=(u/2|0);){let N=o,P=f;if(o=l,f=p,o.isZero())throw new ze("r_{i-1} was zero");l=N;let j=d.getZero();const L=o.getCoefficient(o.getDegree()),F=d.inverse(L);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){const H=l.getDegree()-o.getDegree(),V=d.multiply(l.getCoefficient(l.getDegree()),F);j=j.addOrSubtract(d.buildMonomial(H,V)),l=l.addOrSubtract(o.multiplyByMonomial(H,V))}if(p=j.multiply(f).addOrSubtract(P),l.getDegree()>=o.getDegree())throw new Ye("Division algorithm failed to reduce polynomial?")}const m=p.getCoefficient(0);if(m===0)throw new ze("sigmaTilde(0) was zero");const v=d.inverse(m),E=p.multiplyScalar(v),T=l.multiplyScalar(v);return[E,T]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const u=new Int32Array(a);let d=0;const o=this.field;for(let l=1;l<o.getSize()&&d<a;l++)i.evaluateAt(l)===0&&(u[d]=o.inverse(l),d++);if(d!==a)throw new ze("Error locator degree does not match number of roots");return u}findErrorMagnitudes(i,a){const u=a.length,d=new Int32Array(u),o=this.field;for(let l=0;l<u;l++){const f=o.inverse(a[l]);let p=1;for(let m=0;m<u;m++)if(l!==m){const v=o.multiply(a[m],f),E=v&1?v&-2:v|1;p=o.multiply(p,E)}d[l]=o.multiply(i.evaluateAt(f),o.inverse(p)),o.getGeneratorBase()!==0&&(d[l]=o.multiply(d[l],f))}return d}}var it;(function(D){D[D.UPPER=0]="UPPER",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.DIGIT=3]="DIGIT",D[D.PUNCT=4]="PUNCT",D[D.BINARY=5]="BINARY"})(it||(it={}));class He{decode(i){this.ddata=i;let a=i.getBits(),u=this.extractBits(a),d=this.correctBits(u),o=He.convertBoolArrayToByteArray(d),l=He.getEncodedData(d),f=new Te(o,l,null,null);return f.setNumBits(d.length),f}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,u=it.UPPER,d=it.UPPER,o="",l=0;for(;l<a;)if(d===it.BINARY){if(a-l<5)break;let f=He.readCode(i,l,5);if(l+=5,f===0){if(a-l<11)break;f=He.readCode(i,l,11)+31,l+=11}for(let p=0;p<f;p++){if(a-l<8){l=a;break}const m=He.readCode(i,l,8);o+=ae.castAsNonUtf8Char(m),l+=8}d=u}else{let f=d===it.DIGIT?4:5;if(a-l<f)break;let p=He.readCode(i,l,f);l+=f;let m=He.getCharacter(d,p);m.startsWith("CTRL_")?(u=d,d=He.getTable(m.charAt(5)),m.charAt(6)==="L"&&(u=d)):(o+=m,d=u)}return o}static getTable(i){switch(i){case"L":return it.LOWER;case"P":return it.PUNCT;case"M":return it.MIXED;case"D":return it.DIGIT;case"B":return it.BINARY;case"U":default:return it.UPPER}}static getCharacter(i,a){switch(i){case it.UPPER:return He.UPPER_TABLE[a];case it.LOWER:return He.LOWER_TABLE[a];case it.MIXED:return He.MIXED_TABLE[a];case it.PUNCT:return He.PUNCT_TABLE[a];case it.DIGIT:return He.DIGIT_TABLE[a];default:throw new Ye("Bad table")}}correctBits(i){let a,u;this.ddata.getNbLayers()<=2?(u=6,a=Ce.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,a=Ce.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,a=Ce.AZTEC_DATA_10):(u=12,a=Ce.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),o=i.length/u;if(o<d)throw new Y;let l=i.length%u,f=new Int32Array(o);for(let T=0;T<o;T++,l+=u)f[T]=He.readCode(i,l,u);try{new nt(a).decode(f,o-d)}catch(T){throw new Y(T)}let p=(1<<u)-1,m=0;for(let T=0;T<d;T++){let N=f[T];if(N===0||N===p)throw new Y;(N===1||N===p-1)&&m++}let v=new Array(d*u-m),E=0;for(let T=0;T<d;T++){let N=f[T];if(N===1||N===p-1)v.fill(N>1,E,E+u-1),E+=u-1;else for(let P=u-1;P>=0;--P)v[E++]=(N&1<<P)!==0}return v}extractBits(i){let a=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(a?11:14)+u*4,o=new Int32Array(d),l=new Array(this.totalBitsInLayer(u,a));if(a)for(let f=0;f<o.length;f++)o[f]=f;else{let f=d+1+2*k.truncDivision(k.truncDivision(d,2)-1,15),p=d/2,m=k.truncDivision(f,2);for(let v=0;v<p;v++){let E=v+k.truncDivision(v,15);o[p-v-1]=m-E-1,o[p+v]=m+E+1}}for(let f=0,p=0;f<u;f++){let m=(u-f)*4+(a?9:12),v=f*2,E=d-1-v;for(let T=0;T<m;T++){let N=T*2;for(let P=0;P<2;P++)l[p+N+P]=i.get(o[v+P],o[v+T]),l[p+2*m+N+P]=i.get(o[v+T],o[E-P]),l[p+4*m+N+P]=i.get(o[E-P],o[E-T]),l[p+6*m+N+P]=i.get(o[E-T],o[v+P])}p+=m*8}return l}static readCode(i,a,u){let d=0;for(let o=a;o<a+u;o++)d<<=1,i[o]&&(d|=1);return d}static readByte(i,a){let u=i.length-a;return u>=8?He.readCode(i,a,8):He.readCode(i,a,u)<<8-u}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let u=0;u<a.length;u++)a[u]=He.readByte(i,8*u);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}He.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],He.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],He.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],He.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],He.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ge{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,u,d){const o=i-u,l=a-d;return Math.sqrt(o*o+l*l)}static sum(i){let a=0;for(let u=0,d=i.length;u!==d;u++){const o=i[u];a+=o}return a}}class Gt{static floatToIntBits(i){return i}}Gt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _e{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof _e){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Gt.floatToIntBits(this.x)+Gt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),u=this.distance(i[1],i[2]),d=this.distance(i[0],i[2]);let o,l,f;if(u>=a&&u>=d?(l=i[0],o=i[1],f=i[2]):d>=u&&d>=a?(l=i[1],o=i[0],f=i[2]):(l=i[2],o=i[0],f=i[1]),this.crossProductZ(o,l,f)<0){const p=o;o=f,f=p}i[0]=o,i[1]=l,i[2]=f}static distance(i,a){return Ge.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,u){const d=a.x,o=a.y;return(u.x-d)*(i.y-o)-(u.y-o)*(i.x-d)}}class Cn{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Vt extends Cn{constructor(i,a,u,d,o){super(i,a),this.compact=u,this.nbDatablocks=d,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class $t{constructor(i,a,u,d){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=$t.INIT_SIZE),u==null&&(u=i.getWidth()/2|0),d==null&&(d=i.getHeight()/2|0);const o=a/2|0;if(this.leftInit=u-o,this.rightInit=u+o,this.upInit=d-o,this.downInit=d+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let i=this.leftInit,a=this.rightInit,u=this.upInit,d=this.downInit,o=!1,l=!0,f=!1,p=!1,m=!1,v=!1,E=!1;const T=this.width,N=this.height;for(;l;){l=!1;let P=!0;for(;(P||!p)&&a<T;)P=this.containsBlackPoint(u,d,a,!1),P?(a++,l=!0,p=!0):p||a++;if(a>=T){o=!0;break}let j=!0;for(;(j||!m)&&d<N;)j=this.containsBlackPoint(i,a,d,!0),j?(d++,l=!0,m=!0):m||d++;if(d>=N){o=!0;break}let L=!0;for(;(L||!v)&&i>=0;)L=this.containsBlackPoint(u,d,i,!1),L?(i--,l=!0,v=!0):v||i--;if(i<0){o=!0;break}let F=!0;for(;(F||!E)&&u>=0;)F=this.containsBlackPoint(i,a,u,!0),F?(u--,l=!0,E=!0):E||u--;if(u<0){o=!0;break}l&&(f=!0)}if(!o&&f){const P=a-i;let j=null;for(let V=1;j===null&&V<P;V++)j=this.getBlackPointOnSegment(i,d-V,i+V,d);if(j==null)throw new te;let L=null;for(let V=1;L===null&&V<P;V++)L=this.getBlackPointOnSegment(i,u+V,i+V,u);if(L==null)throw new te;let F=null;for(let V=1;F===null&&V<P;V++)F=this.getBlackPointOnSegment(a,u+V,a-V,u);if(F==null)throw new te;let H=null;for(let V=1;H===null&&V<P;V++)H=this.getBlackPointOnSegment(a,d-V,a-V,d);if(H==null)throw new te;return this.centerEdges(H,j,F,L)}else throw new te}getBlackPointOnSegment(i,a,u,d){const o=Ge.round(Ge.distance(i,a,u,d)),l=(u-i)/o,f=(d-a)/o,p=this.image;for(let m=0;m<o;m++){const v=Ge.round(i+m*l),E=Ge.round(a+m*f);if(p.get(v,E))return new _e(v,E)}return null}centerEdges(i,a,u,d){const o=i.getX(),l=i.getY(),f=a.getX(),p=a.getY(),m=u.getX(),v=u.getY(),E=d.getX(),T=d.getY(),N=$t.CORR;return o<this.width/2?[new _e(E-N,T+N),new _e(f+N,p+N),new _e(m-N,v-N),new _e(o+N,l-N)]:[new _e(E+N,T+N),new _e(f+N,p-N),new _e(m-N,v+N),new _e(o-N,l-N)]}containsBlackPoint(i,a,u,d){const o=this.image;if(d){for(let l=i;l<=a;l++)if(o.get(l,u))return!0}else for(let l=i;l<=a;l++)if(o.get(u,l))return!0;return!1}}$t.INIT_SIZE=10,$t.CORR=1;class bn{static checkAndNudgePoints(i,a){const u=i.getWidth(),d=i.getHeight();let o=!0;for(let l=0;l<a.length&&o;l+=2){const f=Math.floor(a[l]),p=Math.floor(a[l+1]);if(f<-1||f>u||p<-1||p>d)throw new te;o=!1,f===-1?(a[l]=0,o=!0):f===u&&(a[l]=u-1,o=!0),p===-1?(a[l+1]=0,o=!0):p===d&&(a[l+1]=d-1,o=!0)}o=!0;for(let l=a.length-2;l>=0&&o;l-=2){const f=Math.floor(a[l]),p=Math.floor(a[l+1]);if(f<-1||f>u||p<-1||p>d)throw new te;o=!1,f===-1?(a[l]=0,o=!0):f===u&&(a[l]=u-1,o=!0),p===-1?(a[l+1]=0,o=!0):p===d&&(a[l+1]=d-1,o=!0)}}}class Dt{constructor(i,a,u,d,o,l,f,p,m){this.a11=i,this.a21=a,this.a31=u,this.a12=d,this.a22=o,this.a32=l,this.a13=f,this.a23=p,this.a33=m}static quadrilateralToQuadrilateral(i,a,u,d,o,l,f,p,m,v,E,T,N,P,j,L){const F=Dt.quadrilateralToSquare(i,a,u,d,o,l,f,p);return Dt.squareToQuadrilateral(m,v,E,T,N,P,j,L).times(F)}transformPoints(i){const a=i.length,u=this.a11,d=this.a12,o=this.a13,l=this.a21,f=this.a22,p=this.a23,m=this.a31,v=this.a32,E=this.a33;for(let T=0;T<a;T+=2){const N=i[T],P=i[T+1],j=o*N+p*P+E;i[T]=(u*N+l*P+m)/j,i[T+1]=(d*N+f*P+v)/j}}transformPointsWithValues(i,a){const u=this.a11,d=this.a12,o=this.a13,l=this.a21,f=this.a22,p=this.a23,m=this.a31,v=this.a32,E=this.a33,T=i.length;for(let N=0;N<T;N++){const P=i[N],j=a[N],L=o*P+p*j+E;i[N]=(u*P+l*j+m)/L,a[N]=(d*P+f*j+v)/L}}static squareToQuadrilateral(i,a,u,d,o,l,f,p){const m=i-u+o-f,v=a-d+l-p;if(m===0&&v===0)return new Dt(u-i,o-u,i,d-a,l-d,a,0,0,1);{const E=u-o,T=f-o,N=d-l,P=p-l,j=E*P-T*N,L=(m*P-T*v)/j,F=(E*v-m*N)/j;return new Dt(u-i+L*u,f-i+F*f,i,d-a+L*d,p-a+F*p,a,L,F,1)}}static quadrilateralToSquare(i,a,u,d,o,l,f,p){return Dt.squareToQuadrilateral(i,a,u,d,o,l,f,p).buildAdjoint()}buildAdjoint(){return new Dt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Dt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Qt extends bn{sampleGrid(i,a,u,d,o,l,f,p,m,v,E,T,N,P,j,L,F,H,V){const W=Dt.quadrilateralToQuadrilateral(d,o,l,f,p,m,v,E,T,N,P,j,L,F,H,V);return this.sampleGridWithTransform(i,a,u,W)}sampleGridWithTransform(i,a,u,d){if(a<=0||u<=0)throw new te;const o=new pe(a,u),l=new Float32Array(2*a);for(let f=0;f<u;f++){const p=l.length,m=f+.5;for(let v=0;v<p;v+=2)l[v]=v/2+.5,l[v+1]=m;d.transformPoints(l),bn.checkAndNudgePoints(i,l);try{for(let v=0;v<p;v+=2)i.get(Math.floor(l[v]),Math.floor(l[v+1]))&&o.set(v/2,f)}catch{throw new te}}return o}}class En{static setGridSampler(i){En.gridSampler=i}static getInstance(){return En.gridSampler}}En.gridSampler=new Qt;class St{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new _e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Dn{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),u=this.getBullsEyeCorners(a);if(i){let l=u[0];u[0]=u[2],u[2]=l}this.extractParameters(u);let d=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),o=this.getMatrixCornerPoints(u);return new Vt(d,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new te;let a=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(u,a);let d=0;for(let l=0;l<4;l++){let f=u[(this.shift+l)%4];this.compact?(d<<=7,d+=f>>1&127):(d<<=10,d+=(f>>2&992)+(f>>1&31))}let o=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(i,a){let u=0;i.forEach((d,o,l)=>{let f=(d>>a-2<<1)+(d&1);u=(u<<3)+f}),u=((u&1)<<11)+(u>>1);for(let d=0;d<4;d++)if(k.bitCount(u^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new te}getCorrectedParameterData(i,a){let u,d;a?(u=7,d=2):(u=10,d=4);let o=u-d,l=new Int32Array(u);for(let p=u-1;p>=0;--p)l[p]=i&15,i>>=4;try{new nt(Ce.AZTEC_PARAM).decode(l,o)}catch{throw new te}let f=0;for(let p=0;p<d;p++)f=(f<<4)+l[p];return f}getBullsEyeCorners(i){let a=i,u=i,d=i,o=i,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(a,l,1,-1),T=this.getFirstDifferent(u,l,1,1),N=this.getFirstDifferent(d,l,-1,1),P=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(P,E)*this.nbCenterLayers/(this.distancePoint(o,a)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(E,T,N,P))break}a=E,u=T,d=N,o=P,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let f=new _e(a.getX()+.5,a.getY()-.5),p=new _e(u.getX()+.5,u.getY()+.5),m=new _e(d.getX()-.5,d.getY()+.5),v=new _e(o.getX()-.5,o.getY()-.5);return this.expandSquare([f,p,m,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,u,d;try{let f=new $t(this.image).detect();i=f[0],a=f[1],u=f[2],d=f[3]}catch{let p=this.image.getWidth()/2,m=this.image.getHeight()/2;i=this.getFirstDifferent(new St(p+7,m-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new St(p+7,m+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new St(p-7,m+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new St(p-7,m-7),!1,-1,-1).toResultPoint()}let o=Ge.round((i.getX()+d.getX()+a.getX()+u.getX())/4),l=Ge.round((i.getY()+d.getY()+a.getY()+u.getY())/4);try{let f=new $t(this.image,15,o,l).detect();i=f[0],a=f[1],u=f[2],d=f[3]}catch{i=this.getFirstDifferent(new St(o+7,l-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new St(o+7,l+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new St(o-7,l+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new St(o-7,l-7),!1,-1,-1).toResultPoint()}return o=Ge.round((i.getX()+d.getX()+a.getX()+u.getX())/4),l=Ge.round((i.getY()+d.getY()+a.getY()+u.getY())/4),new St(o,l)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,u,d,o){let l=En.getInstance(),f=this.getDimension(),p=f/2-this.nbCenterLayers,m=f/2+this.nbCenterLayers;return l.sampleGrid(i,f,f,p,p,m,p,m,m,p,m,a.getX(),a.getY(),u.getX(),u.getY(),d.getX(),d.getY(),o.getX(),o.getY())}sampleLine(i,a,u){let d=0,o=this.distanceResultPoint(i,a),l=o/u,f=i.getX(),p=i.getY(),m=l*(a.getX()-i.getX())/o,v=l*(a.getY()-i.getY())/o;for(let E=0;E<u;E++)this.image.get(Ge.round(f+E*m),Ge.round(p+E*v))&&(d|=1<<u-E-1);return d}isWhiteOrBlackRectangle(i,a,u,d){let o=3;i=new St(i.getX()-o,i.getY()+o),a=new St(a.getX()-o,a.getY()-o),u=new St(u.getX()+o,u.getY()-o),d=new St(d.getX()+o,d.getY()+o);let l=this.getColor(d,i);if(l===0)return!1;let f=this.getColor(i,a);return f!==l||(f=this.getColor(a,u),f!==l)?!1:(f=this.getColor(u,d),f===l)}getColor(i,a){let u=this.distancePoint(i,a),d=(a.getX()-i.getX())/u,o=(a.getY()-i.getY())/u,l=0,f=i.getX(),p=i.getY(),m=this.image.get(i.getX(),i.getY()),v=Math.ceil(u);for(let T=0;T<v;T++)f+=d,p+=o,this.image.get(Ge.round(f),Ge.round(p))!==m&&l++;let E=l/u;return E>.1&&E<.9?0:E<=.1===m?1:-1}getFirstDifferent(i,a,u,d){let o=i.getX()+u,l=i.getY()+d;for(;this.isValid(o,l)&&this.image.get(o,l)===a;)o+=u,l+=d;for(o-=u,l-=d;this.isValid(o,l)&&this.image.get(o,l)===a;)o+=u;for(o-=u;this.isValid(o,l)&&this.image.get(o,l)===a;)l+=d;return l-=d,new St(o,l)}expandSquare(i,a,u){let d=u/(2*a),o=i[0].getX()-i[2].getX(),l=i[0].getY()-i[2].getY(),f=(i[0].getX()+i[2].getX())/2,p=(i[0].getY()+i[2].getY())/2,m=new _e(f+d*o,p+d*l),v=new _e(f-d*o,p-d*l);o=i[1].getX()-i[3].getX(),l=i[1].getY()-i[3].getY(),f=(i[1].getX()+i[3].getX())/2,p=(i[1].getY()+i[3].getY())/2;let E=new _e(f+d*o,p+d*l),T=new _e(f-d*o,p-d*l);return[m,E,v,T]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=Ge.round(i.getX()),u=Ge.round(i.getY());return this.isValid(a,u)}distancePoint(i,a){return Ge.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return Ge.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class gn{decode(i,a=null){let u=null,d=new Dn(i.getBlackMatrix()),o=null,l=null;try{let v=d.detectMirror(!1);o=v.getPoints(),this.reportFoundResultPoints(a,o),l=new He().decode(v)}catch(v){u=v}if(l==null)try{let v=d.detectMirror(!0);o=v.getPoints(),this.reportFoundResultPoints(a,o),l=new He().decode(v)}catch(v){throw u??v}let f=new Ne(l.getText(),l.getRawBytes(),l.getNumBits(),o,he.AZTEC,_.currentTimeMillis()),p=l.getByteSegments();p!=null&&f.putMetadata(Be.BYTE_SEGMENTS,p);let m=l.getECLevel();return m!=null&&f.putMetadata(Be.ERROR_CORRECTION_LEVEL,m),f}reportFoundResultPoints(i,a){if(i!=null){let u=i.get(J.NEED_RESULT_POINT_CALLBACK);u!=null&&a.forEach((d,o,l)=>{u.foundPossibleResultPoint(d)})}}reset(){}}class Vn extends ge{constructor(i=500){super(new gn,i)}}class _t{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(J.TRY_HARDER)===!0&&i.isRotateSupported()){const o=i.rotateCounterClockwise(),l=this.doDecode(o,a),f=l.getResultMetadata();let p=270;f!==null&&f.get(Be.ORIENTATION)===!0&&(p=p+f.get(Be.ORIENTATION)%360),l.putMetadata(Be.ORIENTATION,p);const m=l.getResultPoints();if(m!==null){const v=o.getHeight();for(let E=0;E<m.length;E++)m[E]=new _e(v-m[E].getY()-1,m[E].getX())}return l}else throw new te}}reset(){}doDecode(i,a){const u=i.getWidth(),d=i.getHeight();let o=new U(u);const l=a&&a.get(J.TRY_HARDER)===!0,f=Math.max(1,d>>(l?8:5));let p;l?p=d:p=15;const m=Math.trunc(d/2);for(let v=0;v<p;v++){const E=Math.trunc((v+1)/2),T=(v&1)===0,N=m+f*(T?E:-E);if(N<0||N>=d)break;try{o=i.getBlackRow(N,o)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(o.reverse(),a&&a.get(J.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;a.forEach((L,F)=>j.set(F,L)),j.delete(J.NEED_RESULT_POINT_CALLBACK),a=j}try{const j=this.decodeRow(N,o,a);if(P===1){j.putMetadata(Be.ORIENTATION,180);const L=j.getResultPoints();L!==null&&(L[0]=new _e(u-L[0].getX()-1,L[0].getY()),L[1]=new _e(u-L[1].getX()-1,L[1].getY()))}return j}catch{}}}throw new te}static recordPattern(i,a,u){const d=u.length;for(let m=0;m<d;m++)u[m]=0;const o=i.getSize();if(a>=o)throw new te;let l=!i.get(a),f=0,p=a;for(;p<o;){if(i.get(p)!==l)u[f]++;else{if(++f===d)break;u[f]=1,l=!l}p++}if(!(f===d||f===d-1&&p===o))throw new te}static recordPatternInReverse(i,a,u){let d=u.length,o=i.get(a);for(;a>0&&d>=0;)i.get(--a)!==o&&(d--,o=!o);if(d>=0)throw new te;_t.recordPattern(i,a+1,u)}static patternMatchVariance(i,a,u){const d=i.length;let o=0,l=0;for(let m=0;m<d;m++)o+=i[m],l+=a[m];if(o<l)return Number.POSITIVE_INFINITY;const f=o/l;u*=f;let p=0;for(let m=0;m<d;m++){const v=i[m],E=a[m]*f,T=v>E?v-E:E-v;if(T>u)return Number.POSITIVE_INFINITY;p+=T}return p/o}}class Me extends _t{static findStartPattern(i){const a=i.getSize(),u=i.getNextSet(0);let d=0,o=Int32Array.from([0,0,0,0,0,0]),l=u,f=!1;const p=6;for(let m=u;m<a;m++)if(i.get(m)!==f)o[d]++;else{if(d===p-1){let v=Me.MAX_AVG_VARIANCE,E=-1;for(let T=Me.CODE_START_A;T<=Me.CODE_START_C;T++){const N=_t.patternMatchVariance(o,Me.CODE_PATTERNS[T],Me.MAX_INDIVIDUAL_VARIANCE);N<v&&(v=N,E=T)}if(E>=0&&i.isRange(Math.max(0,l-(m-l)/2),l,!1))return Int32Array.from([l,m,E]);l+=o[0]+o[1],o=o.slice(2,o.length-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,f=!f}throw new te}static decodeCode(i,a,u){_t.recordPattern(i,u,a);let d=Me.MAX_AVG_VARIANCE,o=-1;for(let l=0;l<Me.CODE_PATTERNS.length;l++){const f=Me.CODE_PATTERNS[l],p=this.patternMatchVariance(a,f,Me.MAX_INDIVIDUAL_VARIANCE);p<d&&(d=p,o=l)}if(o>=0)return o;throw new te}decodeRow(i,a,u){const d=u&&u.get(J.ASSUME_GS1)===!0,o=Me.findStartPattern(a),l=o[2];let f=0;const p=new Uint8Array(20);p[f++]=l;let m;switch(l){case Me.CODE_START_A:m=Me.CODE_CODE_A;break;case Me.CODE_START_B:m=Me.CODE_CODE_B;break;case Me.CODE_START_C:m=Me.CODE_CODE_C;break;default:throw new Y}let v=!1,E=!1,T="",N=o[0],P=o[1];const j=Int32Array.from([0,0,0,0,0,0]);let L=0,F=0,H=l,V=0,W=!0,K=!1,ee=!1;for(;!v;){const De=E;switch(E=!1,L=F,F=Me.decodeCode(a,j,P),p[f++]=F,F!==Me.CODE_STOP&&(W=!0),F!==Me.CODE_STOP&&(V++,H+=V*F),N=P,P+=j.reduce((ke,Fe)=>ke+Fe,0),F){case Me.CODE_START_A:case Me.CODE_START_B:case Me.CODE_START_C:throw new Y}switch(m){case Me.CODE_CODE_A:if(F<64)ee===K?T+=String.fromCharCode(32+F):T+=String.fromCharCode(32+F+128),ee=!1;else if(F<96)ee===K?T+=String.fromCharCode(F-64):T+=String.fromCharCode(F+64),ee=!1;else switch(F!==Me.CODE_STOP&&(W=!1),F){case Me.CODE_FNC_1:d&&(T.length===0?T+="]C1":T+="");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_A:!K&&ee?(K=!0,ee=!1):K&&ee?(K=!1,ee=!1):ee=!0;break;case Me.CODE_SHIFT:E=!0,m=Me.CODE_CODE_B;break;case Me.CODE_CODE_B:m=Me.CODE_CODE_B;break;case Me.CODE_CODE_C:m=Me.CODE_CODE_C;break;case Me.CODE_STOP:v=!0;break}break;case Me.CODE_CODE_B:if(F<96)ee===K?T+=String.fromCharCode(32+F):T+=String.fromCharCode(32+F+128),ee=!1;else switch(F!==Me.CODE_STOP&&(W=!1),F){case Me.CODE_FNC_1:d&&(T.length===0?T+="]C1":T+="");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_B:!K&&ee?(K=!0,ee=!1):K&&ee?(K=!1,ee=!1):ee=!0;break;case Me.CODE_SHIFT:E=!0,m=Me.CODE_CODE_A;break;case Me.CODE_CODE_A:m=Me.CODE_CODE_A;break;case Me.CODE_CODE_C:m=Me.CODE_CODE_C;break;case Me.CODE_STOP:v=!0;break}break;case Me.CODE_CODE_C:if(F<100)F<10&&(T+="0"),T+=F;else switch(F!==Me.CODE_STOP&&(W=!1),F){case Me.CODE_FNC_1:d&&(T.length===0?T+="]C1":T+="");break;case Me.CODE_CODE_A:m=Me.CODE_CODE_A;break;case Me.CODE_CODE_B:m=Me.CODE_CODE_B;break;case Me.CODE_STOP:v=!0;break}break}De&&(m=m===Me.CODE_CODE_A?Me.CODE_CODE_B:Me.CODE_CODE_A)}const ie=P-N;if(P=a.getNextUnset(P),!a.isRange(P,Math.min(a.getSize(),P+(P-N)/2),!1))throw new te;if(H-=V*L,H%103!==L)throw new R;const oe=T.length;if(oe===0)throw new te;oe>0&&W&&(m===Me.CODE_CODE_C?T=T.substring(0,oe-2):T=T.substring(0,oe-1));const ue=(o[1]+o[0])/2,fe=N+ie/2,Ae=p.length,be=new Uint8Array(Ae);for(let De=0;De<Ae;De++)be[De]=p[De];const Ie=[new _e(ue,i),new _e(fe,i)];return new Ne(T,be,0,Ie,he.CODE_128,new Date().getTime())}}Me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Me.MAX_AVG_VARIANCE=.25,Me.MAX_INDIVIDUAL_VARIANCE=.7,Me.CODE_SHIFT=98,Me.CODE_CODE_C=99,Me.CODE_CODE_B=100,Me.CODE_CODE_A=101,Me.CODE_FNC_1=102,Me.CODE_FNC_2=97,Me.CODE_FNC_3=96,Me.CODE_FNC_4_A=101,Me.CODE_FNC_4_B=100,Me.CODE_START_A=103,Me.CODE_START_B=104,Me.CODE_START_C=105,Me.CODE_STOP=106;class mt extends _t{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let o=mt.findAsteriskPattern(a,d),l=a.getNextSet(o[1]),f=a.getSize(),p,m;do{mt.recordPattern(a,l,d);let j=mt.toNarrowWidePattern(d);if(j<0)throw new te;p=mt.patternToChar(j),this.decodeRowResult+=p,m=l;for(let L of d)l+=L;l=a.getNextSet(l)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let j of d)v+=j;let E=l-m-v;if(l!==f&&E*2<v)throw new te;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,L=0;for(let F=0;F<j;F++)L+=mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(F));if(this.decodeRowResult.charAt(j)!==mt.ALPHABET_STRING.charAt(L%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new te;let T;this.extendedMode?T=mt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let N=(o[1]+o[0])/2,P=m+v/2;return new Ne(T,null,0,[new _e(N,i),new _e(P,i)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let u=i.getSize(),d=i.getNextSet(0),o=0,l=d,f=!1,p=a.length;for(let m=d;m<u;m++)if(i.get(m)!==f)a[o]++;else{if(o===p-1){if(this.toNarrowWidePattern(a)===mt.ASTERISK_ENCODING&&i.isRange(Math.max(0,l-Math.floor((m-l)/2)),l,!1))return[l,m];l+=a[0]+a[1],a.copyWithin(0,2,2+o-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,f=!f}throw new te}static toNarrowWidePattern(i){let a=i.length,u=0,d;do{let o=2147483647;for(let p of i)p<o&&p>u&&(o=p);u=o,d=0;let l=0,f=0;for(let p=0;p<a;p++){let m=i[p];m>u&&(f|=1<<a-1-p,d++,l+=m)}if(d===3){for(let p=0;p<a&&d>0;p++){let m=i[p];if(m>u&&(d--,m*2>=l))return-1}return f}}while(d>3);return-1}static patternToChar(i){for(let a=0;a<mt.CHARACTER_ENCODINGS.length;a++)if(mt.CHARACTER_ENCODINGS[a]===i)return mt.ALPHABET_STRING.charAt(a);if(i===mt.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(i){let a=i.length,u="";for(let d=0;d<a;d++){let o=i.charAt(d);if(o==="+"||o==="$"||o==="%"||o==="/"){let l=i.charAt(d+1),f="\0";switch(o){case"+":if(l>="A"&&l<="Z")f=String.fromCharCode(l.charCodeAt(0)+32);else throw new Y;break;case"$":if(l>="A"&&l<="Z")f=String.fromCharCode(l.charCodeAt(0)-64);else throw new Y;break;case"%":if(l>="A"&&l<="E")f=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")f=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")f=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")f=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")f="\0";else if(l==="V")f="@";else if(l==="W")f="`";else if(l==="X"||l==="Y"||l==="Z")f="";else throw new Y;break;case"/":if(l>="A"&&l<="O")f=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")f=":";else throw new Y;break}u+=f,d++}else u+=o}return u}}mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],mt.ASTERISK_ENCODING=148;class Se extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,u){let d=this.decodeStart(a),o=this.decodeEnd(a),l=new ye;Se.decodeMiddle(a,d[1],o[0],l);let f=l.toString(),p=null;u!=null&&(p=u.get(J.ALLOWED_LENGTHS)),p==null&&(p=Se.DEFAULT_ALLOWED_LENGTHS);let m=f.length,v=!1,E=0;for(let P of p){if(m===P){v=!0;break}P>E&&(E=P)}if(!v&&m>E&&(v=!0),!v)throw new Y;const T=[new _e(d[1],i),new _e(o[0],i)];return new Ne(f,null,0,T,he.ITF,new Date().getTime())}static decodeMiddle(i,a,u,d){let o=new Int32Array(10),l=new Int32Array(5),f=new Int32Array(5);for(o.fill(0),l.fill(0),f.fill(0);a<u;){_t.recordPattern(i,a,o);for(let m=0;m<5;m++){let v=2*m;l[m]=o[v],f[m]=o[v+1]}let p=Se.decodeDigit(l);d.append(p.toString()),p=this.decodeDigit(f),d.append(p.toString()),o.forEach(function(m){a+=m})}}decodeStart(i){let a=Se.skipWhiteSpace(i),u=Se.findGuardPattern(i,a,Se.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(i,u[0]),u}validateQuietZone(i,a){let u=this.narrowLineWidth*10;u=u<a?u:a;for(let d=a-1;u>0&&d>=0&&!i.get(d);d--)u--;if(u!==0)throw new te}static skipWhiteSpace(i){const a=i.getSize(),u=i.getNextSet(0);if(u===a)throw new te;return u}decodeEnd(i){i.reverse();try{let a=Se.skipWhiteSpace(i),u;try{u=Se.findGuardPattern(i,a,Se.END_PATTERN_REVERSED[0])}catch(o){o instanceof te&&(u=Se.findGuardPattern(i,a,Se.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,u[0]);let d=u[0];return u[0]=i.getSize()-u[1],u[1]=i.getSize()-d,u}finally{i.reverse()}}static findGuardPattern(i,a,u){let d=u.length,o=new Int32Array(d),l=i.getSize(),f=!1,p=0,m=a;o.fill(0);for(let v=a;v<l;v++)if(i.get(v)!==f)o[p]++;else{if(p===d-1){if(_t.patternMatchVariance(o,u,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return[m,v];m+=o[0]+o[1],_.arraycopy(o,2,o,0,p-1),o[p-1]=0,o[p]=0,p--}else p++;o[p]=1,f=!f}throw new te}static decodeDigit(i){let a=Se.MAX_AVG_VARIANCE,u=-1,d=Se.PATTERNS.length;for(let o=0;o<d;o++){let l=Se.PATTERNS[o],f=_t.patternMatchVariance(i,l,Se.MAX_INDIVIDUAL_VARIANCE);f<a?(a=f,u=o):f===a&&(u=-1)}if(u>=0)return u%10;throw new te}}Se.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Se.MAX_AVG_VARIANCE=.38,Se.MAX_INDIVIDUAL_VARIANCE=.5,Se.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Se.START_PATTERN=Int32Array.from([1,1,1,1]),Se.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Tt extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,u,d=0,o=Int32Array.from([0,0,0]);for(;!a;){o=Int32Array.from([0,0,0]),u=Tt.findGuardPattern(i,d,!1,this.START_END_PATTERN,o);let l=u[0];d=u[1];let f=l-(d-l);f>=0&&(a=i.isRange(f,l,!1))}return u}static checkChecksum(i){return Tt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let u=parseInt(i.charAt(a-1),10);return Tt.getStandardUPCEANChecksum(i.substring(0,a-1))===u}static getStandardUPCEANChecksum(i){let a=i.length,u=0;for(let d=a-1;d>=0;d-=2){let o=i.charAt(d).charCodeAt(0)-48;if(o<0||o>9)throw new Y;u+=o}u*=3;for(let d=a-2;d>=0;d-=2){let o=i.charAt(d).charCodeAt(0)-48;if(o<0||o>9)throw new Y;u+=o}return(1e3-u)%10}static decodeEnd(i,a){return Tt.findGuardPattern(i,a,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,u,d){return this.findGuardPattern(i,a,u,d,new Int32Array(d.length))}static findGuardPattern(i,a,u,d,o){let l=i.getSize();a=u?i.getNextUnset(a):i.getNextSet(a);let f=0,p=a,m=d.length,v=u;for(let E=a;E<l;E++)if(i.get(E)!==v)o[f]++;else{if(f===m-1){if(_t.patternMatchVariance(o,d,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return Int32Array.from([p,E]);p+=o[0]+o[1];let T=o.slice(2,o.length-1);for(let N=0;N<f-1;N++)o[N]=T[N];o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,v=!v}throw new te}static decodeDigit(i,a,u,d){this.recordPattern(i,u,a);let o=this.MAX_AVG_VARIANCE,l=-1,f=d.length;for(let p=0;p<f;p++){let m=d[p],v=_t.patternMatchVariance(a,m,Tt.MAX_INDIVIDUAL_VARIANCE);v<o&&(o=v,l=p)}if(l>=0)return l;throw new te}}Tt.MAX_AVG_VARIANCE=.48,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.START_END_PATTERN=Int32Array.from([1,1,1]),Tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class qe{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,u){let d=this.decodeRowStringBuffer,o=this.decodeMiddle(a,u,d),l=d.toString(),f=qe.parseExtensionString(l),p=[new _e((u[0]+u[1])/2,i),new _e(o,i)],m=new Ne(l,null,0,p,he.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(i,a,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let o=i.getSize(),l=a[1],f=0;for(let m=0;m<5&&l<o;m++){let v=Tt.decodeDigit(i,d,l,Tt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+v%10);for(let E of d)l+=E;v>=10&&(f|=1<<4-m),m!==4&&(l=i.getNextSet(l),l=i.getNextUnset(l))}if(u.length!==5)throw new te;let p=this.determineCheckDigit(f);if(qe.extensionChecksum(u.toString())!==p)throw new te;return l}static extensionChecksum(i){let a=i.length,u=0;for(let d=a-2;d>=0;d-=2)u+=i.charAt(d).charCodeAt(0)-48;u*=3;for(let d=a-1;d>=0;d-=2)u+=i.charAt(d).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new te}static parseExtensionString(i){if(i.length!==5)return null;let a=qe.parseExtension5String(i);return a==null?null:new Map([[Be.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let u=parseInt(i.substring(1)),d=(u/100).toString(),o=u%100,l=o<10?"0"+o:o.toString();return a+d+"."+l}}class wt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,u){let d=this.decodeRowStringBuffer,o=this.decodeMiddle(a,u,d),l=d.toString(),f=wt.parseExtensionString(l),p=[new _e((u[0]+u[1])/2,i),new _e(o,i)],m=new Ne(l,null,0,p,he.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&m.putAllMetadata(f),m}decodeMiddle(i,a,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let o=i.getSize(),l=a[1],f=0;for(let p=0;p<2&&l<o;p++){let m=Tt.decodeDigit(i,d,l,Tt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+m%10);for(let v of d)l+=v;m>=10&&(f|=1<<1-p),p!==1&&(l=i.getNextSet(l),l=i.getNextUnset(l))}if(u.length!==2)throw new te;if(parseInt(u.toString())%4!==f)throw new te;return l}static parseExtensionString(i){return i.length!==2?null:new Map([[Be.ISSUE_NUMBER,parseInt(i)]])}}class Ee{static decodeRow(i,a,u){let d=Tt.findGuardPattern(a,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new qe().decodeRow(i,a,d)}catch{return new wt().decodeRow(i,a,d)}}}Ee.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class st extends Tt{constructor(){super(),this.decodeRowStringBuffer="",st.L_AND_G_PATTERNS=st.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=st.L_PATTERNS[i-10],u=new Int32Array(a.length);for(let d=0;d<a.length;d++)u[d]=a[a.length-d-1];st.L_AND_G_PATTERNS[i]=u}}decodeRow(i,a,u){let d=st.findStartGuardPattern(a),o=u==null?null:u.get(J.NEED_RESULT_POINT_CALLBACK);if(o!=null){const W=new _e((d[0]+d[1])/2,i);o.foundPossibleResultPoint(W)}let l=this.decodeMiddle(a,d,this.decodeRowStringBuffer),f=l.rowOffset,p=l.resultString;if(o!=null){const W=new _e(f,i);o.foundPossibleResultPoint(W)}let m=this.decodeEnd(a,f);if(o!=null){const W=new _e((m[0]+m[1])/2,i);o.foundPossibleResultPoint(W)}let v=m[1],E=v+(v-m[0]);if(E>=a.getSize()||!a.isRange(v,E,!1))throw new te;let T=p.toString();if(T.length<8)throw new Y;if(!st.checkChecksum(T))throw new R;let N=(d[1]+d[0])/2,P=(m[1]+m[0])/2,j=this.getBarcodeFormat(),L=[new _e(N,i),new _e(P,i)],F=new Ne(T,null,0,L,j,new Date().getTime()),H=0;try{let W=Ee.decodeRow(i,a,m[1]);F.putMetadata(Be.UPC_EAN_EXTENSION,W.getText()),F.putAllMetadata(W.getResultMetadata()),F.addResultPoints(W.getResultPoints()),H=W.getText().length}catch{}let V=u==null?null:u.get(J.ALLOWED_EAN_EXTENSIONS);if(V!=null){let W=!1;for(let K in V)if(H.toString()===K){W=!0;break}if(!W)throw new te}return F}decodeEnd(i,a){return st.findGuardPattern(i,a,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return st.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let u=parseInt(i.charAt(a-1),10);return st.getStandardUPCEANChecksum(i.substring(0,a-1))===u}static getStandardUPCEANChecksum(i){let a=i.length,u=0;for(let d=a-1;d>=0;d-=2){let o=i.charAt(d).charCodeAt(0)-48;if(o<0||o>9)throw new Y;u+=o}u*=3;for(let d=a-2;d>=0;d-=2){let o=i.charAt(d).charCodeAt(0)-48;if(o<0||o>9)throw new Y;u+=o}return(1e3-u)%10}}class mn extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let o=i.getSize(),l=a[1],f=0;for(let m=0;m<6&&l<o;m++){let v=st.decodeDigit(i,d,l,st.L_AND_G_PATTERNS);u+=String.fromCharCode(48+v%10);for(let E of d)l+=E;v>=10&&(f|=1<<5-m)}u=mn.determineFirstDigit(u,f),l=st.findGuardPattern(i,l,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<6&&l<o;m++){let v=st.decodeDigit(i,d,l,st.L_PATTERNS);u+=String.fromCharCode(48+v);for(let E of d)l+=E}return{rowOffset:l,resultString:u}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(i,a){for(let u=0;u<10;u++)if(a===this.FIRST_DIGIT_ENCODINGS[u])return i=String.fromCharCode(48+u)+i,i;throw new te}}mn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class gi extends st{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,u){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let o=i.getSize(),l=a[1];for(let p=0;p<4&&l<o;p++){let m=st.decodeDigit(i,d,l,st.L_PATTERNS);u+=String.fromCharCode(48+m);for(let v of d)l+=v}l=st.findGuardPattern(i,l,!0,st.MIDDLE_PATTERN,new Int32Array(st.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&l<o;p++){let m=st.decodeDigit(i,d,l,st.L_PATTERNS);u+=String.fromCharCode(48+m);for(let v of d)l+=v}return{rowOffset:l,resultString:u}}getBarcodeFormat(){return he.EAN_8}}class _s extends st{constructor(){super(...arguments),this.ean13Reader=new mn}getBarcodeFormat(){return he.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,u))}decodeMiddle(i,a,u){return this.ean13Reader.decodeMiddle(i,a,u)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let u=new Ne(a.substring(1),null,null,i.getResultPoints(),he.UPC_A);return i.getResultMetadata()!=null&&u.putAllMetadata(i.getResultMetadata()),u}else throw new te}reset(){this.ean13Reader.reset()}}class ar extends st{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,u){const d=this.decodeMiddleCounters.map(m=>m);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const o=i.getSize();let l=a[1],f=0;for(let m=0;m<6&&l<o;m++){const v=ar.decodeDigit(i,d,l,ar.L_AND_G_PATTERNS);u+=String.fromCharCode(48+v%10);for(let E of d)l+=E;v>=10&&(f|=1<<5-m)}let p=ar.determineNumSysAndCheckDigit(u,f);return{rowOffset:l,resultString:p}}decodeEnd(i,a){return ar.findGuardPatternWithoutCounters(i,a,!0,ar.MIDDLE_END_PATTERN)}checkChecksum(i){return st.checkChecksum(ar.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let u=0;u<=1;u++)for(let d=0;d<10;d++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][d]){let o=String.fromCharCode(48+u),l=String.fromCharCode(48+d);return o+i+l}throw te.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(o=>o.charCodeAt(0)),u=new ye;u.append(i.charAt(0));let d=a[5];switch(d){case 0:case 1:case 2:u.appendChars(a,0,2),u.append(d),u.append("0000"),u.appendChars(a,2,3);break;case 3:u.appendChars(a,0,3),u.append("00000"),u.appendChars(a,3,2);break;case 4:u.appendChars(a,0,4),u.append("00000"),u.append(a[4]);break;default:u.appendChars(a,0,5),u.append("0000"),u.append(d);break}return i.length>=8&&u.append(i.charAt(7)),u.toString()}}ar.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ar.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Wl extends _t{constructor(i){super();let a=i==null?null:i.get(J.POSSIBLE_FORMATS),u=[];r(a)?(u.push(new mn),u.push(new _s),u.push(new gi),u.push(new ar)):(a.indexOf(he.EAN_13)>-1&&u.push(new mn),a.indexOf(he.UPC_A)>-1&&u.push(new _s),a.indexOf(he.EAN_8)>-1&&u.push(new gi),a.indexOf(he.UPC_E)>-1&&u.push(new ar)),this.readers=u}decodeRow(i,a,u){for(let d of this.readers)try{const o=d.decodeRow(i,a,u),l=o.getBarcodeFormat()===he.EAN_13&&o.getText().charAt(0)==="0",f=u==null?null:u.get(J.POSSIBLE_FORMATS),p=f==null||f.includes(he.UPC_A);if(l&&p){const m=o.getRawBytes(),v=new Ne(o.getText().substring(1),m,m?m.length:null,o.getResultPoints(),he.UPC_A);return v.putAllMetadata(o.getResultMetadata()),v}return o}catch{}throw new te}reset(){for(let i of this.readers)i.reset()}}class kn extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let u=0;u<a.length;u++)if(_t.patternMatchVariance(i,a[u],kn.MAX_INDIVIDUAL_VARIANCE)<kn.MAX_AVG_VARIANCE)return u;throw new te}static count(i){return Ge.sum(new Int32Array(i))}static increment(i,a){let u=0,d=a[0];for(let o=1;o<i.length;o++)a[o]>d&&(d=a[o],u=o);i[u]++}static decrement(i,a){let u=0,d=a[0];for(let o=1;o<i.length;o++)a[o]<d&&(d=a[o],u=o);i[u]--}static isFinderPattern(i){let a=i[0]+i[1],u=a+i[2]+i[3],d=a/u;if(d>=kn.MIN_FINDER_PATTERN_RATIO&&d<=kn.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let f of i)f>l&&(l=f),f<o&&(o=f);return l<10*o}return!1}}kn.MAX_AVG_VARIANCE=.2,kn.MAX_INDIVIDUAL_VARIANCE=.45,kn.MIN_FINDER_PATTERN_RATIO=9.5/12,kn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Mr{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Mr))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class mi{constructor(i,a,u,d,o){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new _e(u,o)),this.resultPoints.push(new _e(d,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof mi))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class Cr{constructor(){}static getRSSvalue(i,a,u){let d=0;for(let p of i)d+=p;let o=0,l=0,f=i.length;for(let p=0;p<f-1;p++){let m;for(m=1,l|=1<<p;m<i[p];m++,l&=~(1<<p)){let v=Cr.combins(d-m-1,f-p-2);if(u&&l===0&&d-m-(f-p-1)>=f-p-1&&(v-=Cr.combins(d-m-(f-p),f-p-2)),f-p-1>1){let E=0;for(let T=d-m-(f-p-2);T>a;T--)E+=Cr.combins(d-m-T-1,f-p-3);v-=E*(f-1-p)}else d-m>a&&v--;o+=v}d-=m}return o}static combins(i,a){let u,d;i-a>a?(d=a,u=i-a):(d=i-a,u=a);let o=1,l=1;for(let f=i;f>u;f--)o*=f,l<=d&&(o/=l,l++);for(;l<=d;)o/=l,l++;return o}}class Ca{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let u=12*a,d=new U(u),o=0,f=i[0].getRightChar().getValue();for(let p=11;p>=0;--p)f&1<<p&&d.set(o),o++;for(let p=1;p<i.length;++p){let m=i[p],v=m.getLeftChar().getValue();for(let E=11;E>=0;--E)v&1<<E&&d.set(o),o++;if(m.getRightChar()!=null){let E=m.getRightChar().getValue();for(let T=11;T>=0;--T)E&1<<T&&d.set(o),o++}}return d}}class kt{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ln{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Qn extends ln{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Qn.FNC1}}Qn.FNC1="$";class Qr extends ln{constructor(i,a,u){super(i),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Wn extends ln{constructor(i,a,u){if(super(i),a<0||a>10||u<0||u>10)throw new Y;this.firstDigit=a,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Wn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Wn.FNC1}isAnyFNC1(){return this.firstDigit===Wn.FNC1||this.secondDigit===Wn.FNC1}}Wn.FNC1=10;class je{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new te;let a=i.substring(0,2);for(let o of je.TWO_DIGIT_DATA_LENGTH)if(o[0]===a)return o[1]===je.VARIABLE_LENGTH?je.processVariableAI(2,o[2],i):je.processFixedAI(2,o[1],i);if(i.length<3)throw new te;let u=i.substring(0,3);for(let o of je.THREE_DIGIT_DATA_LENGTH)if(o[0]===u)return o[1]===je.VARIABLE_LENGTH?je.processVariableAI(3,o[2],i):je.processFixedAI(3,o[1],i);for(let o of je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===u)return o[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,o[2],i):je.processFixedAI(4,o[1],i);if(i.length<4)throw new te;let d=i.substring(0,4);for(let o of je.FOUR_DIGIT_DATA_LENGTH)if(o[0]===d)return o[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,o[2],i):je.processFixedAI(4,o[1],i);throw new te}static processFixedAI(i,a,u){if(u.length<i)throw new te;let d=u.substring(0,i);if(u.length<i+a)throw new te;let o=u.substring(i,i+a),l=u.substring(i+a),f="("+d+")"+o,p=je.parseFieldsInGeneralPurpose(l);return p==null?f:f+p}static processVariableAI(i,a,u){let d=u.substring(0,i),o;u.length<i+a?o=u.length:o=i+a;let l=u.substring(i,o),f=u.substring(o),p="("+d+")"+l,m=je.parseFieldsInGeneralPurpose(f);return m==null?p:p+m}}je.VARIABLE_LENGTH=[],je.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",je.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",je.VARIABLE_LENGTH,20],["22",je.VARIABLE_LENGTH,29],["30",je.VARIABLE_LENGTH,8],["37",je.VARIABLE_LENGTH,8],["90",je.VARIABLE_LENGTH,30],["91",je.VARIABLE_LENGTH,30],["92",je.VARIABLE_LENGTH,30],["93",je.VARIABLE_LENGTH,30],["94",je.VARIABLE_LENGTH,30],["95",je.VARIABLE_LENGTH,30],["96",je.VARIABLE_LENGTH,30],["97",je.VARIABLE_LENGTH,3],["98",je.VARIABLE_LENGTH,30],["99",je.VARIABLE_LENGTH,30]],je.THREE_DIGIT_DATA_LENGTH=[["240",je.VARIABLE_LENGTH,30],["241",je.VARIABLE_LENGTH,30],["242",je.VARIABLE_LENGTH,6],["250",je.VARIABLE_LENGTH,30],["251",je.VARIABLE_LENGTH,30],["253",je.VARIABLE_LENGTH,17],["254",je.VARIABLE_LENGTH,20],["400",je.VARIABLE_LENGTH,30],["401",je.VARIABLE_LENGTH,30],["402",17],["403",je.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",je.VARIABLE_LENGTH,20],["421",je.VARIABLE_LENGTH,15],["422",3],["423",je.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",je.VARIABLE_LENGTH,15],["391",je.VARIABLE_LENGTH,18],["392",je.VARIABLE_LENGTH,15],["393",je.VARIABLE_LENGTH,18],["703",je.VARIABLE_LENGTH,30]],je.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",je.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",je.VARIABLE_LENGTH,20],["8003",je.VARIABLE_LENGTH,30],["8004",je.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",je.VARIABLE_LENGTH,30],["8008",je.VARIABLE_LENGTH,12],["8018",18],["8020",je.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",je.VARIABLE_LENGTH,70],["8200",je.VARIABLE_LENGTH,70]];class Do{constructor(i){this.buffer=new ye,this.information=i}decodeAllCodes(i,a){let u=a,d=null;do{let o=this.decodeGeneralPurposeField(u,d),l=je.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&i.append(l),o.isRemaining()?d=""+o.getRemainingValue():d=null,u===o.getNewPosition())break;u=o.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(i,4);return o===0?new Wn(this.information.getSize(),Wn.FNC1,Wn.FNC1):new Wn(this.information.getSize(),o-1,Wn.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),u=(a-8)/11,d=(a-8)%11;return new Wn(i+7,u,d)}extractNumericValueFromBitArray(i,a){return Do.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,u){let d=0;for(let o=0;o<u;++o)i.get(a+o)&&(d|=1<<u-o-1);return d}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Qr(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let u=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(u!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new Qr(this.current.getPosition(),this.buffer.toString()):a=new Qr(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new kt(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new kt(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new kt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new kt(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new kt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new kt(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new kt(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<116)return!0;if(i+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(i,8);return d>=232&&d<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new Qn(i+5,Qn.FNC1);if(a>=5&&a<15)return new Qn(i+5,"0"+(a-5));let u=this.extractNumericValueFromBitArray(i,7);if(u>=64&&u<90)return new Qn(i+7,""+(u+1));if(u>=90&&u<116)return new Qn(i+7,""+(u+7));let d=this.extractNumericValueFromBitArray(i,8),o;switch(d){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new Y}return new Qn(i+8,o)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,6);return u>=16&&u<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new Qn(i+5,Qn.FNC1);if(a>=5&&a<15)return new Qn(i+5,"0"+(a-5));let u=this.extractNumericValueFromBitArray(i,6);if(u>=32&&u<58)return new Qn(i+6,""+(u+33));let d;switch(u){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new Ye("Decoding invalid alphanumeric value: "+u)}return new Qn(i+6,d)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class qr{constructor(i){this.information=i,this.generalDecoder=new Do(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class yn extends qr{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let u=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,u)}encodeCompressedGtinWithoutAI(i,a,u){for(let d=0;d<4;++d){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*d,10);o/100===0&&i.append("0"),o/10===0&&i.append("0"),i.append(o)}yn.appendCheckDigit(i,u)}static appendCheckDigit(i,a){let u=0;for(let d=0;d<13;d++){let o=i.charAt(d+a).charCodeAt(0)-48;u+=d&1?o:3*o}u=10-u%10,u===10&&(u=0),i.append(u)}}yn.GTIN_SIZE=40;class lr extends yn{constructor(i){super(i)}parseInformation(){let i=new ye;i.append("(01)");let a=i.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(lr.HEADER_SIZE,4);return i.append(u),this.encodeCompressedGtinWithoutAI(i,lr.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,lr.HEADER_SIZE+44)}}lr.HEADER_SIZE=4;class so extends qr{constructor(i){super(i)}parseInformation(){let i=new ye;return this.getGeneralDecoder().decodeAllCodes(i,so.HEADER_SIZE)}}so.HEADER_SIZE=5;class ba extends yn{constructor(i){super(i)}encodeCompressedWeight(i,a,u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a,u);this.addWeightCode(i,d);let o=this.checkWeight(d),l=1e5;for(let f=0;f<5;++f)o/l===0&&i.append("0"),l/=10;i.append(o)}}class _n extends ba{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=_n.HEADER_SIZE+ba.GTIN_SIZE+_n.WEIGHT_SIZE)throw new te;let i=new ye;return this.encodeCompressedGtin(i,_n.HEADER_SIZE),this.encodeCompressedWeight(i,_n.HEADER_SIZE+ba.GTIN_SIZE,_n.WEIGHT_SIZE),i.toString()}}_n.HEADER_SIZE=5,_n.WEIGHT_SIZE=15;class Iu extends _n{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class ao extends _n{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Or extends yn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Or.HEADER_SIZE+yn.GTIN_SIZE)throw new te;let i=new ye;this.encodeCompressedGtin(i,Or.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Or.HEADER_SIZE+yn.GTIN_SIZE,Or.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(Or.HEADER_SIZE+yn.GTIN_SIZE+Or.LAST_DIGIT_SIZE,null);return i.append(u.getNewString()),i.toString()}}Or.HEADER_SIZE=8,Or.LAST_DIGIT_SIZE=2;class In extends yn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<In.HEADER_SIZE+yn.GTIN_SIZE)throw new te;let i=new ye;this.encodeCompressedGtin(i,In.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+yn.GTIN_SIZE,In.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+yn.GTIN_SIZE+In.LAST_DIGIT_SIZE,In.FIRST_THREE_DIGITS_SIZE);u/100==0&&i.append("0"),u/10==0&&i.append("0"),i.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(In.HEADER_SIZE+yn.GTIN_SIZE+In.LAST_DIGIT_SIZE+In.FIRST_THREE_DIGITS_SIZE,null);return i.append(d.getNewString()),i.toString()}}In.HEADER_SIZE=8,In.LAST_DIGIT_SIZE=2,In.FIRST_THREE_DIGITS_SIZE=10;class at extends ba{constructor(i,a,u){super(i),this.dateCode=u,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=at.HEADER_SIZE+at.GTIN_SIZE+at.WEIGHT_SIZE+at.DATE_SIZE)throw new te;let i=new ye;return this.encodeCompressedGtin(i,at.HEADER_SIZE),this.encodeCompressedWeight(i,at.HEADER_SIZE+at.GTIN_SIZE,at.WEIGHT_SIZE),this.encodeCompressedDate(i,at.HEADER_SIZE+at.GTIN_SIZE+at.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,at.DATE_SIZE);if(u==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let d=u%32;u/=32;let o=u%12+1;u/=12;let l=u;l/10==0&&i.append("0"),i.append(l),o/10==0&&i.append("0"),i.append(o),d/10==0&&i.append("0"),i.append(d)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}at.HEADER_SIZE=8,at.WEIGHT_SIZE=20,at.DATE_SIZE=16;function Li(D){try{if(D.get(1))return new lr(D);if(!D.get(2))return new so(D);switch(Do.extractNumericValueFromBitArray(D,1,4)){case 4:return new Iu(D);case 5:return new ao(D)}switch(Do.extractNumericValueFromBitArray(D,1,5)){case 12:return new Or(D);case 13:return new In(D)}switch(Do.extractNumericValueFromBitArray(D,1,7)){case 56:return new at(D,"310","11");case 57:return new at(D,"320","11");case 58:return new at(D,"310","13");case 59:return new at(D,"320","13");case 60:return new at(D,"310","15");case 61:return new at(D,"320","15");case 62:return new at(D,"310","17");case 63:return new at(D,"320","17")}}catch(i){throw console.log(i),new Ye("unknown decoder: "+D)}}class Pn{constructor(i,a,u,d){this.leftchar=i,this.rightchar=a,this.finderpattern=u,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof Pn?Pn.equalsOrNull(i.leftchar,a.leftchar)&&Pn.equalsOrNull(i.rightchar,a.rightchar)&&Pn.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:Pn.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ea{constructor(i,a,u){this.pairs=i,this.rowNumber=a,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof Ea?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let u;return i.forEach((d,o)=>{a.forEach(l=>{d.getLeftChar().getValue()===l.getLeftChar().getValue()&&d.getRightChar().getValue()===l.getRightChar().getValue()&&d.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(u=!0)})}),u}}class me extends kn{constructor(i){super(...arguments),this.pairs=new Array(me.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,u){this.pairs.length=0,this.startFromEven=!1;try{return me.constructResult(this.decodeRow2pairs(i,a))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,me.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(o){if(o instanceof te){if(!this.pairs.length)throw new te;u=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(i,!1),d){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new te}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let u=a;u<this.rows.length;u++){let d=this.rows[u];this.pairs.length=0;for(let l of i)this.pairs.push(l.getPairs());if(this.pairs.push(d.getPairs()),!me.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(i);o.push(d);try{return this.checkRows(o,u+1)}catch(l){this.verbose&&console.log(l)}}throw new te}static isValidSequence(i){for(let a of me.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let u=!0;for(let d=0;d<i.length;d++)if(i[d].getFinderPattern().getValue()!=a[d]){u=!1;break}if(u)return!0}return!1}storeRow(i,a){let u=0,d=!1,o=!1;for(;u<this.rows.length;){let l=this.rows[u];if(l.getRowNumber()>i){o=l.isEquivalent(this.pairs);break}d=l.isEquivalent(this.pairs),u++}o||d||me.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Ea(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let u of a)if(u.getPairs().length!==i.length){for(let d of u.getPairs())for(let o of i)if(Pn.equals(d,o))break}}static isPartialRow(i,a){for(let u of a){let d=!0;for(let o of i){let l=!1;for(let f of u.getPairs())if(o.equals(f)){l=!0;break}if(!l){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=Ca.buildBitArray(i),d=Li(a).parseInformation(),o=i[0].getFinderPattern().getResultPoints(),l=i[i.length-1].getFinderPattern().getResultPoints(),f=[o[0],o[1],l[0],l[1]];return new Ne(d,null,null,f,he.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),u=i.getRightChar();if(u==null)return!1;let d=u.getChecksumPortion(),o=2;for(let f=1;f<this.pairs.size();++f){let p=this.pairs.get(f);d+=p.getLeftChar().getChecksumPortion(),o++;let m=p.getRightChar();m!=null&&(d+=m.getChecksumPortion(),o++)}return d%=211,211*(o-4)+d==a.getValue()}static getNextSecondBar(i,a){let u;return i.get(a)?(u=i.getNextUnset(a),u=i.getNextSet(u)):(u=i.getNextSet(a),u=i.getNextUnset(u)),u}retrieveNextPair(i,a,u){let d=a.length%2==0;this.startFromEven&&(d=!d);let o,l=!0,f=-1;do this.findNextPair(i,a,f),o=this.parseFoundFinderPattern(i,u,d),o==null?f=me.getNextSecondBar(i,this.startEnd[0]):l=!1;while(l);let p=this.decodeDataCharacter(i,o,d,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new te;let m;try{m=this.decodeDataCharacter(i,o,d,!1)}catch(v){m=null,this.verbose&&console.log(v)}return new Pn(p,m,o,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,u){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let o=i.getSize(),l;u>=0?l=u:this.isEmptyPair(a)?l=0:l=a[a.length-1].getFinderPattern().getStartEnd()[1];let f=a.length%2!=0;this.startFromEven&&(f=!f);let p=!1;for(;l<o&&(p=!i.get(l),!!p);)l++;let m=0,v=l;for(let E=l;E<o;E++)if(i.get(E)!=p)d[m]++;else{if(m==3){if(f&&me.reverseCounters(d),me.isFinderPattern(d)){this.startEnd[0]=v,this.startEnd[1]=E;return}f&&me.reverseCounters(d),v+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,m--}else m++;d[m]=1,p=!p}throw new te}static reverseCounters(i){let a=i.length;for(let u=0;u<a/2;++u){let d=i[u];i[u]=i[a-u-1],i[a-u-1]=d}}parseFoundFinderPattern(i,a,u){let d,o,l;if(u){let m=this.startEnd[0]-1;for(;m>=0&&!i.get(m);)m--;m++,d=this.startEnd[0]-m,o=m,l=this.startEnd[1]}else o=this.startEnd[0],l=i.getNextUnset(this.startEnd[1]+1),d=l-this.startEnd[1];let f=this.getDecodeFinderCounters();_.arraycopy(f,0,f,1,f.length-1),f[0]=d;let p;try{p=this.parseFinderValue(f,me.FINDER_PATTERNS)}catch{return null}return new mi(p,[o,l],o,l,a)}decodeDataCharacter(i,a,u,d){let o=this.getDataCharacterCounters();for(let fe=0;fe<o.length;fe++)o[fe]=0;if(d)me.recordPatternInReverse(i,a.getStartEnd()[0],o);else{me.recordPattern(i,a.getStartEnd()[1],o);for(let fe=0,Ae=o.length-1;fe<Ae;fe++,Ae--){let be=o[fe];o[fe]=o[Ae],o[Ae]=be}}let l=17,f=Ge.sum(new Int32Array(o))/l,p=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new te;let m=this.getOddCounts(),v=this.getEvenCounts(),E=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let fe=0;fe<o.length;fe++){let Ae=1*o[fe]/f,be=Ae+.5;if(be<1){if(Ae<.3)throw new te;be=1}else if(be>8){if(Ae>8.7)throw new te;be=8}let Ie=fe/2;fe&1?(v[Ie]=be,T[Ie]=Ae-be):(m[Ie]=be,E[Ie]=Ae-be)}this.adjustOddEvenCounts(l);let N=4*a.getValue()+(u?0:2)+(d?0:1)-1,P=0,j=0;for(let fe=m.length-1;fe>=0;fe--){if(me.isNotA1left(a,u,d)){let Ae=me.WEIGHTS[N][2*fe];j+=m[fe]*Ae}P+=m[fe]}let L=0;for(let fe=v.length-1;fe>=0;fe--)if(me.isNotA1left(a,u,d)){let Ae=me.WEIGHTS[N][2*fe+1];L+=v[fe]*Ae}let F=j+L;if(P&1||P>13||P<4)throw new te;let H=(13-P)/2,V=me.SYMBOL_WIDEST[H],W=9-V,K=Cr.getRSSvalue(m,V,!0),ee=Cr.getRSSvalue(v,W,!1),ie=me.EVEN_TOTAL_SUBSET[H],oe=me.GSUM[H],ue=K*ie+ee+oe;return new Mr(ue,F)}static isNotA1left(i,a,u){return!(i.getValue()==0&&a&&u)}adjustOddEvenCounts(i){let a=Ge.sum(new Int32Array(this.getOddCounts())),u=Ge.sum(new Int32Array(this.getEvenCounts())),d=!1,o=!1;a>13?o=!0:a<4&&(d=!0);let l=!1,f=!1;u>13?f=!0:u<4&&(l=!0);let p=a+u-i,m=(a&1)==1,v=(u&1)==0;if(p==1)if(m){if(v)throw new te;o=!0}else{if(!v)throw new te;f=!0}else if(p==-1)if(m){if(v)throw new te;d=!0}else{if(!v)throw new te;l=!0}else if(p==0){if(m){if(!v)throw new te;a<u?(d=!0,f=!0):(o=!0,l=!0)}else if(v)throw new te}else throw new te;if(d){if(o)throw new te;me.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&me.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(f)throw new te;me.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&me.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}me.SYMBOL_WIDEST=[7,5,4,3,1],me.EVEN_TOTAL_SUBSET=[4,20,52,104,204],me.GSUM=[0,348,1388,2948,3988],me.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],me.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],me.FINDER_PAT_A=0,me.FINDER_PAT_B=1,me.FINDER_PAT_C=2,me.FINDER_PAT_D=3,me.FINDER_PAT_E=4,me.FINDER_PAT_F=5,me.FINDER_PATTERN_SEQUENCES=[[me.FINDER_PAT_A,me.FINDER_PAT_A],[me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B],[me.FINDER_PAT_A,me.FINDER_PAT_C,me.FINDER_PAT_B,me.FINDER_PAT_D],[me.FINDER_PAT_A,me.FINDER_PAT_E,me.FINDER_PAT_B,me.FINDER_PAT_D,me.FINDER_PAT_C],[me.FINDER_PAT_A,me.FINDER_PAT_E,me.FINDER_PAT_B,me.FINDER_PAT_D,me.FINDER_PAT_D,me.FINDER_PAT_F],[me.FINDER_PAT_A,me.FINDER_PAT_E,me.FINDER_PAT_B,me.FINDER_PAT_D,me.FINDER_PAT_E,me.FINDER_PAT_F,me.FINDER_PAT_F],[me.FINDER_PAT_A,me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B,me.FINDER_PAT_C,me.FINDER_PAT_C,me.FINDER_PAT_D,me.FINDER_PAT_D],[me.FINDER_PAT_A,me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B,me.FINDER_PAT_C,me.FINDER_PAT_C,me.FINDER_PAT_D,me.FINDER_PAT_E,me.FINDER_PAT_E],[me.FINDER_PAT_A,me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B,me.FINDER_PAT_C,me.FINDER_PAT_C,me.FINDER_PAT_D,me.FINDER_PAT_E,me.FINDER_PAT_F,me.FINDER_PAT_F],[me.FINDER_PAT_A,me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B,me.FINDER_PAT_C,me.FINDER_PAT_D,me.FINDER_PAT_D,me.FINDER_PAT_E,me.FINDER_PAT_E,me.FINDER_PAT_F,me.FINDER_PAT_F]],me.MAX_PAIRS=11;class Sa extends Mr{constructor(i,a,u){super(i,a),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Kt extends kn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,u){const d=this.decodePair(a,!1,i,u);Kt.addOrTally(this.possibleLeftPairs,d),a.reverse();let o=this.decodePair(a,!0,i,u);Kt.addOrTally(this.possibleRightPairs,o),a.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Kt.checkChecksum(l,f))return Kt.constructResult(l,f)}throw new te}static addOrTally(i,a){if(a==null)return;let u=!1;for(let d of i)if(d.getValue()===a.getValue()){d.incrementCount(),u=!0;break}u||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let u=4537077*i.getValue()+a.getValue(),d=new String(u).toString(),o=new ye;for(let m=13-d.length;m>0;m--)o.append("0");o.append(d);let l=0;for(let m=0;m<13;m++){let v=o.charAt(m).charCodeAt(0)-48;l+=m&1?v:3*v}l=10-l%10,l===10&&(l=0),o.append(l.toString());let f=i.getFinderPattern().getResultPoints(),p=a.getFinderPattern().getResultPoints();return new Ne(o.toString(),null,0,[f[0],f[1],p[0],p[1]],he.RSS_14,new Date().getTime())}static checkChecksum(i,a){let u=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,d=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,u===d}decodePair(i,a,u,d){try{let o=this.findFinderPattern(i,a),l=this.parseFoundFinderPattern(i,u,a,o),f=d==null?null:d.get(J.NEED_RESULT_POINT_CALLBACK);if(f!=null){let v=(o[0]+o[1])/2;a&&(v=i.getSize()-1-v),f.foundPossibleResultPoint(new _e(v,u))}let p=this.decodeDataCharacter(i,l,!0),m=this.decodeDataCharacter(i,l,!1);return new Sa(1597*p.getValue()+m.getValue(),p.getChecksumPortion()+4*m.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(i,a,u){let d=this.getDataCharacterCounters();for(let L=0;L<d.length;L++)d[L]=0;if(u)_t.recordPatternInReverse(i,a.getStartEnd()[0],d);else{_t.recordPattern(i,a.getStartEnd()[1]+1,d);for(let L=0,F=d.length-1;L<F;L++,F--){let H=d[L];d[L]=d[F],d[F]=H}}let o=u?16:15,l=Ge.sum(new Int32Array(d))/o,f=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let L=0;L<d.length;L++){let F=d[L]/l,H=Math.floor(F+.5);H<1?H=1:H>8&&(H=8);let V=Math.floor(L/2);L&1?(p[V]=H,v[V]=F-H):(f[V]=H,m[V]=F-H)}this.adjustOddEvenCounts(u,o);let E=0,T=0;for(let L=f.length-1;L>=0;L--)T*=9,T+=f[L],E+=f[L];let N=0,P=0;for(let L=p.length-1;L>=0;L--)N*=9,N+=p[L],P+=p[L];let j=T+3*N;if(u){if(E&1||E>12||E<4)throw new te;let L=(12-E)/2,F=Kt.OUTSIDE_ODD_WIDEST[L],H=9-F,V=Cr.getRSSvalue(f,F,!1),W=Cr.getRSSvalue(p,H,!0),K=Kt.OUTSIDE_EVEN_TOTAL_SUBSET[L],ee=Kt.OUTSIDE_GSUM[L];return new Mr(V*K+W+ee,j)}else{if(P&1||P>10||P<4)throw new te;let L=(10-P)/2,F=Kt.INSIDE_ODD_WIDEST[L],H=9-F,V=Cr.getRSSvalue(f,F,!0),W=Cr.getRSSvalue(p,H,!1),K=Kt.INSIDE_ODD_TOTAL_SUBSET[L],ee=Kt.INSIDE_GSUM[L];return new Mr(W*K+V+ee,j)}}findFinderPattern(i,a){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),o=!1,l=0;for(;l<d&&(o=!i.get(l),a!==o);)l++;let f=0,p=l;for(let m=l;m<d;m++)if(i.get(m)!==o)u[f]++;else{if(f===3){if(kn.isFinderPattern(u))return[p,m];p+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,f--}else f++;u[f]=1,o=!o}throw new te}parseFoundFinderPattern(i,a,u,d){let o=i.get(d[0]),l=d[0]-1;for(;l>=0&&o!==i.get(l);)l--;l++;const f=d[0]-l,p=this.getDecodeFinderCounters(),m=new Int32Array(p.length);_.arraycopy(p,0,m,1,p.length-1),m[0]=f;const v=this.parseFinderValue(m,Kt.FINDER_PATTERNS);let E=l,T=d[1];return u&&(E=i.getSize()-1-E,T=i.getSize()-1-T),new mi(v,[l,d[1]],E,T,a)}adjustOddEvenCounts(i,a){let u=Ge.sum(new Int32Array(this.getOddCounts())),d=Ge.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,f=!1,p=!1;i?(u>12?l=!0:u<4&&(o=!0),d>12?p=!0:d<4&&(f=!0)):(u>11?l=!0:u<5&&(o=!0),d>10?p=!0:d<4&&(f=!0));let m=u+d-a,v=(u&1)===(i?1:0),E=(d&1)===1;if(m===1)if(v){if(E)throw new te;l=!0}else{if(!E)throw new te;p=!0}else if(m===-1)if(v){if(E)throw new te;o=!0}else{if(!E)throw new te;f=!0}else if(m===0){if(v){if(!E)throw new te;u<d?(o=!0,p=!0):(l=!0,f=!0)}else if(E)throw new te}else throw new te;if(o){if(l)throw new te;kn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&kn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new te;kn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&kn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Kt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Kt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Kt.OUTSIDE_GSUM=[0,161,961,2015,2715],Kt.INSIDE_GSUM=[0,336,1036,1516],Kt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Kt.INSIDE_ODD_WIDEST=[2,4,6,8],Kt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Bi extends _t{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const u=i?i.get(J.POSSIBLE_FORMATS):null,d=i&&i.get(J.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(he.EAN_13)||u.includes(he.UPC_A)||u.includes(he.EAN_8)||u.includes(he.UPC_E))&&this.readers.push(new Wl(i)),u.includes(he.CODE_39)&&this.readers.push(new mt(d)),u.includes(he.CODE_128)&&this.readers.push(new Me),u.includes(he.ITF)&&this.readers.push(new Se),u.includes(he.RSS_14)&&this.readers.push(new Kt),u.includes(he.RSS_EXPANDED)&&this.readers.push(new me(this.verbose))):(this.readers.push(new Wl(i)),this.readers.push(new mt),this.readers.push(new Wl(i)),this.readers.push(new Me),this.readers.push(new Se),this.readers.push(new Kt),this.readers.push(new me(this.verbose)))}decodeRow(i,a,u){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(i,a,u)}catch{}throw new te}reset(){this.readers.forEach(i=>i.reset())}}class lo extends ge{constructor(i=500,a){super(new Bi(a),i,a)}}class Mt{constructor(i,a,u){this.ecCodewords=i,this.ecBlocks=[a],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class At{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class yt{constructor(i,a,u,d,o,l){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=u,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=o,this.ecBlocks=l;let f=0;const p=l.getECCodewords(),m=l.getECBlocks();for(let v of m)f+=v.getCount()*(v.getDataCodewords()+p);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new Y;for(let u of yt.VERSIONS)if(u.symbolSizeRows===i&&u.symbolSizeColumns===a)return u;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new yt(1,10,10,8,8,new Mt(5,new At(1,3))),new yt(2,12,12,10,10,new Mt(7,new At(1,5))),new yt(3,14,14,12,12,new Mt(10,new At(1,8))),new yt(4,16,16,14,14,new Mt(12,new At(1,12))),new yt(5,18,18,16,16,new Mt(14,new At(1,18))),new yt(6,20,20,18,18,new Mt(18,new At(1,22))),new yt(7,22,22,20,20,new Mt(20,new At(1,30))),new yt(8,24,24,22,22,new Mt(24,new At(1,36))),new yt(9,26,26,24,24,new Mt(28,new At(1,44))),new yt(10,32,32,14,14,new Mt(36,new At(1,62))),new yt(11,36,36,16,16,new Mt(42,new At(1,86))),new yt(12,40,40,18,18,new Mt(48,new At(1,114))),new yt(13,44,44,20,20,new Mt(56,new At(1,144))),new yt(14,48,48,22,22,new Mt(68,new At(1,174))),new yt(15,52,52,24,24,new Mt(42,new At(2,102))),new yt(16,64,64,14,14,new Mt(56,new At(2,140))),new yt(17,72,72,16,16,new Mt(36,new At(4,92))),new yt(18,80,80,18,18,new Mt(48,new At(4,114))),new yt(19,88,88,20,20,new Mt(56,new At(4,144))),new yt(20,96,96,22,22,new Mt(68,new At(4,174))),new yt(21,104,104,24,24,new Mt(56,new At(6,136))),new yt(22,120,120,18,18,new Mt(68,new At(6,175))),new yt(23,132,132,20,20,new Mt(62,new At(8,163))),new yt(24,144,144,22,22,new Mt(62,new At(8,156),new At(2,155))),new yt(25,8,18,6,16,new Mt(7,new At(1,5))),new yt(26,8,32,6,14,new Mt(11,new At(1,10))),new yt(27,12,26,10,24,new Mt(14,new At(1,16))),new yt(28,12,36,10,16,new Mt(18,new At(1,22))),new yt(29,16,36,14,16,new Mt(24,new At(1,32))),new yt(30,16,48,14,22,new Mt(28,new At(1,49)))]}}yt.VERSIONS=yt.buildVersions();class pt{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new Y;this.version=pt.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new pe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),u=i.getWidth();return yt.getVersionForDimensions(a,u)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,u=4,d=0;const o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let f=!1,p=!1,m=!1,v=!1;do if(u===o&&d===0&&!f)i[a++]=this.readCorner1(o,l)&255,u-=2,d+=2,f=!0;else if(u===o-2&&d===0&&l&3&&!p)i[a++]=this.readCorner2(o,l)&255,u-=2,d+=2,p=!0;else if(u===o+4&&d===2&&!(l&7)&&!m)i[a++]=this.readCorner3(o,l)&255,u-=2,d+=2,m=!0;else if(u===o-2&&d===0&&(l&7)===4&&!v)i[a++]=this.readCorner4(o,l)&255,u-=2,d+=2,v=!0;else{do u<o&&d>=0&&!this.readMappingMatrix.get(d,u)&&(i[a++]=this.readUtah(u,d,o,l)&255),u-=2,d+=2;while(u>=0&&d<l);u+=1,d+=3;do u>=0&&d<l&&!this.readMappingMatrix.get(d,u)&&(i[a++]=this.readUtah(u,d,o,l)&255),u+=2,d-=2;while(u<o&&d>=0);u+=3,d+=1}while(u<o||d<l);if(a!==this.version.getTotalCodewords())throw new Y;return i}readModule(i,a,u,d){return i<0&&(i+=u,a+=4-(u+4&7)),a<0&&(a+=d,i+=4-(d+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,u,d){let o=0;return this.readModule(i-2,a-2,u,d)&&(o|=1),o<<=1,this.readModule(i-2,a-1,u,d)&&(o|=1),o<<=1,this.readModule(i-1,a-2,u,d)&&(o|=1),o<<=1,this.readModule(i-1,a-1,u,d)&&(o|=1),o<<=1,this.readModule(i-1,a,u,d)&&(o|=1),o<<=1,this.readModule(i,a-2,u,d)&&(o|=1),o<<=1,this.readModule(i,a-1,u,d)&&(o|=1),o<<=1,this.readModule(i,a,u,d)&&(o|=1),o}readCorner1(i,a){let u=0;return this.readModule(i-1,0,i,a)&&(u|=1),u<<=1,this.readModule(i-1,1,i,a)&&(u|=1),u<<=1,this.readModule(i-1,2,i,a)&&(u|=1),u<<=1,this.readModule(0,a-2,i,a)&&(u|=1),u<<=1,this.readModule(0,a-1,i,a)&&(u|=1),u<<=1,this.readModule(1,a-1,i,a)&&(u|=1),u<<=1,this.readModule(2,a-1,i,a)&&(u|=1),u<<=1,this.readModule(3,a-1,i,a)&&(u|=1),u}readCorner2(i,a){let u=0;return this.readModule(i-3,0,i,a)&&(u|=1),u<<=1,this.readModule(i-2,0,i,a)&&(u|=1),u<<=1,this.readModule(i-1,0,i,a)&&(u|=1),u<<=1,this.readModule(0,a-4,i,a)&&(u|=1),u<<=1,this.readModule(0,a-3,i,a)&&(u|=1),u<<=1,this.readModule(0,a-2,i,a)&&(u|=1),u<<=1,this.readModule(0,a-1,i,a)&&(u|=1),u<<=1,this.readModule(1,a-1,i,a)&&(u|=1),u}readCorner3(i,a){let u=0;return this.readModule(i-1,0,i,a)&&(u|=1),u<<=1,this.readModule(i-1,a-1,i,a)&&(u|=1),u<<=1,this.readModule(0,a-3,i,a)&&(u|=1),u<<=1,this.readModule(0,a-2,i,a)&&(u|=1),u<<=1,this.readModule(0,a-1,i,a)&&(u|=1),u<<=1,this.readModule(1,a-3,i,a)&&(u|=1),u<<=1,this.readModule(1,a-2,i,a)&&(u|=1),u<<=1,this.readModule(1,a-1,i,a)&&(u|=1),u}readCorner4(i,a){let u=0;return this.readModule(i-3,0,i,a)&&(u|=1),u<<=1,this.readModule(i-2,0,i,a)&&(u|=1),u<<=1,this.readModule(i-1,0,i,a)&&(u|=1),u<<=1,this.readModule(0,a-2,i,a)&&(u|=1),u<<=1,this.readModule(0,a-1,i,a)&&(u|=1),u<<=1,this.readModule(1,a-1,i,a)&&(u|=1),u<<=1,this.readModule(2,a-1,i,a)&&(u|=1),u<<=1,this.readModule(3,a-1,i,a)&&(u|=1),u}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new C("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=a/d|0,f=u/o|0,p=l*d,m=f*o,v=new pe(m,p);for(let E=0;E<l;++E){const T=E*d;for(let N=0;N<f;++N){const P=N*o;for(let j=0;j<d;++j){const L=E*(d+2)+1+j,F=T+j;for(let H=0;H<o;++H){const V=N*(o+2)+1+H;if(i.get(V,L)){const W=P+H;v.set(W,F)}}}}}return v}}class Aa{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const u=a.getECBlocks();let d=0;const o=u.getECBlocks();for(let j of o)d+=j.getCount();const l=new Array(d);let f=0;for(let j of o)for(let L=0;L<j.getCount();L++){const F=j.getDataCodewords(),H=u.getECCodewords()+F;l[f++]=new Aa(F,new Uint8Array(H))}const m=l[0].codewords.length-u.getECCodewords(),v=m-1;let E=0;for(let j=0;j<v;j++)for(let L=0;L<f;L++)l[L].codewords[j]=i[E++];const T=a.getVersionNumber()===24,N=T?8:f;for(let j=0;j<N;j++)l[j].codewords[m-1]=i[E++];const P=l[0].codewords.length;for(let j=m;j<P;j++)for(let L=0;L<f;L++){const F=T?(L+8)%f:L,H=T&&F>7?j-1:j;l[F].codewords[H]=i[E++]}if(E!==i.length)throw new C;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ta{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new C(""+i);let a=0,u=this.bitOffset,d=this.byteOffset;const o=this.bytes;if(u>0){const l=8-u,f=i<l?i:l,p=l-f,m=255>>8-f<<p;a=(o[d]&m)>>p,i-=f,u+=f,u===8&&(u=0,d++)}if(i>0){for(;i>=8;)a=a<<8|o[d]&255,d++,i-=8;if(i>0){const l=8-i,f=255>>l<<l;a=a<<i|(o[d]&f)>>l,u+=i}}return this.bitOffset=u,this.byteOffset=d,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var cn;(function(D){D[D.PAD_ENCODE=0]="PAD_ENCODE",D[D.ASCII_ENCODE=1]="ASCII_ENCODE",D[D.C40_ENCODE=2]="C40_ENCODE",D[D.TEXT_ENCODE=3]="TEXT_ENCODE",D[D.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",D[D.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",D[D.BASE256_ENCODE=6]="BASE256_ENCODE"})(cn||(cn={}));class It{static decode(i){const a=new Ta(i),u=new ye,d=new ye,o=new Array;let l=cn.ASCII_ENCODE;do if(l===cn.ASCII_ENCODE)l=this.decodeAsciiSegment(a,u,d);else{switch(l){case cn.C40_ENCODE:this.decodeC40Segment(a,u);break;case cn.TEXT_ENCODE:this.decodeTextSegment(a,u);break;case cn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,u);break;case cn.EDIFACT_ENCODE:this.decodeEdifactSegment(a,u);break;case cn.BASE256_ENCODE:this.decodeBase256Segment(a,u,o);break;default:throw new Y}l=cn.ASCII_ENCODE}while(l!==cn.PAD_ENCODE&&a.available()>0);return d.length()>0&&u.append(d.toString()),new Te(i,u.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(i,a,u){let d=!1;do{let o=i.readBits(8);if(o===0)throw new Y;if(o<=128)return d&&(o+=128),a.append(String.fromCharCode(o-1)),cn.ASCII_ENCODE;if(o===129)return cn.PAD_ENCODE;if(o<=229){const l=o-130;l<10&&a.append("0"),a.append(""+l)}else switch(o){case 230:return cn.C40_ENCODE;case 231:return cn.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:a.append("[)>05"),u.insert(0,"");break;case 237:a.append("[)>06"),u.insert(0,"");break;case 238:return cn.ANSIX12_ENCODE;case 239:return cn.TEXT_ENCODE;case 240:return cn.EDIFACT_ENCODE;case 241:break;default:if(o!==254||i.available()!==0)throw new Y;break}}while(i.available()>0);return cn.ASCII_ENCODE}static decodeC40Segment(i,a){let u=!1;const d=[];let o=0;do{if(i.available()===8)return;const l=i.readBits(8);if(l===254)return;this.parseTwoBytes(l,i.readBits(8),d);for(let f=0;f<3;f++){const p=d[f];switch(o){case 0:if(p<3)o=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const m=this.C40_BASIC_SET_CHARS[p];u?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),u=!1):a.append(m)}else throw new Y;break;case 1:u?(a.append(String.fromCharCode(p+128)),u=!1):a.append(String.fromCharCode(p)),o=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const m=this.C40_SHIFT2_SET_CHARS[p];u?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),u=!1):a.append(m)}else switch(p){case 27:a.append("");break;case 30:u=!0;break;default:throw new Y}o=0;break;case 3:u?(a.append(String.fromCharCode(p+224)),u=!1):a.append(String.fromCharCode(p+96)),o=0;break;default:throw new Y}}}while(i.available()>0)}static decodeTextSegment(i,a){let u=!1,d=[],o=0;do{if(i.available()===8)return;const l=i.readBits(8);if(l===254)return;this.parseTwoBytes(l,i.readBits(8),d);for(let f=0;f<3;f++){const p=d[f];switch(o){case 0:if(p<3)o=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const m=this.TEXT_BASIC_SET_CHARS[p];u?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),u=!1):a.append(m)}else throw new Y;break;case 1:u?(a.append(String.fromCharCode(p+128)),u=!1):a.append(String.fromCharCode(p)),o=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const m=this.TEXT_SHIFT2_SET_CHARS[p];u?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),u=!1):a.append(m)}else switch(p){case 27:a.append("");break;case 30:u=!0;break;default:throw new Y}o=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const m=this.TEXT_SHIFT3_SET_CHARS[p];u?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),u=!1):a.append(m),o=0}else throw new Y;break;default:throw new Y}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const u=[];do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let o=0;o<3;o++){const l=u[o];switch(l){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(l<14)a.append(String.fromCharCode(l+44));else if(l<40)a.append(String.fromCharCode(l+51));else throw new Y;break}}}while(i.available()>0)}static parseTwoBytes(i,a,u){let d=(i<<8)+a-1,o=Math.floor(d/1600);u[0]=o,d-=o*1600,o=Math.floor(d/40),u[1]=o,u[2]=d-o*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let u=0;u<4;u++){let d=i.readBits(6);if(d===31){const o=8-i.getBitOffset();o!==8&&i.readBits(o);return}d&32||(d|=64),a.append(String.fromCharCode(d))}}while(i.available()>0)}static decodeBase256Segment(i,a,u){let d=1+i.getByteOffset();const o=this.unrandomize255State(i.readBits(8),d++);let l;if(o===0?l=i.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(i.readBits(8),d++),l<0)throw new Y;const f=new Uint8Array(l);for(let p=0;p<l;p++){if(i.available()<8)throw new Y;f[p]=this.unrandomize255State(i.readBits(8),d++)}u.push(f);try{a.append(xe.decode(f,ae.ISO88591))}catch(p){throw new Ye("Platform does not support required encoding: "+p.message)}}static unrandomize255State(i,a){const u=149*a%255+1,d=i-u;return d>=0?d:d+256}}It.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],It.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],It.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],It.TEXT_SHIFT2_SET_CHARS=It.C40_SHIFT2_SET_CHARS,It.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Is{constructor(){this.rsDecoder=new nt(Ce.DATA_MATRIX_FIELD_256)}decode(i){const a=new pt(i),u=a.getVersion(),d=a.readCodewords(),o=Aa.getDataBlocks(d,u);let l=0;for(let m of o)l+=m.getNumDataCodewords();const f=new Uint8Array(l),p=o.length;for(let m=0;m<p;m++){const v=o[m],E=v.getCodewords(),T=v.getNumDataCodewords();this.correctErrors(E,T);for(let N=0;N<T;N++)f[N*p+m]=E[N]}return It.decode(f)}correctErrors(i,a){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-a)}catch{throw new R}for(let d=0;d<a;d++)i[d]=u[d]}}class Yt{constructor(i){this.image=i,this.rectangleDetector=new $t(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new te;a=this.shiftToModuleCenter(a);const u=a[0],d=a[1],o=a[2],l=a[3];let f=this.transitionsBetween(u,l)+1,p=this.transitionsBetween(o,l)+1;(f&1)===1&&(f+=1),(p&1)===1&&(p+=1),4*f<7*p&&4*p<7*f&&(f=p=Math.max(f,p));let m=Yt.sampleGrid(this.image,u,d,o,l,f,p);return new Cn(m,[u,d,o,l])}static shiftPoint(i,a,u){let d=(a.getX()-i.getX())/(u+1),o=(a.getY()-i.getY())/(u+1);return new _e(i.getX()+d,i.getY()+o)}static moveAway(i,a,u){let d=i.getX(),o=i.getY();return d<a?d-=1:d+=1,o<u?o-=1:o+=1,new _e(d,o)}detectSolid1(i){let a=i[0],u=i[1],d=i[3],o=i[2],l=this.transitionsBetween(a,u),f=this.transitionsBetween(u,d),p=this.transitionsBetween(d,o),m=this.transitionsBetween(o,a),v=l,E=[o,a,u,d];return v>f&&(v=f,E[0]=a,E[1]=u,E[2]=d,E[3]=o),v>p&&(v=p,E[0]=u,E[1]=d,E[2]=o,E[3]=a),v>m&&(E[0]=d,E[1]=o,E[2]=a,E[3]=u),E}detectSolid2(i){let a=i[0],u=i[1],d=i[2],o=i[3],l=this.transitionsBetween(a,o),f=Yt.shiftPoint(u,d,(l+1)*4),p=Yt.shiftPoint(d,u,(l+1)*4),m=this.transitionsBetween(f,a),v=this.transitionsBetween(p,o);return m<v?(i[0]=a,i[1]=u,i[2]=d,i[3]=o):(i[0]=u,i[1]=d,i[2]=o,i[3]=a),i}correctTopRight(i){let a=i[0],u=i[1],d=i[2],o=i[3],l=this.transitionsBetween(a,o),f=this.transitionsBetween(u,o),p=Yt.shiftPoint(a,u,(f+1)*4),m=Yt.shiftPoint(d,u,(l+1)*4);l=this.transitionsBetween(p,o),f=this.transitionsBetween(m,o);let v=new _e(o.getX()+(d.getX()-u.getX())/(l+1),o.getY()+(d.getY()-u.getY())/(l+1)),E=new _e(o.getX()+(a.getX()-u.getX())/(f+1),o.getY()+(a.getY()-u.getY())/(f+1));if(!this.isValid(v))return this.isValid(E)?E:null;if(!this.isValid(E))return v;let T=this.transitionsBetween(p,v)+this.transitionsBetween(m,v),N=this.transitionsBetween(p,E)+this.transitionsBetween(m,E);return T>N?v:E}shiftToModuleCenter(i){let a=i[0],u=i[1],d=i[2],o=i[3],l=this.transitionsBetween(a,o)+1,f=this.transitionsBetween(d,o)+1,p=Yt.shiftPoint(a,u,f*4),m=Yt.shiftPoint(d,u,l*4);l=this.transitionsBetween(p,o)+1,f=this.transitionsBetween(m,o)+1,(l&1)===1&&(l+=1),(f&1)===1&&(f+=1);let v=(a.getX()+u.getX()+d.getX()+o.getX())/4,E=(a.getY()+u.getY()+d.getY()+o.getY())/4;a=Yt.moveAway(a,v,E),u=Yt.moveAway(u,v,E),d=Yt.moveAway(d,v,E),o=Yt.moveAway(o,v,E);let T,N;return p=Yt.shiftPoint(a,u,f*4),p=Yt.shiftPoint(p,o,l*4),T=Yt.shiftPoint(u,a,f*4),T=Yt.shiftPoint(T,d,l*4),m=Yt.shiftPoint(d,o,f*4),m=Yt.shiftPoint(m,u,l*4),N=Yt.shiftPoint(o,d,f*4),N=Yt.shiftPoint(N,a,l*4),[p,T,m,N]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,u,d,o,l,f){return En.getInstance().sampleGrid(i,l,f,.5,.5,l-.5,.5,l-.5,f-.5,.5,f-.5,a.getX(),a.getY(),o.getX(),o.getY(),d.getX(),d.getY(),u.getX(),u.getY())}transitionsBetween(i,a){let u=Math.trunc(i.getX()),d=Math.trunc(i.getY()),o=Math.trunc(a.getX()),l=Math.trunc(a.getY()),f=Math.abs(l-d)>Math.abs(o-u);if(f){let j=u;u=d,d=j,j=o,o=l,l=j}let p=Math.abs(o-u),m=Math.abs(l-d),v=-p/2,E=d<l?1:-1,T=u<o?1:-1,N=0,P=this.image.get(f?d:u,f?u:d);for(let j=u,L=d;j!==o;j+=T){let F=this.image.get(f?L:j,f?j:L);if(F!==P&&(N++,P=F),v+=m,v>0){if(L===l)break;L+=E,v-=p}}return N}}class cr{constructor(){this.decoder=new Is}decode(i,a=null){let u,d;if(a!=null&&a.has(J.PURE_BARCODE)){const m=cr.extractPureBits(i.getBlackMatrix());u=this.decoder.decode(m),d=cr.NO_POINTS}else{const m=new Yt(i.getBlackMatrix()).detect();u=this.decoder.decode(m.getBits()),d=m.getPoints()}const o=u.getRawBytes(),l=new Ne(u.getText(),o,8*o.length,d,he.DATA_MATRIX,_.currentTimeMillis()),f=u.getByteSegments();f!=null&&l.putMetadata(Be.BYTE_SEGMENTS,f);const p=u.getECLevel();return p!=null&&l.putMetadata(Be.ERROR_CORRECTION_LEVEL,p),l}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(a==null||u==null)throw new te;const d=this.moduleSize(a,i);let o=a[1];const l=u[1];let f=a[0];const m=(u[0]-f+1)/d,v=(l-o+1)/d;if(m<=0||v<=0)throw new te;const E=d/2;o+=E,f+=E;const T=new pe(m,v);for(let N=0;N<v;N++){const P=o+N*d;for(let j=0;j<m;j++)i.get(f+j*d,P)&&T.set(j,N)}return T}static moduleSize(i,a){const u=a.getWidth();let d=i[0];const o=i[1];for(;d<u&&a.get(d,o);)d++;if(d===u)throw new te;const l=d-i[0];if(l===0)throw new te;return l}}cr.NO_POINTS=[];class Gl extends ge{constructor(i=500){super(new cr,i)}}var ji;(function(D){D[D.L=0]="L",D[D.M=1]="M",D[D.Q=2]="Q",D[D.H=3]="H"})(ji||(ji={}));class Lt{constructor(i,a,u){this.value=i,this.stringValue=a,this.bits=u,Lt.FOR_BITS.set(u,this),Lt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Lt.L;case"M":return Lt.M;case"Q":return Lt.Q;case"H":return Lt.H;default:throw new w(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Lt))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=Lt.FOR_BITS.size)throw new C;return Lt.FOR_BITS.get(i)}}Lt.FOR_BITS=new Map,Lt.FOR_VALUE=new Map,Lt.L=new Lt(ji.L,"L",1),Lt.M=new Lt(ji.M,"M",0),Lt.Q=new Lt(ji.Q,"Q",3),Lt.H=new Lt(ji.H,"H",2);class Rn{constructor(i){this.errorCorrectionLevel=Lt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return k.bitCount(i^a)}static decodeFormatInformation(i,a){const u=Rn.doDecodeFormatInformation(i,a);return u!==null?u:Rn.doDecodeFormatInformation(i^Rn.FORMAT_INFO_MASK_QR,a^Rn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let u=Number.MAX_SAFE_INTEGER,d=0;for(const o of Rn.FORMAT_INFO_DECODE_LOOKUP){const l=o[0];if(l===i||l===a)return new Rn(o[1]);let f=Rn.numBitsDiffering(i,l);f<u&&(d=o[1],u=f),i!==a&&(f=Rn.numBitsDiffering(a,l),f<u&&(d=o[1],u=f))}return u<=3?new Rn(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Rn))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Rn.FORMAT_INFO_MASK_QR=21522,Rn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class re{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const u of a)i+=u.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class z{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(i,a,...u){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=u;let d=0;const o=u[0].getECCodewordsPerBlock(),l=u[0].getECBlocks();for(const f of l)d+=f.getCount()*(f.getDataCodewords()+o);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new Y;try{return this.getVersionForNumber((i-17)/4)}catch{throw new Y}}static getVersionForNumber(i){if(i<1||i>40)throw new C;return Ke.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,u=0;for(let d=0;d<Ke.VERSION_DECODE_INFO.length;d++){const o=Ke.VERSION_DECODE_INFO[d];if(o===i)return Ke.getVersionForNumber(d+7);const l=Rn.numBitsDiffering(i,o);l<a&&(u=d+7,a=l)}return a<=3?Ke.getVersionForNumber(u):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new pe(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const u=this.alignmentPatternCenters.length;for(let d=0;d<u;d++){const o=this.alignmentPatternCenters[d]-2;for(let l=0;l<u;l++)d===0&&(l===0||l===u-1)||d===u-1&&l===0||a.setRegion(this.alignmentPatternCenters[l]-2,o,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}Ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ke.VERSIONS=[new Ke(1,new Int32Array(0),new re(7,new z(1,19)),new re(10,new z(1,16)),new re(13,new z(1,13)),new re(17,new z(1,9))),new Ke(2,Int32Array.from([6,18]),new re(10,new z(1,34)),new re(16,new z(1,28)),new re(22,new z(1,22)),new re(28,new z(1,16))),new Ke(3,Int32Array.from([6,22]),new re(15,new z(1,55)),new re(26,new z(1,44)),new re(18,new z(2,17)),new re(22,new z(2,13))),new Ke(4,Int32Array.from([6,26]),new re(20,new z(1,80)),new re(18,new z(2,32)),new re(26,new z(2,24)),new re(16,new z(4,9))),new Ke(5,Int32Array.from([6,30]),new re(26,new z(1,108)),new re(24,new z(2,43)),new re(18,new z(2,15),new z(2,16)),new re(22,new z(2,11),new z(2,12))),new Ke(6,Int32Array.from([6,34]),new re(18,new z(2,68)),new re(16,new z(4,27)),new re(24,new z(4,19)),new re(28,new z(4,15))),new Ke(7,Int32Array.from([6,22,38]),new re(20,new z(2,78)),new re(18,new z(4,31)),new re(18,new z(2,14),new z(4,15)),new re(26,new z(4,13),new z(1,14))),new Ke(8,Int32Array.from([6,24,42]),new re(24,new z(2,97)),new re(22,new z(2,38),new z(2,39)),new re(22,new z(4,18),new z(2,19)),new re(26,new z(4,14),new z(2,15))),new Ke(9,Int32Array.from([6,26,46]),new re(30,new z(2,116)),new re(22,new z(3,36),new z(2,37)),new re(20,new z(4,16),new z(4,17)),new re(24,new z(4,12),new z(4,13))),new Ke(10,Int32Array.from([6,28,50]),new re(18,new z(2,68),new z(2,69)),new re(26,new z(4,43),new z(1,44)),new re(24,new z(6,19),new z(2,20)),new re(28,new z(6,15),new z(2,16))),new Ke(11,Int32Array.from([6,30,54]),new re(20,new z(4,81)),new re(30,new z(1,50),new z(4,51)),new re(28,new z(4,22),new z(4,23)),new re(24,new z(3,12),new z(8,13))),new Ke(12,Int32Array.from([6,32,58]),new re(24,new z(2,92),new z(2,93)),new re(22,new z(6,36),new z(2,37)),new re(26,new z(4,20),new z(6,21)),new re(28,new z(7,14),new z(4,15))),new Ke(13,Int32Array.from([6,34,62]),new re(26,new z(4,107)),new re(22,new z(8,37),new z(1,38)),new re(24,new z(8,20),new z(4,21)),new re(22,new z(12,11),new z(4,12))),new Ke(14,Int32Array.from([6,26,46,66]),new re(30,new z(3,115),new z(1,116)),new re(24,new z(4,40),new z(5,41)),new re(20,new z(11,16),new z(5,17)),new re(24,new z(11,12),new z(5,13))),new Ke(15,Int32Array.from([6,26,48,70]),new re(22,new z(5,87),new z(1,88)),new re(24,new z(5,41),new z(5,42)),new re(30,new z(5,24),new z(7,25)),new re(24,new z(11,12),new z(7,13))),new Ke(16,Int32Array.from([6,26,50,74]),new re(24,new z(5,98),new z(1,99)),new re(28,new z(7,45),new z(3,46)),new re(24,new z(15,19),new z(2,20)),new re(30,new z(3,15),new z(13,16))),new Ke(17,Int32Array.from([6,30,54,78]),new re(28,new z(1,107),new z(5,108)),new re(28,new z(10,46),new z(1,47)),new re(28,new z(1,22),new z(15,23)),new re(28,new z(2,14),new z(17,15))),new Ke(18,Int32Array.from([6,30,56,82]),new re(30,new z(5,120),new z(1,121)),new re(26,new z(9,43),new z(4,44)),new re(28,new z(17,22),new z(1,23)),new re(28,new z(2,14),new z(19,15))),new Ke(19,Int32Array.from([6,30,58,86]),new re(28,new z(3,113),new z(4,114)),new re(26,new z(3,44),new z(11,45)),new re(26,new z(17,21),new z(4,22)),new re(26,new z(9,13),new z(16,14))),new Ke(20,Int32Array.from([6,34,62,90]),new re(28,new z(3,107),new z(5,108)),new re(26,new z(3,41),new z(13,42)),new re(30,new z(15,24),new z(5,25)),new re(28,new z(15,15),new z(10,16))),new Ke(21,Int32Array.from([6,28,50,72,94]),new re(28,new z(4,116),new z(4,117)),new re(26,new z(17,42)),new re(28,new z(17,22),new z(6,23)),new re(30,new z(19,16),new z(6,17))),new Ke(22,Int32Array.from([6,26,50,74,98]),new re(28,new z(2,111),new z(7,112)),new re(28,new z(17,46)),new re(30,new z(7,24),new z(16,25)),new re(24,new z(34,13))),new Ke(23,Int32Array.from([6,30,54,78,102]),new re(30,new z(4,121),new z(5,122)),new re(28,new z(4,47),new z(14,48)),new re(30,new z(11,24),new z(14,25)),new re(30,new z(16,15),new z(14,16))),new Ke(24,Int32Array.from([6,28,54,80,106]),new re(30,new z(6,117),new z(4,118)),new re(28,new z(6,45),new z(14,46)),new re(30,new z(11,24),new z(16,25)),new re(30,new z(30,16),new z(2,17))),new Ke(25,Int32Array.from([6,32,58,84,110]),new re(26,new z(8,106),new z(4,107)),new re(28,new z(8,47),new z(13,48)),new re(30,new z(7,24),new z(22,25)),new re(30,new z(22,15),new z(13,16))),new Ke(26,Int32Array.from([6,30,58,86,114]),new re(28,new z(10,114),new z(2,115)),new re(28,new z(19,46),new z(4,47)),new re(28,new z(28,22),new z(6,23)),new re(30,new z(33,16),new z(4,17))),new Ke(27,Int32Array.from([6,34,62,90,118]),new re(30,new z(8,122),new z(4,123)),new re(28,new z(22,45),new z(3,46)),new re(30,new z(8,23),new z(26,24)),new re(30,new z(12,15),new z(28,16))),new Ke(28,Int32Array.from([6,26,50,74,98,122]),new re(30,new z(3,117),new z(10,118)),new re(28,new z(3,45),new z(23,46)),new re(30,new z(4,24),new z(31,25)),new re(30,new z(11,15),new z(31,16))),new Ke(29,Int32Array.from([6,30,54,78,102,126]),new re(30,new z(7,116),new z(7,117)),new re(28,new z(21,45),new z(7,46)),new re(30,new z(1,23),new z(37,24)),new re(30,new z(19,15),new z(26,16))),new Ke(30,Int32Array.from([6,26,52,78,104,130]),new re(30,new z(5,115),new z(10,116)),new re(28,new z(19,47),new z(10,48)),new re(30,new z(15,24),new z(25,25)),new re(30,new z(23,15),new z(25,16))),new Ke(31,Int32Array.from([6,30,56,82,108,134]),new re(30,new z(13,115),new z(3,116)),new re(28,new z(2,46),new z(29,47)),new re(30,new z(42,24),new z(1,25)),new re(30,new z(23,15),new z(28,16))),new Ke(32,Int32Array.from([6,34,60,86,112,138]),new re(30,new z(17,115)),new re(28,new z(10,46),new z(23,47)),new re(30,new z(10,24),new z(35,25)),new re(30,new z(19,15),new z(35,16))),new Ke(33,Int32Array.from([6,30,58,86,114,142]),new re(30,new z(17,115),new z(1,116)),new re(28,new z(14,46),new z(21,47)),new re(30,new z(29,24),new z(19,25)),new re(30,new z(11,15),new z(46,16))),new Ke(34,Int32Array.from([6,34,62,90,118,146]),new re(30,new z(13,115),new z(6,116)),new re(28,new z(14,46),new z(23,47)),new re(30,new z(44,24),new z(7,25)),new re(30,new z(59,16),new z(1,17))),new Ke(35,Int32Array.from([6,30,54,78,102,126,150]),new re(30,new z(12,121),new z(7,122)),new re(28,new z(12,47),new z(26,48)),new re(30,new z(39,24),new z(14,25)),new re(30,new z(22,15),new z(41,16))),new Ke(36,Int32Array.from([6,24,50,76,102,128,154]),new re(30,new z(6,121),new z(14,122)),new re(28,new z(6,47),new z(34,48)),new re(30,new z(46,24),new z(10,25)),new re(30,new z(2,15),new z(64,16))),new Ke(37,Int32Array.from([6,28,54,80,106,132,158]),new re(30,new z(17,122),new z(4,123)),new re(28,new z(29,46),new z(14,47)),new re(30,new z(49,24),new z(10,25)),new re(30,new z(24,15),new z(46,16))),new Ke(38,Int32Array.from([6,32,58,84,110,136,162]),new re(30,new z(4,122),new z(18,123)),new re(28,new z(13,46),new z(32,47)),new re(30,new z(48,24),new z(14,25)),new re(30,new z(42,15),new z(32,16))),new Ke(39,Int32Array.from([6,26,54,82,110,138,166]),new re(30,new z(20,117),new z(4,118)),new re(28,new z(40,47),new z(7,48)),new re(30,new z(43,24),new z(22,25)),new re(30,new z(10,15),new z(67,16))),new Ke(40,Int32Array.from([6,30,58,86,114,142,170]),new re(30,new z(19,118),new z(6,119)),new re(28,new z(18,47),new z(31,48)),new re(30,new z(34,24),new z(34,25)),new re(30,new z(20,15),new z(61,16)))];var xn;(function(D){D[D.DATA_MASK_000=0]="DATA_MASK_000",D[D.DATA_MASK_001=1]="DATA_MASK_001",D[D.DATA_MASK_010=2]="DATA_MASK_010",D[D.DATA_MASK_011=3]="DATA_MASK_011",D[D.DATA_MASK_100=4]="DATA_MASK_100",D[D.DATA_MASK_101=5]="DATA_MASK_101",D[D.DATA_MASK_110=6]="DATA_MASK_110",D[D.DATA_MASK_111=7]="DATA_MASK_111"})(xn||(xn={}));class br{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let u=0;u<a;u++)for(let d=0;d<a;d++)this.isMasked(u,d)&&i.flip(d,u)}}br.values=new Map([[xn.DATA_MASK_000,new br(xn.DATA_MASK_000,(D,i)=>(D+i&1)===0)],[xn.DATA_MASK_001,new br(xn.DATA_MASK_001,(D,i)=>(D&1)===0)],[xn.DATA_MASK_010,new br(xn.DATA_MASK_010,(D,i)=>i%3===0)],[xn.DATA_MASK_011,new br(xn.DATA_MASK_011,(D,i)=>(D+i)%3===0)],[xn.DATA_MASK_100,new br(xn.DATA_MASK_100,(D,i)=>(Math.floor(D/2)+Math.floor(i/3)&1)===0)],[xn.DATA_MASK_101,new br(xn.DATA_MASK_101,(D,i)=>D*i%6===0)],[xn.DATA_MASK_110,new br(xn.DATA_MASK_110,(D,i)=>D*i%6<3)],[xn.DATA_MASK_111,new br(xn.DATA_MASK_111,(D,i)=>(D+i+D*i%3&1)===0)]]);class Rt{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new Y;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let o=0;o<6;o++)i=this.copyBit(o,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let o=5;o>=0;o--)i=this.copyBit(8,o,i);const a=this.bitMatrix.getHeight();let u=0;const d=a-7;for(let o=a-1;o>=d;o--)u=this.copyBit(8,o,u);for(let o=a-8;o<a;o++)u=this.copyBit(o,8,u);if(this.parsedFormatInfo=Rn.decodeFormatInformation(i,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return Ke.getVersionForNumber(a);let u=0;const d=i-11;for(let l=5;l>=0;l--)for(let f=i-9;f>=d;f--)u=this.copyBit(f,l,u);let o=Ke.decodeVersionInformation(u);if(o!==null&&o.getDimensionForVersion()===i)return this.parsedVersion=o,o;u=0;for(let l=5;l>=0;l--)for(let f=i-9;f>=d;f--)u=this.copyBit(l,f,u);if(o=Ke.decodeVersionInformation(u),o!==null&&o.getDimensionForVersion()===i)return this.parsedVersion=o,o;throw new Y}copyBit(i,a,u){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?u<<1|1:u<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),u=br.values.get(i.getDataMask()),d=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,d);const o=a.buildFunctionPattern();let l=!0;const f=new Uint8Array(a.getTotalCodewords());let p=0,m=0,v=0;for(let E=d-1;E>0;E-=2){E===6&&E--;for(let T=0;T<d;T++){const N=l?d-1-T:T;for(let P=0;P<2;P++)o.get(E-P,N)||(v++,m<<=1,this.bitMatrix.get(E-P,N)&&(m|=1),v===8&&(f[p++]=m,v=0,m=0))}l=!l}if(p!==a.getTotalCodewords())throw new Y;return f}remask(){if(this.parsedFormatInfo===null)return;const i=br.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,u=i.getWidth();a<u;a++)for(let d=a+1,o=i.getHeight();d<o;d++)i.get(a,d)!==i.get(d,a)&&(i.flip(d,a),i.flip(a,d))}}class Rs{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,u){if(i.length!==a.getTotalCodewords())throw new C;const d=a.getECBlocksForLevel(u);let o=0;const l=d.getECBlocks();for(const P of l)o+=P.getCount();const f=new Array(o);let p=0;for(const P of l)for(let j=0;j<P.getCount();j++){const L=P.getDataCodewords(),F=d.getECCodewordsPerBlock()+L;f[p++]=new Rs(L,new Uint8Array(F))}const m=f[0].codewords.length;let v=f.length-1;for(;v>=0&&f[v].codewords.length!==m;)v--;v++;const E=m-d.getECCodewordsPerBlock();let T=0;for(let P=0;P<E;P++)for(let j=0;j<p;j++)f[j].codewords[P]=i[T++];for(let P=v;P<p;P++)f[P].codewords[E]=i[T++];const N=f[0].codewords.length;for(let P=E;P<N;P++)for(let j=0;j<p;j++){const L=j<v?P:P+1;f[j].codewords[L]=i[T++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Er;(function(D){D[D.TERMINATOR=0]="TERMINATOR",D[D.NUMERIC=1]="NUMERIC",D[D.ALPHANUMERIC=2]="ALPHANUMERIC",D[D.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",D[D.BYTE=4]="BYTE",D[D.ECI=5]="ECI",D[D.KANJI=6]="KANJI",D[D.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",D[D.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",D[D.HANZI=9]="HANZI"})(Er||(Er={}));class Ze{constructor(i,a,u,d){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=u,this.bits=d,Ze.FOR_BITS.set(d,this),Ze.FOR_VALUE.set(i,this)}static forBits(i){const a=Ze.FOR_BITS.get(i);if(a===void 0)throw new C;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let u;return a<=9?u=0:a<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Ze))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}Ze.FOR_BITS=new Map,Ze.FOR_VALUE=new Map,Ze.TERMINATOR=new Ze(Er.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ze.NUMERIC=new Ze(Er.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ze.ALPHANUMERIC=new Ze(Er.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ze.STRUCTURED_APPEND=new Ze(Er.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ze.BYTE=new Ze(Er.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ze.ECI=new Ze(Er.ECI,"ECI",Int32Array.from([0,0,0]),7),Ze.KANJI=new Ze(Er.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ze.FNC1_FIRST_POSITION=new Ze(Er.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ze.FNC1_SECOND_POSITION=new Ze(Er.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ze.HANZI=new Ze(Er.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ct{static decode(i,a,u,d){const o=new Ta(i);let l=new ye;const f=new Array;let p=-1,m=-1;try{let v=null,E=!1,T;do{if(o.available()<4)T=Ze.TERMINATOR;else{const N=o.readBits(4);T=Ze.forBits(N)}switch(T){case Ze.TERMINATOR:break;case Ze.FNC1_FIRST_POSITION:case Ze.FNC1_SECOND_POSITION:E=!0;break;case Ze.STRUCTURED_APPEND:if(o.available()<16)throw new Y;p=o.readBits(8),m=o.readBits(8);break;case Ze.ECI:const N=Ct.parseECIValue(o);if(v=X.getCharacterSetECIByValue(N),v===null)throw new Y;break;case Ze.HANZI:const P=o.readBits(4),j=o.readBits(T.getCharacterCountBits(a));P===Ct.GB2312_SUBSET&&Ct.decodeHanziSegment(o,l,j);break;default:const L=o.readBits(T.getCharacterCountBits(a));switch(T){case Ze.NUMERIC:Ct.decodeNumericSegment(o,l,L);break;case Ze.ALPHANUMERIC:Ct.decodeAlphanumericSegment(o,l,L,E);break;case Ze.BYTE:Ct.decodeByteSegment(o,l,L,v,f,d);break;case Ze.KANJI:Ct.decodeKanjiSegment(o,l,L);break;default:throw new Y}break}}while(T!==Ze.TERMINATOR)}catch{throw new Y}return new Te(i,l.toString(),f.length===0?null:f,u===null?null:u.toString(),p,m)}static decodeHanziSegment(i,a,u){if(u*13>i.available())throw new Y;const d=new Uint8Array(2*u);let o=0;for(;u>0;){const l=i.readBits(13);let f=l/96<<8&4294967295|l%96;f<959?f+=41377:f+=42657,d[o]=f>>8&255,d[o+1]=f&255,o+=2,u--}try{a.append(xe.decode(d,ae.GB2312))}catch(l){throw new Y(l)}}static decodeKanjiSegment(i,a,u){if(u*13>i.available())throw new Y;const d=new Uint8Array(2*u);let o=0;for(;u>0;){const l=i.readBits(13);let f=l/192<<8&4294967295|l%192;f<7936?f+=33088:f+=49472,d[o]=f>>8,d[o+1]=f,o+=2,u--}try{a.append(xe.decode(d,ae.SHIFT_JIS))}catch(l){throw new Y(l)}}static decodeByteSegment(i,a,u,d,o,l){if(8*u>i.available())throw new Y;const f=new Uint8Array(u);for(let m=0;m<u;m++)f[m]=i.readBits(8);let p;d===null?p=ae.guessEncoding(f,l):p=d.getName();try{a.append(xe.decode(f,p))}catch(m){throw new Y(m)}o.push(f)}static toAlphaNumericChar(i){if(i>=Ct.ALPHANUMERIC_CHARS.length)throw new Y;return Ct.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,u,d){const o=a.length();for(;u>1;){if(i.available()<11)throw new Y;const l=i.readBits(11);a.append(Ct.toAlphaNumericChar(Math.floor(l/45))),a.append(Ct.toAlphaNumericChar(l%45)),u-=2}if(u===1){if(i.available()<6)throw new Y;a.append(Ct.toAlphaNumericChar(i.readBits(6)))}if(d)for(let l=o;l<a.length();l++)a.charAt(l)==="%"&&(l<a.length()-1&&a.charAt(l+1)==="%"?a.deleteCharAt(l+1):a.setCharAt(l,""))}static decodeNumericSegment(i,a,u){for(;u>=3;){if(i.available()<10)throw new Y;const d=i.readBits(10);if(d>=1e3)throw new Y;a.append(Ct.toAlphaNumericChar(Math.floor(d/100))),a.append(Ct.toAlphaNumericChar(Math.floor(d/10)%10)),a.append(Ct.toAlphaNumericChar(d%10)),u-=3}if(u===2){if(i.available()<7)throw new Y;const d=i.readBits(7);if(d>=100)throw new Y;a.append(Ct.toAlphaNumericChar(Math.floor(d/10))),a.append(Ct.toAlphaNumericChar(d%10))}else if(u===1){if(i.available()<4)throw new Y;const d=i.readBits(4);if(d>=10)throw new Y;a.append(Ct.toAlphaNumericChar(d))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const u=i.readBits(8);return(a&63)<<8&4294967295|u}if((a&224)===192){const u=i.readBits(16);return(a&31)<<16&4294967295|u}throw new Y}}Ct.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ct.GB2312_SUBSET=1;class co{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class _a{constructor(){this.rsDecoder=new nt(Ce.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(pe.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const u=new Rt(i);let d=null;try{return this.decodeBitMatrixParser(u,a)}catch(o){d=o}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const o=this.decodeBitMatrixParser(u,a);return o.setOther(new co(!0)),o}catch(o){throw d!==null?d:o}}decodeBitMatrixParser(i,a){const u=i.readVersion(),d=i.readFormatInformation().getErrorCorrectionLevel(),o=i.readCodewords(),l=Rs.getDataBlocks(o,u,d);let f=0;for(const v of l)f+=v.getNumDataCodewords();const p=new Uint8Array(f);let m=0;for(const v of l){const E=v.getCodewords(),T=v.getNumDataCodewords();this.correctErrors(E,T);for(let N=0;N<T;N++)p[m++]=E[N]}return Ct.decode(p,u,d,a)}correctErrors(i,a){const u=new Int32Array(i);try{this.rsDecoder.decode(u,i.length-a)}catch{throw new R}for(let d=0;d<a;d++)i[d]=u[d]}}class Zr extends _e{constructor(i,a,u){super(i,a),this.estimatedModuleSize=u}aboutEquals(i,a,u){if(Math.abs(a-this.getY())<=i&&Math.abs(u-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,a,u){const d=(this.getX()+a)/2,o=(this.getY()+i)/2,l=(this.estimatedModuleSize+u)/2;return new Zr(d,o,l)}}class Ns{constructor(i,a,u,d,o,l,f){this.image=i,this.startX=a,this.startY=u,this.width=d,this.height=o,this.moduleSize=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,u=this.width,d=i+u,o=this.startY+a/2,l=new Int32Array(3),f=this.image;for(let p=0;p<a;p++){const m=o+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));l[0]=0,l[1]=0,l[2]=0;let v=i;for(;v<d&&!f.get(v,m);)v++;let E=0;for(;v<d;){if(f.get(v,m))if(E===1)l[1]++;else if(E===2){if(this.foundPatternCross(l)){const T=this.handlePossibleCenter(l,m,v);if(T!==null)return T}l[0]=l[2],l[1]=1,l[2]=0,E=1}else l[++E]++;else E===1&&E++,l[E]++;v++}if(this.foundPatternCross(l)){const T=this.handlePossibleCenter(l,m,d);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,u=a/2;for(let d=0;d<3;d++)if(Math.abs(a-i[d])>=u)return!1;return!0}crossCheckVertical(i,a,u,d){const o=this.image,l=o.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let p=i;for(;p>=0&&o.get(a,p)&&f[1]<=u;)f[1]++,p--;if(p<0||f[1]>u)return NaN;for(;p>=0&&!o.get(a,p)&&f[0]<=u;)f[0]++,p--;if(f[0]>u)return NaN;for(p=i+1;p<l&&o.get(a,p)&&f[1]<=u;)f[1]++,p++;if(p===l||f[1]>u)return NaN;for(;p<l&&!o.get(a,p)&&f[2]<=u;)f[2]++,p++;if(f[2]>u)return NaN;const m=f[0]+f[1]+f[2];return 5*Math.abs(m-d)>=2*d?NaN:this.foundPatternCross(f)?Ns.centerFromEnd(f,p):NaN}handlePossibleCenter(i,a,u){const d=i[0]+i[1]+i[2],o=Ns.centerFromEnd(i,u),l=this.crossCheckVertical(a,o,2*i[1],d);if(!isNaN(l)){const f=(i[0]+i[1]+i[2])/3;for(const m of this.possibleCenters)if(m.aboutEquals(f,l,o))return m.combineEstimate(l,o,f);const p=new Zr(o,l,f);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class Ia extends _e{constructor(i,a,u,d){super(i,a),this.estimatedModuleSize=u,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,u){if(Math.abs(a-this.getY())<=i&&Math.abs(u-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,a,u){const d=this.count+1,o=(this.count*this.getX()+a)/d,l=(this.count*this.getY()+i)/d,f=(this.count*this.estimatedModuleSize+u)/d;return new Ia(o,l,f,d)}}class Sn{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ft{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(J.TRY_HARDER)!==void 0,u=i!=null&&i.get(J.PURE_BARCODE)!==void 0,d=this.image,o=d.getHeight(),l=d.getWidth();let f=Math.floor(3*o/(4*Ft.MAX_MODULES));(f<Ft.MIN_SKIP||a)&&(f=Ft.MIN_SKIP);let p=!1;const m=new Int32Array(5);for(let E=f-1;E<o&&!p;E+=f){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;let T=0;for(let N=0;N<l;N++)if(d.get(N,E))(T&1)===1&&T++,m[T]++;else if(T&1)m[T]++;else if(T===4)if(Ft.foundPatternCross(m)){if(this.handlePossibleCenter(m,E,N,u)===!0)if(f=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>m[2]&&(E+=j-m[2]-f,N=l-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,T=3;continue}T=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,T=3;else m[++T]++;Ft.foundPatternCross(m)&&this.handlePossibleCenter(m,E,l,u)===!0&&(f=m[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const v=this.selectBestPatterns();return _e.orderBestPatterns(v),new Sn(v)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let o=0;o<5;o++){const l=i[o];if(l===0)return!1;a+=l}if(a<7)return!1;const u=a/7,d=u/2;return Math.abs(u-i[0])<d&&Math.abs(u-i[1])<d&&Math.abs(3*u-i[2])<3*d&&Math.abs(u-i[3])<d&&Math.abs(u-i[4])<d}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,u,d){const o=this.getCrossCheckStateCount();let l=0;const f=this.image;for(;i>=l&&a>=l&&f.get(a-l,i-l);)o[2]++,l++;if(i<l||a<l)return!1;for(;i>=l&&a>=l&&!f.get(a-l,i-l)&&o[1]<=u;)o[1]++,l++;if(i<l||a<l||o[1]>u)return!1;for(;i>=l&&a>=l&&f.get(a-l,i-l)&&o[0]<=u;)o[0]++,l++;if(o[0]>u)return!1;const p=f.getHeight(),m=f.getWidth();for(l=1;i+l<p&&a+l<m&&f.get(a+l,i+l);)o[2]++,l++;if(i+l>=p||a+l>=m)return!1;for(;i+l<p&&a+l<m&&!f.get(a+l,i+l)&&o[3]<u;)o[3]++,l++;if(i+l>=p||a+l>=m||o[3]>=u)return!1;for(;i+l<p&&a+l<m&&f.get(a+l,i+l)&&o[4]<u;)o[4]++,l++;if(o[4]>=u)return!1;const v=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(v-d)<2*d&&Ft.foundPatternCross(o)}crossCheckVertical(i,a,u,d){const o=this.image,l=o.getHeight(),f=this.getCrossCheckStateCount();let p=i;for(;p>=0&&o.get(a,p);)f[2]++,p--;if(p<0)return NaN;for(;p>=0&&!o.get(a,p)&&f[1]<=u;)f[1]++,p--;if(p<0||f[1]>u)return NaN;for(;p>=0&&o.get(a,p)&&f[0]<=u;)f[0]++,p--;if(f[0]>u)return NaN;for(p=i+1;p<l&&o.get(a,p);)f[2]++,p++;if(p===l)return NaN;for(;p<l&&!o.get(a,p)&&f[3]<u;)f[3]++,p++;if(p===l||f[3]>=u)return NaN;for(;p<l&&o.get(a,p)&&f[4]<u;)f[4]++,p++;if(f[4]>=u)return NaN;const m=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(m-d)>=2*d?NaN:Ft.foundPatternCross(f)?Ft.centerFromEnd(f,p):NaN}crossCheckHorizontal(i,a,u,d){const o=this.image,l=o.getWidth(),f=this.getCrossCheckStateCount();let p=i;for(;p>=0&&o.get(p,a);)f[2]++,p--;if(p<0)return NaN;for(;p>=0&&!o.get(p,a)&&f[1]<=u;)f[1]++,p--;if(p<0||f[1]>u)return NaN;for(;p>=0&&o.get(p,a)&&f[0]<=u;)f[0]++,p--;if(f[0]>u)return NaN;for(p=i+1;p<l&&o.get(p,a);)f[2]++,p++;if(p===l)return NaN;for(;p<l&&!o.get(p,a)&&f[3]<u;)f[3]++,p++;if(p===l||f[3]>=u)return NaN;for(;p<l&&o.get(p,a)&&f[4]<u;)f[4]++,p++;if(f[4]>=u)return NaN;const m=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(m-d)>=d?NaN:Ft.foundPatternCross(f)?Ft.centerFromEnd(f,p):NaN}handlePossibleCenter(i,a,u,d){const o=i[0]+i[1]+i[2]+i[3]+i[4];let l=Ft.centerFromEnd(i,u),f=this.crossCheckVertical(a,Math.floor(l),i[2],o);if(!isNaN(f)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(f),i[2],o),!isNaN(l)&&(!d||this.crossCheckDiagonal(Math.floor(f),Math.floor(l),i[2],o)))){const p=o/7;let m=!1;const v=this.possibleCenters;for(let E=0,T=v.length;E<T;E++){const N=v[E];if(N.aboutEquals(p,f,l)){v[E]=N.combineEstimate(f,l,p),m=!0;break}}if(!m){const E=new Ia(l,f,p);v.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const u of this.possibleCenters)if(u.getCount()>=Ft.CENTER_QUORUM)if(a==null)a=u;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-u.getX())-Math.abs(a.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const u=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=Ft.CENTER_QUORUM&&(i++,a+=l.getEstimatedModuleSize());if(i<3)return!1;const d=a/u;let o=0;for(const l of this.possibleCenters)o+=Math.abs(l.getEstimatedModuleSize()-d);return o<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new te;const a=this.possibleCenters;let u;if(i>3){let d=0,o=0;for(const p of this.possibleCenters){const m=p.getEstimatedModuleSize();d+=m,o+=m*m}u=d/i;let l=Math.sqrt(o/i-u*u);a.sort((p,m)=>{const v=Math.abs(m.getEstimatedModuleSize()-u),E=Math.abs(p.getEstimatedModuleSize()-u);return v<E?-1:v>E?1:0});const f=Math.max(.2*u,l);for(let p=0;p<a.length&&a.length>3;p++){const m=a[p];Math.abs(m.getEstimatedModuleSize()-u)>f&&(a.splice(p,1),p--)}}if(a.length>3){let d=0;for(const o of a)d+=o.getEstimatedModuleSize();u=d/a.length,a.sort((o,l)=>{if(l.getCount()===o.getCount()){const f=Math.abs(l.getEstimatedModuleSize()-u),p=Math.abs(o.getEstimatedModuleSize()-u);return f<p?1:f>p?-1:0}else return l.getCount()-o.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Ft.CENTER_QUORUM=2,Ft.MIN_SKIP=3,Ft.MAX_MODULES=57;class yi{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(J.NEED_RESULT_POINT_CALLBACK);const u=new Ft(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(u)}processFinderPatternInfo(i){const a=i.getTopLeft(),u=i.getTopRight(),d=i.getBottomLeft(),o=this.calculateModuleSize(a,u,d);if(o<1)throw new te("No pattern found in proccess finder.");const l=yi.computeDimension(a,u,d,o),f=Ke.getProvisionalVersionForDimension(l),p=f.getDimensionForVersion()-7;let m=null;if(f.getAlignmentPatternCenters().length>0){const N=u.getX()-a.getX()+d.getX(),P=u.getY()-a.getY()+d.getY(),j=1-3/p,L=Math.floor(a.getX()+j*(N-a.getX())),F=Math.floor(a.getY()+j*(P-a.getY()));for(let H=4;H<=16;H<<=1)try{m=this.findAlignmentInRegion(o,L,F,H);break}catch(V){if(!(V instanceof te))throw V}}const v=yi.createTransform(a,u,d,m,l),E=yi.sampleGrid(this.image,v,l);let T;return m===null?T=[d,a,u]:T=[d,a,u,m],new Cn(E,T)}static createTransform(i,a,u,d,o){const l=o-3.5;let f,p,m,v;return d!==null?(f=d.getX(),p=d.getY(),m=l-3,v=m):(f=a.getX()-i.getX()+u.getX(),p=a.getY()-i.getY()+u.getY(),m=l,v=l),Dt.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,m,v,3.5,l,i.getX(),i.getY(),a.getX(),a.getY(),f,p,u.getX(),u.getY())}static sampleGrid(i,a,u){return En.getInstance().sampleGridWithTransform(i,u,u,a)}static computeDimension(i,a,u,d){const o=Ge.round(_e.distance(i,a)/d),l=Ge.round(_e.distance(i,u)/d);let f=Math.floor((o+l)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new te("Dimensions could be not found.")}return f}calculateModuleSize(i,a,u){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,u))/2}calculateModuleSizeOneWay(i,a){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(u)?d/7:isNaN(d)?u/7:(u+d)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,u,d){let o=this.sizeOfBlackWhiteBlackRun(i,a,u,d),l=1,f=i-(u-i);f<0?(l=i/(i-f),f=0):f>=this.image.getWidth()&&(l=(this.image.getWidth()-1-i)/(f-i),f=this.image.getWidth()-1);let p=Math.floor(a-(d-a)*l);return l=1,p<0?(l=a/(a-p),p=0):p>=this.image.getHeight()&&(l=(this.image.getHeight()-1-a)/(p-a),p=this.image.getHeight()-1),f=Math.floor(i+(f-i)*l),o+=this.sizeOfBlackWhiteBlackRun(i,a,f,p),o-1}sizeOfBlackWhiteBlackRun(i,a,u,d){const o=Math.abs(d-a)>Math.abs(u-i);if(o){let N=i;i=a,a=N,N=u,u=d,d=N}const l=Math.abs(u-i),f=Math.abs(d-a);let p=-l/2;const m=i<u?1:-1,v=a<d?1:-1;let E=0;const T=u+m;for(let N=i,P=a;N!==T;N+=m){const j=o?P:N,L=o?N:P;if(E===1===this.image.get(j,L)){if(E===2)return Ge.distance(N,P,i,a);E++}if(p+=f,p>0){if(P===d)break;P+=v,p-=l}}return E===2?Ge.distance(u+m,d,i,a):NaN}findAlignmentInRegion(i,a,u,d){const o=Math.floor(d*i),l=Math.max(0,a-o),f=Math.min(this.image.getWidth()-1,a+o);if(f-l<i*3)throw new te("Alignment top exceeds estimated module size.");const p=Math.max(0,u-o),m=Math.min(this.image.getHeight()-1,u+o);if(m-p<i*3)throw new te("Alignment bottom exceeds estimated module size.");return new Ns(this.image,l,p,f-l,m-p,i,this.resultPointCallback).find()}}class Sr{constructor(){this.decoder=new _a}getDecoder(){return this.decoder}decode(i,a){let u,d;if(a!=null&&a.get(J.PURE_BARCODE)!==void 0){const p=Sr.extractPureBits(i.getBlackMatrix());u=this.decoder.decodeBitMatrix(p,a),d=Sr.NO_POINTS}else{const p=new yi(i.getBlackMatrix()).detect(a);u=this.decoder.decodeBitMatrix(p.getBits(),a),d=p.getPoints()}u.getOther()instanceof co&&u.getOther().applyMirroredCorrection(d);const o=new Ne(u.getText(),u.getRawBytes(),void 0,d,he.QR_CODE,void 0),l=u.getByteSegments();l!==null&&o.putMetadata(Be.BYTE_SEGMENTS,l);const f=u.getECLevel();return f!==null&&o.putMetadata(Be.ERROR_CORRECTION_LEVEL,f),u.hasStructuredAppend()&&(o.putMetadata(Be.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),o.putMetadata(Be.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),o}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),u=i.getBottomRightOnBit();if(a===null||u===null)throw new te;const d=this.moduleSize(a,i);let o=a[1],l=u[1],f=a[0],p=u[0];if(f>=p||o>=l)throw new te;if(l-o!==p-f&&(p=f+(l-o),p>=i.getWidth()))throw new te;const m=Math.round((p-f+1)/d),v=Math.round((l-o+1)/d);if(m<=0||v<=0)throw new te;if(v!==m)throw new te;const E=Math.floor(d/2);o+=E,f+=E;const T=f+Math.floor((m-1)*d)-p;if(T>0){if(T>E)throw new te;f-=T}const N=o+Math.floor((v-1)*d)-l;if(N>0){if(N>E)throw new te;o-=N}const P=new pe(m,v);for(let j=0;j<v;j++){const L=o+Math.floor(j*d);for(let F=0;F<m;F++)i.get(f+Math.floor(F*d),L)&&P.set(F,j)}return P}static moduleSize(i,a){const u=a.getHeight(),d=a.getWidth();let o=i[0],l=i[1],f=!0,p=0;for(;o<d&&l<u;){if(f!==a.get(o,l)){if(++p===5)break;f=!f}o++,l++}if(o===d||l===u)throw new te;return(o-i[0])/7}}Sr.NO_POINTS=new Array;class et{PDF417Common(){}static getBitCountSum(i){return Ge.sum(i)}static toIntArray(i){if(i==null||!i.length)return et.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let u=0;for(const d of i)a[u++]=d;return a}static getCodeword(i){const a=I.binarySearch(et.SYMBOL_TABLE,i&262143);return a<0?-1:(et.CODEWORD_TABLE[a]-1)%et.NUMBER_OF_CODEWORDS}}et.NUMBER_OF_CODEWORDS=929,et.MAX_CODEWORDS_IN_BARCODE=et.NUMBER_OF_CODEWORDS-1,et.MIN_ROWS_IN_BARCODE=3,et.MAX_ROWS_IN_BARCODE=90,et.MODULES_IN_CODEWORD=17,et.MODULES_IN_STOP_PATTERN=18,et.BARS_IN_MODULE=8,et.EMPTY_INT_ARRAY=new Int32Array([]),et.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),et.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Fi{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class ut{static detectMultiple(i,a,u){let d=i.getBlackMatrix(),o=ut.detect(u,d);return o.length||(d=d.clone(),d.rotate180(),o=ut.detect(u,d)),new Fi(d,o)}static detect(i,a){const u=new Array;let d=0,o=0,l=!1;for(;d<a.getHeight();){const f=ut.findVertices(a,d,o);if(f[0]==null&&f[3]==null){if(!l)break;l=!1,o=0;for(const p of u)p[1]!=null&&(d=Math.trunc(Math.max(d,p[1].getY()))),p[3]!=null&&(d=Math.max(d,Math.trunc(p[3].getY())));d+=ut.ROW_STEP;continue}if(l=!0,u.push(f),!i)break;f[2]!=null?(o=Math.trunc(f[2].getX()),d=Math.trunc(f[2].getY())):(o=Math.trunc(f[4].getX()),d=Math.trunc(f[4].getY()))}return u}static findVertices(i,a,u){const d=i.getHeight(),o=i.getWidth(),l=new Array(8);return ut.copyToResult(l,ut.findRowsWithPattern(i,d,o,a,u,ut.START_PATTERN),ut.INDEXES_START_PATTERN),l[4]!=null&&(u=Math.trunc(l[4].getX()),a=Math.trunc(l[4].getY())),ut.copyToResult(l,ut.findRowsWithPattern(i,d,o,a,u,ut.STOP_PATTERN),ut.INDEXES_STOP_PATTERN),l}static copyToResult(i,a,u){for(let d=0;d<u.length;d++)i[u[d]]=a[d]}static findRowsWithPattern(i,a,u,d,o,l){const f=new Array(4);let p=!1;const m=new Int32Array(l.length);for(;d<a;d+=ut.ROW_STEP){let E=ut.findGuardPattern(i,o,d,u,!1,l,m);if(E!=null){for(;d>0;){const T=ut.findGuardPattern(i,o,--d,u,!1,l,m);if(T!=null)E=T;else{d++;break}}f[0]=new _e(E[0],d),f[1]=new _e(E[1],d),p=!0;break}}let v=d+1;if(p){let E=0,T=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;v<a;v++){const N=ut.findGuardPattern(i,T[0],v,u,!1,l,m);if(N!=null&&Math.abs(T[0]-N[0])<ut.MAX_PATTERN_DRIFT&&Math.abs(T[1]-N[1])<ut.MAX_PATTERN_DRIFT)T=N,E=0;else{if(E>ut.SKIPPED_ROW_COUNT_MAX)break;E++}}v-=E+1,f[2]=new _e(T[0],v),f[3]=new _e(T[1],v)}return v-d<ut.BARCODE_MIN_HEIGHT&&I.fill(f,null),f}static findGuardPattern(i,a,u,d,o,l,f){I.fillWithin(f,0,f.length,0);let p=a,m=0;for(;i.get(p,u)&&p>0&&m++<ut.MAX_PIXEL_DRIFT;)p--;let v=p,E=0,T=l.length;for(let N=o;v<d;v++)if(i.get(v,u)!==N)f[E]++;else{if(E===T-1){if(ut.patternMatchVariance(f,l,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return new Int32Array([p,v]);p+=f[0]+f[1],_.arraycopy(f,2,f,0,E-1),f[E-1]=0,f[E]=0,E--}else E++;f[E]=1,N=!N}return E===T-1&&ut.patternMatchVariance(f,l,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE?new Int32Array([p,v-1]):null}static patternMatchVariance(i,a,u){let d=i.length,o=0,l=0;for(let m=0;m<d;m++)o+=i[m],l+=a[m];if(o<l)return 1/0;let f=o/l;u*=f;let p=0;for(let m=0;m<d;m++){let v=i[m],E=a[m]*f,T=v>E?v-E:E-v;if(T>u)return 1/0;p+=T}return p/o}}ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ut.MAX_AVG_VARIANCE=.42,ut.MAX_INDIVIDUAL_VARIANCE=.8,ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ut.MAX_PIXEL_DRIFT=3,ut.MAX_PATTERN_DRIFT=5,ut.SKIPPED_ROW_COUNT_MAX=25,ut.ROW_STEP=5,ut.BARCODE_MIN_HEIGHT=10;class Wt{constructor(i,a){if(a.length===0)throw new C;this.field=i;let u=a.length;if(u>1&&a[0]===0){let d=1;for(;d<u&&a[d]===0;)d++;d===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-d),_.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let d=0;for(let o of this.coefficients)d=this.field.add(d,o);return d}let a=this.coefficients[0],u=this.coefficients.length;for(let d=1;d<u;d++)a=this.field.add(this.field.multiply(i,a),this.coefficients[d]);return a}add(i){if(!this.field.equals(i.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,u=i.coefficients;if(a.length>u.length){let l=a;a=u,u=l}let d=new Int32Array(u.length),o=u.length-a.length;_.arraycopy(u,0,d,0,o);for(let l=o;l<u.length;l++)d[l]=this.field.add(a[l-o],u[l]);return new Wt(this.field,d)}subtract(i){if(!this.field.equals(i.field))throw new C("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Wt?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Wt(this.field,new Int32Array([0]));let a=this.coefficients,u=a.length,d=i.coefficients,o=d.length,l=new Int32Array(u+o-1);for(let f=0;f<u;f++){let p=a[f];for(let m=0;m<o;m++)l[f+m]=this.field.add(l[f+m],this.field.multiply(p,d[m]))}return new Wt(this.field,l)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let u=0;u<i;u++)a[u]=this.field.subtract(0,this.coefficients[u]);return new Wt(this.field,a)}multiplyScalar(i){if(i===0)return new Wt(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,u=new Int32Array(a);for(let d=0;d<a;d++)u[d]=this.field.multiply(this.coefficients[d],i);return new Wt(this.field,u)}multiplyByMonomial(i,a){if(i<0)throw new C;if(a===0)return new Wt(this.field,new Int32Array([0]));let u=this.coefficients.length,d=new Int32Array(u+i);for(let o=0;o<u;o++)d[o]=this.field.multiply(this.coefficients[o],a);return new Wt(this.field,d)}toString(){let i=new ye;for(let a=this.getDegree();a>=0;a--){let u=this.getCoefficient(a);u!==0&&(u<0?(i.append(" - "),u=-u):i.length()>0&&i.append(" + "),(a===0||u!==1)&&i.append(u),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class Yl{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new C;return this.logTable[i]}inverse(i){if(i===0)throw new Ue;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Ra extends Yl{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let u=1;for(let d=0;d<i;d++)this.expTable[d]=u,u=u*a%i;for(let d=0;d<i-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new Wt(this,new Int32Array([0])),this.one=new Wt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new C;if(a===0)return this.zero;let u=new Int32Array(i+1);return u[0]=a,new Wt(this,u)}}Ra.PDF417_GF=new Ra(et.NUMBER_OF_CODEWORDS,3);class Na{constructor(){this.field=Ra.PDF417_GF}decode(i,a,u){let d=new Wt(this.field,i),o=new Int32Array(a),l=!1;for(let P=a;P>0;P--){let j=d.evaluateAt(this.field.exp(P));o[a-P]=j,j!==0&&(l=!0)}if(!l)return 0;let f=this.field.getOne();if(u!=null)for(const P of u){let j=this.field.exp(i.length-1-P),L=new Wt(this.field,new Int32Array([this.field.subtract(0,j),1]));f=f.multiply(L)}let p=new Wt(this.field,o),m=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),p,a),v=m[0],E=m[1],T=this.findErrorLocations(v),N=this.findErrorMagnitudes(E,v,T);for(let P=0;P<T.length;P++){let j=i.length-1-this.field.log(T[P]);if(j<0)throw R.getChecksumInstance();i[j]=this.field.subtract(i[j],N[P])}return T.length}runEuclideanAlgorithm(i,a,u){if(i.getDegree()<a.getDegree()){let T=i;i=a,a=T}let d=i,o=a,l=this.field.getZero(),f=this.field.getOne();for(;o.getDegree()>=Math.round(u/2);){let T=d,N=l;if(d=o,l=f,d.isZero())throw R.getChecksumInstance();o=T;let P=this.field.getZero(),j=d.getCoefficient(d.getDegree()),L=this.field.inverse(j);for(;o.getDegree()>=d.getDegree()&&!o.isZero();){let F=o.getDegree()-d.getDegree(),H=this.field.multiply(o.getCoefficient(o.getDegree()),L);P=P.add(this.field.buildMonomial(F,H)),o=o.subtract(d.multiplyByMonomial(F,H))}f=P.multiply(l).subtract(N).negative()}let p=f.getCoefficient(0);if(p===0)throw R.getChecksumInstance();let m=this.field.inverse(p),v=f.multiply(m),E=o.multiply(m);return[v,E]}findErrorLocations(i){let a=i.getDegree(),u=new Int32Array(a),d=0;for(let o=1;o<this.field.getSize()&&d<a;o++)i.evaluateAt(o)===0&&(u[d]=this.field.inverse(o),d++);if(d!==a)throw R.getChecksumInstance();return u}findErrorMagnitudes(i,a,u){let d=a.getDegree(),o=new Int32Array(d);for(let m=1;m<=d;m++)o[d-m]=this.field.multiply(m,a.getCoefficient(m));let l=new Wt(this.field,o),f=u.length,p=new Int32Array(f);for(let m=0;m<f;m++){let v=this.field.inverse(u[m]),E=this.field.subtract(0,i.evaluateAt(v)),T=this.field.inverse(l.evaluateAt(v));p[m]=this.field.multiply(E,T)}return p}}class Dr{constructor(i,a,u,d,o){i instanceof Dr?this.constructor_2(i):this.constructor_1(i,a,u,d,o)}constructor_1(i,a,u,d,o){const l=a==null||u==null,f=d==null||o==null;if(l&&f)throw new te;l?(a=new _e(0,d.getY()),u=new _e(0,o.getY())):f&&(d=new _e(i.getWidth()-1,a.getY()),o=new _e(i.getWidth()-1,u.getY())),this.image=i,this.topLeft=a,this.bottomLeft=u,this.topRight=d,this.bottomRight=o,this.minX=Math.trunc(Math.min(a.getX(),u.getX())),this.maxX=Math.trunc(Math.max(d.getX(),o.getX())),this.minY=Math.trunc(Math.min(a.getY(),d.getY())),this.maxY=Math.trunc(Math.max(u.getY(),o.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new Dr(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,u){let d=this.topLeft,o=this.bottomLeft,l=this.topRight,f=this.bottomRight;if(i>0){let p=u?this.topLeft:this.topRight,m=Math.trunc(p.getY()-i);m<0&&(m=0);let v=new _e(p.getX(),m);u?d=v:l=v}if(a>0){let p=u?this.bottomLeft:this.bottomRight,m=Math.trunc(p.getY()+a);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let v=new _e(p.getX(),m);u?o=v:f=v}return new Dr(this.image,d,o,l,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class $l{constructor(i,a,u,d){this.columnCount=i,this.errorCorrectionLevel=d,this.rowCountUpperPart=a,this.rowCountLowerPart=u,this.rowCount=a+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ko{constructor(){this.buffer=""}static form(i,a){let u=-1;function d(l,f,p,m,v,E){if(l==="%%")return"%";if(a[++u]===void 0)return;l=m?parseInt(m.substr(1)):void 0;let T=v?parseInt(v.substr(1)):void 0,N;switch(E){case"s":N=a[u];break;case"c":N=a[u][0];break;case"f":N=parseFloat(a[u]).toFixed(l);break;case"p":N=parseFloat(a[u]).toPrecision(l);break;case"e":N=parseFloat(a[u]).toExponential(l);break;case"x":N=parseInt(a[u]).toString(T||16);break;case"d":N=parseFloat(parseInt(a[u],T||10).toPrecision(l)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(T);let P=parseInt(p),j=p&&p[0]+""=="0"?"0":" ";for(;N.length<P;)N=f!==void 0?N+j:j+N;return N}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(o,d)}format(i,...a){this.buffer+=ko.form(i,a)}toString(){return this.buffer}}class Ms{constructor(i){this.boundingBox=new Dr(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let u=1;u<Ms.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(i)-u;if(d>=0&&(a=this.codewords[d],a!=null)||(d=this.imageRowToCodewordIndex(i)+u,d<this.codewords.length&&(a=this.codewords[d],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new ko;let a=0;for(const u of this.codewords){if(u==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,u.getRowNumber(),u.getValue())}return i.toString()}}Ms.MAX_NEARBY_DISTANCE=5;class xi{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[u,d]of this.values.entries()){const o={getKey:()=>u,getValue:()=>d};o.getValue()>i?(i=o.getValue(),a=[],a.push(o.getKey())):o.getValue()===i&&a.push(o.getKey())}return et.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class Ru extends Ms{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let u=this.getBoundingBox(),d=this._isLeft?u.getTopLeft():u.getTopRight(),o=this._isLeft?u.getBottomLeft():u.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(d.getY())),f=this.imageRowToCodewordIndex(Math.trunc(o.getY())),p=-1,m=1,v=0;for(let E=l;E<f;E++){if(a[E]==null)continue;let T=a[E],N=T.getRowNumber()-p;if(N===0)v++;else if(N===1)m=Math.max(m,v),v=1,p=T.getRowNumber();else if(N<0||T.getRowNumber()>=i.getRowCount()||N>E)a[E]=null;else{let P;m>2?P=(m-2)*N:P=N;let j=P>=E;for(let L=1;L<=P&&!j;L++)j=a[E-L]!=null;j?a[E]=null:(p=T.getRowNumber(),v=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let u of this.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=a.length)continue;a[d]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),u=this._isLeft?a.getTopLeft():a.getTopRight(),d=this._isLeft?a.getBottomLeft():a.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(u.getY())),l=this.imageRowToCodewordIndex(Math.trunc(d.getY())),f=this.getCodewords(),p=-1;for(let m=o;m<l;m++){if(f[m]==null)continue;let v=f[m];v.setRowNumberAsRowIndicatorColumn();let E=v.getRowNumber()-p;E===0||(E===1?p=v.getRowNumber():v.getRowNumber()>=i.getRowCount()?f[m]=null:p=v.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new xi,u=new xi,d=new xi,o=new xi;for(let f of i){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let p=f.getValue()%30,m=f.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:u.setValue(p*3+1);break;case 1:o.setValue(p/3),d.setValue(p%3);break;case 2:a.setValue(p+1);break}}if(a.getValue().length===0||u.getValue().length===0||d.getValue().length===0||o.getValue().length===0||a.getValue()[0]<1||u.getValue()[0]+d.getValue()[0]<et.MIN_ROWS_IN_BARCODE||u.getValue()[0]+d.getValue()[0]>et.MAX_ROWS_IN_BARCODE)return null;let l=new $l(a.getValue()[0],u.getValue()[0],d.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(i,l),l}removeIncorrectCodewords(i,a){for(let u=0;u<i.length;u++){let d=i[u];if(i[u]==null)continue;let o=d.getValue()%30,l=d.getRowNumber();if(l>a.getRowCount()){i[u]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==a.getRowCountUpperPart()&&(i[u]=null);break;case 1:(Math.trunc(o/3)!==a.getErrorCorrectionLevel()||o%3!==a.getRowCountLowerPart())&&(i[u]=null);break;case 2:o+1!==a.getColumnCount()&&(i[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Os{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=et.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let u=this.detectionResultColumns[a].getCodewords();for(let d=0;d<u.length;d++)u[d]!=null&&(u[d].hasValidRowNumber()||this.adjustRowNumbers(a,d,u))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<i.length;u++)if(i[u]!=null&&a[u]!=null&&i[u].getRowNumber()===a[u].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let o=this.detectionResultColumns[d].getCodewords()[u];o!=null&&(o.setRowNumber(i[u].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++){if(a[u]==null)continue;let d=a[u].getRowNumber(),o=0;for(let l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){let f=this.detectionResultColumns[l].getCodewords()[u];f!=null&&(o=Os.adjustRowNumberIfValid(d,o,f),f.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let u=0;u<a.length;u++){if(a[u]==null)continue;let d=a[u].getRowNumber(),o=0;for(let l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){let f=this.detectionResultColumns[l].getCodewords()[u];f!=null&&(o=Os.adjustRowNumberIfValid(d,o,f),f.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(i)?(u.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,u){if(!this.detectionResultColumns[i-1])return;let d=u[a],o=this.detectionResultColumns[i-1].getCodewords(),l=o;this.detectionResultColumns[i+1]!=null&&(l=this.detectionResultColumns[i+1].getCodewords());let f=new Array(14);f[2]=o[a],f[3]=l[a],a>0&&(f[0]=u[a-1],f[4]=o[a-1],f[5]=l[a-1]),a>1&&(f[8]=u[a-2],f[10]=o[a-2],f[11]=l[a-2]),a<u.length-1&&(f[1]=u[a+1],f[6]=o[a+1],f[7]=l[a+1]),a<u.length-2&&(f[9]=u[a+2],f[12]=o[a+2],f[13]=l[a+2]);for(let p of f)if(Os.adjustRowNumber(d,p))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new ko;for(let u=0;u<i.getCodewords().length;u++){a.format("CW %3d:",u);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){a.format("    |   ");continue}let o=this.detectionResultColumns[d].getCodewords()[u];if(o==null){a.format("    |   ");continue}a.format(" %3d|%3d",o.getRowNumber(),o.getValue())}a.format("%n")}return a.toString()}}class Ui{constructor(i,a,u,d){this.rowNumber=Ui.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Ui.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Ui.BARCODE_ROW_UNKNOWN=-1;class Nn{static initialize(){for(let i=0;i<et.SYMBOL_TABLE.length;i++){let a=et.SYMBOL_TABLE[i],u=a&1;for(let d=0;d<et.BARS_IN_MODULE;d++){let o=0;for(;(a&1)===u;)o+=1,a>>=1;u=a&1,Nn.RATIOS_TABLE[i]||(Nn.RATIOS_TABLE[i]=new Array(et.BARS_IN_MODULE)),Nn.RATIOS_TABLE[i][et.BARS_IN_MODULE-d-1]=Math.fround(o/et.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=Nn.getDecodedCodewordValue(Nn.sampleBitCounts(i));return a!==-1?a:Nn.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=Ge.sum(i),u=new Int32Array(et.BARS_IN_MODULE),d=0,o=0;for(let l=0;l<et.MODULES_IN_CODEWORD;l++){let f=a/(2*et.MODULES_IN_CODEWORD)+l*a/et.MODULES_IN_CODEWORD;o+i[d]<=f&&(o+=i[d],d++),u[d]++}return u}static getDecodedCodewordValue(i){let a=Nn.getBitValue(i);return et.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let u=0;u<i.length;u++)for(let d=0;d<i[u];d++)a=a<<1|(u%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=Ge.sum(i),u=new Array(et.BARS_IN_MODULE);if(a>1)for(let l=0;l<u.length;l++)u[l]=Math.fround(i[l]/a);let d=Gt.MAX_VALUE,o=-1;this.bSymbolTableReady||Nn.initialize();for(let l=0;l<Nn.RATIOS_TABLE.length;l++){let f=0,p=Nn.RATIOS_TABLE[l];for(let m=0;m<et.BARS_IN_MODULE;m++){let v=Math.fround(p[m]-u[m]);if(f+=Math.fround(v*v),f>=d)break}f<d&&(d=f,o=et.SYMBOL_TABLE[l])}return o}}Nn.bSymbolTableReady=!1,Nn.RATIOS_TABLE=new Array(et.SYMBOL_TABLE.length).map(D=>new Array(et.BARS_IN_MODULE));class Ma{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class Nu{static parseLong(i,a=void 0){return parseInt(i,a)}}class Mu extends y{}Mu.kind="NullPointerException";class bh{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,u){if(i==null)throw new Mu;if(a<0||a>i.length||u<0||a+u>i.length||a+u<0)throw new B;if(u===0)return;for(let d=0;d<u;d++)this.write(i[a+d])}flush(){}close(){}}class Kl extends y{}class Xl extends bh{constructor(i=32){if(super(),this.count=0,i<0)throw new C("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let u=this.buf.length<<1;if(u-i<0&&(u=i),u<0){if(i<0)throw new Kl;u=k.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,u)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,u){if(a<0||a>i.length||u<0||a+u-i.length>0)throw new B;this.ensureCapacity(this.count+u),_.arraycopy(i,a,this.buf,this.count,u),this.count+=u}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Bt;(function(D){D[D.ALPHA=0]="ALPHA",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.PUNCT=3]="PUNCT",D[D.ALPHA_SHIFT=4]="ALPHA_SHIFT",D[D.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Bt||(Bt={}));function Ds(){if(typeof window<"u")return window.BigInt||null;if(typeof vo<"u")return vo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let uo;function kr(D){if(typeof uo>"u"&&(uo=Ds()),uo===null)throw new Error("BigInt is not supported!");return uo(D)}function Ou(){let D=[];D[0]=kr(1);let i=kr(900);D[1]=i;for(let a=2;a<16;a++)D[a]=D[a-1]*i;return D}class se{static decode(i,a){let u=new ye(""),d=X.ISO8859_1;u.enableDecoding(d);let o=1,l=i[o++],f=new Ma;for(;o<i[0];){switch(l){case se.TEXT_COMPACTION_MODE_LATCH:o=se.textCompaction(i,o,u);break;case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:o=se.byteCompaction(l,i,d,o,u);break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(i[o++]);break;case se.NUMERIC_COMPACTION_MODE_LATCH:o=se.numericCompaction(i,o,u);break;case se.ECI_CHARSET:X.getCharacterSetECIByValue(i[o++]);break;case se.ECI_GENERAL_PURPOSE:o+=2;break;case se.ECI_USER_DEFINED:o++;break;case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=se.decodeMacroBlock(i,o,f);break;case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:throw new Y;default:o--,o=se.textCompaction(i,o,u);break}if(o<i.length)l=i[o++];else throw Y.getFormatInstance()}if(u.length()===0)throw Y.getFormatInstance();let p=new Te(null,u.toString(),null,a);return p.setOther(f),p}static decodeMacroBlock(i,a,u){if(a+se.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw Y.getFormatInstance();let d=new Int32Array(se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<se.NUMBER_OF_SEQUENCE_CODEWORDS;f++,a++)d[f]=i[a];u.setSegmentIndex(k.parseInt(se.decodeBase900toBase10(d,se.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new ye;a=se.textCompaction(i,a,o),u.setFileId(o.toString());let l=-1;for(i[a]===se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=a+1);a<i[0];)switch(i[a]){case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new ye;a=se.textCompaction(i,a+1,f),u.setFileName(f.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new ye;a=se.textCompaction(i,a+1,p),u.setSender(p.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new ye;a=se.textCompaction(i,a+1,m),u.setAddressee(m.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let v=new ye;a=se.numericCompaction(i,a+1,v),u.setSegmentCount(k.parseInt(v.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new ye;a=se.numericCompaction(i,a+1,E),u.setTimestamp(Nu.parseLong(E.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new ye;a=se.numericCompaction(i,a+1,T),u.setChecksum(k.parseInt(T.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let N=new ye;a=se.numericCompaction(i,a+1,N),u.setFileSize(Nu.parseLong(N.toString()));break;default:throw Y.getFormatInstance()}break;case se.MACRO_PDF417_TERMINATOR:a++,u.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(l!==-1){let f=a-l;u.isLastSegment()&&f--,u.setOptionalData(I.copyOfRange(i,l,l+f))}return a}static textCompaction(i,a,u){let d=new Int32Array((i[0]-a)*2),o=new Int32Array((i[0]-a)*2),l=0,f=!1;for(;a<i[0]&&!f;){let p=i[a++];if(p<se.TEXT_COMPACTION_MODE_LATCH)d[l]=p/30,d[l+1]=p%30,l+=2;else switch(p){case se.TEXT_COMPACTION_MODE_LATCH:d[l++]=se.TEXT_COMPACTION_MODE_LATCH;break;case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:a--,f=!0;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[l]=se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=i[a++],o[l]=p,l++;break}}return se.decodeTextCompaction(d,o,l,u),a}static decodeTextCompaction(i,a,u,d){let o=Bt.ALPHA,l=Bt.ALPHA,f=0;for(;f<u;){let p=i[f],m="";switch(o){case Bt.ALPHA:if(p<26)m=String.fromCharCode(65+p);else switch(p){case 26:m=" ";break;case se.LL:o=Bt.LOWER;break;case se.ML:o=Bt.MIXED;break;case se.PS:l=o,o=Bt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case se.TEXT_COMPACTION_MODE_LATCH:o=Bt.ALPHA;break}break;case Bt.LOWER:if(p<26)m=String.fromCharCode(97+p);else switch(p){case 26:m=" ";break;case se.AS:l=o,o=Bt.ALPHA_SHIFT;break;case se.ML:o=Bt.MIXED;break;case se.PS:l=o,o=Bt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case se.TEXT_COMPACTION_MODE_LATCH:o=Bt.ALPHA;break}break;case Bt.MIXED:if(p<se.PL)m=se.MIXED_CHARS[p];else switch(p){case se.PL:o=Bt.PUNCT;break;case 26:m=" ";break;case se.LL:o=Bt.LOWER;break;case se.AL:o=Bt.ALPHA;break;case se.PS:l=o,o=Bt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case se.TEXT_COMPACTION_MODE_LATCH:o=Bt.ALPHA;break}break;case Bt.PUNCT:if(p<se.PAL)m=se.PUNCT_CHARS[p];else switch(p){case se.PAL:o=Bt.ALPHA;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case se.TEXT_COMPACTION_MODE_LATCH:o=Bt.ALPHA;break}break;case Bt.ALPHA_SHIFT:if(o=l,p<26)m=String.fromCharCode(65+p);else switch(p){case 26:m=" ";break;case se.TEXT_COMPACTION_MODE_LATCH:o=Bt.ALPHA;break}break;case Bt.PUNCT_SHIFT:if(o=l,p<se.PAL)m=se.PUNCT_CHARS[p];else switch(p){case se.PAL:o=Bt.ALPHA;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[f]);break;case se.TEXT_COMPACTION_MODE_LATCH:o=Bt.ALPHA;break}break}m!==""&&d.append(m),f++}}static byteCompaction(i,a,u,d,o){let l=new Xl,f=0,p=0,m=!1;switch(i){case se.BYTE_COMPACTION_MODE_LATCH:let v=new Int32Array(6),E=a[d++];for(;d<a[0]&&!m;)switch(v[f++]=E,p=900*p+E,E=a[d++],E){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:d--,m=!0;break;default:if(f%5===0&&f>0){for(let T=0;T<6;++T)l.write(Number(kr(p)>>kr(8*(5-T))));p=0,f=0}break}d===a[0]&&E<se.TEXT_COMPACTION_MODE_LATCH&&(v[f++]=E);for(let T=0;T<f;T++)l.write(v[T]);break;case se.BYTE_COMPACTION_MODE_LATCH_6:for(;d<a[0]&&!m;){let T=a[d++];if(T<se.TEXT_COMPACTION_MODE_LATCH)f++,p=900*p+T;else switch(T){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:d--,m=!0;break}if(f%5===0&&f>0){for(let N=0;N<6;++N)l.write(Number(kr(p)>>kr(8*(5-N))));p=0,f=0}}break}return o.append(xe.decode(l.toByteArray(),u)),d}static numericCompaction(i,a,u){let d=0,o=!1,l=new Int32Array(se.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!o;){let f=i[a++];if(a===i[0]&&(o=!0),f<se.TEXT_COMPACTION_MODE_LATCH)l[d]=f,d++;else switch(f){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:a--,o=!0;break}(d%se.MAX_NUMERIC_CODEWORDS===0||f===se.NUMERIC_COMPACTION_MODE_LATCH||o)&&d>0&&(u.append(se.decodeBase900toBase10(l,d)),d=0)}return a}static decodeBase900toBase10(i,a){let u=kr(0);for(let o=0;o<a;o++)u+=se.EXP900[a-o-1]*kr(i[o]);let d=u.toString();if(d.charAt(0)!=="1")throw new Y;return d.substring(1)}}se.TEXT_COMPACTION_MODE_LATCH=900,se.BYTE_COMPACTION_MODE_LATCH=901,se.NUMERIC_COMPACTION_MODE_LATCH=902,se.BYTE_COMPACTION_MODE_LATCH_6=924,se.ECI_USER_DEFINED=925,se.ECI_GENERAL_PURPOSE=926,se.ECI_CHARSET=927,se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,se.MACRO_PDF417_TERMINATOR=922,se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,se.MAX_NUMERIC_CODEWORDS=15,se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,se.PL=25,se.LL=27,se.AS=27,se.ML=28,se.AL=28,se.PS=29,se.PAL=29,se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",se.EXP900=Ds()?Ou():[],se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class lt{constructor(){}static decode(i,a,u,d,o,l,f){let p=new Dr(i,a,u,d,o),m=null,v=null,E;for(let P=!0;;P=!1){if(a!=null&&(m=lt.getRowIndicatorColumn(i,p,a,!0,l,f)),d!=null&&(v=lt.getRowIndicatorColumn(i,p,d,!1,l,f)),E=lt.merge(m,v),E==null)throw te.getNotFoundInstance();let j=E.getBoundingBox();if(P&&j!=null&&(j.getMinY()<p.getMinY()||j.getMaxY()>p.getMaxY()))p=j;else break}E.setBoundingBox(p);let T=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,m),E.setDetectionResultColumn(T,v);let N=m!=null;for(let P=1;P<=T;P++){let j=N?P:T-P;if(E.getDetectionResultColumn(j)!==void 0)continue;let L;j===0||j===T?L=new Ru(p,j===0):L=new Ms(p),E.setDetectionResultColumn(j,L);let F=-1,H=F;for(let V=p.getMinY();V<=p.getMaxY();V++){if(F=lt.getStartColumn(E,j,V,N),F<0||F>p.getMaxX()){if(H===-1)continue;F=H}let W=lt.detectCodeword(i,p.getMinX(),p.getMaxX(),N,F,V,l,f);W!=null&&(L.setCodeword(V,W),H=F,l=Math.min(l,W.getWidth()),f=Math.max(f,W.getWidth()))}}return lt.createDecoderResult(E)}static merge(i,a){if(i==null&&a==null)return null;let u=lt.getBarcodeMetadata(i,a);if(u==null)return null;let d=Dr.merge(lt.adjustBoundingBox(i),lt.adjustBoundingBox(a));return new Os(u,d)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let u=lt.getMax(a),d=0;for(let f of a)if(d+=u-f,f>0)break;let o=i.getCodewords();for(let f=0;d>0&&o[f]==null;f++)d--;let l=0;for(let f=a.length-1;f>=0&&(l+=u-a[f],!(a[f]>0));f--);for(let f=o.length-1;l>0&&o[f]==null;f--)l--;return i.getBoundingBox().addMissingRows(d,l,i.isLeft())}static getMax(i){let a=-1;for(let u of i)a=Math.max(a,u);return a}static getBarcodeMetadata(i,a){let u;if(i==null||(u=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let d;return a==null||(d=a.getBarcodeMetadata())==null?u:u.getColumnCount()!==d.getColumnCount()&&u.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&u.getRowCount()!==d.getRowCount()?null:u}static getRowIndicatorColumn(i,a,u,d,o,l){let f=new Ru(a,d);for(let p=0;p<2;p++){let m=p===0?1:-1,v=Math.trunc(Math.trunc(u.getX()));for(let E=Math.trunc(Math.trunc(u.getY()));E<=a.getMaxY()&&E>=a.getMinY();E+=m){let T=lt.detectCodeword(i,0,i.getWidth(),d,v,E,o,l);T!=null&&(f.setCodeword(E,T),d?v=T.getStartX():v=T.getEndX())}}return f}static adjustCodewordCount(i,a){let u=a[0][1],d=u.getValue(),o=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-lt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(d.length===0){if(o<1||o>et.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();u.setValue(o)}else d[0]!==o&&u.setValue(o)}static createDecoderResult(i){let a=lt.createBarcodeMatrix(i);lt.adjustCodewordCount(i,a);let u=new Array,d=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),o=[],l=new Array;for(let p=0;p<i.getBarcodeRowCount();p++)for(let m=0;m<i.getBarcodeColumnCount();m++){let v=a[p][m+1].getValue(),E=p*i.getBarcodeColumnCount()+m;v.length===0?u.push(E):v.length===1?d[E]=v[0]:(l.push(E),o.push(v))}let f=new Array(o.length);for(let p=0;p<f.length;p++)f[p]=o[p];return lt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),d,et.toIntArray(u),et.toIntArray(l),f)}static createDecoderResultFromAmbiguousValues(i,a,u,d,o){let l=new Int32Array(d.length),f=100;for(;f-- >0;){for(let p=0;p<l.length;p++)a[d[p]]=o[p][l[p]];try{return lt.decodeCodewords(a,i,u)}catch(p){if(!(p instanceof R))throw p}if(l.length===0)throw R.getChecksumInstance();for(let p=0;p<l.length;p++)if(l[p]<o[p].length-1){l[p]++;break}else if(l[p]=0,p===l.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let d=0;d<a.length;d++)for(let o=0;o<a[d].length;o++)a[d][o]=new xi;let u=0;for(let d of i.getDetectionResultColumns()){if(d!=null){for(let o of d.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=0){if(l>=a.length)continue;a[l][u].setValue(o.getValue())}}}u++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,u,d){let o=d?1:-1,l=null;if(lt.isValidBarcodeColumn(i,a-o)&&(l=i.getDetectionResultColumn(a-o).getCodeword(u)),l!=null)return d?l.getEndX():l.getStartX();if(l=i.getDetectionResultColumn(a).getCodewordNearby(u),l!=null)return d?l.getStartX():l.getEndX();if(lt.isValidBarcodeColumn(i,a-o)&&(l=i.getDetectionResultColumn(a-o).getCodewordNearby(u)),l!=null)return d?l.getEndX():l.getStartX();let f=0;for(;lt.isValidBarcodeColumn(i,a-o);){a-=o;for(let p of i.getDetectionResultColumn(a).getCodewords())if(p!=null)return(d?p.getEndX():p.getStartX())+o*f*(p.getEndX()-p.getStartX());f++}return d?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,u,d,o,l,f,p){o=lt.adjustCodewordStartColumn(i,a,u,d,o,l);let m=lt.getModuleBitCount(i,a,u,d,o,l);if(m==null)return null;let v,E=Ge.sum(m);if(d)v=o+E;else{for(let P=0;P<m.length/2;P++){let j=m[P];m[P]=m[m.length-1-P],m[m.length-1-P]=j}v=o,o=v-E}if(!lt.checkCodewordSkew(E,f,p))return null;let T=Nn.getDecodedValue(m),N=et.getCodeword(T);return N===-1?null:new Ui(o,v,lt.getCodewordBucketNumber(T),N)}static getModuleBitCount(i,a,u,d,o,l){let f=o,p=new Int32Array(8),m=0,v=d?1:-1,E=d;for(;(d?f<u:f>=a)&&m<p.length;)i.get(f,l)===E?(p[m]++,f+=v):(m++,E=!E);return m===p.length||f===(d?u:a)&&m===p.length-1?p:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,u,d,o,l){let f=o,p=d?-1:1;for(let m=0;m<2;m++){for(;(d?f>=a:f<u)&&d===i.get(f,l);){if(Math.abs(o-f)>lt.CODEWORD_SKEW_SIZE)return o;f+=p}p=-p,d=!d}return f}static checkCodewordSkew(i,a,u){return a-lt.CODEWORD_SKEW_SIZE<=i&&i<=u+lt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,u){if(i.length===0)throw Y.getFormatInstance();let d=1<<a+1,o=lt.correctErrors(i,u,d);lt.verifyCodewordCount(i,d);let l=se.decode(i,""+a);return l.setErrorsCorrected(o),l.setErasures(u.length),l}static correctErrors(i,a,u){if(a!=null&&a.length>u/2+lt.MAX_ERRORS||u<0||u>lt.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return lt.errorCorrection.decode(i,u,a)}static verifyCodewordCount(i,a){if(i.length<4)throw Y.getFormatInstance();let u=i[0];if(u>i.length)throw Y.getFormatInstance();if(u===0)if(a<i.length)i[0]=i.length-a;else throw Y.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),u=0,d=a.length-1;for(;!((i&1)!==u&&(u=i&1,d--,d<0));)a[d]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return lt.getCodewordBucketNumber(lt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new ko;for(let u=0;u<i.length;u++){a.format("Row %2d: ",u);for(let d=0;d<i[u].length;d++){let o=i[u][d];o.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}a.format("%n")}return a.toString()}}lt.CODEWORD_SKEW_SIZE=2,lt.MAX_ERRORS=3,lt.MAX_EC_CODEWORDS=512,lt.errorCorrection=new Na;class vn{decode(i,a=null){let u=vn.decode(i,a,!1);if(u==null||u.length===0||u[0]==null)throw te.getNotFoundInstance();return u[0]}decodeMultiple(i,a=null){try{return vn.decode(i,a,!0)}catch(u){throw u instanceof Y||u instanceof R?te.getNotFoundInstance():u}}static decode(i,a,u){const d=new Array,o=ut.detectMultiple(i,a,u);for(const l of o.getPoints()){const f=lt.decode(o.getBits(),l[4],l[5],l[6],l[7],vn.getMinCodewordWidth(l),vn.getMaxCodewordWidth(l)),p=new Ne(f.getText(),f.getRawBytes(),void 0,l,he.PDF_417);p.putMetadata(Be.ERROR_CORRECTION_LEVEL,f.getECLevel());const m=f.getOther();m!=null&&p.putMetadata(Be.PDF417_EXTRA_METADATA,m),d.push(p)}return d.map(l=>l)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?k.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(vn.getMaxWidth(i[0],i[4]),vn.getMaxWidth(i[6],i[2])*et.MODULES_IN_CODEWORD/et.MODULES_IN_STOP_PATTERN),Math.max(vn.getMaxWidth(i[1],i[5]),vn.getMaxWidth(i[7],i[3])*et.MODULES_IN_CODEWORD/et.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(vn.getMinWidth(i[0],i[4]),vn.getMinWidth(i[6],i[2])*et.MODULES_IN_CODEWORD/et.MODULES_IN_STOP_PATTERN),Math.min(vn.getMinWidth(i[1],i[5]),vn.getMinWidth(i[7],i[3])*et.MODULES_IN_CODEWORD/et.MODULES_IN_STOP_PATTERN)))}reset(){}}class Po extends y{}Po.kind="ReaderException";class Oa{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!r(i)&&i.get(J.TRY_HARDER)===!0,u=r(i)?null:i.get(J.POSSIBLE_FORMATS),d=new Array;if(!r(u)){const o=u.some(l=>l===he.UPC_A||l===he.UPC_E||l===he.EAN_13||l===he.EAN_8||l===he.CODABAR||l===he.CODE_39||l===he.CODE_93||l===he.CODE_128||l===he.ITF||l===he.RSS_14||l===he.RSS_EXPANDED);o&&!a&&d.push(new Bi(i,this.verbose)),u.includes(he.QR_CODE)&&d.push(new Sr),u.includes(he.DATA_MATRIX)&&d.push(new cr),u.includes(he.AZTEC)&&d.push(new gn),u.includes(he.PDF_417)&&d.push(new vn),o&&a&&d.push(new Bi(i,this.verbose))}d.length===0&&(a||d.push(new Bi(i,this.verbose)),d.push(new Sr),d.push(new cr),d.push(new gn),d.push(new vn),a&&d.push(new Bi(i,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Po("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(u){if(u instanceof Po)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class Ql extends ge{constructor(i=null,a=500){const u=new Oa;u.setHints(i),super(u,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class Ln extends ge{constructor(i=500){super(new vn,i)}}class ks extends ge{constructor(i=500){super(new Sr,i)}}var fo;(function(D){D[D.ERROR_CORRECTION=0]="ERROR_CORRECTION",D[D.CHARACTER_SET=1]="CHARACTER_SET",D[D.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",D[D.MIN_SIZE=3]="MIN_SIZE",D[D.MAX_SIZE=4]="MAX_SIZE",D[D.MARGIN=5]="MARGIN",D[D.PDF417_COMPACT=6]="PDF417_COMPACT",D[D.PDF417_COMPACTION=7]="PDF417_COMPACTION",D[D.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",D[D.AZTEC_LAYERS=9]="AZTEC_LAYERS",D[D.QR_VERSION=10]="QR_VERSION"})(fo||(fo={}));var un=fo;class Lo{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Xe(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let u=a[a.length-1];const d=this.field;for(let o=a.length;o<=i;o++){const l=u.multiply(new Xe(d,Int32Array.from([1,d.exp(o-1+d.getGeneratorBase())])));a.push(l),u=l}}return a[i]}encode(i,a){if(a===0)throw new C("No error correction bytes");const u=i.length-a;if(u<=0)throw new C("No data bytes provided");const d=this.buildGenerator(a),o=new Int32Array(u);_.arraycopy(i,0,o,0,u);let l=new Xe(this.field,o);l=l.multiplyByMonomial(a,1);const p=l.divide(d)[1].getCoefficients(),m=a-p.length;for(let v=0;v<m;v++)i[u+v]=0;_.arraycopy(p,0,i,u+m,p.length)}}class qt{constructor(){}static applyMaskPenaltyRule1(i){return qt.applyMaskPenaltyRule1Internal(i,!0)+qt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const u=i.getArray(),d=i.getWidth(),o=i.getHeight();for(let l=0;l<o-1;l++){const f=u[l];for(let p=0;p<d-1;p++){const m=f[p];m===f[p+1]&&m===u[l+1][p]&&m===u[l+1][p+1]&&a++}}return qt.N2*a}static applyMaskPenaltyRule3(i){let a=0;const u=i.getArray(),d=i.getWidth(),o=i.getHeight();for(let l=0;l<o;l++)for(let f=0;f<d;f++){const p=u[l];f+6<d&&p[f]===1&&p[f+1]===0&&p[f+2]===1&&p[f+3]===1&&p[f+4]===1&&p[f+5]===0&&p[f+6]===1&&(qt.isWhiteHorizontal(p,f-4,f)||qt.isWhiteHorizontal(p,f+7,f+11))&&a++,l+6<o&&u[l][f]===1&&u[l+1][f]===0&&u[l+2][f]===1&&u[l+3][f]===1&&u[l+4][f]===1&&u[l+5][f]===0&&u[l+6][f]===1&&(qt.isWhiteVertical(u,f,l-4,l)||qt.isWhiteVertical(u,f,l+7,l+11))&&a++}return a*qt.N3}static isWhiteHorizontal(i,a,u){a=Math.max(a,0),u=Math.min(u,i.length);for(let d=a;d<u;d++)if(i[d]===1)return!1;return!0}static isWhiteVertical(i,a,u,d){u=Math.max(u,0),d=Math.min(d,i.length);for(let o=u;o<d;o++)if(i[o][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const u=i.getArray(),d=i.getWidth(),o=i.getHeight();for(let p=0;p<o;p++){const m=u[p];for(let v=0;v<d;v++)m[v]===1&&a++}const l=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-l)*10/l)*qt.N4}static getDataMaskBit(i,a,u){let d,o;switch(i){case 0:d=u+a&1;break;case 1:d=u&1;break;case 2:d=a%3;break;case 3:d=(u+a)%3;break;case 4:d=Math.floor(u/2)+Math.floor(a/3)&1;break;case 5:o=u*a,d=(o&1)+o%3;break;case 6:o=u*a,d=(o&1)+o%3&1;break;case 7:o=u*a,d=o%3+(u+a&1)&1;break;default:throw new C("Invalid mask pattern: "+i)}return d===0}static applyMaskPenaltyRule1Internal(i,a){let u=0;const d=a?i.getHeight():i.getWidth(),o=a?i.getWidth():i.getHeight(),l=i.getArray();for(let f=0;f<d;f++){let p=0,m=-1;for(let v=0;v<o;v++){const E=a?l[f][v]:l[v][f];E===m?p++:(p>=5&&(u+=qt.N1+(p-5)),p=1,m=E)}p>=5&&(u+=qt.N1+(p-5))}return u}}qt.N1=3,qt.N2=3,qt.N3=40,qt.N4=10;class Ps{constructor(i,a){this.width=i,this.height=a;const u=new Array(a);for(let d=0;d!==a;d++)u[d]=new Uint8Array(i);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,u){this.bytes[a][i]=u}setBoolean(i,a,u){this.bytes[a][i]=u?1:0}clear(i){for(const a of this.bytes)I.fill(a,i)}equals(i){if(!(i instanceof Ps))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let u=0,d=this.height;u<d;++u){const o=this.bytes[u],l=a.bytes[u];for(let f=0,p=this.width;f<p;++f)if(o[f]!==l[f])return!1}return!0}toString(){const i=new ye;for(let a=0,u=this.height;a<u;++a){const d=this.bytes[a];for(let o=0,l=this.width;o<l;++o)switch(d[o]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ye;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Jr.NUM_MASK_PATTERNS}}Jr.NUM_MASK_PATTERNS=8;class jt extends y{}jt.kind="WriterException";class Qe{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,u,d,o){Qe.clearMatrix(o),Qe.embedBasicPatterns(u,o),Qe.embedTypeInfo(a,d,o),Qe.maybeEmbedVersionInfo(u,o),Qe.embedDataBits(i,d,o)}static embedBasicPatterns(i,a){Qe.embedPositionDetectionPatternsAndSeparators(a),Qe.embedDarkDotAtLeftBottomCorner(a),Qe.maybeEmbedPositionAdjustmentPatterns(i,a),Qe.embedTimingPatterns(a)}static embedTypeInfo(i,a,u){const d=new U;Qe.makeTypeInfoBits(i,a,d);for(let o=0,l=d.getSize();o<l;++o){const f=d.get(d.getSize()-1-o),p=Qe.TYPE_INFO_COORDINATES[o],m=p[0],v=p[1];if(u.setBoolean(m,v,f),o<8){const E=u.getWidth()-o-1;u.setBoolean(E,8,f)}else{const T=u.getHeight()-7+(o-8);u.setBoolean(8,T,f)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const u=new U;Qe.makeVersionInfoBits(i,u);let d=6*3-1;for(let o=0;o<6;++o)for(let l=0;l<3;++l){const f=u.get(d);d--,a.setBoolean(o,a.getHeight()-11+l,f),a.setBoolean(a.getHeight()-11+l,o,f)}}static embedDataBits(i,a,u){let d=0,o=-1,l=u.getWidth()-1,f=u.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);f>=0&&f<u.getHeight();){for(let p=0;p<2;++p){const m=l-p;if(!Qe.isEmpty(u.get(m,f)))continue;let v;d<i.getSize()?(v=i.get(d),++d):v=!1,a!==255&&qt.getDataMaskBit(a,m,f)&&(v=!v),u.setBoolean(m,f,v)}f+=o}o=-o,f+=o,l-=2}if(d!==i.getSize())throw new jt("Not all bits consumed: "+d+"/"+i.getSize())}static findMSBSet(i){return 32-k.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new C("0 polynomial");const u=Qe.findMSBSet(a);for(i<<=u-1;Qe.findMSBSet(i)>=u;)i^=a<<Qe.findMSBSet(i)-u;return i}static makeTypeInfoBits(i,a,u){if(!Jr.isValidMaskPattern(a))throw new jt("Invalid mask pattern");const d=i.getBits()<<3|a;u.appendBits(d,5);const o=Qe.calculateBCHCode(d,Qe.TYPE_INFO_POLY);u.appendBits(o,10);const l=new U;if(l.appendBits(Qe.TYPE_INFO_MASK_PATTERN,15),u.xor(l),u.getSize()!==15)throw new jt("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const u=Qe.calculateBCHCode(i.getVersionNumber(),Qe.VERSION_INFO_POLY);if(a.appendBits(u,12),a.getSize()!==18)throw new jt("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const u=(a+1)%2;Qe.isEmpty(i.get(a,6))&&i.setNumber(a,6,u),Qe.isEmpty(i.get(6,a))&&i.setNumber(6,a,u)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new jt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,u){for(let d=0;d<8;++d){if(!Qe.isEmpty(u.get(i+d,a)))throw new jt;u.setNumber(i+d,a,0)}}static embedVerticalSeparationPattern(i,a,u){for(let d=0;d<7;++d){if(!Qe.isEmpty(u.get(i,a+d)))throw new jt;u.setNumber(i,a+d,0)}}static embedPositionAdjustmentPattern(i,a,u){for(let d=0;d<5;++d){const o=Qe.POSITION_ADJUSTMENT_PATTERN[d];for(let l=0;l<5;++l)u.setNumber(i+l,a+d,o[l])}}static embedPositionDetectionPattern(i,a,u){for(let d=0;d<7;++d){const o=Qe.POSITION_DETECTION_PATTERN[d];for(let l=0;l<7;++l)u.setNumber(i+l,a+d,o[l])}}static embedPositionDetectionPatternsAndSeparators(i){const a=Qe.POSITION_DETECTION_PATTERN[0].length;Qe.embedPositionDetectionPattern(0,0,i),Qe.embedPositionDetectionPattern(i.getWidth()-a,0,i),Qe.embedPositionDetectionPattern(0,i.getWidth()-a,i);const u=8;Qe.embedHorizontalSeparationPattern(0,u-1,i),Qe.embedHorizontalSeparationPattern(i.getWidth()-u,u-1,i),Qe.embedHorizontalSeparationPattern(0,i.getWidth()-u,i);const d=7;Qe.embedVerticalSeparationPattern(d,0,i),Qe.embedVerticalSeparationPattern(i.getHeight()-d-1,0,i),Qe.embedVerticalSeparationPattern(d,i.getHeight()-d,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const u=i.getVersionNumber()-1,d=Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let o=0,l=d.length;o!==l;o++){const f=d[o];if(f>=0)for(let p=0;p!==l;p++){const m=d[p];m>=0&&Qe.isEmpty(a.get(m,f))&&Qe.embedPositionAdjustmentPattern(m-2,f-2,a)}}}}Qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Qe.VERSION_INFO_POLY=7973,Qe.TYPE_INFO_POLY=1335,Qe.TYPE_INFO_MASK_PATTERN=21522;class ql{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ut{constructor(){}static calculateMaskPenalty(i){return qt.applyMaskPenaltyRule1(i)+qt.applyMaskPenaltyRule2(i)+qt.applyMaskPenaltyRule3(i)+qt.applyMaskPenaltyRule4(i)}static encode(i,a,u=null){let d=Ut.DEFAULT_BYTE_MODE_ENCODING;const o=u!==null&&u.get(un.CHARACTER_SET)!==void 0;o&&(d=u.get(un.CHARACTER_SET).toString());const l=this.chooseMode(i,d),f=new U;if(l===Ze.BYTE&&(o||Ut.DEFAULT_BYTE_MODE_ENCODING!==d)){const V=X.getCharacterSetECIByName(d);V!==void 0&&this.appendECI(V,f)}this.appendModeInfo(l,f);const p=new U;this.appendBytes(i,l,p,d);let m;if(u!==null&&u.get(un.QR_VERSION)!==void 0){const V=Number.parseInt(u.get(un.QR_VERSION).toString(),10);m=Ke.getVersionForNumber(V);const W=this.calculateBitsNeeded(l,f,p,m);if(!this.willFit(W,m,a))throw new jt("Data too big for requested version")}else m=this.recommendVersion(a,l,f,p);const v=new U;v.appendBitArray(f);const E=l===Ze.BYTE?p.getSizeInBytes():i.length;this.appendLengthInfo(E,m,l,v),v.appendBitArray(p);const T=m.getECBlocksForLevel(a),N=m.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(N,v);const P=this.interleaveWithECBytes(v,m.getTotalCodewords(),N,T.getNumBlocks()),j=new Jr;j.setECLevel(a),j.setMode(l),j.setVersion(m);const L=m.getDimensionForVersion(),F=new Ps(L,L),H=this.chooseMaskPattern(P,a,m,F);return j.setMaskPattern(H),Qe.buildMatrix(P,a,m,H,F),j.setMatrix(F),j}static recommendVersion(i,a,u,d){const o=this.calculateBitsNeeded(a,u,d,Ke.getVersionForNumber(1)),l=this.chooseVersion(o,i),f=this.calculateBitsNeeded(a,u,d,l);return this.chooseVersion(f,i)}static calculateBitsNeeded(i,a,u,d){return a.getSize()+i.getCharacterCountBits(d)+u.getSize()}static getAlphanumericCode(i){return i<Ut.ALPHANUMERIC_TABLE.length?Ut.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(X.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return Ze.KANJI;let u=!1,d=!1;for(let o=0,l=i.length;o<l;++o){const f=i.charAt(o);if(Ut.isDigit(f))u=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)d=!0;else return Ze.BYTE}return d?Ze.ALPHANUMERIC:u?Ze.NUMERIC:Ze.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=xe.encode(i,X.SJIS)}catch{return!1}const u=a.length;if(u%2!==0)return!1;for(let d=0;d<u;d+=2){const o=a[d]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(i,a,u,d){let o=Number.MAX_SAFE_INTEGER,l=-1;for(let f=0;f<Jr.NUM_MASK_PATTERNS;f++){Qe.buildMatrix(i,a,u,f,d);let p=this.calculateMaskPenalty(d);p<o&&(o=p,l=f)}return l}static chooseVersion(i,a){for(let u=1;u<=40;u++){const d=Ke.getVersionForNumber(u);if(Ut.willFit(i,d,a))return d}throw new jt("Data too big")}static willFit(i,a,u){const d=a.getTotalCodewords(),l=a.getECBlocksForLevel(u).getTotalECCodewords(),f=d-l,p=(i+7)/8;return f>=p}static terminateBits(i,a){const u=i*8;if(a.getSize()>u)throw new jt("data bits cannot fit in the QR Code"+a.getSize()+" > "+u);for(let l=0;l<4&&a.getSize()<u;++l)a.appendBit(!1);const d=a.getSize()&7;if(d>0)for(let l=d;l<8;l++)a.appendBit(!1);const o=i-a.getSizeInBytes();for(let l=0;l<o;++l)a.appendBits(l&1?17:236,8);if(a.getSize()!==u)throw new jt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,u,d,o,l){if(d>=u)throw new jt("Block ID too large");const f=i%u,p=u-f,m=Math.floor(i/u),v=m+1,E=Math.floor(a/u),T=E+1,N=m-E,P=v-T;if(N!==P)throw new jt("EC bytes mismatch");if(u!==p+f)throw new jt("RS blocks mismatch");if(i!==(E+N)*p+(T+P)*f)throw new jt("Total bytes mismatch");d<p?(o[0]=E,l[0]=N):(o[0]=T,l[0]=P)}static interleaveWithECBytes(i,a,u,d){if(i.getSizeInBytes()!==u)throw new jt("Number of bits and data bytes does not match");let o=0,l=0,f=0;const p=new Array;for(let v=0;v<d;++v){const E=new Int32Array(1),T=new Int32Array(1);Ut.getNumDataBytesAndNumECBytesForBlockID(a,u,d,v,E,T);const N=E[0],P=new Uint8Array(N);i.toBytes(8*o,P,0,N);const j=Ut.generateECBytes(P,T[0]);p.push(new ql(P,j)),l=Math.max(l,N),f=Math.max(f,j.length),o+=E[0]}if(u!==o)throw new jt("Data bytes does not match offset");const m=new U;for(let v=0;v<l;++v)for(const E of p){const T=E.getDataBytes();v<T.length&&m.appendBits(T[v],8)}for(let v=0;v<f;++v)for(const E of p){const T=E.getErrorCorrectionBytes();v<T.length&&m.appendBits(T[v],8)}if(a!==m.getSizeInBytes())throw new jt("Interleaving error: "+a+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(i,a){const u=i.length,d=new Int32Array(u+a);for(let l=0;l<u;l++)d[l]=i[l]&255;new Lo(Ce.QR_CODE_FIELD_256).encode(d,a);const o=new Uint8Array(a);for(let l=0;l<a;l++)o[l]=d[u+l];return o}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,u,d){const o=u.getCharacterCountBits(a);if(i>=1<<o)throw new jt(i+" is bigger than "+((1<<o)-1));d.appendBits(i,o)}static appendBytes(i,a,u,d){switch(a){case Ze.NUMERIC:Ut.appendNumericBytes(i,u);break;case Ze.ALPHANUMERIC:Ut.appendAlphanumericBytes(i,u);break;case Ze.BYTE:Ut.append8BitBytes(i,u,d);break;case Ze.KANJI:Ut.appendKanjiBytes(i,u);break;default:throw new jt("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=Ut.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const u=i.length;let d=0;for(;d<u;){const o=Ut.getDigit(i.charAt(d));if(d+2<u){const l=Ut.getDigit(i.charAt(d+1)),f=Ut.getDigit(i.charAt(d+2));a.appendBits(o*100+l*10+f,10),d+=3}else if(d+1<u){const l=Ut.getDigit(i.charAt(d+1));a.appendBits(o*10+l,7),d+=2}else a.appendBits(o,4),d++}}static appendAlphanumericBytes(i,a){const u=i.length;let d=0;for(;d<u;){const o=Ut.getAlphanumericCode(i.charCodeAt(d));if(o===-1)throw new jt;if(d+1<u){const l=Ut.getAlphanumericCode(i.charCodeAt(d+1));if(l===-1)throw new jt;a.appendBits(o*45+l,11),d+=2}else a.appendBits(o,6),d++}}static append8BitBytes(i,a,u){let d;try{d=xe.encode(i,u)}catch(o){throw new jt(o)}for(let o=0,l=d.length;o!==l;o++){const f=d[o];a.appendBits(f,8)}}static appendKanjiBytes(i,a){let u;try{u=xe.encode(i,X.SJIS)}catch(o){throw new jt(o)}const d=u.length;for(let o=0;o<d;o+=2){const l=u[o]&255,f=u[o+1]&255,p=l<<8&4294967295|f;let m=-1;if(p>=33088&&p<=40956?m=p-33088:p>=57408&&p<=60351&&(m=p-49472),m===-1)throw new jt("Invalid byte sequence");const v=(m>>8)*192+(m&255);a.appendBits(v,13)}}static appendECI(i,a){a.appendBits(Ze.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}Ut.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ut.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class ei{write(i,a,u,d=null){if(i.length===0)throw new C("Found empty contents");if(a<0||u<0)throw new C("Requested dimensions are too small: "+a+"x"+u);let o=Lt.L,l=ei.QUIET_ZONE_SIZE;d!==null&&(d.get(un.ERROR_CORRECTION)!==void 0&&(o=Lt.fromString(d.get(un.ERROR_CORRECTION).toString())),d.get(un.MARGIN)!==void 0&&(l=Number.parseInt(d.get(un.MARGIN).toString(),10)));const f=Ut.encode(i,o,d);return this.renderResult(f,a,u,l)}writeToDom(i,a,u,d,o=null){typeof i=="string"&&(i=document.querySelector(i));const l=this.write(a,u,d,o);i&&i.appendChild(l)}renderResult(i,a,u,d){const o=i.getMatrix();if(o===null)throw new Ye;const l=o.getWidth(),f=o.getHeight(),p=l+d*2,m=f+d*2,v=Math.max(a,p),E=Math.max(u,m),T=Math.min(Math.floor(v/p),Math.floor(E/m)),N=Math.floor((v-l*T)/2),P=Math.floor((E-f*T)/2),j=this.createSVGElement(v,E);for(let L=0,F=P;L<f;L++,F+=T)for(let H=0,V=N;H<l;H++,V+=T)if(o.get(H,L)===1){const W=this.createSvgRectElement(V,F,T,T);j.appendChild(W)}return j}createSVGElement(i,a){const u=document.createElementNS(ei.SVG_NS,"svg");return u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",a.toString()),u}createSvgRectElement(i,a,u,d){const o=document.createElementNS(ei.SVG_NS,"rect");return o.setAttributeNS(null,"x",i.toString()),o.setAttributeNS(null,"y",a.toString()),o.setAttributeNS(null,"height",u.toString()),o.setAttributeNS(null,"width",d.toString()),o.setAttributeNS(null,"fill","#000000"),o}}ei.QUIET_ZONE_SIZE=4,ei.SVG_NS="http://www.w3.org/2000/svg";class zi{encode(i,a,u,d,o){if(i.length===0)throw new C("Found empty contents");if(a!==he.QR_CODE)throw new C("Can only encode QR_CODE, but got "+a);if(u<0||d<0)throw new C(`Requested dimensions are too small: ${u}x${d}`);let l=Lt.L,f=zi.QUIET_ZONE_SIZE;o!==null&&(o.get(un.ERROR_CORRECTION)!==void 0&&(l=Lt.fromString(o.get(un.ERROR_CORRECTION).toString())),o.get(un.MARGIN)!==void 0&&(f=Number.parseInt(o.get(un.MARGIN).toString(),10)));const p=Ut.encode(i,l,o);return zi.renderResult(p,u,d,f)}static renderResult(i,a,u,d){const o=i.getMatrix();if(o===null)throw new Ye;const l=o.getWidth(),f=o.getHeight(),p=l+d*2,m=f+d*2,v=Math.max(a,p),E=Math.max(u,m),T=Math.min(Math.floor(v/p),Math.floor(E/m)),N=Math.floor((v-l*T)/2),P=Math.floor((E-f*T)/2),j=new pe(v,E);for(let L=0,F=P;L<f;L++,F+=T)for(let H=0,V=N;H<l;H++,V+=T)o.get(H,L)===1&&j.setRegion(V,F,T,T);return j}}zi.QUIET_ZONE_SIZE=4;class Du{encode(i,a,u,d,o){let l;switch(a){case he.QR_CODE:l=new zi;break;default:throw new C("No encoder available for format "+a)}return l.encode(i,a,u,d,o)}}class ti extends q{constructor(i,a,u,d,o,l,f,p){if(super(l,f),this.yuvData=i,this.dataWidth=a,this.dataHeight=u,this.left=d,this.top=o,d+l>a||o+f>u)throw new C("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(l,f)}getRow(i,a){if(i<0||i>=this.getHeight())throw new C("Requested row is outside the image: "+i);const u=this.getWidth();(a==null||a.length<u)&&(a=new Uint8ClampedArray(u));const d=(i+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,d,a,0,u),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const u=i*a,d=new Uint8ClampedArray(u);let o=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return _.arraycopy(this.yuvData,o,d,0,u),d;for(let l=0;l<a;l++){const f=l*i;_.arraycopy(this.yuvData,o,d,f,i),o+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,a,u,d){return new ti(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,u,d,!1)}renderThumbnail(){const i=this.getWidth()/ti.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/ti.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(i*a),d=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let l=0;l<a;l++){const f=l*i;for(let p=0;p<i;p++){const m=d[o+p*ti.THUMBNAIL_SCALE_FACTOR]&255;u[f+p]=4278190080|m*65793}o+=this.dataWidth*ti.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/ti.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ti.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const u=this.yuvData;for(let d=0,o=this.top*this.dataWidth+this.left;d<a;d++,o+=this.dataWidth){const l=o+i/2;for(let f=o,p=o+i-1;f<l;f++,p--){const m=u[f];u[f]=u[p],u[p]=m}}}invert(){return new G(this)}}ti.THUMBNAIL_SCALE_FACTOR=2;class Ls extends q{constructor(i,a,u,d,o,l,f){if(super(a,u),this.dataWidth=d,this.dataHeight=o,this.left=l,this.top=f,i.BYTES_PER_ELEMENT===4){const p=a*u,m=new Uint8ClampedArray(p);for(let v=0;v<p;v++){const E=i[v],T=E>>16&255,N=E>>7&510,P=E&255;m[v]=(T+N+P)/4&255}this.luminances=m}else this.luminances=i;if(d===void 0&&(this.dataWidth=a),o===void 0&&(this.dataHeight=u),l===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+u>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new C("Requested row is outside the image: "+i);const u=this.getWidth();(a==null||a.length<u)&&(a=new Uint8ClampedArray(u));const d=(i+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,d,a,0,u),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const u=i*a,d=new Uint8ClampedArray(u);let o=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return _.arraycopy(this.luminances,o,d,0,u),d;for(let l=0;l<a;l++){const f=l*i;_.arraycopy(this.luminances,o,d,f,i),o+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,a,u,d){return new Ls(this.luminances,u,d,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new G(this)}}class Bs extends X{static forName(i){return this.getCharacterSetECIByName(i)}}class Zl{}Zl.ISO_8859_1=X.ISO8859_1;class Da{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class ka{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class Eh{constructor(i){this.previous=i}getPrevious(){return this.previous}}class ho extends Eh{constructor(i,a,u){super(i),this.value=a,this.bitCount=u}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new ho(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ho(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+k.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Jl extends ho{constructor(i,a,u){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=u}appendTo(i,a){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):u===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+u],8)}addBinaryShift(i,a){return new Jl(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ku(D,i,a){return new Jl(D,i,a)}function Bo(D,i,a){return new ho(D,i,a)}const Sh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],vi=0,jo=1,ur=2,ec=3,ni=4,Ah=new ho(null,0,0),tc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Pa(D){for(let i of D)I.fill(i,-1);return D[vi][ni]=0,D[jo][ni]=0,D[jo][vi]=28,D[ec][ni]=0,D[ur][ni]=0,D[ur][vi]=15,D}const ri=Pa(I.createInt32Array(6,6));class Pt{constructor(i,a,u,d){this.token=i,this.mode=a,this.binaryShiftByteCount=u,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let u=this.bitCount,d=this.token;if(i!==this.mode){let l=tc[this.mode][i];d=Bo(d,l&65535,l>>16),u+=l>>16}let o=i===ur?4:5;return d=Bo(d,a,o),new Pt(d,i,0,u+o)}shiftAndAppend(i,a){let u=this.token,d=this.mode===ur?4:5;return u=Bo(u,ri[this.mode][i],d),u=Bo(u,a,5),new Pt(u,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(i){let a=this.token,u=this.mode,d=this.bitCount;if(this.mode===ni||this.mode===ur){let f=tc[u][vi];a=Bo(a,f&65535,f>>16),d+=f>>16,u=vi}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new Pt(a,u,this.binaryShiftByteCount+1,d+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(i+1)),l}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=ku(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Pt(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(tc[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=Pt.calculateBinaryShiftCost(i)-Pt.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let d=this.endBinaryShift(i.length).token;d!==null;d=d.getPrevious())a.unshift(d);let u=new U;for(const d of a)d.appendTo(u,i);return u}toString(){return ae.format("%s bits=%d bytes=%d",Sh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Pt.INITIAL_STATE=new Pt(Ah,vi,0,0);function La(D){const i=ae.getCharCode(" "),a=ae.getCharCode("."),u=ae.getCharCode(",");D[vi][i]=1;const d=ae.getCharCode("Z"),o=ae.getCharCode("A");for(let T=o;T<=d;T++)D[vi][T]=T-o+2;D[jo][i]=1;const l=ae.getCharCode("z"),f=ae.getCharCode("a");for(let T=f;T<=l;T++)D[jo][T]=T-f+2;D[ur][i]=1;const p=ae.getCharCode("9"),m=ae.getCharCode("0");for(let T=m;T<=p;T++)D[ur][T]=T-m+2;D[ur][u]=12,D[ur][a]=13;const v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<v.length;T++)D[ec][ae.getCharCode(v[T])]=T;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<E.length;T++)ae.getCharCode(E[T])>0&&(D[ni][ae.getCharCode(E[T])]=T);return D}const qn=La(I.createInt32Array(5,256));class js{constructor(i){this.text=i}encode(){const i=ae.getCharCode(" "),a=ae.getCharCode(`
`);let u=ka.singletonList(Pt.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let l,f=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ae.getCharCode("\r"):l=f===a?2:0;break;case ae.getCharCode("."):l=f===i?3:0;break;case ae.getCharCode(","):l=f===i?4:0;break;case ae.getCharCode(":"):l=f===i?5:0;break;default:l=0}l>0?(u=js.updateStateListForPair(u,o,l),o++):u=this.updateStateListForChar(u,o)}return ka.min(u,(o,l)=>o.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const u=[];for(let d of i)this.updateStateForChar(d,a,u);return js.simplifyStates(u)}updateStateForChar(i,a,u){let d=this.text[a]&255,o=qn[i.getMode()][d]>0,l=null;for(let f=0;f<=ni;f++){let p=qn[f][d];if(p>0){if(l==null&&(l=i.endBinaryShift(a)),!o||f===i.getMode()||f===ur){const m=l.latchAndAppend(f,p);u.push(m)}if(!o&&ri[i.getMode()][f]>=0){const m=l.shiftAndAppend(f,p);u.push(m)}}}if(i.getBinaryShiftByteCount()>0||qn[i.getMode()][d]===0){let f=i.addBinaryShiftChar(a);u.push(f)}}static updateStateListForPair(i,a,u){const d=[];for(let o of i)this.updateStateForPair(o,a,u,d);return this.simplifyStates(d)}static updateStateForPair(i,a,u,d){let o=i.endBinaryShift(a);if(d.push(o.latchAndAppend(ni,u)),i.getMode()!==ni&&d.push(o.shiftAndAppend(ni,u)),u===3||u===4){let l=o.latchAndAppend(ur,16-u).latchAndAppend(ur,1);d.push(l)}if(i.getBinaryShiftByteCount()>0){let l=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);d.push(l)}}static simplifyStates(i){let a=[];for(const u of i){let d=!0;for(const o of a){if(o.isBetterThanOrEqualTo(u)){d=!1;break}u.isBetterThanOrEqualTo(o)&&(a=a.filter(l=>l!==o))}d&&a.push(u)}return a}}class bt{constructor(){}static encodeBytes(i){return bt.encode(i,bt.DEFAULT_EC_PERCENT,bt.DEFAULT_AZTEC_LAYERS)}static encode(i,a,u){let d=new js(i).encode(),o=k.truncDivision(d.getSize()*a,100)+11,l=d.getSize()+o,f,p,m,v,E;if(u!==bt.DEFAULT_AZTEC_LAYERS){if(f=u<0,p=Math.abs(u),p>(f?bt.MAX_NB_BITS_COMPACT:bt.MAX_NB_BITS))throw new C(ae.format("Illegal value %s for layers",u));m=bt.totalBitsInLayer(p,f),v=bt.WORD_SIZE[p];let W=m-m%v;if(E=bt.stuffBits(d,v),E.getSize()+o>W)throw new C("Data to large for user specified layer");if(f&&E.getSize()>v*64)throw new C("Data to large for user specified layer")}else{v=0,E=null;for(let W=0;;W++){if(W>bt.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(f=W<=3,p=f?W+1:W,m=bt.totalBitsInLayer(p,f),l>m)continue;(E==null||v!==bt.WORD_SIZE[p])&&(v=bt.WORD_SIZE[p],E=bt.stuffBits(d,v));let K=m-m%v;if(!(f&&E.getSize()>v*64)&&E.getSize()+o<=K)break}}let T=bt.generateCheckWords(E,m,v),N=E.getSize()/v,P=bt.generateModeMessage(f,p,N),j=(f?11:14)+p*4,L=new Int32Array(j),F;if(f){F=j;for(let W=0;W<L.length;W++)L[W]=W}else{F=j+1+2*k.truncDivision(k.truncDivision(j,2)-1,15);let W=k.truncDivision(j,2),K=k.truncDivision(F,2);for(let ee=0;ee<W;ee++){let ie=ee+k.truncDivision(ee,15);L[W-ee-1]=K-ie-1,L[W+ee]=K+ie+1}}let H=new pe(F);for(let W=0,K=0;W<p;W++){let ee=(p-W)*4+(f?9:12);for(let ie=0;ie<ee;ie++){let oe=ie*2;for(let ue=0;ue<2;ue++)T.get(K+oe+ue)&&H.set(L[W*2+ue],L[W*2+ie]),T.get(K+ee*2+oe+ue)&&H.set(L[W*2+ie],L[j-1-W*2-ue]),T.get(K+ee*4+oe+ue)&&H.set(L[j-1-W*2-ue],L[j-1-W*2-ie]),T.get(K+ee*6+oe+ue)&&H.set(L[j-1-W*2-ie],L[W*2+ue])}K+=ee*8}if(bt.drawModeMessage(H,f,F,P),f)bt.drawBullsEye(H,k.truncDivision(F,2),5);else{bt.drawBullsEye(H,k.truncDivision(F,2),7);for(let W=0,K=0;W<k.truncDivision(j,2)-1;W+=15,K+=16)for(let ee=k.truncDivision(F,2)&1;ee<F;ee+=2)H.set(k.truncDivision(F,2)-K,ee),H.set(k.truncDivision(F,2)+K,ee),H.set(ee,k.truncDivision(F,2)-K),H.set(ee,k.truncDivision(F,2)+K)}let V=new Da;return V.setCompact(f),V.setSize(F),V.setLayers(p),V.setCodeWords(N),V.setMatrix(H),V}static drawBullsEye(i,a,u){for(let d=0;d<u;d+=2)for(let o=a-d;o<=a+d;o++)i.set(o,a-d),i.set(o,a+d),i.set(a-d,o),i.set(a+d,o);i.set(a-u,a-u),i.set(a-u+1,a-u),i.set(a-u,a-u+1),i.set(a+u,a-u),i.set(a+u,a-u+1),i.set(a+u,a+u-1)}static generateModeMessage(i,a,u){let d=new U;return i?(d.appendBits(a-1,2),d.appendBits(u-1,6),d=bt.generateCheckWords(d,28,4)):(d.appendBits(a-1,5),d.appendBits(u-1,11),d=bt.generateCheckWords(d,40,4)),d}static drawModeMessage(i,a,u,d){let o=k.truncDivision(u,2);if(a)for(let l=0;l<7;l++){let f=o-3+l;d.get(l)&&i.set(f,o-5),d.get(l+7)&&i.set(o+5,f),d.get(20-l)&&i.set(f,o+5),d.get(27-l)&&i.set(o-5,f)}else for(let l=0;l<10;l++){let f=o-5+l+k.truncDivision(l,5);d.get(l)&&i.set(f,o-7),d.get(l+10)&&i.set(o+7,f),d.get(29-l)&&i.set(f,o+7),d.get(39-l)&&i.set(o-7,f)}}static generateCheckWords(i,a,u){let d=i.getSize()/u,o=new Lo(bt.getGF(u)),l=k.truncDivision(a,u),f=bt.bitsToWords(i,u,l);o.encode(f,l-d);let p=a%u,m=new U;m.appendBits(0,p);for(const v of Array.from(f))m.appendBits(v,u);return m}static bitsToWords(i,a,u){let d=new Int32Array(u),o,l;for(o=0,l=i.getSize()/a;o<l;o++){let f=0;for(let p=0;p<a;p++)f|=i.get(o*a+p)?1<<a-p-1:0;d[o]=f}return d}static getGF(i){switch(i){case 4:return Ce.AZTEC_PARAM;case 6:return Ce.AZTEC_DATA_6;case 8:return Ce.AZTEC_DATA_8;case 10:return Ce.AZTEC_DATA_10;case 12:return Ce.AZTEC_DATA_12;default:throw new C("Unsupported word size "+i)}}static stuffBits(i,a){let u=new U,d=i.getSize(),o=(1<<a)-2;for(let l=0;l<d;l+=a){let f=0;for(let p=0;p<a;p++)(l+p>=d||i.get(l+p))&&(f|=1<<a-1-p);(f&o)===o?(u.appendBits(f&o,a),l--):f&o?u.appendBits(f,a):(u.appendBits(f|1,a),l--)}return u}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}bt.DEFAULT_EC_PERCENT=33,bt.DEFAULT_AZTEC_LAYERS=0,bt.MAX_NB_BITS=32,bt.MAX_NB_BITS_COMPACT=4,bt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Fs{encode(i,a,u,d){return this.encodeWithHints(i,a,u,d,null)}encodeWithHints(i,a,u,d,o){let l=Zl.ISO_8859_1,f=bt.DEFAULT_EC_PERCENT,p=bt.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(un.CHARACTER_SET)&&(l=Bs.forName(o.get(un.CHARACTER_SET).toString())),o.has(un.ERROR_CORRECTION)&&(f=k.parseInt(o.get(un.ERROR_CORRECTION).toString())),o.has(un.AZTEC_LAYERS)&&(p=k.parseInt(o.get(un.AZTEC_LAYERS).toString()))),Fs.encodeLayers(i,a,u,d,l,f,p)}static encodeLayers(i,a,u,d,o,l,f){if(a!==he.AZTEC)throw new C("Can only encode AZTEC, but got "+a);let p=bt.encode(ae.getBytes(i,o),l,f);return Fs.renderResult(p,u,d)}static renderResult(i,a,u){let d=i.getMatrix();if(d==null)throw new Ye;let o=d.getWidth(),l=d.getHeight(),f=Math.max(a,o),p=Math.max(u,l),m=Math.min(f/o,p/l),v=(f-o*m)/2,E=(p-l*m)/2,T=new pe(f,p);for(let N=0,P=E;N<l;N++,P+=m)for(let j=0,L=v;j<o;j++,L+=m)d.get(j,N)&&T.setRegion(L,P,m,m);return T}}n.AbstractExpandedDecoder=qr,n.ArgumentException=w,n.ArithmeticException=Ue,n.AztecCode=Da,n.AztecCodeReader=gn,n.AztecCodeWriter=Fs,n.AztecDecoder=He,n.AztecDetector=Dn,n.AztecDetectorResult=Vt,n.AztecEncoder=bt,n.AztecHighLevelEncoder=js,n.AztecPoint=St,n.BarcodeFormat=he,n.Binarizer=O,n.BinaryBitmap=b,n.BitArray=U,n.BitMatrix=pe,n.BitSource=Ta,n.BrowserAztecCodeReader=Vn,n.BrowserBarcodeReader=lo,n.BrowserCodeReader=ge,n.BrowserDatamatrixCodeReader=Gl,n.BrowserMultiFormatReader=Ql,n.BrowserPDF417Reader=Ln,n.BrowserQRCodeReader=ks,n.BrowserQRCodeSvgWriter=ei,n.CharacterSetECI=X,n.ChecksumException=R,n.Code128Reader=Me,n.Code39Reader=mt,n.DataMatrixDecodedBitStreamParser=It,n.DataMatrixReader=cr,n.DecodeHintType=J,n.DecoderResult=Te,n.DefaultGridSampler=Qt,n.DetectorResult=Cn,n.EAN13Reader=mn,n.EncodeHintType=un,n.Exception=y,n.FormatException=Y,n.GenericGF=Ce,n.GenericGFPoly=Xe,n.GlobalHistogramBinarizer=we,n.GridSampler=bn,n.GridSamplerInstance=En,n.HTMLCanvasElementLuminanceSource=Q,n.HybridBinarizer=le,n.ITFReader=Se,n.IllegalArgumentException=C,n.IllegalStateException=Ye,n.InvertedLuminanceSource=G,n.LuminanceSource=q,n.MathUtils=Ge,n.MultiFormatOneDReader=Bi,n.MultiFormatReader=Oa,n.MultiFormatWriter=Du,n.NotFoundException=te,n.OneDReader=_t,n.PDF417DecodedBitStreamParser=se,n.PDF417DecoderErrorCorrection=Na,n.PDF417Reader=vn,n.PDF417ResultMetadata=Ma,n.PerspectiveTransform=Dt,n.PlanarYUVLuminanceSource=ti,n.QRCodeByteMatrix=Ps,n.QRCodeDataMask=br,n.QRCodeDecodedBitStreamParser=Ct,n.QRCodeDecoderErrorCorrectionLevel=Lt,n.QRCodeDecoderFormatInformation=Rn,n.QRCodeEncoder=Ut,n.QRCodeEncoderQRCode=Jr,n.QRCodeMaskUtil=qt,n.QRCodeMatrixUtil=Qe,n.QRCodeMode=Ze,n.QRCodeReader=Sr,n.QRCodeVersion=Ke,n.QRCodeWriter=zi,n.RGBLuminanceSource=Ls,n.RSS14Reader=Kt,n.RSSExpandedReader=me,n.ReaderException=Po,n.ReedSolomonDecoder=nt,n.ReedSolomonEncoder=Lo,n.ReedSolomonException=ze,n.Result=Ne,n.ResultMetadataType=Be,n.ResultPoint=_e,n.StringUtils=ae,n.UnsupportedOperationException=de,n.VideoInputDevice=ne,n.WhiteRectangleDetector=$t,n.WriterException=jt,n.ZXingArrays=I,n.ZXingCharset=Bs,n.ZXingInteger=k,n.ZXingStandardCharsets=Zl,n.ZXingStringBuilder=ye,n.ZXingStringEncoding=xe,n.ZXingSystem=_,n.createAbstractExpandedDecoder=Li,Object.defineProperty(n,"__esModule",{value:!0})})})(sp,sp.exports);var en=sp.exports;const xP=ua(en),vP=dp({__proto__:null,default:xP},[en]);var Dx=function(){function e(t,n,r){if(this.formatMap=new Map([[Ve.QR_CODE,en.BarcodeFormat.QR_CODE],[Ve.AZTEC,en.BarcodeFormat.AZTEC],[Ve.CODABAR,en.BarcodeFormat.CODABAR],[Ve.CODE_39,en.BarcodeFormat.CODE_39],[Ve.CODE_93,en.BarcodeFormat.CODE_93],[Ve.CODE_128,en.BarcodeFormat.CODE_128],[Ve.DATA_MATRIX,en.BarcodeFormat.DATA_MATRIX],[Ve.MAXICODE,en.BarcodeFormat.MAXICODE],[Ve.ITF,en.BarcodeFormat.ITF],[Ve.EAN_13,en.BarcodeFormat.EAN_13],[Ve.EAN_8,en.BarcodeFormat.EAN_8],[Ve.PDF_417,en.BarcodeFormat.PDF_417],[Ve.RSS_14,en.BarcodeFormat.RSS_14],[Ve.RSS_EXPANDED,en.BarcodeFormat.RSS_EXPANDED],[Ve.UPC_A,en.BarcodeFormat.UPC_A],[Ve.UPC_E,en.BarcodeFormat.UPC_E],[Ve.UPC_EAN_EXTENSION,en.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!vP)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),c=new Map;c.set(en.DecodeHintType.POSSIBLE_FORMATS,s),c.set(en.DecodeHintType.TRY_HARDER,!1),this.hints=c}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(c){s(c)}})},e.prototype.decode=function(t){var n=new en.MultiFormatReader(this.verbose,this.hints),r=new en.HTMLCanvasElementLuminanceSource(t),s=new en.BinaryBitmap(new en.HybridBinarizer(r)),c=n.decode(s);return{text:c.text,format:s3.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var c=s[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),wP=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function g(w){try{y(r.next(w))}catch(C){h(C)}}function x(w){try{y(r.throw(w))}catch(C){h(C)}}function y(w){w.done?c(w.value):s(w.value).then(g,x)}y((r=r.apply(e,t||[])).next())})},CP=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(w){return x([y,w])}}function x(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(c=y[0]&2?s.return:y[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,y[1])).done)return c;switch(s=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},kx=function(){function e(t,n,r){if(this.formatMap=new Map([[Ve.QR_CODE,"qr_code"],[Ve.AZTEC,"aztec"],[Ve.CODABAR,"codabar"],[Ve.CODE_39,"code_39"],[Ve.CODE_93,"code_93"],[Ve.CODE_128,"code_128"],[Ve.DATA_MATRIX,"data_matrix"],[Ve.ITF,"itf"],[Ve.EAN_13,"ean_13"],[Ve.EAN_8,"ean_8"],[Ve.PDF_417,"pdf417"],[Ve.UPC_A,"upc_a"],[Ve.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return wP(this,void 0,void 0,function(){var n,r;return CP(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:s3.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,c=t;s<c.length;s++){var h=c[s],g=h.boundingBox.width*h.boundingBox.height;g>r&&(r=g,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var c=s[r];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Px=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function g(w){try{y(r.next(w))}catch(C){h(C)}}function x(w){try{y(r.throw(w))}catch(C){h(C)}}function y(w){w.done?c(w.value):s(w.value).then(g,x)}y((r=r.apply(e,t||[])).next())})},Lx=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(w){return x([y,w])}}function x(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(c=y[0]&2?s.return:y[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,y[1])).done)return c;switch(s=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},bP=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&kx.isSupported()?(this.primaryDecoder=new kx(t,r,s),this.secondaryDecoder=new Dx(t,r,s)):this.primaryDecoder=new Dx(t,r,s)}return e.prototype.decodeAsync=function(t){return Px(this,void 0,void 0,function(){var n;return Lx(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Px(this,void 0,void 0,function(){var n,r;return Lx(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var c=t/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),sm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rf=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function g(w){try{y(r.next(w))}catch(C){h(C)}}function x(w){try{y(r.throw(w))}catch(C){h(C)}}function y(w){w.done?c(w.value):s(w.value).then(g,x)}y((r=r.apply(e,t||[])).next())})},Nf=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(w){return x([y,w])}}function x(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(c=y[0]&2?s.return:y[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,y[1])).done)return c;switch(s=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},u3=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),EP=function(e){sm(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(u3),SP=function(e){sm(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(EP),AP=function(e){sm(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(u3),TP=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new SP(this.track)},e.prototype.torchFeature=function(){return new AP(this.track)},e}(),_P=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return Rf(this,void 0,void 0,function(){var c,h;return Nf(this,function(g){switch(g.label){case 0:return c=new e(t,n,s),r.aspectRatio?(h={aspectRatio:r.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:g.sent(),g.label=2;case 2:return c.setupSurface(),[2,c]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Rf(this,void 0,void 0,function(){return Nf(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),c=s.length,h=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++h,h>=c&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new TP(this.getFirstTrackOrFail())},e}(),IP=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Rf(this,void 0,void 0,function(){return Nf(this,function(s){return[2,_P.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Rf(this,void 0,void 0,function(){var n,r;return Nf(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),Bx=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function g(w){try{y(r.next(w))}catch(C){h(C)}}function x(w){try{y(r.throw(w))}catch(C){h(C)}}function y(w){w.done?c(w.value):s(w.value).then(g,x)}y((r=r.apply(e,t||[])).next())})},jx=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(w){return x([y,w])}}function x(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(c=y[0]&2?s.return:y[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,y[1])).done)return c;switch(s=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},RP=function(){function e(){}return e.failIfNotSupported=function(){return Bx(this,void 0,void 0,function(){return jx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Bx(this,void 0,void 0,function(){return jx(this,function(n){return[2,IP.create(t)]})})},e}(),NP=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function g(w){try{y(r.next(w))}catch(C){h(C)}}function x(w){try{y(r.throw(w))}catch(C){h(C)}}function y(w){w.done?c(w.value):s(w.value).then(g,x)}y((r=r.apply(e,t||[])).next())})},MP=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(w){return x([y,w])}}function x(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(c=y[0]&2?s.return:y[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,y[1])).done)return c;switch(s=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},OP=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=el.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=el.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return NP(this,void 0,void 0,function(){var t,n,r,s,c,h,g;return MP(this,function(x){switch(x.label){case 0:return t=function(y){for(var w=y.getVideoTracks(),C=0,b=w;C<b.length;C++){var R=b[C];R.enabled=!1,R.stop(),y.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),s=[],c=0,h=r;c<h.length;c++)g=h[c],g.kind==="videoinput"&&s.push({id:g.deviceId,label:g.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(c){for(var h=[],g=0,x=c;g<x.length;g++){var y=x[g];y.kind==="video"&&h.push({id:y.id,label:y.label})}t(h)},s=MediaStreamTrack;s.getSources(r)})},e}(),hn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(hn||(hn={}));var DP=function(){function e(){this.state=hn.NOT_STARTED,this.onGoingTransactionNewState=hn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===hn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=hn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===hn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=hn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==hn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case hn.UNKNOWN:throw"Transition from unknown is not allowed";case hn.NOT_STARTED:this.failIfNewStateIs(t,[hn.PAUSED]);break;case hn.SCANNING:break;case hn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var c=s[r];if(t===c)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),kP=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===hn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==hn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===hn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===hn.PAUSED},e}(),PP=function(){function e(){}return e.create=function(){return new kP(new DP)},e}(),LP=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=s[c])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lr=function(e){LP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ti),BP=function(){function e(t,n){this.logger=n,this.fps=Lr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Lr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?c3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Gi(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Fx=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new l3(this.verbose),this.qrcode=new bP(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=PP.create()}return e.prototype.start=function(t,n,r,s){var c=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;s?h=s:h=this.verbose?this.logger.log:function(){};var g=BP.create(n,this.logger);this.clearElement();var x=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=x,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Lr.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var C=this,b=this.stateManagerProxy.startTransition(hn.SCANNING);return new Promise(function(R,O){var _=y?g.videoConstraints:C.createVideoConstraints(t);if(!_){b.cancel(),O("videoConstraints should be defined");return}var B={};(!y||g.aspectRatio)&&(B.aspectRatio=g.aspectRatio);var M={onRenderSurfaceReady:function(I,k){C.setupUi(I,k,g),C.isScanning=!0,C.foreverScan(g,r,h)}};RP.failIfNotSupported().then(function(I){I.create(_).then(function(k){return k.render(c.element,B,M).then(function(U){C.renderedCamera=U,b.execute(),R(null)}).catch(function(U){b.cancel(),O(U)})}).catch(function(k){b.cancel(),O(el.errorGettingUserMedia(k))})}).catch(function(I){b.cancel(),O(el.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(hn.PAUSED),this.showPausedState(),(Gi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(hn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(hn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var c=document.getElementById(Lr.SHADED_REGION_ELEMENT_ID);c&&t.element.removeChild(c)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Gi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,c){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var g=h.width,x=h.height,y=document.getElementById(r.elementId),w=y.clientWidth?y.clientWidth:Lr.DEFAULT_WIDTH,C=Math.max(y.clientHeight?y.clientHeight:x,Lr.FILE_SCAN_MIN_HEIGHT),b=r.computeCanvasDrawConfig(g,x,w,C);if(n){var R=r.createCanvasElement(w,C,"qr-canvas-visible");R.style.display="inline-block",y.appendChild(R);var O=R.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=w,O.canvas.height=C,O.drawImage(h,0,0,g,x,b.x,b.y,b.width,b.height)}var _=Lr.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(h.width,b.width),M=Math.max(h.height,b.height),I=B+2*_,k=M+2*_,U=r.createCanvasElement(I,k);y.appendChild(U);var $=U.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=I,$.canvas.height=k,$.drawImage(h,0,0,g,x,_,_,B,M);try{r.qrcode.decodeRobustlyAsync(U).then(function(J){s(Mx.createFromQrcodeResult(J))}).catch(c)}catch(J){c("QR code parse error, error = ".concat(J))}},h.onerror=c,h.onabort=c,h.onstalled=c,h.onsuspend=c,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return OP.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!c3.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ve.QR_CODE,Ve.AZTEC,Ve.CODABAR,Ve.CODE_39,Ve.CODE_93,Ve.CODE_128,Ve.DATA_MATRIX,Ve.MAXICODE,Ve.ITF,Ve.EAN_13,Ve.EAN_8,Ve.PDF_417,Ve.RSS_14,Ve.RSS_EXPANDED,Ve.UPC_A,Ve.UPC_E,Ve.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,c=t.formatsToSupport;s<c.length;s++){var h=c[s];mP(h)?r.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Gi(t))return!0;if(!Gi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Gi(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Gi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,c=r.qrbox;this.validateQrboxConfig(c);var h=this.toQrdimensions(t,n,c),g=function(y){if(y<Lr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Lr.MIN_QR_BOX_SIZE,"px.")},x=function(y){return y>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=t),y};g(h.width),g(h.height),h.width=x(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=Gi(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,n,s);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=r.isShadedBoxEnabled()&&c.height<=n,g={x:0,y:0,width:t,height:n},x=h?this.getShadedRegionBounds(t,n,c):g,y=this.createCanvasElement(x.width,x.height),w={willReadFrequently:!0},C=y.getContext("2d",w);C.canvas.width=x.width,C.canvas.height=x.height,this.element.append(y),h&&this.possiblyInsertShadingElement(this.element,t,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=C,this.canvasElement=y},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=el.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Mx.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var c=el.codeParseError(s);return n(c,a3.createFrom(c)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),h=c.videoWidth/c.clientWidth,g=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*h,y=this.qrRegion.height*g,w=this.qrRegion.x*h,C=this.qrRegion.y*g;this.context.drawImage(c,w,C,x,y,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(R){!R&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){b()})):b()}).catch(function(R){s.logger.logError("Error happend while scanning context",R),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},c="exact",h=function(O){if(O in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var y=t.facingMode;if(typeof y=="string"){if(h(y))return{facingMode:y}}else if(typeof y=="object")if(c in y){if(h(y["".concat(c)]))return{facingMode:{exact:y["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var w=typeof y;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(c in C)return{deviceId:{exact:C["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var b=typeof C;throw"Invalid type of 'deviceId' = ".concat(b)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var c=(r-t)/2,h=(s-n)/2;return{x:c,y:h,width:t,height:n}}else{var g=t,x=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Lr.BORDER_SHADER_MATCH_COLOR:Lr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,c=n,h=document.createElement("canvas");return h.style.width="".concat(s,"px"),h.style.height="".concat(c,"px"),h.style.display="none",h.id=Gi(r)?"qr-canvas":r,h},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var c=document.createElement("div");c.style.position="absolute";var h=(n-s.width)/2,g=(r-s.height)/2;if(c.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(Lr.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var x=5,y=40;this.insertShaderBorders(c,y,x,-x,null,0,!0),this.insertShaderBorders(c,y,x,-x,null,0,!1),this.insertShaderBorders(c,y,x,null,-x,0,!0),this.insertShaderBorders(c,y,x,null,-x,0,!1),this.insertShaderBorders(c,x,y+x,-x,null,-x,!0),this.insertShaderBorders(c,x,y+x,null,-x,-x,!0),this.insertShaderBorders(c,x,y+x,-x,null,-x,!1),this.insertShaderBorders(c,x,y+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(c)}},e.prototype.insertShaderBorders=function(t,n,r,s,c,h,g){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Lr.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),s!==null&&(x.style.top="".concat(s,"px")),c!==null&&(x.style.bottom="".concat(c,"px")),g?x.style.left="".concat(h,"px"):x.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),am="data:image/svg+xml;base64,",jP=am+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",FP=am+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Ux=am+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",UP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",zx=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),zP=function(){function e(){this.data=zx.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=zx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),HP=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ox.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var c=document.createElement("a");c.innerText=Ox.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),VP=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Ux,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=UP,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Ux,this.infoIcon.style.opacity="0.6")},e}(),WP=function(){function e(){var t=this;this.infoDiv=new HP,this.infoIcon=new VP(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),GP=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function g(w){try{y(r.next(w))}catch(C){h(C)}}function x(w){try{y(r.throw(w))}catch(C){h(C)}}function y(w){w.done?c(w.value):s(w.value).then(g,x)}y((r=r.apply(e,t||[])).next())})},YP=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(w){return x([y,w])}}function x(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(c=y[0]&2?s.return:y[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,y[1])).done)return c;switch(s=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Hx=function(){function e(){}return e.hasPermissions=function(){return GP(this,void 0,void 0,function(){var t,n,r,s;return YP(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=c.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),Vo=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===ws.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===ws.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Ti.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ti.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var c=s[r];if(!Ti.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return t},e}(),Hr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),bo=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(Hr.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),d3=function(e,t,n,r){function s(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function g(w){try{y(r.next(w))}catch(C){h(C)}}function x(w){try{y(r.throw(w))}catch(C){h(C)}}function y(w){w.done?c(w.value):s(w.value).then(g,x)}y((r=r.apply(e,t||[])).next())})},f3=function(e,t){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},r,s,c,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(y){return function(w){return x([y,w])}}function x(y){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(r=1,s&&(c=y[0]&2?s.return:y[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,y[1])).done)return c;switch(s=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){n.label=y[1];break}if(y[0]===6&&n.label<c[1]){n.label=c[1],c=y;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(y);break}c[2]&&n.ops.pop(),n.trys.pop();continue}y=t.call(e,n)}catch(w){y=[6,w],s=0}finally{r=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Vx=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return d3(this,void 0,void 0,function(){var t,n;return f3(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?zt.torchOffButton():zt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?zt.torchOnFailedMessage():zt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),$P=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=bo.createElement("button",Hr.TORCH_BUTTON_ID),this.torchController=new Vx(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=zt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(c){return d3(r,void 0,void 0,function(){return f3(this,function(h){switch(h.label){case 0:return[4,s.torchController.flipState()];case 1:return h.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Hr.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Hr.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Hr.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Hr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Vx(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=zt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var c=new e(n,s);return c.render(t,r),c},e}(),KP=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=bo.createElement("button",Hr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=bo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var x=g.target;if(!(x.files&&x.files.length===0)){var y=x.files,w=y[0],C=w.name;c.setImageNameToButton(C),r(w)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var x=g.dataTransfer;if(x){var y=x.files;if(!y||y.length===0)return;for(var w=!1,C=0;C<y.length;++C){var b=y.item(C);if(b){var R=/image.*/;if(b.type.match(R)){w=!0;var O=b.name;c.setImageNameToButton(O),r(b),h.innerText=zt.dragAndDropMessage();break}}}w||(h.innerText=zt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=zt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,c=t.substring(s-8,s);t="".concat(r,"....").concat(c)}var h=zt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=zt.fileSelectionChooseImage()+" - "+zt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),XP=function(){function e(t){this.selectElement=bo.createElement("select",Hr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=zt.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var c=1,h=0,g=this.cameras;h<g.length;h++){var x=g[h],y=x.id,w=x.label==null?y:x.label;(!w||w==="")&&(w=[zt.anonymousCameraPrefix(),c++].join(" "));var C=document.createElement("option");C.value=y,C.innerText=w,this.options.push(C),this.selectElement.appendChild(C)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),QP=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=bo.createElement("input",Hr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=zt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=zt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),Br;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Br||(Br={}));function qP(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function ZP(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var JP=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Vo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new l3(this.verbose),this.persistedDataManager=new zP,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,h){if(t)t(c,h);else{if(r.lastMatchFound===c)return;r.lastMatchFound=c,r.setHeaderMessage(zt.lastMatch(c),Br.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,h){n&&n(c,h)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Fx(this.getScanRegionId(),ZP(this.config,this.verbose))},e.prototype.pause=function(t){(Gi(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(c){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(c){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",c),s(c)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Ti.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Ti.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Ti.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ti.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Vo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),c=this.getDashboardId();s.id=c,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new WP;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(zt.cameraPermissionRequesting());var c=function(){r||s.createPermissionButton(t,n)};Fx.getCameras().then(function(h){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),h&&h.length>0?(t.removeChild(n),s.renderCameraSelection(h)):(s.setHeaderMessage(zt.noCameraFound(),Br.STATUS_WARNING),c())}).catch(function(h){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:c(),s.setHeaderMessage(h,Br.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=bo.createElement("button",this.getCameraPermissionButtonId());s.innerText=zt.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Vo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Hx.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Vo.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Vo.isFileScanType(this.currentScanType),r=this,s=function(c){if(!r.html5Qrcode)throw"html5Qrcode not defined";Vo.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(zt.loadingImage()),r.html5Qrcode.scanFileV2(c,!0).then(function(h){r.resetHeaderMessage(),r.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){r.setHeaderMessage(h,Br.STATUS_WARNING),r.qrCodeErrorCallback(h,a3.createFrom(h))}))};this.fileSelectionUi=KP.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var c=QP.create(s,!1),h=function(_){var B=_.zoomFeature();if(B.isSupported()){c.setOnCameraZoomValueChangeCallback(function(I){B.apply(I)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=yP(M,B.min(),B.max()),c.setValues(B.min(),B.max(),M,B.step()),c.show()}},g=XP.create(s,t),x=document.createElement("span"),y=bo.createElement("button",Hr.CAMERA_START_BUTTON_ID);y.innerText=zt.scanButtonStartScanningText(),x.appendChild(y);var w=bo.createElement("button",Hr.CAMERA_STOP_BUTTON_ID);w.innerText=zt.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,x.appendChild(w);var C,b=function(_){if(!_.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(_.torchFeature()):C=$P.create(x,_.torchFeature(),{display:"none",marginLeft:"5px"},function(B){r.setHeaderMessage(B,Br.STATUS_WARNING)}),C.show()};s.appendChild(x);var R=function(_){_||(y.style.display="none"),y.innerText=zt.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,_&&(y.style.display="inline-block")};if(y.addEventListener("click",function(_){y.innerText=zt.scanButtonScanningStarting(),g.disable(),y.disabled=!0,y.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var B=g.getValue();r.persistedDataManager.setLastUsedCameraId(B),r.html5Qrcode.start(B,qP(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){w.disabled=!1,w.style.display="inline-block",R(!1);var I=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&b(I),n.config.showZoomSliderIfSupported===!0&&h(I)}).catch(function(M){r.showHideScanTypeSwapLink(!0),g.enable(),R(!0),r.setHeaderMessage(M,Br.STATUS_WARNING)})}),g.hasSingleItem()&&y.click(),w.addEventListener("click",function(_){if(!r.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,r.html5Qrcode.stop().then(function(B){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),y.disabled=!1,w.style.display="none",y.style.display="inline-block",C&&(C.reset(),C.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(B){w.disabled=!1,r.setHeaderMessage(B,Br.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var O=r.persistedDataManager.getLastUsedCameraId();g.hasValue(O)?(g.setValue(O),y.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=zt.textIfCameraScanSelected(),r=zt.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var h=bo.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=Vo.isCameraScanType(this.currentScanType)?n:r,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Vo.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=r,t.currentScanType=ws.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=n,t.currentScanType=ws.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),c.appendChild(h),s.appendChild(c)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Hx.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Br.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Br.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Br.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Br.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=jP,this.cameraScanImage.alt=zt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=FP,this.fileScanImage.alt=zt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Hr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Hr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const e7=()=>{const[e,t]=A.useState(""),[n,r]=A.useState(null),[s,c]=A.useState(!1),[h,g]=A.useState([]),[x,y]=A.useState({}),w=A.useRef(null),[C,b]=A.useState(""),[R,O]=A.useState(!1),[_,B]=A.useState(!1),M=A.useRef(null),I="qr-reader-region",k=()=>{B(!0)},U=Z=>{B(Z)};Pe.useEffect(()=>{_?setTimeout(()=>{!M.current&&document.getElementById(I)&&(M.current=new JP(I,{fps:10,qrbox:{width:250,height:250}},!1),M.current.render(Z=>{t(X=>Z),B(!1),setTimeout(()=>{J(Z)},0)},Z=>{}))},0):M.current&&M.current.clear().then(()=>{M.current=null})},[_]);const $=(Z,X)=>{n&&(n.close(),r(null),c(!1));const de=Z.connect(X,{reliable:!0});r(de),de.on("open",()=>{c(!0),b(""),O(!1)}),de.on("data",xe=>{console.log("data",xe),xe.type==="records"&&(g(xe.records),y(xe.debugImages||{})),xe.type==="error"&&b(xe.message)}),de.on("close",()=>{c(!1),O(!1)})},J=(Z=void 0)=>{const X=Z||e;console.log("handleConnect",X),X&&(O(!0),!w.current||w.current.disconnected?(w.current=new Sf,w.current.on("open",()=>{$(w.current,X)}),w.current.on("disconnected",()=>{c(!1),O(!1)}),w.current.on("error",de=>{b(de.message),O(!1)}),w.current.on("close",()=>{c(!1),O(!1)})):$(w.current,X))},Y=()=>{n&&s&&(console.log("Sending capture request"),n.send({type:"capture-request"}))};return S.jsxs("div",{className:"max-w-2xl mx-auto py-8 space-y-8",children:[S.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Remote Session"}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(Nl,{value:e,onChange:Z=>t(Z.target.value),placeholder:"Enter session ID",className:"bg-space-medium border-neon-blue/20"}),S.jsx(Bn,{onClick:()=>J(),className:"bg-neon-blue text-space-dark hover:bg-neon-blue/90",disabled:R||s,children:R?S.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):"Connect"}),S.jsxs(tp,{open:_,onOpenChange:U,children:[S.jsx(LA,{asChild:!0,children:S.jsxs(Bn,{variant:"outline",className:"border-neon-blue/50",onClick:k,children:[S.jsx(Gw,{className:"h-4 w-4 mr-2"}),"Scan QR"]})}),S.jsxs(Tf,{className:"flex flex-col items-center gap-4 bg-white !text-gray-900 shadow-lg rounded-xl max-w-md w-full",children:[S.jsx(_f,{children:S.jsx(If,{children:"Scan Session QR Code"})}),S.jsx("div",{id:I,className:"w-full flex justify-center items-center min-h-[320px]"}),S.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Point your camera at a session QR code"})]})]})]}),S.jsxs(Bn,{onClick:Y,disabled:!s,className:s?"bg-green-600 hover:bg-green-700 w-full":"bg-gray-600 hover:bg-gray-700 w-full",children:[S.jsx(y1,{className:"h-4 w-4 mr-2"}),"Capture"]}),S.jsx("div",{id:"error-message",className:"text-red-500",children:C}),S.jsx(VA,{records:h,debugImages:x})]})},t7=new $N,n7=()=>S.jsx(XN,{client:t7,children:S.jsx(u5,{children:S.jsxs(AN,{delayDuration:0,children:[S.jsx(oC,{}),S.jsx(qI,{}),S.jsx(G8,{basename:"/sc-cargo-link/",children:S.jsxs(j8,{children:[S.jsx(Gs,{path:"/",element:S.jsx(hc,{children:S.jsx(zO,{})})}),S.jsx(Gs,{path:"/contracts",element:S.jsx(hc,{children:S.jsx(xD,{})})}),S.jsx(Gs,{path:"/contracts/record",element:S.jsx(hc,{children:S.jsx(hP,{})})}),S.jsx(Gs,{path:"/contracts/remote",element:S.jsx(hc,{children:S.jsx(e7,{})})}),S.jsx(Gs,{path:"/routes",element:S.jsx(hc,{children:S.jsx(pP,{})})}),S.jsx(Gs,{path:"*",element:S.jsx(gP,{})})]})})]})})});fw(document.getElementById("root")).render(S.jsx(n7,{}));
